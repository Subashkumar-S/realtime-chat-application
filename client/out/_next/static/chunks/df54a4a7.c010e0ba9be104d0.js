(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[683],{3399:function(module,__unused_webpack_exports,__webpack_require__){!function(eA,er){module.exports=er(__webpack_require__(8901))}("undefined"!=typeof self&&self,function(__WEBPACK_EXTERNAL_MODULE__4119__){return function(){var __webpack_modules__={4537:function(eA){"use strict";eA.exports=function(eA,er){for(var ei=Array(arguments.length-1),eo=0,en=2,es=!0;en<arguments.length;)ei[eo++]=arguments[en++];return new Promise(function(en,ea){ei[eo]=function(eA){if(es){if(es=!1,eA)ea(eA);else{for(var er=Array(arguments.length-1),ei=0;ei<er.length;)er[ei++]=arguments[ei];en.apply(null,er)}}};try{eA.apply(er||null,ei)}catch(eA){es&&(es=!1,ea(eA))}})}},7419:function(eA,er){"use strict";var ei=er;ei.length=function(eA){var er=eA.length;if(!er)return 0;for(var ei=0;--er%4>1&&"="===eA.charAt(er);)++ei;return Math.ceil(3*eA.length)/4-ei};for(var eo=Array(64),en=Array(123),es=0;es<64;)en[eo[es]=es<26?es+65:es<52?es+71:es<62?es-4:es-59|43]=es++;ei.encode=function(eA,er,ei){for(var en,es=null,ea=[],eg=0,ec=0;er<ei;){var eu=eA[er++];switch(ec){case 0:ea[eg++]=eo[eu>>2],en=(3&eu)<<4,ec=1;break;case 1:ea[eg++]=eo[en|eu>>4],en=(15&eu)<<2,ec=2;break;case 2:ea[eg++]=eo[en|eu>>6],ea[eg++]=eo[63&eu],ec=0}eg>8191&&((es||(es=[])).push(String.fromCharCode.apply(String,ea)),eg=0)}return ec&&(ea[eg++]=eo[en],ea[eg++]=61,1===ec&&(ea[eg++]=61)),es?(eg&&es.push(String.fromCharCode.apply(String,ea.slice(0,eg))),es.join("")):String.fromCharCode.apply(String,ea.slice(0,eg))};var ea="invalid encoding";ei.decode=function(eA,er,ei){for(var eo,es=ei,eg=0,ec=0;ec<eA.length;){var eu=eA.charCodeAt(ec++);if(61===eu&&eg>1)break;if(void 0===(eu=en[eu]))throw Error(ea);switch(eg){case 0:eo=eu,eg=1;break;case 1:er[ei++]=eo<<2|(48&eu)>>4,eo=eu,eg=2;break;case 2:er[ei++]=(15&eo)<<4|(60&eu)>>2,eo=eu,eg=3;break;case 3:er[ei++]=(3&eo)<<6|eu,eg=0}}if(1===eg)throw Error(ea);return ei-es},ei.test=function(eA){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(eA)}},9211:function(eA){"use strict";function er(){this._listeners={}}eA.exports=er,er.prototype.on=function(eA,er,ei){return(this._listeners[eA]||(this._listeners[eA]=[])).push({fn:er,ctx:ei||this}),this},er.prototype.off=function(eA,er){if(void 0===eA)this._listeners={};else if(void 0===er)this._listeners[eA]=[];else for(var ei=this._listeners[eA],eo=0;eo<ei.length;)ei[eo].fn===er?ei.splice(eo,1):++eo;return this},er.prototype.emit=function(eA){var er=this._listeners[eA];if(er){for(var ei=[],eo=1;eo<arguments.length;)ei.push(arguments[eo++]);for(eo=0;eo<er.length;)er[eo].fn.apply(er[eo++].ctx,ei)}return this}},945:function(eA){"use strict";function er(eA){return"undefined"!=typeof Float32Array?function(){var er=new Float32Array([-0]),ei=new Uint8Array(er.buffer),eo=128===ei[3];function en(eA,eo,en){er[0]=eA,eo[en]=ei[0],eo[en+1]=ei[1],eo[en+2]=ei[2],eo[en+3]=ei[3]}function es(eA,eo,en){er[0]=eA,eo[en]=ei[3],eo[en+1]=ei[2],eo[en+2]=ei[1],eo[en+3]=ei[0]}function ea(eA,eo){return ei[0]=eA[eo],ei[1]=eA[eo+1],ei[2]=eA[eo+2],ei[3]=eA[eo+3],er[0]}function eg(eA,eo){return ei[3]=eA[eo],ei[2]=eA[eo+1],ei[1]=eA[eo+2],ei[0]=eA[eo+3],er[0]}eA.writeFloatLE=eo?en:es,eA.writeFloatBE=eo?es:en,eA.readFloatLE=eo?ea:eg,eA.readFloatBE=eo?eg:ea}():function(){function er(eA,er,ei,eo){var en=er<0?1:0;if(en&&(er=-er),0===er)eA(1/er>0?0:2147483648,ei,eo);else if(isNaN(er))eA(2143289344,ei,eo);else if(er>34028234663852886e22)eA((en<<31|2139095040)>>>0,ei,eo);else if(er<11754943508222875e-54)eA((en<<31|Math.round(er/1401298464324817e-60))>>>0,ei,eo);else{var es=Math.floor(Math.log(er)/Math.LN2);eA((en<<31|es+127<<23|8388607&Math.round(er*Math.pow(2,-es)*8388608))>>>0,ei,eo)}}function ea(eA,er,ei){var eo=eA(er,ei),en=2*(eo>>31)+1,es=eo>>>23&255,ea=8388607&eo;return 255===es?ea?NaN:en*(1/0):0===es?1401298464324817e-60*en*ea:en*Math.pow(2,es-150)*(ea+8388608)}eA.writeFloatLE=er.bind(null,ei),eA.writeFloatBE=er.bind(null,eo),eA.readFloatLE=ea.bind(null,en),eA.readFloatBE=ea.bind(null,es)}(),"undefined"!=typeof Float64Array?function(){var er=new Float64Array([-0]),ei=new Uint8Array(er.buffer),eo=128===ei[7];function en(eA,eo,en){er[0]=eA,eo[en]=ei[0],eo[en+1]=ei[1],eo[en+2]=ei[2],eo[en+3]=ei[3],eo[en+4]=ei[4],eo[en+5]=ei[5],eo[en+6]=ei[6],eo[en+7]=ei[7]}function es(eA,eo,en){er[0]=eA,eo[en]=ei[7],eo[en+1]=ei[6],eo[en+2]=ei[5],eo[en+3]=ei[4],eo[en+4]=ei[3],eo[en+5]=ei[2],eo[en+6]=ei[1],eo[en+7]=ei[0]}function ea(eA,eo){return ei[0]=eA[eo],ei[1]=eA[eo+1],ei[2]=eA[eo+2],ei[3]=eA[eo+3],ei[4]=eA[eo+4],ei[5]=eA[eo+5],ei[6]=eA[eo+6],ei[7]=eA[eo+7],er[0]}function eg(eA,eo){return ei[7]=eA[eo],ei[6]=eA[eo+1],ei[5]=eA[eo+2],ei[4]=eA[eo+3],ei[3]=eA[eo+4],ei[2]=eA[eo+5],ei[1]=eA[eo+6],ei[0]=eA[eo+7],er[0]}eA.writeDoubleLE=eo?en:es,eA.writeDoubleBE=eo?es:en,eA.readDoubleLE=eo?ea:eg,eA.readDoubleBE=eo?eg:ea}():function(){function er(eA,er,ei,eo,en,es){var ea,eg=eo<0?1:0;if(eg&&(eo=-eo),0===eo)eA(0,en,es+er),eA(1/eo>0?0:2147483648,en,es+ei);else if(isNaN(eo))eA(0,en,es+er),eA(2146959360,en,es+ei);else if(eo>17976931348623157e292)eA(0,en,es+er),eA((eg<<31|2146435072)>>>0,en,es+ei);else if(eo<22250738585072014e-324)eA((ea=eo/5e-324)>>>0,en,es+er),eA((eg<<31|ea/4294967296)>>>0,en,es+ei);else{var ec=Math.floor(Math.log(eo)/Math.LN2);1024===ec&&(ec=1023),eA(4503599627370496*(ea=eo*Math.pow(2,-ec))>>>0,en,es+er),eA((eg<<31|ec+1023<<20|1048576*ea&1048575)>>>0,en,es+ei)}}function ea(eA,er,ei,eo,en){var es=eA(eo,en+er),ea=eA(eo,en+ei),eg=2*(ea>>31)+1,ec=ea>>>20&2047,eu=4294967296*(1048575&ea)+es;return 2047===ec?eu?NaN:eg*(1/0):0===ec?5e-324*eg*eu:eg*Math.pow(2,ec-1075)*(eu+4503599627370496)}eA.writeDoubleLE=er.bind(null,ei,0,4),eA.writeDoubleBE=er.bind(null,eo,4,0),eA.readDoubleLE=ea.bind(null,en,0,4),eA.readDoubleBE=ea.bind(null,es,4,0)}(),eA}function ei(eA,er,ei){er[ei]=255&eA,er[ei+1]=eA>>>8&255,er[ei+2]=eA>>>16&255,er[ei+3]=eA>>>24}function eo(eA,er,ei){er[ei]=eA>>>24,er[ei+1]=eA>>>16&255,er[ei+2]=eA>>>8&255,er[ei+3]=255&eA}function en(eA,er){return(eA[er]|eA[er+1]<<8|eA[er+2]<<16|eA[er+3]<<24)>>>0}function es(eA,er){return(eA[er]<<24|eA[er+1]<<16|eA[er+2]<<8|eA[er+3])>>>0}eA.exports=er(er)},7199:function(module){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},6662:function(eA){"use strict";eA.exports=function(eA,er,ei){var eo=ei||8192,en=eo>>>1,es=null,ea=eo;return function(ei){if(ei<1||ei>en)return eA(ei);ea+ei>eo&&(es=eA(eo),ea=0);var eg=er.call(es,ea,ea+=ei);return 7&ea&&(ea=1+(7|ea)),eg}}},4997:function(eA,er){"use strict";var ei=er;ei.length=function(eA){for(var er=0,ei=0,eo=0;eo<eA.length;++eo)(ei=eA.charCodeAt(eo))<128?er+=1:ei<2048?er+=2:55296==(64512&ei)&&56320==(64512&eA.charCodeAt(eo+1))?(++eo,er+=4):er+=3;return er},ei.read=function(eA,er,ei){if(ei-er<1)return"";for(var eo,en=null,es=[],ea=0;er<ei;)(eo=eA[er++])<128?es[ea++]=eo:eo>191&&eo<224?es[ea++]=(31&eo)<<6|63&eA[er++]:eo>239&&eo<365?(eo=((7&eo)<<18|(63&eA[er++])<<12|(63&eA[er++])<<6|63&eA[er++])-65536,es[ea++]=55296+(eo>>10),es[ea++]=56320+(1023&eo)):es[ea++]=(15&eo)<<12|(63&eA[er++])<<6|63&eA[er++],ea>8191&&((en||(en=[])).push(String.fromCharCode.apply(String,es)),ea=0);return en?(ea&&en.push(String.fromCharCode.apply(String,es.slice(0,ea))),en.join("")):String.fromCharCode.apply(String,es.slice(0,ea))},ei.write=function(eA,er,ei){for(var eo,en,es=ei,ea=0;ea<eA.length;++ea)(eo=eA.charCodeAt(ea))<128?er[ei++]=eo:(eo<2048?er[ei++]=eo>>6|192:(55296==(64512&eo)&&56320==(64512&(en=eA.charCodeAt(ea+1)))?(++ea,er[ei++]=(eo=65536+((1023&eo)<<10)+(1023&en))>>18|240,er[ei++]=eo>>12&63|128):er[ei++]=eo>>12|224,er[ei++]=eo>>6&63|128),er[ei++]=63&eo|128);return ei-es}},9483:function(eA,er,ei){/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/eA.exports=(function eA(er,ei,eo){function en(ea,eg){if(!ei[ea]){if(!er[ea]){if(es)return es(ea,!0);var ec=Error("Cannot find module '"+ea+"'");throw ec.code="MODULE_NOT_FOUND",ec}var eu=ei[ea]={exports:{}};er[ea][0].call(eu.exports,function(eA){return en(er[ea][1][eA]||eA)},eu,eu.exports,eA,er,ei,eo)}return ei[ea].exports}for(var es=void 0,ea=0;ea<eo.length;ea++)en(eo[ea]);return en})({1:[function(eA,er,eo){(function(eA){"use strict";var ei,eo,en=eA.MutationObserver||eA.WebKitMutationObserver;if(en){var es=0,ea=new en(el),eg=eA.document.createTextNode("");ea.observe(eg,{characterData:!0}),ei=function(){eg.data=es=++es%2}}else if(eA.setImmediate||void 0===eA.MessageChannel)ei="document"in eA&&"onreadystatechange"in eA.document.createElement("script")?function(){var er=eA.document.createElement("script");er.onreadystatechange=function(){el(),er.onreadystatechange=null,er.parentNode.removeChild(er),er=null},eA.document.documentElement.appendChild(er)}:function(){setTimeout(el,0)};else{var ec=new eA.MessageChannel;ec.port1.onmessage=el,ei=function(){ec.port2.postMessage(0)}}var eu=[];function el(){var eA,er;eo=!0;for(var ei=eu.length;ei;){for(er=eu,eu=[],eA=-1;++eA<ei;)er[eA]();ei=eu.length}eo=!1}function ed(eA){1!==eu.push(eA)||eo||ei()}er.exports=ed}).call(this,void 0!==ei.g?ei.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(eA,er,ei){"use strict";var eo=eA(1);function en(){}var es={},ea=["REJECTED"],eg=["FULFILLED"],ec=["PENDING"];function eu(eA){if("function"!=typeof eA)throw TypeError("resolver must be a function");this.state=ec,this.queue=[],this.outcome=void 0,eA!==en&&eI(this,eA)}function el(eA,er,ei){this.promise=eA,"function"==typeof er&&(this.onFulfilled=er,this.callFulfilled=this.otherCallFulfilled),"function"==typeof ei&&(this.onRejected=ei,this.callRejected=this.otherCallRejected)}function ed(eA,er,ei){eo(function(){var eo;try{eo=er(ei)}catch(er){return es.reject(eA,er)}eo===eA?es.reject(eA,TypeError("Cannot resolve promise with itself")):es.resolve(eA,eo)})}function eE(eA){var er=eA&&eA.then;if(eA&&("object"==typeof eA||"function"==typeof eA)&&"function"==typeof er)return function(){er.apply(eA,arguments)}}function eI(eA,er){var ei=!1;function eo(er){ei||(ei=!0,es.reject(eA,er))}function en(er){ei||(ei=!0,es.resolve(eA,er))}var ea=eC(function(){er(en,eo)});"error"===ea.status&&eo(ea.value)}function eC(eA,er){var ei={};try{ei.value=eA(er),ei.status="success"}catch(eA){ei.status="error",ei.value=eA}return ei}function eh(eA){return eA instanceof this?eA:es.resolve(new this(en),eA)}function eB(eA){var er=new this(en);return es.reject(er,eA)}function ep(eA){var er=this;if("[object Array]"!==Object.prototype.toString.call(eA))return this.reject(TypeError("must be an array"));var ei=eA.length,eo=!1;if(!ei)return this.resolve([]);for(var ea=Array(ei),eg=0,ec=-1,eu=new this(en);++ec<ei;)el(eA[ec],ec);return eu;function el(eA,en){function ec(eA){ea[en]=eA,++eg!==ei||eo||(eo=!0,es.resolve(eu,ea))}er.resolve(eA).then(ec,function(eA){eo||(eo=!0,es.reject(eu,eA))})}}function ef(eA){var er=this;if("[object Array]"!==Object.prototype.toString.call(eA))return this.reject(TypeError("must be an array"));var ei=eA.length,eo=!1;if(!ei)return this.resolve([]);for(var ea=-1,eg=new this(en);++ea<ei;)ec(eA[ea]);return eg;function ec(eA){er.resolve(eA).then(function(eA){eo||(eo=!0,es.resolve(eg,eA))},function(eA){eo||(eo=!0,es.reject(eg,eA))})}}er.exports=eu,eu.prototype.catch=function(eA){return this.then(null,eA)},eu.prototype.then=function(eA,er){if("function"!=typeof eA&&this.state===eg||"function"!=typeof er&&this.state===ea)return this;var ei=new this.constructor(en);return this.state!==ec?ed(ei,this.state===eg?eA:er,this.outcome):this.queue.push(new el(ei,eA,er)),ei},el.prototype.callFulfilled=function(eA){es.resolve(this.promise,eA)},el.prototype.otherCallFulfilled=function(eA){ed(this.promise,this.onFulfilled,eA)},el.prototype.callRejected=function(eA){es.reject(this.promise,eA)},el.prototype.otherCallRejected=function(eA){ed(this.promise,this.onRejected,eA)},es.resolve=function(eA,er){var ei=eC(eE,er);if("error"===ei.status)return es.reject(eA,ei.value);var eo=ei.value;if(eo)eI(eA,eo);else{eA.state=eg,eA.outcome=er;for(var en=-1,ea=eA.queue.length;++en<ea;)eA.queue[en].callFulfilled(er)}return eA},es.reject=function(eA,er){eA.state=ea,eA.outcome=er;for(var ei=-1,eo=eA.queue.length;++ei<eo;)eA.queue[ei].callRejected(er);return eA},eu.resolve=eh,eu.reject=eB,eu.all=ep,eu.race=ef},{1:1}],3:[function(eA,er,eo){(function(er){"use strict";"function"!=typeof er.Promise&&(er.Promise=eA(2))}).call(this,void 0!==ei.g?ei.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(eA,er,ei){"use strict";var eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(eA){return typeof eA}:function(eA){return eA&&"function"==typeof Symbol&&eA.constructor===Symbol&&eA!==Symbol.prototype?"symbol":typeof eA};function en(eA,er){if(!(eA instanceof er))throw TypeError("Cannot call a class as a function")}var es=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(eA){return}}();function ea(){try{if(!es||!es.open)return!1;var eA="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),er="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!eA||er)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(eA){return!1}}function eg(eA,er){eA=eA||[],er=er||{};try{return new Blob(eA,er)}catch(en){if("TypeError"!==en.name)throw en;for(var ei=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),eo=0;eo<eA.length;eo+=1)ei.append(eA[eo]);return ei.getBlob(er.type)}}"undefined"==typeof Promise&&eA(3);var ec=Promise;function eu(eA,er){er&&eA.then(function(eA){er(null,eA)},function(eA){er(eA)})}function el(eA,er,ei){"function"==typeof er&&eA.then(er),"function"==typeof ei&&eA.catch(ei)}function ed(eA){return"string"!=typeof eA&&(console.warn(eA+" used as a key, but it is not a string."),eA=String(eA)),eA}function eE(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var eI="local-forage-detect-blob-support",eC=void 0,eh={},eB=Object.prototype.toString,ep="readonly",ef="readwrite";function em(eA){for(var er=eA.length,ei=new ArrayBuffer(er),eo=new Uint8Array(ei),en=0;en<er;en++)eo[en]=eA.charCodeAt(en);return ei}function eQ(eA){return new ec(function(er){var ei=eA.transaction(eI,ef),eo=eg([""]);ei.objectStore(eI).put(eo,"key"),ei.onabort=function(eA){eA.preventDefault(),eA.stopPropagation(),er(!1)},ei.oncomplete=function(){var eA=navigator.userAgent.match(/Chrome\/(\d+)/);er(navigator.userAgent.match(/Edge\//)||!eA||parseInt(eA[1],10)>=43)}}).catch(function(){return!1})}function ev(eA){return"boolean"==typeof eC?ec.resolve(eC):eQ(eA).then(function(eA){return eC=eA})}function e_(eA){var er=eh[eA.name],ei={};ei.promise=new ec(function(eA,er){ei.resolve=eA,ei.reject=er}),er.deferredOperations.push(ei),er.dbReady=er.dbReady?er.dbReady.then(function(){return ei.promise}):ei.promise}function ey(eA){var er=eh[eA.name].deferredOperations.pop();if(er)return er.resolve(),er.promise}function eS(eA,er){var ei=eh[eA.name].deferredOperations.pop();if(ei)return ei.reject(er),ei.promise}function eR(eA,er){return new ec(function(ei,eo){if(eh[eA.name]=eh[eA.name]||eP(),eA.db){if(!er)return ei(eA.db);e_(eA),eA.db.close()}var en=[eA.name];er&&en.push(eA.version);var ea=es.open.apply(es,en);er&&(ea.onupgradeneeded=function(er){var ei=ea.result;try{ei.createObjectStore(eA.storeName),er.oldVersion<=1&&ei.createObjectStore(eI)}catch(ei){if("ConstraintError"!==ei.name)throw ei;console.warn('The database "'+eA.name+'" has been upgraded from version '+er.oldVersion+" to version "+er.newVersion+', but the storage "'+eA.storeName+'" already exists.')}}),ea.onerror=function(eA){eA.preventDefault(),eo(ea.error)},ea.onsuccess=function(){var er=ea.result;er.onversionchange=function(eA){eA.target.close()},ei(er),ey(eA)}})}function eT(eA){return eR(eA,!1)}function eD(eA){return eR(eA,!0)}function eb(eA,er){if(!eA.db)return!0;var ei=!eA.db.objectStoreNames.contains(eA.storeName),eo=eA.version>eA.db.version;if(eA.version<eA.db.version&&(eA.version!==er&&console.warn('The database "'+eA.name+"\" can't be downgraded from version "+eA.db.version+" to version "+eA.version+"."),eA.version=eA.db.version),eo||ei){if(ei){var en=eA.db.version+1;en>eA.version&&(eA.version=en)}return!0}return!1}function eN(eA){return new ec(function(er,ei){var eo=new FileReader;eo.onerror=ei,eo.onloadend=function(ei){er({__local_forage_encoded_blob:!0,data:btoa(ei.target.result||""),type:eA.type})},eo.readAsBinaryString(eA)})}function ek(eA){return eg([em(atob(eA.data))],{type:eA.type})}function eL(eA){return eA&&eA.__local_forage_encoded_blob}function ew(eA){var er=this,ei=er._initReady().then(function(){var eA=eh[er._dbInfo.name];if(eA&&eA.dbReady)return eA.dbReady});return el(ei,eA,eA),ei}function eM(eA){e_(eA);for(var er=eh[eA.name],ei=er.forages,eo=0;eo<ei.length;eo++){var en=ei[eo];en._dbInfo.db&&(en._dbInfo.db.close(),en._dbInfo.db=null)}return eA.db=null,eT(eA).then(function(er){return eA.db=er,eb(eA)?eD(eA):er}).then(function(eo){eA.db=er.db=eo;for(var en=0;en<ei.length;en++)ei[en]._dbInfo.db=eo}).catch(function(er){throw eS(eA,er),er})}function eO(eA,er,ei,eo){void 0===eo&&(eo=1);try{var en=eA.db.transaction(eA.storeName,er);ei(null,en)}catch(en){if(eo>0&&(!eA.db||"InvalidStateError"===en.name||"NotFoundError"===en.name))return ec.resolve().then(function(){if(!eA.db||"NotFoundError"===en.name&&!eA.db.objectStoreNames.contains(eA.storeName)&&eA.version<=eA.db.version)return eA.db&&(eA.version=eA.db.version+1),eD(eA)}).then(function(){return eM(eA).then(function(){eO(eA,er,ei,eo-1)})}).catch(ei);ei(en)}}function eP(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function eU(eA,er){var ei=this;eA=ed(eA);var eo=new ec(function(er,eo){ei.ready().then(function(){eO(ei._dbInfo,ep,function(en,es){if(en)return eo(en);try{var ea=es.objectStore(ei._dbInfo.storeName).get(eA);ea.onsuccess=function(){var eA=ea.result;void 0===eA&&(eA=null),eL(eA)&&(eA=ek(eA)),er(eA)},ea.onerror=function(){eo(ea.error)}}catch(eA){eo(eA)}})}).catch(eo)});return eu(eo,er),eo}function eG(eA,er){var ei=this,eo=new ec(function(er,eo){ei.ready().then(function(){eO(ei._dbInfo,ep,function(en,es){if(en)return eo(en);try{var ea=es.objectStore(ei._dbInfo.storeName).openCursor(),eg=1;ea.onsuccess=function(){var ei=ea.result;if(ei){var eo=ei.value;eL(eo)&&(eo=ek(eo));var en=eA(eo,ei.key,eg++);void 0!==en?er(en):ei.continue()}else er()},ea.onerror=function(){eo(ea.error)}}catch(eA){eo(eA)}})}).catch(eo)});return eu(eo,er),eo}function eF(eA,er,ei){var eo=this;eA=ed(eA);var en=new ec(function(ei,en){var es;eo.ready().then(function(){return es=eo._dbInfo,"[object Blob]"===eB.call(er)?ev(es.db).then(function(eA){return eA?er:eN(er)}):er}).then(function(er){eO(eo._dbInfo,ef,function(es,ea){if(es)return en(es);try{var eg=ea.objectStore(eo._dbInfo.storeName);null===er&&(er=void 0);var ec=eg.put(er,eA);ea.oncomplete=function(){void 0===er&&(er=null),ei(er)},ea.onabort=ea.onerror=function(){en(ec.error?ec.error:ec.transaction.error)}}catch(eA){en(eA)}})}).catch(en)});return eu(en,ei),en}function eH(eA,er){var ei=this;eA=ed(eA);var eo=new ec(function(er,eo){ei.ready().then(function(){eO(ei._dbInfo,ef,function(en,es){if(en)return eo(en);try{var ea=es.objectStore(ei._dbInfo.storeName).delete(eA);es.oncomplete=function(){er()},es.onerror=function(){eo(ea.error)},es.onabort=function(){eo(ea.error?ea.error:ea.transaction.error)}}catch(eA){eo(eA)}})}).catch(eo)});return eu(eo,er),eo}function ex(eA){var er=this,ei=new ec(function(eA,ei){er.ready().then(function(){eO(er._dbInfo,ef,function(eo,en){if(eo)return ei(eo);try{var es=en.objectStore(er._dbInfo.storeName).clear();en.oncomplete=function(){eA()},en.onabort=en.onerror=function(){ei(es.error?es.error:es.transaction.error)}}catch(eA){ei(eA)}})}).catch(ei)});return eu(ei,eA),ei}function eY(eA){var er=this,ei=new ec(function(eA,ei){er.ready().then(function(){eO(er._dbInfo,ep,function(eo,en){if(eo)return ei(eo);try{var es=en.objectStore(er._dbInfo.storeName).count();es.onsuccess=function(){eA(es.result)},es.onerror=function(){ei(es.error)}}catch(eA){ei(eA)}})}).catch(ei)});return eu(ei,eA),ei}function eZ(eA,er){var ei=this,eo=new ec(function(er,eo){eA<0?er(null):ei.ready().then(function(){eO(ei._dbInfo,ep,function(en,es){if(en)return eo(en);try{var ea=es.objectStore(ei._dbInfo.storeName),eg=!1,ec=ea.openKeyCursor();ec.onsuccess=function(){var ei=ec.result;ei?0===eA||eg?er(ei.key):(eg=!0,ei.advance(eA)):er(null)},ec.onerror=function(){eo(ec.error)}}catch(eA){eo(eA)}})}).catch(eo)});return eu(eo,er),eo}function eq(eA){var er=this,ei=new ec(function(eA,ei){er.ready().then(function(){eO(er._dbInfo,ep,function(eo,en){if(eo)return ei(eo);try{var es=en.objectStore(er._dbInfo.storeName).openKeyCursor(),ea=[];es.onsuccess=function(){var er=es.result;er?(ea.push(er.key),er.continue()):eA(ea)},es.onerror=function(){ei(es.error)}}catch(eA){ei(eA)}})}).catch(ei)});return eu(ei,eA),ei}function eJ(eA,er){er=eE.apply(this,arguments);var ei=this.config();(eA="function"!=typeof eA&&eA||{}).name||(eA.name=eA.name||ei.name,eA.storeName=eA.storeName||ei.storeName);var eo,en=this;return eu(eo=eA.name?(eA.name===ei.name&&en._dbInfo.db?ec.resolve(en._dbInfo.db):eT(eA).then(function(er){var ei=eh[eA.name],eo=ei.forages;ei.db=er;for(var en=0;en<eo.length;en++)eo[en]._dbInfo.db=er;return er})).then(eA.storeName?function(er){if(er.objectStoreNames.contains(eA.storeName)){var ei=er.version+1;e_(eA);var eo=eh[eA.name],en=eo.forages;er.close();for(var ea=0;ea<en.length;ea++){var eg=en[ea];eg._dbInfo.db=null,eg._dbInfo.version=ei}return new ec(function(er,eo){var en=es.open(eA.name,ei);en.onerror=function(eA){en.result.close(),eo(eA)},en.onupgradeneeded=function(){en.result.deleteObjectStore(eA.storeName)},en.onsuccess=function(){var eA=en.result;eA.close(),er(eA)}}).then(function(eA){eo.db=eA;for(var er=0;er<en.length;er++){var ei=en[er];ei._dbInfo.db=eA,ey(ei._dbInfo)}}).catch(function(er){throw(eS(eA,er)||ec.resolve()).catch(function(){}),er})}}:function(er){e_(eA);var ei=eh[eA.name],eo=ei.forages;er.close();for(var en=0;en<eo.length;en++)eo[en]._dbInfo.db=null;return new ec(function(er,ei){var eo=es.deleteDatabase(eA.name);eo.onerror=function(){var eA=eo.result;eA&&eA.close(),ei(eo.error)},eo.onblocked=function(){console.warn('dropInstance blocked for database "'+eA.name+'" until all open connections are closed')},eo.onsuccess=function(){var eA=eo.result;eA&&eA.close(),er(eA)}}).then(function(eA){ei.db=eA;for(var er=0;er<eo.length;er++)ey(eo[er]._dbInfo)}).catch(function(er){throw(eS(eA,er)||ec.resolve()).catch(function(){}),er})}):ec.reject("Invalid arguments"),er),eo}var eW={_driver:"asyncStorage",_initStorage:function(eA){var er=this,ei={db:null};if(eA)for(var eo in eA)ei[eo]=eA[eo];var en=eh[ei.name];en||(en=eP(),eh[ei.name]=en),en.forages.push(er),er._initReady||(er._initReady=er.ready,er.ready=ew);var es=[];function ea(){return ec.resolve()}for(var eg=0;eg<en.forages.length;eg++){var eu=en.forages[eg];eu!==er&&es.push(eu._initReady().catch(ea))}var el=en.forages.slice(0);return ec.all(es).then(function(){return ei.db=en.db,eT(ei)}).then(function(eA){return ei.db=eA,eb(ei,er._defaultConfig.version)?eD(ei):eA}).then(function(eA){ei.db=en.db=eA,er._dbInfo=ei;for(var eo=0;eo<el.length;eo++){var es=el[eo];es!==er&&(es._dbInfo.db=ei.db,es._dbInfo.version=ei.version)}})},_support:ea(),iterate:eG,getItem:eU,setItem:eF,removeItem:eH,clear:ex,length:eY,key:eZ,keys:eq,dropInstance:eJ};function eK(){return"function"==typeof openDatabase}var eV="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ej="~~local_forage_type~",ez=/^~~local_forage_type~([^~]+)~/,eX="__lfsc__:",e$=eX.length,e0="arbf",e1="blob",e2="si08",e3="ui08",e4="uic8",e8="si16",e6="si32",e5="ur16",e9="ui32",e7="fl32",tA="fl64",tr=e$+e0.length,ti=Object.prototype.toString;function to(eA){var er,ei,eo,en,es,ea=.75*eA.length,eg=eA.length,ec=0;"="===eA[eA.length-1]&&(ea--,"="===eA[eA.length-2]&&ea--);var eu=new ArrayBuffer(ea),el=new Uint8Array(eu);for(er=0;er<eg;er+=4)ei=eV.indexOf(eA[er]),eo=eV.indexOf(eA[er+1]),en=eV.indexOf(eA[er+2]),es=eV.indexOf(eA[er+3]),el[ec++]=ei<<2|eo>>4,el[ec++]=(15&eo)<<4|en>>2,el[ec++]=(3&en)<<6|63&es;return eu}function tn(eA){var er,ei=new Uint8Array(eA),eo="";for(er=0;er<ei.length;er+=3)eo+=eV[ei[er]>>2]+eV[(3&ei[er])<<4|ei[er+1]>>4]+eV[(15&ei[er+1])<<2|ei[er+2]>>6]+eV[63&ei[er+2]];return ei.length%3==2?eo=eo.substring(0,eo.length-1)+"=":ei.length%3==1&&(eo=eo.substring(0,eo.length-2)+"=="),eo}var ts={serialize:function(eA,er){var ei="";if(eA&&(ei=ti.call(eA)),eA&&("[object ArrayBuffer]"===ei||eA.buffer&&"[object ArrayBuffer]"===ti.call(eA.buffer))){var eo,en=eX;eA instanceof ArrayBuffer?(eo=eA,en+=e0):(eo=eA.buffer,"[object Int8Array]"===ei?en+=e2:"[object Uint8Array]"===ei?en+=e3:"[object Uint8ClampedArray]"===ei?en+=e4:"[object Int16Array]"===ei?en+=e8:"[object Uint16Array]"===ei?en+=e5:"[object Int32Array]"===ei?en+=e6:"[object Uint32Array]"===ei?en+=e9:"[object Float32Array]"===ei?en+=e7:"[object Float64Array]"===ei?en+=tA:er(Error("Failed to get type for BinaryArray"))),er(en+tn(eo))}else if("[object Blob]"===ei){var es=new FileReader;es.onload=function(){er(eX+e1+(ej+eA.type+"~")+tn(this.result))},es.readAsArrayBuffer(eA)}else try{er(JSON.stringify(eA))}catch(ei){console.error("Couldn't convert value into a JSON string: ",eA),er(null,ei)}},deserialize:function(eA){if(eA.substring(0,e$)!==eX)return JSON.parse(eA);var er,ei=eA.substring(tr),eo=eA.substring(e$,tr);if(eo===e1&&ez.test(ei)){var en=ei.match(ez);er=en[1],ei=ei.substring(en[0].length)}var es=to(ei);switch(eo){case e0:return es;case e1:return eg([es],{type:er});case e2:return new Int8Array(es);case e3:return new Uint8Array(es);case e4:return new Uint8ClampedArray(es);case e8:return new Int16Array(es);case e5:return new Uint16Array(es);case e6:return new Int32Array(es);case e9:return new Uint32Array(es);case e7:return new Float32Array(es);case tA:return new Float64Array(es);default:throw Error("Unkown type: "+eo)}},stringToBuffer:to,bufferToString:tn};function ta(eA,er,ei,eo){eA.executeSql("CREATE TABLE IF NOT EXISTS "+er.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],ei,eo)}function tg(eA,er,ei,eo,en,es){eA.executeSql(ei,eo,en,function(eA,ea){ea.code===ea.SYNTAX_ERR?eA.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[er.storeName],function(eA,eg){eg.rows.length?es(eA,ea):ta(eA,er,function(){eA.executeSql(ei,eo,en,es)},es)},es):es(eA,ea)},es)}function tc(eA,er){var ei=this;eA=ed(eA);var eo=new ec(function(er,eo){ei.ready().then(function(){var en=ei._dbInfo;en.db.transaction(function(ei){tg(ei,en,"SELECT * FROM "+en.storeName+" WHERE key = ? LIMIT 1",[eA],function(eA,ei){var eo=ei.rows.length?ei.rows.item(0).value:null;eo&&(eo=en.serializer.deserialize(eo)),er(eo)},function(eA,er){eo(er)})})}).catch(eo)});return eu(eo,er),eo}function tu(eA,er){var ei=this,eo=new ec(function(er,eo){ei.ready().then(function(){var en=ei._dbInfo;en.db.transaction(function(ei){tg(ei,en,"SELECT * FROM "+en.storeName,[],function(ei,eo){for(var es=eo.rows,ea=es.length,eg=0;eg<ea;eg++){var ec=es.item(eg),eu=ec.value;if(eu&&(eu=en.serializer.deserialize(eu)),void 0!==(eu=eA(eu,ec.key,eg+1)))return void er(eu)}er()},function(eA,er){eo(er)})})}).catch(eo)});return eu(eo,er),eo}function tl(eA,er,ei,eo){var en=this;eA=ed(eA);var es=new ec(function(es,ea){en.ready().then(function(){void 0===er&&(er=null);var eg=er,ec=en._dbInfo;ec.serializer.serialize(er,function(er,eu){eu?ea(eu):ec.db.transaction(function(ei){tg(ei,ec,"INSERT OR REPLACE INTO "+ec.storeName+" (key, value) VALUES (?, ?)",[eA,er],function(){es(eg)},function(eA,er){ea(er)})},function(er){if(er.code===er.QUOTA_ERR){if(eo>0)return void es(tl.apply(en,[eA,eg,ei,eo-1]));ea(er)}})})}).catch(ea)});return eu(es,ei),es}function td(eA,er,ei){return tl.apply(this,[eA,er,ei,1])}function tE(eA,er){var ei=this;eA=ed(eA);var eo=new ec(function(er,eo){ei.ready().then(function(){var en=ei._dbInfo;en.db.transaction(function(ei){tg(ei,en,"DELETE FROM "+en.storeName+" WHERE key = ?",[eA],function(){er()},function(eA,er){eo(er)})})}).catch(eo)});return eu(eo,er),eo}function tI(eA){var er=this,ei=new ec(function(eA,ei){er.ready().then(function(){var eo=er._dbInfo;eo.db.transaction(function(er){tg(er,eo,"DELETE FROM "+eo.storeName,[],function(){eA()},function(eA,er){ei(er)})})}).catch(ei)});return eu(ei,eA),ei}function tC(eA){var er=this,ei=new ec(function(eA,ei){er.ready().then(function(){var eo=er._dbInfo;eo.db.transaction(function(er){tg(er,eo,"SELECT COUNT(key) as c FROM "+eo.storeName,[],function(er,ei){eA(ei.rows.item(0).c)},function(eA,er){ei(er)})})}).catch(ei)});return eu(ei,eA),ei}function th(eA,er){var ei=this,eo=new ec(function(er,eo){ei.ready().then(function(){var en=ei._dbInfo;en.db.transaction(function(ei){tg(ei,en,"SELECT key FROM "+en.storeName+" WHERE id = ? LIMIT 1",[eA+1],function(eA,ei){er(ei.rows.length?ei.rows.item(0).key:null)},function(eA,er){eo(er)})})}).catch(eo)});return eu(eo,er),eo}function tB(eA){var er=this,ei=new ec(function(eA,ei){er.ready().then(function(){var eo=er._dbInfo;eo.db.transaction(function(er){tg(er,eo,"SELECT key FROM "+eo.storeName,[],function(er,ei){for(var eo=[],en=0;en<ei.rows.length;en++)eo.push(ei.rows.item(en).key);eA(eo)},function(eA,er){ei(er)})})}).catch(ei)});return eu(ei,eA),ei}function tp(eA){return new ec(function(er,ei){eA.transaction(function(eo){eo.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ei,eo){for(var en=[],es=0;es<eo.rows.length;es++)en.push(eo.rows.item(es).name);er({db:eA,storeNames:en})},function(eA,er){ei(er)})},function(eA){ei(eA)})})}function tf(eA,er){er=eE.apply(this,arguments);var ei=this.config();(eA="function"!=typeof eA&&eA||{}).name||(eA.name=eA.name||ei.name,eA.storeName=eA.storeName||ei.storeName);var eo,en=this;return eu(eo=eA.name?new ec(function(er){var eo;eo=eA.name===ei.name?en._dbInfo.db:openDatabase(eA.name,"","",0),er(eA.storeName?{db:eo,storeNames:[eA.storeName]}:tp(eo))}).then(function(eA){return new ec(function(er,ei){eA.db.transaction(function(eo){function en(eA){return new ec(function(er,ei){eo.executeSql("DROP TABLE IF EXISTS "+eA,[],function(){er()},function(eA,er){ei(er)})})}for(var es=[],ea=0,eg=eA.storeNames.length;ea<eg;ea++)es.push(en(eA.storeNames[ea]));ec.all(es).then(function(){er()}).catch(function(eA){ei(eA)})},function(eA){ei(eA)})})}):ec.reject("Invalid arguments"),er),eo}var tm={_driver:"webSQLStorage",_initStorage:function(eA){var er=this,ei={db:null};if(eA)for(var eo in eA)ei[eo]="string"!=typeof eA[eo]?eA[eo].toString():eA[eo];var en=new ec(function(eA,eo){try{ei.db=openDatabase(ei.name,String(ei.version),ei.description,ei.size)}catch(eA){return eo(eA)}ei.db.transaction(function(en){ta(en,ei,function(){er._dbInfo=ei,eA()},function(eA,er){eo(er)})},eo)});return ei.serializer=ts,en},_support:eK(),iterate:tu,getItem:tc,setItem:td,removeItem:tE,clear:tI,length:tC,key:th,keys:tB,dropInstance:tf};function tQ(eA,er){var ei=eA.name+"/";return eA.storeName!==er.storeName&&(ei+=eA.storeName+"/"),ei}function tv(){var eA="_localforage_support_test";try{return localStorage.setItem(eA,!0),localStorage.removeItem(eA),!1}catch(eA){return!0}}function t_(){return!tv()||localStorage.length>0}function ty(eA){var er=this,ei=er.ready().then(function(){for(var eA=er._dbInfo.keyPrefix,ei=localStorage.length-1;ei>=0;ei--){var eo=localStorage.key(ei);0===eo.indexOf(eA)&&localStorage.removeItem(eo)}});return eu(ei,eA),ei}function tS(eA,er){var ei=this;eA=ed(eA);var eo=ei.ready().then(function(){var er=ei._dbInfo,eo=localStorage.getItem(er.keyPrefix+eA);return eo&&(eo=er.serializer.deserialize(eo)),eo});return eu(eo,er),eo}function tR(eA,er){var ei=this,eo=ei.ready().then(function(){for(var er=ei._dbInfo,eo=er.keyPrefix,en=eo.length,es=localStorage.length,ea=1,eg=0;eg<es;eg++){var ec=localStorage.key(eg);if(0===ec.indexOf(eo)){var eu=localStorage.getItem(ec);if(eu&&(eu=er.serializer.deserialize(eu)),void 0!==(eu=eA(eu,ec.substring(en),ea++)))return eu}}});return eu(eo,er),eo}function tT(eA,er){var ei=this,eo=ei.ready().then(function(){var er,eo=ei._dbInfo;try{er=localStorage.key(eA)}catch(eA){er=null}return er&&(er=er.substring(eo.keyPrefix.length)),er});return eu(eo,er),eo}function tD(eA){var er=this,ei=er.ready().then(function(){for(var eA=er._dbInfo,ei=localStorage.length,eo=[],en=0;en<ei;en++){var es=localStorage.key(en);0===es.indexOf(eA.keyPrefix)&&eo.push(es.substring(eA.keyPrefix.length))}return eo});return eu(ei,eA),ei}function tb(eA){var er=this.keys().then(function(eA){return eA.length});return eu(er,eA),er}function tN(eA,er){var ei=this;eA=ed(eA);var eo=ei.ready().then(function(){localStorage.removeItem(ei._dbInfo.keyPrefix+eA)});return eu(eo,er),eo}function tk(eA,er,ei){var eo=this;eA=ed(eA);var en=eo.ready().then(function(){void 0===er&&(er=null);var ei=er;return new ec(function(en,es){var ea=eo._dbInfo;ea.serializer.serialize(er,function(er,eo){if(eo)es(eo);else try{localStorage.setItem(ea.keyPrefix+eA,er),en(ei)}catch(eA){"QuotaExceededError"!==eA.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==eA.name||es(eA),es(eA)}})})});return eu(en,ei),en}function tL(eA,er){if(er=eE.apply(this,arguments),!(eA="function"!=typeof eA&&eA||{}).name){var ei=this.config();eA.name=eA.name||ei.name,eA.storeName=eA.storeName||ei.storeName}var eo,en=this;return eu(eo=eA.name?new ec(function(er){er(eA.storeName?tQ(eA,en._defaultConfig):eA.name+"/")}).then(function(eA){for(var er=localStorage.length-1;er>=0;er--){var ei=localStorage.key(er);0===ei.indexOf(eA)&&localStorage.removeItem(ei)}}):ec.reject("Invalid arguments"),er),eo}var tw={_driver:"localStorageWrapper",_initStorage:function(eA){var er=this,ei={};if(eA)for(var eo in eA)ei[eo]=eA[eo];return ei.keyPrefix=tQ(eA,er._defaultConfig),t_()?(er._dbInfo=ei,ei.serializer=ts,ec.resolve()):ec.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(eA){return!1}}(),iterate:tR,getItem:tS,setItem:tk,removeItem:tN,clear:ty,length:tb,key:tT,keys:tD,dropInstance:tL},tM=function(eA,er){return eA===er||"number"==typeof eA&&"number"==typeof er&&isNaN(eA)&&isNaN(er)},tO=function(eA,er){for(var ei=eA.length,eo=0;eo<ei;){if(tM(eA[eo],er))return!0;eo++}return!1},tP=Array.isArray||function(eA){return"[object Array]"===Object.prototype.toString.call(eA)},tU={},tG={},tF={INDEXEDDB:eW,WEBSQL:tm,LOCALSTORAGE:tw},tH=[tF.INDEXEDDB._driver,tF.WEBSQL._driver,tF.LOCALSTORAGE._driver],tx=["dropInstance"],tY=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(tx),tZ={description:"",driver:tH.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function tq(eA,er){eA[er]=function(){var ei=arguments;return eA.ready().then(function(){return eA[er].apply(eA,ei)})}}function tJ(){for(var eA=1;eA<arguments.length;eA++){var er=arguments[eA];if(er)for(var ei in er)er.hasOwnProperty(ei)&&(arguments[0][ei]=tP(er[ei])?er[ei].slice():er[ei])}return arguments[0]}var tW=new(function(){function eA(er){for(var ei in en(this,eA),tF)if(tF.hasOwnProperty(ei)){var eo=tF[ei],es=eo._driver;this[ei]=es,tU[es]||this.defineDriver(eo)}this._defaultConfig=tJ({},tZ),this._config=tJ({},this._defaultConfig,er),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return eA.prototype.config=function(eA){if("object"===(void 0===eA?"undefined":eo(eA))){if(this._ready)return Error("Can't call config() after localforage has been used.");for(var er in eA){if("storeName"===er&&(eA[er]=eA[er].replace(/\W/g,"_")),"version"===er&&"number"!=typeof eA[er])return Error("Database version must be a number.");this._config[er]=eA[er]}return!("driver"in eA)||!eA.driver||this.setDriver(this._config.driver)}return"string"==typeof eA?this._config[eA]:this._config},eA.prototype.defineDriver=function(eA,er,ei){var eo=new ec(function(er,ei){try{var eo=eA._driver,en=Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!eA._driver)return void ei(en);for(var es=tY.concat("_initStorage"),ea=0,eg=es.length;ea<eg;ea++){var el=es[ea];if((!tO(tx,el)||eA[el])&&"function"!=typeof eA[el])return void ei(en)}(function(){for(var er=function(eA){return function(){var er=Error("Method "+eA+" is not implemented by the current driver"),ei=ec.reject(er);return eu(ei,arguments[arguments.length-1]),ei}},ei=0,eo=tx.length;ei<eo;ei++){var en=tx[ei];eA[en]||(eA[en]=er(en))}})();var ed=function(ei){tU[eo]&&console.info("Redefining LocalForage driver: "+eo),tU[eo]=eA,tG[eo]=ei,er()};"_support"in eA?eA._support&&"function"==typeof eA._support?eA._support().then(ed,ei):ed(!!eA._support):ed(!0)}catch(eA){ei(eA)}});return el(eo,er,ei),eo},eA.prototype.driver=function(){return this._driver||null},eA.prototype.getDriver=function(eA,er,ei){var eo=tU[eA]?ec.resolve(tU[eA]):ec.reject(Error("Driver not found."));return el(eo,er,ei),eo},eA.prototype.getSerializer=function(eA){var er=ec.resolve(ts);return el(er,eA),er},eA.prototype.ready=function(eA){var er=this,ei=er._driverSet.then(function(){return null===er._ready&&(er._ready=er._initDriver()),er._ready});return el(ei,eA,eA),ei},eA.prototype.setDriver=function(eA,er,ei){var eo=this;tP(eA)||(eA=[eA]);var en=this._getSupportedDrivers(eA);function es(){eo._config.driver=eo.driver()}function ea(eA){return eo._extend(eA),es(),eo._ready=eo._initStorage(eo._config),eo._ready}function eg(eA){return function(){var er=0;function ei(){for(;er<eA.length;){var en=eA[er];return er++,eo._dbInfo=null,eo._ready=null,eo.getDriver(en).then(ea).catch(ei)}es();var eg=Error("No available storage method found.");return eo._driverSet=ec.reject(eg),eo._driverSet}return ei()}}var eu=null!==this._driverSet?this._driverSet.catch(function(){return ec.resolve()}):ec.resolve();return this._driverSet=eu.then(function(){var eA=en[0];return eo._dbInfo=null,eo._ready=null,eo.getDriver(eA).then(function(eA){eo._driver=eA._driver,es(),eo._wrapLibraryMethodsWithReady(),eo._initDriver=eg(en)})}).catch(function(){es();var eA=Error("No available storage method found.");return eo._driverSet=ec.reject(eA),eo._driverSet}),el(this._driverSet,er,ei),this._driverSet},eA.prototype.supports=function(eA){return!!tG[eA]},eA.prototype._extend=function(eA){tJ(this,eA)},eA.prototype._getSupportedDrivers=function(eA){for(var er=[],ei=0,eo=eA.length;ei<eo;ei++){var en=eA[ei];this.supports(en)&&er.push(en)}return er},eA.prototype._wrapLibraryMethodsWithReady=function(){for(var eA=0,er=tY.length;eA<er;eA++)tq(this,tY[eA])},eA.prototype.createInstance=function(er){return new eA(er)},eA}());er.exports=tW},{3:3}]},{},[4])(4)},3720:function(eA){eA.exports=ei;var er=null;try{er=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(eA){}function ei(eA,er,ei){this.low=0|eA,this.high=0|er,this.unsigned=!!ei}function eo(eA){return!0===(eA&&eA.__isLong__)}Object.defineProperty(ei.prototype,"__isLong__",{value:!0}),ei.isLong=eo;var en={},es={};function ea(eA,er){var ei,eo,ea;return er?(ea=0<=(eA>>>=0)&&eA<256)&&(eo=es[eA])?eo:(ei=ec(eA,(0|eA)<0?-1:0,!0),ea&&(es[eA]=ei),ei):(ea=-128<=(eA|=0)&&eA<128)&&(eo=en[eA])?eo:(ei=ec(eA,eA<0?-1:0,!1),ea&&(en[eA]=ei),ei)}function eg(eA,er){if(isNaN(eA))return er?ep:eB;if(er){if(eA<0)return ep;if(eA>=eI)return e_}else{if(eA<=-eC)return ey;if(eA+1>=eC)return ev}return eA<0?eg(-eA,er).neg():ec(eA%eE|0,eA/eE|0,er)}function ec(eA,er,eo){return new ei(eA,er,eo)}ei.fromInt=ea,ei.fromNumber=eg,ei.fromBits=ec;var eu=Math.pow;function el(eA,er,ei){if(0===eA.length)throw Error("empty string");if("NaN"===eA||"Infinity"===eA||"+Infinity"===eA||"-Infinity"===eA)return eB;if("number"==typeof er?(ei=er,er=!1):er=!!er,(ei=ei||10)<2||36<ei)throw RangeError("radix");if((eo=eA.indexOf("-"))>0)throw Error("interior hyphen");if(0===eo)return el(eA.substring(1),er,ei).neg();for(var eo,en=eg(eu(ei,8)),es=eB,ea=0;ea<eA.length;ea+=8){var ec=Math.min(8,eA.length-ea),ed=parseInt(eA.substring(ea,ea+ec),ei);if(ec<8){var eE=eg(eu(ei,ec));es=es.mul(eE).add(eg(ed))}else es=(es=es.mul(en)).add(eg(ed))}return es.unsigned=er,es}function ed(eA,er){return"number"==typeof eA?eg(eA,er):"string"==typeof eA?el(eA,er):ec(eA.low,eA.high,"boolean"==typeof er?er:eA.unsigned)}ei.fromString=el,ei.fromValue=ed;var eE=4294967296,eI=18446744073709552e3,eC=18446744073709552e3/2,eh=ea(16777216),eB=ea(0);ei.ZERO=eB;var ep=ea(0,!0);ei.UZERO=ep;var ef=ea(1);ei.ONE=ef;var em=ea(1,!0);ei.UONE=em;var eQ=ea(-1);ei.NEG_ONE=eQ;var ev=ec(-1,2147483647,!1);ei.MAX_VALUE=ev;var e_=ec(-1,-1,!0);ei.MAX_UNSIGNED_VALUE=e_;var ey=ec(0,-2147483648,!1);ei.MIN_VALUE=ey;var eS=ei.prototype;eS.toInt=function(){return this.unsigned?this.low>>>0:this.low},eS.toNumber=function(){return this.unsigned?(this.high>>>0)*eE+(this.low>>>0):this.high*eE+(this.low>>>0)},eS.toString=function(eA){if((eA=eA||10)<2||36<eA)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(ey)){var er=eg(eA),ei=this.div(er),eo=ei.mul(er).sub(this);return ei.toString(eA)+eo.toInt().toString(eA)}return"-"+this.neg().toString(eA)}for(var en=eg(eu(eA,6),this.unsigned),es=this,ea="";;){var ec=es.div(en),el=(es.sub(ec.mul(en)).toInt()>>>0).toString(eA);if((es=ec).isZero())return el+ea;for(;el.length<6;)el="0"+el;ea=""+el+ea}},eS.getHighBits=function(){return this.high},eS.getHighBitsUnsigned=function(){return this.high>>>0},eS.getLowBits=function(){return this.low},eS.getLowBitsUnsigned=function(){return this.low>>>0},eS.getNumBitsAbs=function(){if(this.isNegative())return this.eq(ey)?64:this.neg().getNumBitsAbs();for(var eA=0!=this.high?this.high:this.low,er=31;er>0&&0==(eA&1<<er);er--);return 0!=this.high?er+33:er+1},eS.isZero=function(){return 0===this.high&&0===this.low},eS.eqz=eS.isZero,eS.isNegative=function(){return!this.unsigned&&this.high<0},eS.isPositive=function(){return this.unsigned||this.high>=0},eS.isOdd=function(){return 1==(1&this.low)},eS.isEven=function(){return 0==(1&this.low)},eS.equals=function(eA){return eo(eA)||(eA=ed(eA)),(this.unsigned===eA.unsigned||this.high>>>31!=1||eA.high>>>31!=1)&&this.high===eA.high&&this.low===eA.low},eS.eq=eS.equals,eS.notEquals=function(eA){return!this.eq(eA)},eS.neq=eS.notEquals,eS.ne=eS.notEquals,eS.lessThan=function(eA){return 0>this.comp(eA)},eS.lt=eS.lessThan,eS.lessThanOrEqual=function(eA){return 0>=this.comp(eA)},eS.lte=eS.lessThanOrEqual,eS.le=eS.lessThanOrEqual,eS.greaterThan=function(eA){return this.comp(eA)>0},eS.gt=eS.greaterThan,eS.greaterThanOrEqual=function(eA){return this.comp(eA)>=0},eS.gte=eS.greaterThanOrEqual,eS.ge=eS.greaterThanOrEqual,eS.compare=function(eA){if(eo(eA)||(eA=ed(eA)),this.eq(eA))return 0;var er=this.isNegative(),ei=eA.isNegative();return er&&!ei?-1:!er&&ei?1:this.unsigned?eA.high>>>0>this.high>>>0||eA.high===this.high&&eA.low>>>0>this.low>>>0?-1:1:this.sub(eA).isNegative()?-1:1},eS.comp=eS.compare,eS.negate=function(){return!this.unsigned&&this.eq(ey)?ey:this.not().add(ef)},eS.neg=eS.negate,eS.add=function(eA){var er,ei,en,es;return eo(eA)||(eA=ed(eA)),es=0+(((en=0+((er=0+((ei=0+((65535&this.low)+(65535&eA.low)))>>>16)+((this.low>>>16)+(eA.low>>>16)))>>>16)+((65535&this.high)+(65535&eA.high)))>>>16)+((this.high>>>16)+(eA.high>>>16))),ec((er&=65535)<<16|(ei&=65535),(es&=65535)<<16|(en&=65535),this.unsigned)},eS.subtract=function(eA){return eo(eA)||(eA=ed(eA)),this.add(eA.neg())},eS.sub=eS.subtract,eS.multiply=function(eA){if(this.isZero())return eB;if(eo(eA)||(eA=ed(eA)),er)return ec(er.mul(this.low,this.high,eA.low,eA.high),er.get_high(),this.unsigned);if(eA.isZero())return eB;if(this.eq(ey))return eA.isOdd()?ey:eB;if(eA.eq(ey))return this.isOdd()?ey:eB;if(this.isNegative())return eA.isNegative()?this.neg().mul(eA.neg()):this.neg().mul(eA).neg();if(eA.isNegative())return this.mul(eA.neg()).neg();if(this.lt(eh)&&eA.lt(eh))return eg(this.toNumber()*eA.toNumber(),this.unsigned);var ei,en,es,ea=65535&this.high,eu=this.low>>>16,el=65535&this.low,eE=65535&eA.high,eI=eA.low>>>16,eC=65535&eA.low,ep=0;return es=0+((ei=0+((en=0+el*eC)>>>16)+eu*eC)>>>16),ei&=65535,es+=(ei+=el*eI)>>>16,ep+=(es+=ea*eC)>>>16,es&=65535,ep+=(es+=eu*eI)>>>16,es&=65535,ep+=((es+=el*eE)>>>16)+((this.high>>>16)*eC+ea*eI+eu*eE+el*(eA.high>>>16)),ec((ei&=65535)<<16|(en&=65535),(ep&=65535)<<16|(es&=65535),this.unsigned)},eS.mul=eS.multiply,eS.divide=function(eA){if(eo(eA)||(eA=ed(eA)),eA.isZero())throw Error("division by zero");if(er)return this.unsigned||-2147483648!==this.high||-1!==eA.low||-1!==eA.high?ec((this.unsigned?er.div_u:er.div_s)(this.low,this.high,eA.low,eA.high),er.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?ep:eB;if(this.unsigned){if(eA.unsigned||(eA=eA.toUnsigned()),eA.gt(this))return ep;if(eA.gt(this.shru(1)))return em;es=ep}else{if(this.eq(ey))return eA.eq(ef)||eA.eq(eQ)?ey:eA.eq(ey)?ef:(ei=this.shr(1).div(eA).shl(1)).eq(eB)?eA.isNegative()?ef:eQ:(en=this.sub(eA.mul(ei)),es=ei.add(en.div(eA)));if(eA.eq(ey))return this.unsigned?ep:eB;if(this.isNegative())return eA.isNegative()?this.neg().div(eA.neg()):this.neg().div(eA).neg();if(eA.isNegative())return this.div(eA.neg()).neg();es=eB}for(en=this;en.gte(eA);){ei=Math.max(1,Math.floor(en.toNumber()/eA.toNumber()));for(var ei,en,es,ea=Math.ceil(Math.log(ei)/Math.LN2),el=ea<=48?1:eu(2,ea-48),eE=eg(ei),eI=eE.mul(eA);eI.isNegative()||eI.gt(en);)eI=(eE=eg(ei-=el,this.unsigned)).mul(eA);eE.isZero()&&(eE=ef),es=es.add(eE),en=en.sub(eI)}return es},eS.div=eS.divide,eS.modulo=function(eA){return eo(eA)||(eA=ed(eA)),er?ec((this.unsigned?er.rem_u:er.rem_s)(this.low,this.high,eA.low,eA.high),er.get_high(),this.unsigned):this.sub(this.div(eA).mul(eA))},eS.mod=eS.modulo,eS.rem=eS.modulo,eS.not=function(){return ec(~this.low,~this.high,this.unsigned)},eS.and=function(eA){return eo(eA)||(eA=ed(eA)),ec(this.low&eA.low,this.high&eA.high,this.unsigned)},eS.or=function(eA){return eo(eA)||(eA=ed(eA)),ec(this.low|eA.low,this.high|eA.high,this.unsigned)},eS.xor=function(eA){return eo(eA)||(eA=ed(eA)),ec(this.low^eA.low,this.high^eA.high,this.unsigned)},eS.shiftLeft=function(eA){return eo(eA)&&(eA=eA.toInt()),0==(eA&=63)?this:eA<32?ec(this.low<<eA,this.high<<eA|this.low>>>32-eA,this.unsigned):ec(0,this.low<<eA-32,this.unsigned)},eS.shl=eS.shiftLeft,eS.shiftRight=function(eA){return eo(eA)&&(eA=eA.toInt()),0==(eA&=63)?this:eA<32?ec(this.low>>>eA|this.high<<32-eA,this.high>>eA,this.unsigned):ec(this.high>>eA-32,this.high>=0?0:-1,this.unsigned)},eS.shr=eS.shiftRight,eS.shiftRightUnsigned=function(eA){if(eo(eA)&&(eA=eA.toInt()),0==(eA&=63))return this;var er=this.high;return eA<32?ec(this.low>>>eA|er<<32-eA,er>>>eA,this.unsigned):ec(32===eA?er:er>>>eA-32,0,this.unsigned)},eS.shru=eS.shiftRightUnsigned,eS.shr_u=eS.shiftRightUnsigned,eS.toSigned=function(){return this.unsigned?ec(this.low,this.high,!1):this},eS.toUnsigned=function(){return this.unsigned?this:ec(this.low,this.high,!0)},eS.toBytes=function(eA){return eA?this.toBytesLE():this.toBytesBE()},eS.toBytesLE=function(){var eA=this.high,er=this.low;return[255&er,er>>>8&255,er>>>16&255,er>>>24,255&eA,eA>>>8&255,eA>>>16&255,eA>>>24]},eS.toBytesBE=function(){var eA=this.high,er=this.low;return[eA>>>24,eA>>>16&255,eA>>>8&255,255&eA,er>>>24,er>>>16&255,er>>>8&255,255&er]},ei.fromBytes=function(eA,er,eo){return eo?ei.fromBytesLE(eA,er):ei.fromBytesBE(eA,er)},ei.fromBytesLE=function(eA,er){return new ei(eA[0]|eA[1]<<8|eA[2]<<16|eA[3]<<24,eA[4]|eA[5]<<8|eA[6]<<16|eA[7]<<24,er)},ei.fromBytesBE=function(eA,er){return new ei(eA[4]<<24|eA[5]<<16|eA[6]<<8|eA[7],eA[0]<<24|eA[1]<<16|eA[2]<<8|eA[3],er)}},2100:function(eA,er,ei){"use strict";eA.exports=ei(9482)},9482:function(eA,er,ei){"use strict";var eo=er;function en(){eo.util._configure(),eo.Writer._configure(eo.BufferWriter),eo.Reader._configure(eo.BufferReader)}eo.build="minimal",eo.Writer=ei(1173),eo.BufferWriter=ei(3155),eo.Reader=ei(1408),eo.BufferReader=ei(593),eo.util=ei(9693),eo.rpc=ei(5994),eo.roots=ei(5054),eo.configure=en,en()},1408:function(eA,er,ei){"use strict";eA.exports=ec;var eo,en=ei(9693),es=en.LongBits,ea=en.utf8;function eg(eA,er){return RangeError("index out of range: "+eA.pos+" + "+(er||1)+" > "+eA.len)}function ec(eA){this.buf=eA,this.pos=0,this.len=eA.length}var eu,el="undefined"!=typeof Uint8Array?function(eA){if(eA instanceof Uint8Array||Array.isArray(eA))return new ec(eA);throw Error("illegal buffer")}:function(eA){if(Array.isArray(eA))return new ec(eA);throw Error("illegal buffer")},ed=function(){return en.Buffer?function(eA){return(ec.create=function(eA){return en.Buffer.isBuffer(eA)?new eo(eA):el(eA)})(eA)}:el};function eE(){var eA=new es(0,0),er=0;if(!(this.len-this.pos>4)){for(;er<3;++er){if(this.pos>=this.len)throw eg(this);if(eA.lo=(eA.lo|(127&this.buf[this.pos])<<7*er)>>>0,this.buf[this.pos++]<128)return eA}return eA.lo=(eA.lo|(127&this.buf[this.pos++])<<7*er)>>>0,eA}for(;er<4;++er)if(eA.lo=(eA.lo|(127&this.buf[this.pos])<<7*er)>>>0,this.buf[this.pos++]<128)return eA;if(eA.lo=(eA.lo|(127&this.buf[this.pos])<<28)>>>0,eA.hi=(eA.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return eA;if(er=0,this.len-this.pos>4){for(;er<5;++er)if(eA.hi=(eA.hi|(127&this.buf[this.pos])<<7*er+3)>>>0,this.buf[this.pos++]<128)return eA}else for(;er<5;++er){if(this.pos>=this.len)throw eg(this);if(eA.hi=(eA.hi|(127&this.buf[this.pos])<<7*er+3)>>>0,this.buf[this.pos++]<128)return eA}throw Error("invalid varint encoding")}function eI(eA,er){return(eA[er-4]|eA[er-3]<<8|eA[er-2]<<16|eA[er-1]<<24)>>>0}function eC(){if(this.pos+8>this.len)throw eg(this,8);return new es(eI(this.buf,this.pos+=4),eI(this.buf,this.pos+=4))}ec.create=ed(),ec.prototype._slice=en.Array.prototype.subarray||en.Array.prototype.slice,ec.prototype.uint32=(eu=4294967295,function(){if(eu=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(eu=(eu|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(eu=(eu|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(eu=(eu|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(eu=(eu|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return eu;if((this.pos+=5)>this.len)throw this.pos=this.len,eg(this,10);return eu}),ec.prototype.int32=function(){return 0|this.uint32()},ec.prototype.sint32=function(){var eA=this.uint32();return eA>>>1^-(1&eA)|0},ec.prototype.bool=function(){return 0!==this.uint32()},ec.prototype.fixed32=function(){if(this.pos+4>this.len)throw eg(this,4);return eI(this.buf,this.pos+=4)},ec.prototype.sfixed32=function(){if(this.pos+4>this.len)throw eg(this,4);return 0|eI(this.buf,this.pos+=4)},ec.prototype.float=function(){if(this.pos+4>this.len)throw eg(this,4);var eA=en.float.readFloatLE(this.buf,this.pos);return this.pos+=4,eA},ec.prototype.double=function(){if(this.pos+8>this.len)throw eg(this,4);var eA=en.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,eA},ec.prototype.bytes=function(){var eA=this.uint32(),er=this.pos,ei=this.pos+eA;if(ei>this.len)throw eg(this,eA);return this.pos+=eA,Array.isArray(this.buf)?this.buf.slice(er,ei):er===ei?new this.buf.constructor(0):this._slice.call(this.buf,er,ei)},ec.prototype.string=function(){var eA=this.bytes();return ea.read(eA,0,eA.length)},ec.prototype.skip=function(eA){if("number"==typeof eA){if(this.pos+eA>this.len)throw eg(this,eA);this.pos+=eA}else do if(this.pos>=this.len)throw eg(this);while(128&this.buf[this.pos++]);return this},ec.prototype.skipType=function(eA){switch(eA){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(eA=7&this.uint32());)this.skipType(eA);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+eA+" at offset "+this.pos)}return this},ec._configure=function(eA){eo=eA,ec.create=ed(),eo._configure();var er=en.Long?"toLong":"toNumber";en.merge(ec.prototype,{int64:function(){return eE.call(this)[er](!1)},uint64:function(){return eE.call(this)[er](!0)},sint64:function(){return eE.call(this).zzDecode()[er](!1)},fixed64:function(){return eC.call(this)[er](!0)},sfixed64:function(){return eC.call(this)[er](!1)}})}},593:function(eA,er,ei){"use strict";eA.exports=es;var eo=ei(1408);(es.prototype=Object.create(eo.prototype)).constructor=es;var en=ei(9693);function es(eA){eo.call(this,eA)}es._configure=function(){en.Buffer&&(es.prototype._slice=en.Buffer.prototype.slice)},es.prototype.string=function(){var eA=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+eA,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+eA,this.len))},es._configure()},5054:function(eA){"use strict";eA.exports={}},5994:function(eA,er,ei){"use strict";er.Service=ei(7948)},7948:function(eA,er,ei){"use strict";eA.exports=en;var eo=ei(9693);function en(eA,er,ei){if("function"!=typeof eA)throw TypeError("rpcImpl must be a function");eo.EventEmitter.call(this),this.rpcImpl=eA,this.requestDelimited=!!er,this.responseDelimited=!!ei}(en.prototype=Object.create(eo.EventEmitter.prototype)).constructor=en,en.prototype.rpcCall=function eA(er,ei,en,es,ea){if(!es)throw TypeError("request must be specified");var eg=this;if(!ea)return eo.asPromise(eA,eg,er,ei,en,es);if(eg.rpcImpl)try{return eg.rpcImpl(er,ei[eg.requestDelimited?"encodeDelimited":"encode"](es).finish(),function(eA,ei){if(eA)return eg.emit("error",eA,er),ea(eA);if(null!==ei){if(!(ei instanceof en))try{ei=en[eg.responseDelimited?"decodeDelimited":"decode"](ei)}catch(eA){return eg.emit("error",eA,er),ea(eA)}return eg.emit("data",ei,er),ea(null,ei)}eg.end(!0)})}catch(eA){return eg.emit("error",eA,er),void setTimeout(function(){ea(eA)},0)}else setTimeout(function(){ea(Error("already ended"))},0)},en.prototype.end=function(eA){return this.rpcImpl&&(eA||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:function(eA,er,ei){"use strict";eA.exports=en;var eo=ei(9693);function en(eA,er){this.lo=eA>>>0,this.hi=er>>>0}var es=en.zero=new en(0,0);es.toNumber=function(){return 0},es.zzEncode=es.zzDecode=function(){return this},es.length=function(){return 1};var ea=en.zeroHash="\x00\x00\x00\x00\x00\x00\x00\x00";en.fromNumber=function(eA){if(0===eA)return es;var er=eA<0;er&&(eA=-eA);var ei=eA>>>0,eo=(eA-ei)/4294967296>>>0;return er&&(eo=~eo>>>0,ei=~ei>>>0,++ei>4294967295&&(ei=0,++eo>4294967295&&(eo=0))),new en(ei,eo)},en.from=function(eA){if("number"==typeof eA)return en.fromNumber(eA);if(eo.isString(eA)){if(!eo.Long)return en.fromNumber(parseInt(eA,10));eA=eo.Long.fromString(eA)}return eA.low||eA.high?new en(eA.low>>>0,eA.high>>>0):es},en.prototype.toNumber=function(eA){if(!eA&&this.hi>>>31){var er=1+~this.lo>>>0,ei=~this.hi>>>0;return er||(ei=ei+1>>>0),-(er+4294967296*ei)}return this.lo+4294967296*this.hi},en.prototype.toLong=function(eA){return eo.Long?new eo.Long(0|this.lo,0|this.hi,!!eA):{low:0|this.lo,high:0|this.hi,unsigned:!!eA}};var eg=String.prototype.charCodeAt;en.fromHash=function(eA){return eA===ea?es:new en((eg.call(eA,0)|eg.call(eA,1)<<8|eg.call(eA,2)<<16|eg.call(eA,3)<<24)>>>0,(eg.call(eA,4)|eg.call(eA,5)<<8|eg.call(eA,6)<<16|eg.call(eA,7)<<24)>>>0)},en.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},en.prototype.zzEncode=function(){var eA=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^eA)>>>0,this.lo=(this.lo<<1^eA)>>>0,this},en.prototype.zzDecode=function(){var eA=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^eA)>>>0,this.hi=(this.hi>>>1^eA)>>>0,this},en.prototype.length=function(){var eA=this.lo,er=(this.lo>>>28|this.hi<<4)>>>0,ei=this.hi>>>24;return 0===ei?0===er?eA<16384?eA<128?1:2:eA<2097152?3:4:er<16384?er<128?5:6:er<2097152?7:8:ei<128?9:10}},9693:function(eA,er,ei){"use strict";var eo=er;function en(eA,er,ei){for(var eo=Object.keys(er),en=0;en<eo.length;++en)void 0!==eA[eo[en]]&&ei||(eA[eo[en]]=er[eo[en]]);return eA}function es(eA){function er(eA,ei){if(!(this instanceof er))return new er(eA,ei);Object.defineProperty(this,"message",{get:function(){return eA}}),Error.captureStackTrace?Error.captureStackTrace(this,er):Object.defineProperty(this,"stack",{value:Error().stack||""}),ei&&en(this,ei)}return(er.prototype=Object.create(Error.prototype)).constructor=er,Object.defineProperty(er.prototype,"name",{get:function(){return eA}}),er.prototype.toString=function(){return this.name+": "+this.message},er}eo.asPromise=ei(4537),eo.base64=ei(7419),eo.EventEmitter=ei(9211),eo.float=ei(945),eo.inquire=ei(7199),eo.utf8=ei(4997),eo.pool=ei(6662),eo.LongBits=ei(1945),eo.isNode=!!(void 0!==ei.g&&ei.g&&ei.g.process&&ei.g.process.versions&&ei.g.process.versions.node),eo.global=eo.isNode&&ei.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,eo.emptyArray=Object.freeze?Object.freeze([]):[],eo.emptyObject=Object.freeze?Object.freeze({}):{},eo.isInteger=Number.isInteger||function(eA){return"number"==typeof eA&&isFinite(eA)&&Math.floor(eA)===eA},eo.isString=function(eA){return"string"==typeof eA||eA instanceof String},eo.isObject=function(eA){return eA&&"object"==typeof eA},eo.isset=eo.isSet=function(eA,er){var ei=eA[er];return!(null==ei||!eA.hasOwnProperty(er))&&("object"!=typeof ei||(Array.isArray(ei)?ei.length:Object.keys(ei).length)>0)},eo.Buffer=function(){try{var eA=eo.inquire("buffer").Buffer;return eA.prototype.utf8Write?eA:null}catch(eA){return null}}(),eo._Buffer_from=null,eo._Buffer_allocUnsafe=null,eo.newBuffer=function(eA){return"number"==typeof eA?eo.Buffer?eo._Buffer_allocUnsafe(eA):new eo.Array(eA):eo.Buffer?eo._Buffer_from(eA):"undefined"==typeof Uint8Array?eA:new Uint8Array(eA)},eo.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,eo.Long=eo.global.dcodeIO&&eo.global.dcodeIO.Long||eo.global.Long||eo.inquire("long"),eo.key2Re=/^true|false|0|1$/,eo.key32Re=/^-?(?:0|[1-9][0-9]*)$/,eo.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,eo.longToHash=function(eA){return eA?eo.LongBits.from(eA).toHash():eo.LongBits.zeroHash},eo.longFromHash=function(eA,er){var ei=eo.LongBits.fromHash(eA);return eo.Long?eo.Long.fromBits(ei.lo,ei.hi,er):ei.toNumber(!!er)},eo.merge=en,eo.lcFirst=function(eA){return eA.charAt(0).toLowerCase()+eA.substring(1)},eo.newError=es,eo.ProtocolError=es("ProtocolError"),eo.oneOfGetter=function(eA){for(var er={},ei=0;ei<eA.length;++ei)er[eA[ei]]=1;return function(){for(var eA=Object.keys(this),ei=eA.length-1;ei>-1;--ei)if(1===er[eA[ei]]&&null!=this[eA[ei]])return eA[ei]}},eo.oneOfSetter=function(eA){return function(er){for(var ei=0;ei<eA.length;++ei)eA[ei]!==er&&delete this[eA[ei]]}},eo.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},eo._configure=function(){var eA=eo.Buffer;eA?(eo._Buffer_from=eA.from!==Uint8Array.from&&eA.from||function(er,ei){return new eA(er,ei)},eo._Buffer_allocUnsafe=eA.allocUnsafe||function(er){return new eA(er)}):eo._Buffer_from=eo._Buffer_allocUnsafe=null}},1173:function(eA,er,ei){"use strict";eA.exports=ed;var eo,en=ei(9693),es=en.LongBits,ea=en.base64,eg=en.utf8;function ec(eA,er,ei){this.fn=eA,this.len=er,this.next=void 0,this.val=ei}function eu(){}function el(eA){this.head=eA.head,this.tail=eA.tail,this.len=eA.len,this.next=eA.states}function ed(){this.len=0,this.head=new ec(eu,0,0),this.tail=this.head,this.states=null}var eE=function(){return en.Buffer?function(){return(ed.create=function(){return new eo})()}:function(){return new ed}};function eI(eA,er,ei){er[ei]=255&eA}function eC(eA,er){this.len=eA,this.next=void 0,this.val=er}function eh(eA,er,ei){for(;eA.hi;)er[ei++]=127&eA.lo|128,eA.lo=(eA.lo>>>7|eA.hi<<25)>>>0,eA.hi>>>=7;for(;eA.lo>127;)er[ei++]=127&eA.lo|128,eA.lo=eA.lo>>>7;er[ei++]=eA.lo}function eB(eA,er,ei){er[ei]=255&eA,er[ei+1]=eA>>>8&255,er[ei+2]=eA>>>16&255,er[ei+3]=eA>>>24}ed.create=eE(),ed.alloc=function(eA){return new en.Array(eA)},en.Array!==Array&&(ed.alloc=en.pool(ed.alloc,en.Array.prototype.subarray)),ed.prototype._push=function(eA,er,ei){return this.tail=this.tail.next=new ec(eA,er,ei),this.len+=er,this},(eC.prototype=Object.create(ec.prototype)).fn=function(eA,er,ei){for(;eA>127;)er[ei++]=127&eA|128,eA>>>=7;er[ei]=eA},ed.prototype.uint32=function(eA){return this.len+=(this.tail=this.tail.next=new eC((eA>>>=0)<128?1:eA<16384?2:eA<2097152?3:eA<268435456?4:5,eA)).len,this},ed.prototype.int32=function(eA){return eA<0?this._push(eh,10,es.fromNumber(eA)):this.uint32(eA)},ed.prototype.sint32=function(eA){return this.uint32((eA<<1^eA>>31)>>>0)},ed.prototype.int64=ed.prototype.uint64=function(eA){var er=es.from(eA);return this._push(eh,er.length(),er)},ed.prototype.sint64=function(eA){var er=es.from(eA).zzEncode();return this._push(eh,er.length(),er)},ed.prototype.bool=function(eA){return this._push(eI,1,eA?1:0)},ed.prototype.sfixed32=ed.prototype.fixed32=function(eA){return this._push(eB,4,eA>>>0)},ed.prototype.sfixed64=ed.prototype.fixed64=function(eA){var er=es.from(eA);return this._push(eB,4,er.lo)._push(eB,4,er.hi)},ed.prototype.float=function(eA){return this._push(en.float.writeFloatLE,4,eA)},ed.prototype.double=function(eA){return this._push(en.float.writeDoubleLE,8,eA)};var ep=en.Array.prototype.set?function(eA,er,ei){er.set(eA,ei)}:function(eA,er,ei){for(var eo=0;eo<eA.length;++eo)er[ei+eo]=eA[eo]};ed.prototype.bytes=function(eA){var er=eA.length>>>0;if(!er)return this._push(eI,1,0);if(en.isString(eA)){var ei=ed.alloc(er=ea.length(eA));ea.decode(eA,ei,0),eA=ei}return this.uint32(er)._push(ep,er,eA)},ed.prototype.string=function(eA){var er=eg.length(eA);return er?this.uint32(er)._push(eg.write,er,eA):this._push(eI,1,0)},ed.prototype.fork=function(){return this.states=new el(this),this.head=this.tail=new ec(eu,0,0),this.len=0,this},ed.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new ec(eu,0,0),this.len=0),this},ed.prototype.ldelim=function(){var eA=this.head,er=this.tail,ei=this.len;return this.reset().uint32(ei),ei&&(this.tail.next=eA.next,this.tail=er,this.len+=ei),this},ed.prototype.finish=function(){for(var eA=this.head.next,er=this.constructor.alloc(this.len),ei=0;eA;)eA.fn(eA.val,er,ei),ei+=eA.len,eA=eA.next;return er},ed._configure=function(eA){eo=eA,ed.create=eE(),eo._configure()}},3155:function(eA,er,ei){"use strict";eA.exports=es;var eo=ei(1173);(es.prototype=Object.create(eo.prototype)).constructor=es;var en=ei(9693);function es(){eo.call(this)}function ea(eA,er,ei){eA.length<40?en.utf8.write(eA,er,ei):er.utf8Write?er.utf8Write(eA,ei):er.write(eA,ei)}es._configure=function(){es.alloc=en._Buffer_allocUnsafe,es.writeBytesBuffer=en.Buffer&&en.Buffer.prototype instanceof Uint8Array&&"set"===en.Buffer.prototype.set.name?function(eA,er,ei){er.set(eA,ei)}:function(eA,er,ei){if(eA.copy)eA.copy(er,ei,0,eA.length);else for(var eo=0;eo<eA.length;)er[ei++]=eA[eo++]}},es.prototype.bytes=function(eA){en.isString(eA)&&(eA=en._Buffer_from(eA,"base64"));var er=eA.length>>>0;return this.uint32(er),er&&this._push(es.writeBytesBuffer,er,eA),this},es.prototype.string=function(eA){var er=en.Buffer.byteLength(eA);return this.uint32(er),er&&this._push(ea,er,eA),this},es._configure()},5527:function(eA,er,ei){"use strict";ei.r(er),er.default='\nvar Module = (() => {\n  var _scriptDir = typeof document !== \'undefined\' && document.currentScript ? document.currentScript.src : undefined;\n  \n  return (\nfunction(Module) {\n  Module = Module || {};\n\n\nvar g;g||(g=typeof Module !== \'undefined\' ? Module : {});var aa,t;g.ready=new Promise(function(a,c){aa=a;t=c});var ba=Object.assign({},g),ca="./this.program",u="";"undefined"!=typeof document&&document.currentScript&&(u=document.currentScript.src);_scriptDir&&(u=_scriptDir);0!==u.indexOf("blob:")?u=u.substr(0,u.replace(/[?#].*/,"").lastIndexOf("/")+1):u="";var da=g.print||console.log.bind(console),w=g.printErr||console.warn.bind(console);Object.assign(g,ba);ba=null;\ng.thisProgram&&(ca=g.thisProgram);var x;g.wasmBinary&&(x=g.wasmBinary);var noExitRuntime=g.noExitRuntime||!0;"object"!=typeof WebAssembly&&y("no native wasm support detected");var z,ea=!1,fa="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;\nfunction ha(a,c,b){var d=c+b;for(b=c;a[b]&&!(b>=d);)++b;if(16<b-c&&a.buffer&&fa)return fa.decode(a.subarray(c,b));for(d="";c<b;){var f=a[c++];if(f&128){var h=a[c++]&63;if(192==(f&224))d+=String.fromCharCode((f&31)<<6|h);else{var k=a[c++]&63;f=224==(f&240)?(f&15)<<12|h<<6|k:(f&7)<<18|h<<12|k<<6|a[c++]&63;65536>f?d+=String.fromCharCode(f):(f-=65536,d+=String.fromCharCode(55296|f>>10,56320|f&1023))}}else d+=String.fromCharCode(f)}return d}function A(a,c){return a?ha(C,a,c):""}\nfunction D(a,c,b,d){if(!(0<d))return 0;var f=b;d=b+d-1;for(var h=0;h<a.length;++h){var k=a.charCodeAt(h);if(55296<=k&&57343>=k){var l=a.charCodeAt(++h);k=65536+((k&1023)<<10)|l&1023}if(127>=k){if(b>=d)break;c[b++]=k}else{if(2047>=k){if(b+1>=d)break;c[b++]=192|k>>6}else{if(65535>=k){if(b+2>=d)break;c[b++]=224|k>>12}else{if(b+3>=d)break;c[b++]=240|k>>18;c[b++]=128|k>>12&63}c[b++]=128|k>>6&63}c[b++]=128|k&63}}c[b]=0;return b-f}\nfunction E(a){for(var c=0,b=0;b<a.length;++b){var d=a.charCodeAt(b);127>=d?c++:2047>=d?c+=2:55296<=d&&57343>=d?(c+=4,++b):c+=3}return c}var F,H,C,I,J,K,L,ia,ja;function ka(){var a=z.buffer;F=a;g.HEAP8=H=new Int8Array(a);g.HEAP16=I=new Int16Array(a);g.HEAP32=K=new Int32Array(a);g.HEAPU8=C=new Uint8Array(a);g.HEAPU16=J=new Uint16Array(a);g.HEAPU32=L=new Uint32Array(a);g.HEAPF32=ia=new Float32Array(a);g.HEAPF64=ja=new Float64Array(a)}var la=[],ma=[],na=[];\nfunction oa(){var a=g.preRun.shift();la.unshift(a)}var M=0,N=null,O=null;function y(a){if(g.onAbort)g.onAbort(a);a="Aborted("+a+")";w(a);ea=!0;a=new WebAssembly.RuntimeError(a+". Build with -sASSERTIONS for more info.");t(a);throw a;}function P(a){return a.startsWith("data:application/octet-stream;base64,")}var Q;Q="data:application/octet-stream;base64,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AUEQaiQADAELIAAgAyACIANrIAAQEyIAQQAgACACIAEQ/AILCwgAIAAgARBzCxAAIAAQ7gMgARDuA3NBAXMLEAAgABDwAyABEPADc0EBcwsoAQF/IAAgASgCACABIAEtAAsiAMBBAEgiAhsgASgCBCAAIAIbENoCCzMBAX8gAEEBIAAbIQACQANAIAAQLCIBDQFBgM8BKAIAIgEEQCABEQ0ADAELCxAEAAsgAQvyAgEEf0GgwAEtAAAEQEGcwAEoAgAPCyMAQSBrIgIkAAJAAkADQCACQQhqIABBAnRqAn9BASAAdEH/////B3EiA0EBckUEQCAAQQJ0KAIADAELIABBhhJB9BkgAxsQ4gMLIgM2AgAgA0F/Rg0BIABBAWoiAEEGRw0AC0EAEOEDRQRAQfjNACEBIAJBCGpB+M0AQRgQvgFFDQJBkM4AIQEgAkEIakGQzgBBGBC+AUUNAkEAIQBB9L4BLQAARQRAA0AgAEECdEHEvgFqIABB9BkQ4gM2AgAgAEEBaiIAQQZHDQALQfS+AUEBOgAAQdy+AUHEvgEoAgA2AgALQcS+ASEBIAJBCGpBxL4BQRgQvgFFDQJB3L4BIQEgAkEIakHcvgFBGBC+AUUNAkEYECwiAUUNAQsgASACKQMINwIAIAEgAikDGDcCECABIAIpAxA3AggMAQtBACEBCyACQSBqJABBoMABQQE6AABBnMABIAE2AgAgAQvFCgIFfw9+IwBB4ABrIgUkACAEQv///////z+DIQwgAiAEhUKAgICAgICAgIB/gyEKIAJC////////P4MiDUIgiCEOIARCMIinQf//AXEhBwJAAkAgAkIwiKdB//8BcSIJQf//AWtBgoB+TwRAIAdB//8Ba0GBgH5LDQELIAFQIAJC////////////AIMiC0KAgICAgIDA//8AVCALQoCAgICAgMD//wBRG0UEQCACQoCAgICAgCCEIQoMAgsgA1AgBEL///////////8AgyICQoCAgICAgMD//wBUIAJCgICAgICAwP//AFEbRQRAIARCgICAgICAIIQhCiADIQEMAgsgASALQoCAgICAgMD//wCFhFAEQCACIAOEUARAQoCAgICAgOD//wAhCkIAIQEMAwsgCkKAgICAgIDA//8AhCEKQgAhAQwCCyADIAJCgICAgICAwP//AIWEUARAIAEgC4QhAkIAIQEgAlAEQEKAgICAgIDg//8AIQoMAwsgCkKAgICAgIDA//8AhCEKDAILIAEgC4RQBEBCACEBDAILIAIgA4RQBEBCACEBDAILIAtC////////P1gEQCAFQdAAaiABIA0gASANIA1QIgYbeSAGQQZ0rXynIgZBD2sQP0EQIAZrIQYgBSkDWCINQiCIIQ4gBSkDUCEBCyACQv///////z9WDQAgBUFAayADIAwgAyAMIAxQIggbeSAIQQZ0rXynIghBD2sQPyAGIAhrQRBqIQYgBSkDSCEMIAUpA0AhAwsgA0IPhiILQoCA/v8PgyICIAFCIIgiBH4iECALQiCIIhMgAUL/////D4MiAX58Ig9CIIYiESABIAJ+fCILIBFUrSACIA1C/////w+DIg1+IhUgBCATfnwiESAMQg+GIhIgA0IxiIRC/////w+DIgMgAX58IhQgDyAQVK1CIIYgD0IgiIR8Ig8gAiAOQoCABIQiDH4iFiANIBN+fCIOIBJCIIhCgICAgAiEIgIgAX58IhAgAyAEfnwiEkIghnwiF3whASAHIAlqIAZqQf//AGshBgJAIAIgBH4iGCAMIBN+fCIEIBhUrSAEIAQgAyANfnwiBFatfCACIAx+fCAEIAQgESAVVK0gESAUVq18fCIEVq18IAMgDH4iAyACIA1+fCICIANUrUIghiACQiCIhHwgBCACQiCGfCICIARUrXwgAiACIBAgElatIA4gFlStIA4gEFatfHxCIIYgEkIgiIR8IgJWrXwgAiACIA8gFFStIA8gF1atfHwiAlatfCIEQoCAgICAgMAAg1BFBEAgBkEBaiEGDAELIAtCP4ghAyAEQgGGIAJCP4iEIQQgAkIBhiABQj+IhCECIAtCAYYhCyADIAFCAYaEIQELIAZB//8BTgRAIApCgICAgICAwP//AIQhCkIAIQEMAQsCfiAGQQBMBEBBASAGayIHQf8ATQRAIAVBMGogCyABIAZB/wBqIgYQPyAFQSBqIAIgBCAGED8gBUEQaiALIAEgBxCmASAFIAIgBCAHEKYBIAUpAzAgBSkDOIRCAFKtIAUpAyAgBSkDEISEIQsgBSkDKCAFKQMYhCEBIAUpAwAhAiAFKQMIDAILQgAhAQwCCyAEQv///////z+DIAatQjCGhAsgCoQhCiALUCABQgBZIAFCgICAgICAgICA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fiACIAN+fCADQiCIIgIgAUIgiCIEfnwgA0L/////D4MiAyABQv////8PgyIBfiIFQiCIIAMgBH58IgNCIIh8IAEgAn4gA0L/////D4N8IgFCIIh8NwMIIAAgBUL/////D4MgAUIghoQ3AwALEQAgACABIAAoAgAoAhwRAgALvwEBA38gAC0AAEEgcUUEQAJAIAEhAwJAIAIgACIBKAIQIgAEfyAABSABEJsEDQEgASgCEAsgASgCFCIFa0sEQCABIAMgAiABKAIkEQQAGgwCCwJAIAEoAlBBAEgNACACIQADQCAAIgRFDQEgAyAEQQFrIgBqLQAAQQpHDQALIAEgAyAEIAEoAiQRBAAgBEkNASADIARqIQMgAiAEayECIAEoAhQhBQsgBSADIAIQTBogASABKAIUIAJqNgIUCwsLC6EBAQJ/AkAgABATRSACIAFrQQVIcg0AIAEgAhDrASACQQRrIQQgABAWIgIgABATaiEFAkADQAJAIAIsAAAhACABIARPDQAgAEEATCAAQf8ATnJFBEAgASgCACACLAAARw0DCyABQQRqIQEgAiAFIAJrQQFKaiECDAELCyAAQQBMIABB/wBOcg0BIAIsAAAgBCgCAEEBa0sNAQsgA0EENgIACwsIACAAIAEQMwtQAQF+AkAgA0HAAHEEQCABIANBQGqthiECQgAhAQwBCyADRQ0AIAIgA60iBIYgAUHAACADa62IhCECIAEgBIYhAQsgACABNwMAIAAgAjcDCAttAQF/IwBBgAJrIgUkACAEQYDABHEgAiADTHJFBEAgBSABQf8BcSACIANrIgNBgAIgA0GAAkkiARsQQxogAUUEQANAIAAgBUGAAhA8IANBgAJrIgNB/wFLDQALCyAAIAUgAxA8CyAFQYACaiQACzcBAX8gACgCBCIBBEAgASEAA0AgACIBKAIAIgANAAsgAQ8LA0AgACAAKAIIIgAoAgBHDQALIAALDAAgACABLQAAOgAACykBAX8gAgRAIAAhAwNAIAMgAToAACADQQFqIQMgAkEBayICDQALCyAACxkBAX8gACgCACIBBEAgACABNgIEIAEQGQsLIwAgACABEBQiAEG0MDYCECAAIABBEGo2AiAgACACNgIUIAALiAEBAn8jAEEQayIDJAAgAkHv////B00EQAJAIAIQ+AEEQCAAIAIQUSAAIQQMAQsgA0EIaiAAIAIQtgFBAWoQtQEgAygCDBogACADKAIIIgQQZCAAIAMoAgwQYyAAIAIQSQsgBCABIAIQUiADQQA6AAcgAiAEaiADQQdqEEIgA0EQaiQADwsQVQALEQAgACABIAEoAgAoAhQRAwALDwAgACAAKAIAKAIQEQAACwkAIAAgATYCBAsLACAAQcDAARCAAQsKACAAQTBrQQpJCzMBAX8gAgRAIAAhAwNAIAMgAS0AADoAACADQQFqIQMgAUEBaiEBIAJBAWsiAg0ACwsgAAsLACAAQcjAARCAAQulAgECfyADIAE2AgggA0IANwIAIAIgAzYCACAAKAIAKAIAIgEEQCAAIAE2AgAgAigCACEDCyADIAMgACgCBCIFRjoADANAAkAgAyAFRg0AIAMoAggiAi0ADA0AAkAgAiACKAIIIgEoAgAiBEYEQAJAIAEoAgQiBEUNACAELQAMDQAMAgsgAyACKAIARwRAIAIQtQQgAigCCCICKAIIIQELIAJBAToADCABQQA6AAwgARC0BAwCCwJAIARFDQAgBC0ADA0ADAELIAMgAigCAEYEQCACELQEIAIoAggiAigCCCEBCyACQQE6AAwgAUEAOgAMIAEQtQQMAQsgAkEBOgAMIAEgASAFRjoADCAEQQE6AAwgASEDDAELCyAAIAAoAghBAWo2AggLxgkCBH8FfiMAQfAAayIGJAAgBEL///////////8AgyEJAkACQCABUCIFIAJC////////////AIMiCkKAgICAgIDA//8AfUKAgICAgIDAgIB/VCAKUBtFBEAgA0IAUiAJQoCAgICAgMD//wB9IgtCgICAgICAwICAf1YgC0KAgICAgIDAgIB/URsNAQsgBSAKQoCAgICAgMD//wBUIApCgICAgICAwP//AFEbRQRAIAJCgICAgICAIIQhBCABIQMMAgsgA1AgCUKAgICAgIDA//8AVCAJQoCAgICAgMD//wBRG0UEQCAEQoCAgICAgCCEIQQMAgsgASAKQoCAgICAgMD//wCFhFAEQEKAgICAgIDg//8AIAIgASADhSACIASFQoCAgICAgICAgH+FhFAiBRshBEIAIAEgBRshAwwCCyADIAlCgICAgICAwP//AIWEUA0BIAEgCoRQBEAgAyAJhEIAUg0CIAEgA4MhAyACIASDIQQMAgsgAyAJhFBFDQAgASEDIAIhBAwBCyADIAEgASADVCAJIApWIAkgClEbIggbIQogBCACIAgbIgtC////////P4MhCSACIAQgCBsiAkIwiKdB//8BcSEHIAtCMIinQf//AXEiBUUEQCAGQeAAaiAKIAkgCiAJIAlQIgUbeSAFQQZ0rXynIgVBD2sQPyAGKQNoIQkgBikDYCEKQRAgBWshBQsgASADIAgbIQMgAkL///////8/gyEEIAdFBEAgBkHQAGogAyAEIAMgBCAEUCIHG3kgB0EGdK18pyIHQQ9rED9BECAHayEHIAYpA1ghBCAGKQNQIQMLIARCA4YgA0I9iIRCgICAgICAgASEIQEgCUIDhiAKQj2IhCEEIAIgC4UhDQJ+IANCA4YiAiAFIAdGDQAaIAUgB2siB0H/AEsEQEIAIQFCAQwBCyAGQUBrIAIgAUGAASAHaxA/IAZBMGogAiABIAcQpgEgBikDOCEBIAYpAzAgBikDQCAGKQNIhEIAUq2ECyEJIARCgICAgICAgASEIQwgCkIDhiEKAkAgDUIAUwRAQgAhA0IAIQQgCSAKhSABIAyFhFANAiAKIAl9IQIgDCABfSAJIApWrX0iBEL/////////A1YNASAGQSBqIAIgBCACIAQgBFAiBxt5IAdBBnStfKdBDGsiBxA/IAUgB2shBSAGKQMoIQQgBikDICECDAELIAkgCnwiAiAJVK0gASAMfHwiBEKAgICAgICACINQDQAgCUIBgyAEQj+GIAJCAYiEhCECIAVBAWohBSAEQgGIIQQLIAtCgICAgICAgICAf4MhASAFQf//AU4EQCABQoCAgICAgMD//wCEIQRCACEDDAELQQAhBwJAIAVBAEoEQCAFIQcMAQsgBkEQaiACIAQgBUH/AGoQPyAGIAIgBEEBIAVrEKYBIAYpAwAgBikDECAGKQMYhEIAUq2EIQIgBikDCCEECyACp0EHcSIFQQRLrSAEQj2GIAJCA4iEIgJ8IgMgAlStIARCA4hC////////P4MgB61CMIaEIAGEfCEEAkAgBUEERgRAIAQgA0IBgyIBIAN8IgMgAVStfCEEDAELIAVFDQELCyAAIAM3AwAgACAENwMIIAZB8ABqJAALEQAgACABIAAoAgAoAiwRAgALIQAgACAALQALQYABcSABcjoACyAAIAAtAAtB/wBxOgALCwwAIAEgAiAAEI0EGgsEAEEAC2kBA38CQCAAIgFBA3EEQANAIAEtAABFDQIgAUEBaiIBQQNxDQALCwNAIAEiAkEEaiEBIAIoAgAiA0F/cyADQYGChAhrcUGAgYKEeHFFDQALA0AgAiIBQQFqIQIgAS0AAA0ACwsgASAAawsJAEHnDRDkAgALDAAgACABKAIANgIAC0MBAX8jAEEQayIFJAAgBSACNgIMIAUgBDYCCCAFIAVBDGoQayECIAAgASADIAUoAggQgQIhACACEGogBUEQaiQAIAALJgEBfyMAQRBrIgEkACABQQhqIAAQFhB2KAIAIQAgAUEQaiQAIAALfgICfwF+IwBBEGsiAyQAIAACfiABRQRAQgAMAQsgAyABIAFBH3UiAnMgAmsiAq1CACACZyICQdEAahA/IAMpAwhCgICAgICAwACFQZ6AASACa61CMIZ8IAFBgICAgHhxrUIghoQhBCADKQMACzcDACAAIAQ3AwggA0EQaiQAC7oCAQN/IwBBQGoiAiQAIAAoAgAiA0EEaygCACEEIANBCGsoAgAhAyACQgA3AyAgAkIANwMoIAJCADcDMCACQgA3ADcgAkIANwMYIAJBADYCFCACQbShATYCECACIAA2AgwgAiABNgIIIAAgA2ohAEEAIQMCQCAEIAFBABA1BEAgAkEBNgI4IAQgAkEIaiAAIABBAUEAIAQoAgAoAhQRCwAgAEEAIAIoAiBBAUYbIQMMAQsgBCACQQhqIABBAUEAIAQoAgAoAhgRCgACQAJAIAIoAiwOAgABAgsgAigCHEEAIAIoAihBAUYbQQAgAigCJEEBRhtBACACKAIwQQFGGyEDDAELIAIoAiBBAUcEQCACKAIwDQEgAigCJEEBRw0BIAIoAihBAUcNAQsgAigCGCEDCyACQUBrJAAgAwsKACAALQALQQd2C+8CAQZ/IwBBEGsiBiQAIABBADYCCCAAQgA3AgAgA0H/AXEhCANAAn8CQCACBEAgASADIAIQuwEhBSAGIAE2AggCQCAFBEAgBUEBaiEEIAYgBSABayIFNgIMIAIgBUF/c2oiBUUNAyABIAJqIQEDQCAELQAAIAhHDQQgBEEBaiEEIAVBAWsiBQ0ACwwBCyAGIAI2AgwLQQAMAgsgBkEQaiQADwsgBCEBIAULIQICQCAAKAIEIgQgACgCCEcEQCAEIAYpAgg3AgAgACAEQQhqNgIEDAELIwBBIGsiByQAIAdBCGogACAAKAIEIAAoAgBrQQN1QQFqELsEIAAoAgQgACgCAGtBA3UgAEEIahC6BCIEKAIIIAYpAgg3AgAgBCAEKAIIQQhqNgIIIAAgBBCxBCAEKAIEIQkgBCgCCCEFA0AgBSAJRwRAIAQgBUEIayIFNgIIDAELCyAEKAIAIgQEQCAEEBkLIAdBIGokAAsMAAsAC7QCAQN/IAAgAUcEfyABLQALIgPAIQIgACwAC0EATgRAIAJBAE4EQCAAIAEpAgA3AgAgACABKAIINgIIDwsgASgCACEEIAEoAgQhASMAQRBrIgIkAAJAIAFBCk0EQCAAIAEQUSAAIAQgARBSIAJBADoADyAAIAFqIAJBD2oQQgwBCyAAQQogAUEKayAAEPkBIgBBACAAIAEgBBDHAQsgAkEQaiQADwsgASgCACABIAJBAEgiAhshBCABKAIEIAMgAhshASMAQRBrIgIkAAJAIAEgABCSASIDSQRAIAAoAgAhAyAAIAEQSSADIAQgARBSIAJBADoADyABIANqIAJBD2oQQgwBCyAAIANBAWsgASADa0EBaiAAKAIEIgBBACAAIAEgBBDHAQsgAkEQaiQAQQAFIAALGgsHACAAEBwaCw8AIAAgACgCACgCDBEAAAsHACAAEBNFCxEAIAAgASABKAIAKAIcEQMACxEAIAAgASABKAIAKAIYEQMACy4AIAAgACgCCEGAgICAeHEgAUH/////B3FyNgIIIAAgACgCCEGAgICAeHI2AggLCQAgACABNgIACxMAIAAgASACIAAoAgAoAgwRBAALJwEBfyACQQBOBH8gACgCCCACQf8BcUECdGooAgAgAXFBAEcFQQALCxkBAX8gASADRgR/IAAgAiABEJwEBUEBC0ULCwAgACABIAIQ/wILEAAgACgCBCAAKAIAa0ECdQsSACAAKAIAIgAEQCAAENsDGgsLEQAgACABKAIAENsDNgIAIAALQQEBfyAAIAE3A3AgACAAKAIsIAAoAgQiAmusNwN4IAAgAVAgACgCCCIAIAJrrCABV3IEfyAABSACIAGnags2AmgLSgEBfyAAIAFJBEAgACABIAIQTA8LIAIEQCAAIAJqIQMgASACaiEBA0AgA0EBayIDIAFBAWsiAS0AADoAACACQQFrIgINAAsLIAALHAAgAiAAQSBqIAEQhQIiAUEcaiABIABBJGpGGwsEACAAC1QBAX8jAEEQayICJAAgABBbBEAgACAAKAIAIAAQkgEQ3gELIAAgASgCCDYCCCAAIAEpAgA3AgAgAUEAEFEgAkEANgIMIAEgAkEMahBWIAJBEGokAAu7AQEDfyMAQRBrIgUkACAFIAE2AghBACEBQQYhBgJAAkAgACAFQQhqECMNAEEEIQYgA0HAACAAEDAiBxBlRQ0AIAMgBxCsASEBA0ACQCAAEDcaIAFBMGshASAAIAVBCGoQIyAEQQJIcg0AIANBwAAgABAwIgYQZUUNAyAEQQFrIQQgAyAGEKwBIAFBCmxqIQEMAQsLQQIhBiAAIAVBCGoQI0UNAQsgAiACKAIAIAZyNgIACyAFQRBqJAAgAQu7AQEDfyMAQRBrIgUkACAFIAE2AghBACEBQQYhBgJAAkAgACAFQQhqECQNAEEEIQYgA0HAACAAEDEiBxBmRQ0AIAMgBxCtASEBA0ACQCAAEDgaIAFBMGshASAAIAVBCGoQJCAEQQJIcg0AIANBwAAgABAxIgYQZkUNAyAEQQFrIQQgAyAGEK0BIAFBCmxqIQEMAQsLQQIhBiAAIAVBCGoQJEUNAQsgAiACKAIAIAZyNgIACyAFQRBqJAAgAQsNACAAIAEgARBUEP8CC5YBAQN/IwBBEGsiBCQAIAQgATYCDCAEIAM2AgggBCAEQQxqEGshBiAEKAIIIQMjAEEQayIBJAAgASADNgIMIAEgAzYCCEF/IQUCQEEAQQAgAiADEIECIgNBAEgNACAAIANBAWoiAxAsIgA2AgAgAEUNACAAIAMgAiABKAIMEIECIQULIAFBEGokACAGEGogBEEQaiQAIAULYwAgAigCBEGwAXEiAkEgRgRAIAEPCwJAIAJBEEcNAAJAAkAgAC0AACICQStrDgMAAQABCyAAQQFqDwsgAkEwRyABIABrQQJIcg0AIAAtAAFBIHJB+ABHDQAgAEECaiEACyAACwsAIAAgATYCACAACw0AIAAoAgAgASgCAEcLLgACQCAAKAIEQcoAcSIABEAgAEHAAEYEQEEIDwsgAEEIRw0BQRAPC0EADwtBCgv5AQIDfgJ/IwBBEGsiBSQAAn4gAb0iA0L///////////8AgyICQoCAgICAgIAIfUL/////////7/8AWARAIAJCPIYhBCACQgSIQoCAgICAgICAPHwMAQsgAkKAgICAgICA+P8AWgRAIANCPIYhBCADQgSIQoCAgICAgMD//wCEDAELIAJQBEBCAAwBCyAFIAJCACADp2dBIGogAkIgiKdnIAJCgICAgBBUGyIGQTFqED8gBSkDACEEIAUpAwhCgICAgICAwACFQYz4ACAGa61CMIaECyECIAAgBDcDACAAIAIgA0KAgICAgICAgIB/g4Q3AwggBUEQaiQACxAAIABBIEYgAEEJa0EFSXILYwECfyAAQQRqIQQCQCAAKAIEIgNFBEAgBCEADAELA0AgAiADIgBBEGoiAxB8BEAgACEEIAAoAgAiAw0BDAILIAMgAhB8RQ0BIABBBGohBCAAKAIEIgMNAAsLIAEgADYCACAEC48BAQN/IwBBEGsiAyQAIAEoAgAhBCADIAEoAgQgAS0ACyICIALAQQBIIgIbNgIMIAMgBCABIAIbNgIIIAAoAgAgACAALQALIgTAQQBIIgIbIAMoAgggAygCDCIBIAAoAgQgBCACGyIAIAAgAUsiBBsQjQIiAkF/IAQgACABSRsgAhshACADQRBqJAAgAEEfdgu9AwEDfyMAQSBrIggkACAIIAI2AhAgCCABNgIYIAhBCGoiASADEB0gARBKIQkgARAaIARBADYCAEEAIQECQANAIAYgB0YgAXINAQJAIAhBGGogCEEQahAjDQACQCAJIAYoAgAQrAFBJUYEQCAGQQRqIgEgB0YNAkEAIQoCfyAJIAEoAgAQrAEiAkHFAEYgAkH/AXFBMEZyRQRAIAYhASACDAELIAZBCGogB0YNAyACIQogCSAGKAIIEKwBCyECIAggACAIKAIYIAgoAhAgAyAEIAUgAiAKIAAoAgAoAiQRDAA2AhggAUEIaiEGDAELIAlBASAGKAIAEGUEQANAAkAgByAGQQRqIgZGBEAgByEGDAELIAlBASAGKAIAEGUNAQsLA0AgCEEYaiAIQRBqECMNAiAJQQEgCEEYahAwEGVFDQIgCEEYahA3GgwACwALIAkgCEEYahAwEDsgCSAGKAIAEDtGBEAgBkEEaiEGIAhBGGoQNxoMAQsgBEEENgIACyAEKAIAIQEMAQsLIARBBDYCAAsgCEEYaiAIQRBqECMEQCAEIAQoAgBBAnI2AgALIAgoAhghACAIQSBqJAAgAAu/AwEDfyMAQSBrIggkACAIIAI2AhAgCCABNgIYIAhBCGoiASADEB0gARBNIQkgARAaIARBADYCAEEAIQECQANAIAYgB0YgAXINAQJAIAhBGGogCEEQahAkDQACQCAJIAYsAAAQrQFBJUYEQCAGQQFqIgEgB0YNAkEAIQoCfyAJIAEsAAAQrQEiAkHFAEYgAkH/AXFBMEZyRQRAIAYhASACDAELIAZBAmogB0YNAyACIQogCSAGLAACEK0BCyECIAggACAIKAIYIAgoAhAgAyAEIAUgAiAKIAAoAgAoAiQRDAA2AhggAUECaiEGDAELIAlBASAGLAAAEGYEQANAAkAgByAGQQFqIgZGBEAgByEGDAELIAlBASAGLAAAEGYNAQsLA0AgCEEYaiAIQRBqECQNAiAJQQEgCEEYahAxEGZFDQIgCEEYahA4GgwACwALIAkgCEEYahAxEPEBIAkgBiwAABDxAUYEQCAGQQFqIQYgCEEYahA4GgwBCyAEQQQ2AgALIAQoAgAhAQwBCwsgBEEENgIACyAIQRhqIAhBEGoQJARAIAQgBCgCAEECcjYCAAsgCCgCGCEAIAhBIGokACAACxYAIAAgASACIAMgACgCACgCMBEHABoLRAEBfyAAKAIAIQIgARApIQAgAkEIaiIBEGkgAEsEfyABIAAQnQEoAgBBAEcFQQALRQRAEDkACyACQQhqIAAQnQEoAgALCwAgACABIAIQ0QELQAEBfyACKAIAQfCrAWogABCDATsAACACIAIoAgBBAmoiAzYCACADQfCrAWogASAAEEwaIAIgAigCACAAajYCAAsSACAAQQh0IABBCHZyQf//A3ELwQECAn8BfiMAQUBqIgQkAAJAIAMEQCAEQRBqIgUgAkGuGRCPASAEIAMQ2gEgBEEgaiIDIAUgBBCOASAEKAIoIQIgBEEANgIoIAQgAjYCPCAEIAE2AjAgBCkDICEGIARCADcDICAEIAY3AjQgAEEIaiAEQTBqIgAQqQQgAEEEchASGiADEBIaIAQQEhogBRASGgwBCyAEIAE2AjAgBEEwaiIDQQRyIAIQNCEBIABBCGogAxCpBCABEBIaCyAEQUBrJAALCQBB9goQ5AIACxMAIAFBAXRBoJ4BakECIAAQjQQLDwAgACAAKAIAKAIkEQAACxEAIAAgASABKAIAKAIgEQMACxEAIAAgASABKAIAKAIsEQMACxYAIAAQWwRAIAAgARBJDwsgACABEFELDAAgAEGChoAgNgAACy4BAX8jAEEQayIBJAAgAUEIaiAAEBYgABATQQJ0ahB2KAIAIQAgAUEQaiQAIAALKwEBfyMAQRBrIgEkACABQQhqIAAQFiAAEBNqEHYoAgAhACABQRBqJAAgAAsrACAAIAEgAhC0AiIBKQIANwIAIAAgASgCCDYCCCABQgA3AgAgAUEANgIIC4ABAQR/IwBBEGsiBSQAIAAgASgCBCABLQALIgAgAMBBAEgbIgAgAhBUIgRqEMoDIgMoAgAgAyADLAALQQBIGyIGIABqIQMgAARAIAYgASgCACABIAEsAAtBAEgbIAAQbRoLIAQEQCADIAIgBBBtGgsgAyAEakEAOgAAIAVBEGokAAsWACAAIAEgAiADIAAoAgAoAiARBwAaCy4BA38gARBUIgMgACgCBCAALQALIgQgBMBBAEgbRgR/IAAgASADEP0CBUEBC0ULDgAgACgCCEH/////B3ELEgAgASABIAJBAnRqIAAQ+AMaCwcAIAAgAUYLBwAgABC8AQvJAQEEfyMAQRBrIgYkAAJAIABFBEAMAQsgBCgCDCEIIAIgAWsiCUEASgRAIAAgASAJIAAoAgAoAjARBAAgCUcNAQsgCCADIAFrIgFrQQAgASAISBsiAUEASgRAIAYgASAFEP4CIAAgBigCACAGIAYsAAtBAEgbIAEgACgCACgCMBEEACEFIAYQEhogASAFRw0BCyADIAJrIgFBAEoEQCAAIAIgASAAKAIAKAIwEQQAIAFHDQELIARBADYCDCAAIQcLIAZBEGokACAHCxAAIABBBGogARDZAiACEF0LEAAgACABKAIAIAEoAgQQRgvxAwIIfwF9AkACf0ECIAFBAUYNABogASABIAFBAWtxRQ0AGiABEJQECyIBIAAoAgQiAk0EQCABIAJPDQEgAkEDSSEFAn8gACgCDLMgACoCEJWNIgpDAACAT10gCkMAAAAAYHEEQCAKqQwBC0EACyEDIAEgBSACaUEBS3IEfyADEJQEBSADQQFBICADQQFrZ2t0IANBAkkbCyIFIAEgBUsbIgEgAk8NAQsgACECAkAgASIDBEAgAiADEIwCELMCIAIgAzYCBANAIAMgBEYEQCACKAIIIgFFDQMgAkEIaiEEIAEoAgQhBQJAIANpIgBBAU0EQCAFIANBAWtxIQUMAQsgAyAFSw0AIAUgA3AhBQsgAigCACAFQQJ0aiAENgIAIANBAWshByAAQQFLIQgDQCABKAIAIgBFDQQgACgCBCEEAkAgCEUEQCAEIAdxIQQMAQsgAyAESw0AIAQgA3AhBAsCQCAEIAVGDQAgBEECdCIGIAIoAgBqIgkoAgBFBEAgCSABNgIAIAQhBQwBCyABIAAoAgA2AgAgACACKAIAIAZqKAIAKAIANgIAIAIoAgAgBmooAgAgADYCAAwBCyAAIQEMAAsABSACKAIAIARBAnRqQQA2AgAgBEEBaiEEDAELAAsACyACQQAQswIgAkEANgIECwsLwAEBA38jAEEQayIFJAAjAEEgayIEJABBKBAmIQYgBEEAOgAYIAQgAUEEajYCFCAEIAY2AhAgBkEQaiACEBRBDGogAxAUGiAEQQE6ABggBSABIARBDGogBCgCEEEQahB7IgMoAgAiAgR/QQAFIAEgBCgCDCADIAQoAhAQTiAEKAIQIQIgBEEANgIQQQELOgAMIAUgAjYCCCAEQRBqEL8BIARBIGokACAAIAUoAgg2AgAgACAFLQAMOgAEIAVBEGokAAsTACAAEN0BKAIAIAAoAgBrQQJ1CwcAIABBEGoLDQAgACgCACABQQJ0agthAQF/IwBBEGsiAiQAIAIgADYCDAJAIAAgAUYNAANAIAIgAUEBayIBNgIIIAAgAU8NASACKAIMIAIoAggQvgMgAiACKAIMQQFqIgA2AgwgAigCCCEBDAALAAsgAkEQaiQAC7UBAQR/IwBBEGsiCCQAAkAgAEUNACAEKAIMIQYgAiABayIHQQBKBEAgACABIAdBAnYiBxDGAiAHRw0BCyAGIAMgAWtBAnUiAWtBACABIAZIGyIBQQBKBEAgACAIIAEgBRDIAyIFEBYgARDGAiEGIAUQLRogASAGRw0BCyADIAJrIgFBAEoEQCAAIAIgAUECdiIBEMYCIAFHDQELIAQoAgwaIARBADYCDCAAIQkLIAhBEGokACAJC9sBAgF/An5BASEEAkAgAEIAUiABQv///////////wCDIgVCgICAgICAwP//AFYgBUKAgICAgIDA//8AURsNACACQgBSIANC////////////AIMiBkKAgICAgIDA//8AViAGQoCAgICAgMD//wBRGw0AIAAg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AUEBajYCACABIAVBkOcAai0AADoAAAwCCyADIAMoAgAiAEEBajYCACAAIAVBkOcAai0AADoAACAEIAQoAgBBAWo2AgBBACEADAELQQAhACAEQQA2AgALIApBEGokACAACwkAIABBABCzAgsLACAAQYDBARCAAQs+AQF/IABBBGohAAN/IAAoAgAiAEUEQEEADwsgASAAQRBqIgIQfA0AIAIgARB8BH8gAEEEaiEADAEFQQELCwtjAgF/AX4jAEEQayICJAAgAAJ+IAFFBEBCAAwBCyACIAGtQgAgAWciAUHRAGoQPyACKQMIQoCAgICAgMAAhUGegAEgAWutQjCGfCEDIAIpAwALNwMAIAAgAzcDCCACQRBqJAALGQAgAkEBEPEDIQEgACACNgIEIAAgATYCAAskACAAQQtPBH8gAEEQakFwcSIAIABBAWsiACAAQQtGGwVBCgsLJAECfyMAQRBrIgIkACAAIAEQzQIhAyACQRBqJAAgASAAIAMbCxwBAX8gACgCACECIAAgASgCADYCACABIAI2AgALUgECf0G0qgEoAgAiASAAQQdqQXhxIgJqIQACQCACQQAgACABTRsNACAAPwBBEHRLBEAgABAIRQ0BC0G0qgEgADYCACABDwtBkLkBQTA2AgBBfwuDAQIDfwF+AkAgAEKAgICAEFQEQCAAIQUMAQsDQCABQQFrIgEgACAAQgqAIgVCCn59p0EwcjoAACAAQv////+fAVYhAiAFIQAgAg0ACwsgBaciAgRAA0AgAUEBayIBIAIgAkEKbiIDQQpsa0EwcjoAACACQQlLIQQgAyECIAQNAAsLIAEL4AEBAn8gAkEARyEDAkACQAJAIABBA3FFIAJFcg0AIAFB/wFxIQQDQCAALQAAIARGDQIgAkEBayICQQBHIQMgAEEBaiIAQQNxRQ0BIAINAAsLIANFDQEgAC0AACABQf8BcUYgAkEESXJFBEAgAUH/AXFBgYKECGwhAwNAIAAoAgAgA3MiBEF/cyAEQYGChAhrcUGAgYKEeHENAiAAQQRqIQAgAkEEayICQQNLDQALCyACRQ0BCyABQf8BcSEBA0AgASAALQAARgRAIAAPCyAAQQFqIQAgAkEBayICDQALC0EACyMAIABBGHQgAEGA/gNxQQh0ciAAQQh2QYD+A3EgAEEYdnJyC3kBBH8DQCAAIgFB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IgQgARD1AiAAIAMgAigCCBDzASAEJAALqwEBA38jAEEQayICJAAgAiABOgAPAkACQAJ/IAAQWyIERQRAQQohASAAEPkBDAELIAAQkgFBAWshASAAKAIECyIDIAFGBEAgACABQQEgASABEKQCIAAQFhoMAQsgABAWGiAEDQAgACIBIANBAWoQUQwBCyAAKAIAIQEgACADQQFqEEkLIAEgA2oiACACQQ9qEEIgAkEAOgAOIABBAWogAkEOahBCIAJBEGokAAsLACAAIAEgAhBtGgsHACAAQQhqCwkAIAAgARCMAwsHACAAQQJJCykBAX9BBBDYARCBAyIAQfCnATYCACAAQYSoATYCACAAQfSoAUEDEAIACxAAIAAoAggiAARAIAAQGQsLBABBBAvaAQEDfyMAQRBrIgUkACMAQSBrIgQkAEEoECYhBiAEQQA6ABggBCABQQRqNgIUIAQgBjYCECAGQRBqIAIQFCICIAMoAgg2AhQgAiADKQIANwIMIANCADcCACADQQA2AgggBEEBOgAYIAUgASAEQQxqIAQoAhBBEGoQeyIDKAIAIgIEf0EABSABIAQoAgwgAyAEKAIQEE4gBCgCECECIARBADYCEEEBCzoADCAFIAI2AgggBEEQahC/ASAEQSBqJAAgACAFKAIINgIAIAAgBS0ADDoABCAFQRBqJAALzQEBBX8jAEEQayIEJAAjAEEQayICJAAgAkEBNgIEIAJBxAAQJjYCCCACKAIIIgFCADcCBCABQeQoNgIAIAFBDGpBAEE4EEMiAUEANgIQIAFBADsBDiABQgA3AgAgAUEYaiIDQgA3AgAgAUIANwAFIAFBJGoiBUIANwIAIAEgAzYCFCABQTBqIgNCADcCACABIAU2AiAgASADNgIsIAIoAgghASACQQA2AgggACABNgIEIAAgAUEMajYCACACEOEBIAJBEGokACAEQRBqJAALHQAgAEEEahCtAkF/RgRAIAAgACgCACgCCBEBAAsLEQAgACABIAEoAgAoAigRAwALFAEBfyAAKAIAIQEgAEEANgIAIAELVAEBfyMAQRBrIgQkACAEIAM2AgwgAiABEBMiA0sEQBDVAQALIAEQFiEBIAQgAyACazYCBCAAIAEgAmogBEEMaiAEQQRqEKIBKAIAEEYgBEEQaiQACwgAQf////8HCwUAQf8AC2EBAX8j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EJoCDwsgAUGfjQZNBEAgACABQZDOAG4iABDCASABIABBkM4AbGsQmgIPCyAAIAEQmQIPCyABQf/B1y9NBEAgAUH/rOIETQRAIAAgAUHAhD1uIgAQwgEgASAAQcCEPWxrEJkCDwsgACABENkBDwsgAUH/k+vcA00EQCAAIAFBgMLXL24iABDCASABIABBgMLXL2xrENkBDwsgACABQYDC1y9uIgAQhgEgASAAQYDC1y9saxDZAQsrAQJ/IwBBEGsiASQAIAFB5QwQFCICIAAQ+QIhACACEBIaIAFBEGokACAACx0BAX8jAEEQayIBJAAgASAAQawPEI8BIAEQ9gIACycAIAEEQCAAIAEoAgAQnwIgACABKAIEEJ8CIAFBEGoQxgEgARAZCwuuAQEDfyMAQRBrIgIkACACIAE2AgwCQAJAAn8gABBbIgRFBEBBASEBIAAQ+QEMAQsgABCSAUEBayEBIAAoAgQLIgMgAUYEQCAAIAFBASABIAEQ+wIgABAWGgwBCyAAEBYaIAQNACAAIgEgA0EBahBRDAELIAAoAgAhASAAIANBAWoQSQsgASADQQJ0aiIAIAJBDGoQViACQQA2AgggAEEEaiACQQhqEFYgAkEQaiQACw0AIAAgASABEFQQogILegEDfyMAQRBrIgUkAAJAIAIgABAfIgQgABATIgNrTQRAIAJFDQEgABAWIgQgA2ogASACEFIgACACIANqIgEQigEgBUEAOgAPIAEgBGogBUEPahBCDAELIAAgBCACIANqIARrIAMgA0EAIAIgARDHAQsgBUEQaiQAIAALPQEBfyMAQRBrIgMkACADIAI6AA8DQCABBEAgACADLQAPOgAAIAFBAWshASAAQQFqIQAMAQsLIANBEGokAAvGAQECfyMAQRBrIgUkACACQe////8HIAFrTQRAIAAQFiEGIAUgACABQef///8DSQR/IAUgAUEBdDYCDCAFIAEgAmo2AgAgBSAFQQxqELcBKAIAELYBQQFqBUHv////BwsQtQEgBSgCACECIAUoAgQaIAQEQCACIAYgBBBSCyADIARHBEAgAiAEaiAEIAZqIAMgBGsQUgsgAUEBaiIBQQtHBEAgACAGIAEQwQILIAAgAhBkIAAgBSgCBBBjIAVBEGokAA8LEFUACw0AIAAgASACQn8Q9AELBwAgAEEMagsrAQF/IAAoAgAhASMAQRBrIgAkACAAIAE2AgggACgCCCEBIABBEGokACABCy4BAX8jAEEQayIDJAAgACACEIoBIANBADoADyABIAJqIANBD2oQQiADQRBqJAALFwAgACgCCBAnRwRAIAAoAggQ3gMLIAALOAEBfyMAQRBrIgMkACADIAI2AgwgA0EIaiADQQxqEGshAiAAIAEQ0AIhACACEGogA0EQaiQAIAALuQEBA38jAEEQayIEJAAjAEEgayIDJABBHBAmIQUgA0EAOgAYIAMgAUEEajYCFCADIAU2AhAgBUEQaiACEBQaIANBAToAGCAEIAEgA0EMaiADKAIQQRBqEHsiBSgCACICBH9BAAUgASADKAIMIAUgAygCEBBOIAMoAhAhAiADQQA2AhBBAQs6AAwgBCACNgIIIANBEGoQ4AIgA0EgaiQAIAAgBCgCCDYCACAAIAQtAAw6AAQgBEEQaiQAC7sCAQV/IAAoAgQiAiAAKAIISQRAIAIgASgCADYCACAAIAJBBGo2AgQPCyMAQSBrIgYkACAAKAIEIAAoAgBrQQJ1QQFqIgJBgICAgARPBEAQhQEAC0H/////AyAAKAIIIAAoAgBrIgNBAXUiBCACIAIgBEkbIANB/P///wdPGyEEIAAoAgQgACgCAGtBAnUhBUEAIQMgBkEIaiICQQA2AgwgAiAAQQhqNgIQIAQEQCAEEIwCIQMLIAIgAzYCACACIAMgBUECdGoiBTYCCCACIAMgBEECdGo2AgwgAiAFNgIEIAIoAggiAyABKAIANgIAIAIgA0EEajYCCCAAIAIQsQQgAigCBCEBIAIoAgghAANAIAAgAUcEQCACIABBBGsiADYCCAwBCwsgAigCACIABEAgABAZCyAGQSBqJAALEwAgACAAKAIAQQFrIgA2AgAgAAsPACAAIAAoAgRBAWo2AgQLfQEDfyMAQRBrIgMkACMAQRBrIgIkACACQQE2AgQgAkEcECY2AgggAigCCCIBQgA3AgwgAUHgKTYCACABQgA3AgQgASABQRRqNgIQIAFCADcCFCACQQA2AgggACABNgIEIAAgAUEMajYCACACEOEBIAJBEGokACADQRBqJAALNwEBfyMAQRBrIgIkACACIAAoAgA2AgggAiACKAIIIAFBAnRqNgIIIAIoAgghACACQRBqJAAgAAsaAQF/QQEhASAAEFsE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IABByQdqIQAMAQtEAAAAAAAAAAAhAUHwaCAAIABB8GhMG0GSD2ohAAsgASAAQf8Haq1CNIa/ogtqAQJ/IABB6MgANgIAIAAoAighAQNAIAEEQEEAIAAgAUEBayIBQQJ0IgIgACgCJGooAgAgACgCICACaigCABEFAAwBCwsgAEEcahAaIAAoAiAQGSAAKAIkEBkgACgCMBAZIAAoAjwQGSAACwkAIAFBARD1AwsJACAAIAEQ0gELTwECfyMAQRBrIgQkACACIAFrIQUgASACRwRAIAMgASAFEG0aCyAEIAEgBWo2AgwgBCADIAVqNgIIIAAgBEEMaiAEQQhqEIEBIARBEGokAAsxAQF/IwBBEGsiAyQAIAMgATYCDCADIAI2AgggACADQQxqIANBCGoQ0QEgA0EQaiQACx0AIwBBEGsiAyQAIAAgASACEPwDIANBEGokACAACxMAIAAgASACIAAoAgAoAjARBAALDAAgAEEEahCOBCAACygBAn8jAEEQayICJAAgASgCACAAKAIASCEDIAJBEGokACABIAAgAxsLEAAgACABNwMIIABCADcDAAsDAAELFAAgAEH4wwA2AgAgAEEEahAaIAALFgAgAEUEQEEADwtBkLkBIAA2AgBBfwsNACAAKAIAIAEoAgBJCwkAIAAgARCQBAvSAwICfgJ/IwBBIGsiBCQAAkAgAUL///////////8AgyIDQoCAgICAgMCAPH0gA0KAgICAgIDA/8MAfVQEQCABQgSGIABCPIiEIQMgAEL//////////w+DIgBCgYCAgICAgIAIWgRAIANCgYCAgICAgIDAAHwhAgwCCyADQoCAgICAgICAQH0hAiAAQoCAgICAgICACFINASACIANCAYN8IQIMAQsgAFAgA0KAgICAgIDA//8AVCADQoCAgICAgMD//wBRG0UEQCABQgSGIABCPIiEQv////////8Dg0KAgICAgICA/P8AhCECDAELQoCAgICAgID4/wAhAiADQv///////7//wwBWDQBCACECIANCMIinIgVBkfcASQ0AIARBEGogACABQv///////z+DQoCAgICAgMAAhCICIAVBgfcAaxA/IAQgACACQYH4ACAFaxCmASAEKQMIQgSGIAQpAwAiAEI8iIQhAiAEKQMQIAQpAxiEQgBSrSAAQv//////////D4OEIgBC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QfAeEBQiEiICKAIINgLwAyAAIBIpAgA3A+gDIBJCADcCACACQQA2AgggAEEFOgD0AyAAIABBqAJqQbAfEBQiEyICKAIINgKABCAAIBMpAgA3A/gDIBNCADcCACACQQA2AgggAEEGOgCEBCAAIABBmAJqQfAfEBQiFCICKAIINgKQBCAAIBQpAgA3A4gEIBRCADcCACACQQA2AgggAEEHOgCUBCAAIABBiAJqQcAgEBQiBCICKAIINgKgBCAAIAQpAgA3A5gEIARCADcCACACQQA2AgggAEEIOgCkBCAAIABB+AFqQYAhEBQiBSICKAIINgKwBCAAIAUpAgA3A6gEIAVCADcCACACQQA2AgggAEEJOgC0BCAAIABB6AFqQbAhEBQiBiICKAIINgLABCAAIAYpAgA3A7gEIAZCADcCACACQQA2AgggAEEKOgDEBCAAIABB2AFqQeAhEBQiCCICKAIINgLQBCAAIAgpAgA3A8gEIAhCADcCACACQQA2AgggAEELOgDUBCAAIABByAFqQZAiEBQiCSICKAIINgLgBCAAIAkpAgA3A9gEIAlCADcCACACQQA2AgggAEEMOgDkBCAAIABBuAFqQdAiEBQiCiICKAIINgLwBCAAIAopAgA3A+gEIApCADcCACACQQA2AgggAEENOgD0BCAAIABBqAFqQYAjEBQiCyICKAIINgKABSAAIAspAgA3A/gEIAtCADcCACACQQA2AgggAEEOOgCEBSAAIABBmAFqQbAjEBQiDCICKAIINgKQBSAAIAwpAgA3A4gFIAxCADcCACACQQA2AgggAEEPOgCUBSAAIABBiAFqQdAjEBQiByICKAIINgKgBSAAIAcpAgA3A5gFIAdCADcCACACQQA2AgggAEEQOgCkBSAAIABB+ABqQZAkEBQiAyICKAIINgKwBSAAIAMpAgA3A6gFIANCADcCACACQQA2AgggAEEROgC0BSAAIABB6ABqQdAkEBQiASICKAIINgLABSAAIAEpAgA3A7gFIAFCADcCACACQQA2AgggAEESOgDEBSAAQRM2AswFIAAgAEGYA2o2AsgFIAAgACkDyAU3AwhBnLgBIABBCGoQ4QIgAEHIBWohAgNAIAJBEGsQEiICIABBmANqRw0ACyABEBIaIAMQEhogBxASGiAMEBIaIAsQEhogChASGiAJEBIaIAgQ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JAAgACABEFQiACACEBMiA2oQygMQFiIFIAEgABBSIAAgBWoiACACEBYgAxBSIAAgA2pBAUEAEKMCIARBEGokAAvNAQEDfyMAQRBrIgUkACACQe////8DIAFrTQRAIAAQFiEGIAUgACABQef///8BSQR/IAUgAUEBdDYCDCAFIAEgAmo2AgAgBSAFQQxqELcBKAIAEKkBQQFqBUHv////AwsQqAEgBSgCACECIAUoAgQaIAQEQCACIAYgBBCTAQsgAyAERwRAIARBAnQiByACaiAGIAdqIAMgBGsQkwELIAFBAWoiAUECRwRAIAAgBiABEN4BCyAAIAIQZCAAIAUoAgQQYyAFQRBqJAAPCxBVAAudAgEDfyMAQRBrIggkACACIAFBf3NB7////wNqTQRAIAAQFiEJIAggACABQef///8BSQR/IAggAUEBdDYCDCAIIAEgAmo2AgAgCCAIQQxqELcBKAIAEKkBQQFqBUHv////AwsQqAEgCCgCACECIAgoAgQaIAQEQCACIAkgBBCTAQsgBgRAIARBAnQgAmogByAGEJMBCyADIAQgBWoiCmshByADIApHBEAgBEECdCIDIAJqIAZBAnRqIAMgCWogBUECdGogBxCTAQsgAUEBaiIBQQJHBEAgACAJIAEQ3gELIAAgAhBkIAAgCCgCBBBjIAAgBCAGaiAHaiIAEEkgCEEANgIMIAIgAEECdGogCEEMahBWIAhBEGokAA8LEFUAC5EBAQF/IwBBEGsiAyQAIAMgAjYCCCADQX82AgwgAkF/RiAAEBMiAkEASXJFBEAgAyACNgIAIAMgA0EMaiADEKIBKAIANgIEAkAgABAWIAEgA0EEaiADQQhqEKIBKAIAEI0CIgANAEF/IQAgAygCBCIBIAMoAggiAkkNACABIAJLIQALIANBEGokACAADwsQ1QEAC4kBAQJ/IwBBEGsiAyQAIAFB7////wdNBEACQCABEPgBBEAgACABEFEgACEEDAELIANBCGogACABELYBQQFqELUBIAMoAgwaIAAgAygCCCIEEGQgACADKAIMEGMgACABEEkLIAQgASACEKMCIANBADoAByABIARqIANBB2oQQiADQRBqJAAPCxBVAAtBAQF/IAIgABAfIgNNBEAgABAWIgMgASACENwBIAAgAyACEKgCDwsgACADIAIgA2sgABATIgBB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EGokACABQR4QpgMgA0EQaiQAIABBmAFqQYYSEBQaIAEQaSECIAEQpAMgASACEKMDQcDKARAqQaT9ADYCACAAQcDKAUH8vgEQKRArQcjKARAqQcT9ADYCACAAQcjKAUGEvwEQKRArQdDKARAqIgFBADoADCABQQA2AgggAUGc6QA2AgAgAUHQ6QA2AgggAEHQygFByMABECkQK0HgygEQKkGI9QA2AgAgAEHgygFBwMABECkQK0HoygEQKkGc9gA2AgAgAEHoygFB0MABECkQK0HwygEQKiIBQdjxADYCACABECc2AgggAEHwygFB2MABECkQK0GAywEQKkGw9wA2AgAgAEGAywFB4MABECkQK0GIywEQKkGY+QA2AgAgAEGIywFB8MABECkQK0GQywEQKkGk+AA2AgAgAEGQywFB6MABECkQK0GYywEQKkGM+gA2AgAgAEGYywFB+MABECkQK0GgywEQKiIBQa7YADsBCCABQYjyADYCACABQQxqEBwaIABBoMsBQYDBARApECtBuMsBECoiAUKugICAwAU3AgggAUGw8gA2AgAgAUEQahAcGiAAQbjLAUGIwQEQKRArQdjLARAqQeT9ADYCACAAQdjLAUGMvwEQKRArQeDLARAqQdj/ADYCACAAQeDLAUGUvwEQKRArQejLARAqQayBATYCACAAQejLAUGcvwEQKRArQfDLARAqQZSDATYCACAAQfDLAUGkvwEQKRArQfjLARAqQeyKATYCACAAQfjLAUHMvwEQKRArQYDMARAqQYCMATYCACAAQYDMAUHUvwEQKRArQYjMARAqQfSMATYCACAAQYjMAUHcvwEQKRArQZDMARAqQeiNATYCACAAQZDMAUHkvwEQKRArQZjMARAqQdyOATYCACAAQZjMAUHsvwEQKRArQaDMARAqQYCQATYCACAAQaDMAUH0vwEQKRArQajMARAqQaSRATYCACAAQajMAUH8vwEQKRArQbDMARAqQciSATYCACAAQbDMAUGEwAEQKRArQbjMARAqIgFBsJwBNgIIIAFB3IQBNgIAIAFBjIUBNgIIIABBuMwBQay/ARApECtByMwBECoiAUHUnAE2AgggAUHkhgE2AgAgAUGUhwE2AgggAEHIzAFBtL8BECkQK0HYzAEQKiIBQQhqEIMDIAFB0IgBNgIAIABB2MwBQby/ARAp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NgAAIAogABCIAQwBCyAKIAAQ5gEgAyAKKAIANgAAIAogABBhCyAIIAoQcCAKEC0aIAQgABBfNgIAIAUgABBINgIAIAogABBHIAYgChA+IAoQEhogCiAAEGIgByAKEHAgChAtGiAAEIcBDAELIAIQrwMhAAJAIAEEQCAKIAAQiQEgAyAKKAIANgAAIAogABCIAQwBCyAKIAAQ5gEgAyAKKAIANgAAIAogABBhCyAIIAoQcCAKEC0aIAQgABBfNgIAIAUgABBINgIAIAogABBHIAYgChA+IAoQEhogCiAAEGIgByAKEHAgChAtGiAAEIcBCzYCACAKQRBqJAALpwEBA38jAEEQayIEJAAjAEEgayIDJAAgA0EYaiAAIAEQiwMgA0EQaiADKAIYIAMoAhwgAhDDAiADKAIQIQUjAEEQayIBJAAgASAANgIIIAFBCGoiACAFIAAQpwJrELICIQAgAUEQaiQAIAMgADYCCCADIAIgAygCFBDSATYCBCAEQQhqIANBCGogA0EEahCBASADQSBqJAAgBCgCDCEAIARBEGokACAAC9EFAQp/IwBBEGsiFCQAIAIgADYCACADQYAEcSEWA0AgFUEERgRAIA0QE0EBSwRAIBQgDRBYNgIIIAIgFEEIakEBELICIA0QjQEgAigCABCsAzYCAAsgA0GwAXEiA0EQRwRAIAEgA0EgRgR/IAIoAgAFIAALNgIACyAUQRBqJAAFAkACQAJAAkACQAJAIAggFWosAAAOBQABAwIEBQsgASACKAIANgIADAQLIAEgAigCADYCACAGQSAQOyEPIAIgAigCACIQQQFqNgIAIBAgDzoAAAwDCyANEGANAiANQQAQGC0AACEPIAIgAigCACIQQQFqNgIAIBAgDzoAAAwCCyAMEGAgFkVyDQEgAiAMEFggDBCNASACKAIAEKwDNgIADAELIAIoAgAhFyAEIAdqIgQhEQNAAkAgBSARTQ0AIAZBwAAgESwAABBmRQ0AIBFBAWohEQwBCwsgDiIPQQBKBEADQCAPRSAEIBFPckUEQCARQQFrIhEtAAAhECACIAIoAgAiEkEBajYCACASIBA6AAAgD0EBayEPDAELCyAPBH8gBkEwEDsFQQALIRIDQCACIAIoAgAiEEEBajYCACAPQQBKBEAgECASOgAAIA9BAWshDwwBCwsgECAJOgAACwJAIAQgEUYEQCAGQTAQOyEPIAIgAigCACIQQQFqNgIAIBAgDzoAAAwBCyALEGAEf0F/BSALQQAQGCwAAAshEEEAIQ9BACETA0AgBCARRg0BAkAgDyAQRwRAIA8hEgwBCyACIAIoAgAiEEEBajYCACAQIAo6AABBACESIAsQEyATQQFqIhNNBEAgDyEQDAELIAsgExAYLQAAQf8ARgRAQX8hEAwBCyALIBMQGCwAACEQCyARQQFrIhEtAAAhDyACIAIoAgAiGEEBajYCACAYIA86AAAgEkEBaiEPDAALAAsgFyACKAIAEJ4BCyAVQQFqIRUMAQsLC6sCAQF/IwBBEGsiCiQAIAkCfyAABEAgAhC2AyEAAkAgAQRAIAogABCJASADIAooAgA2AAAgCiAAEIgBDAELIAogABDmASADIAooAgA2AAAgCiAAEGELIAggChA+IAoQEhogBCAAEF86AAAgBSAAEEg6AAAgCiAAEEcgBiAKED4gChASGiAKIAAQYiAHIAoQPiAKEBIaIAAQhwEMAQsgAhC1AyEAAkAgAQRAIAogABCJASADIAooAgA2AAAgCiAAEIgBDAELIAogABDmASADIAooAgA2AAAgCiAAEGELIAggChA+IAoQEhogBCAAEF86AAAgBSAAEEg6AAAgCiAAEEcgBiAKED4gChASGiAKIAAQYiAHIAoQPiAKEBIaIAAQhwELNgIAIApBEGokAAsLACAAQdy/ARCAAQvuAQEFfyMAQRBrIgUkACMAQRBrIgIkACACQQE2AgQgAkHkARAmNgIIIAIoAggiAUIANwIEIAFB6Cc2AgAgAUEMakEAQdgBEEMiAUEJOwEEIAFBiAFqIgNCADcCACABQQhqQQBB+gAQQxogAUGUAWoiBEIANwIAIAEgAzYChAEgAUGgAWoiA0IANwIAIAEgBDYCkAEgAUHQAWoiBEIANwIAIAEgAzYCnAEgAUGoAWpBAEEkEEMaIAEgBDYCzAEgAigCCCEBIAJBADYCCCAAIAE2AgQgACABQQxqNgIAIAIQ4QEgAkEQaiQAIAVBEGokAAsLACAAQeS/ARCAAQsfAQF/IAEoAgAQgQQhAiAAIAEoAgA2AgQgACACNgIAC9IPAQp/IwBBsARrIgskACALIAo2AqQEIAsgATYCqAQCQCAAIAtBqARqECMEQCAFIAUoAgBBBHI2AgBBACEADAELIAtB8QA2AmAgCyALQYgBaiALQZABaiALQeAAaiIBEC8iDygCACIKNgKEASALIApBkANqNgKAASABEBwhESALQdAAahAcIQwgC0FAaxAcIQ4gC0EwahAcIQ0gC0EgahAcIRAjAEEQayIBJAAgCwJ/IAIEQCABIAMQsQMiAhCJASALIAEoAgA2AHggASACEIgBIA0gARBwIAEQLRogASACEGEgDiABEHAgARAtGiALIAIQXzYCdCALIAIQSDYCcCABIAIQRyARIAEQPiABEBIaIAEgAhBiIAwgARBwIAEQLRogAhCHAQwBCyABIAMQrwMiAhCJASALIAEoAgA2AHggASACEIgBIA0gARBwIAEQLRogASACEGEgDiABEHAgARAtGiALIAIQXzYCdCALIAIQSDYCcCABIAIQRyARIAEQPiABEBIaIAEgAhBiIAwgARBwIAEQLRogAhCHAQs2AhwgAUEQaiQAIAkgCCgCADYCACAEQYAEcSESQQAhA0EAIQEDQCABIQICQAJAAkACQCADQQRGDQAgACALQagEahAjDQBBACEKAkACQAJAAkACQAJAIAtB+ABqIANqLAAADgUBAAQDBQkLIANBA0YNByAHQQEgABAwEGUEQCALQRBqIAAQsgMgECALKAIQEKACDAILIAUgBSgCAEEEcjYCAEEAIQAMBgsgA0EDRg0GCwNAIAAgC0GoBGoQIw0GIAdBASAAEDAQZUUNBiALQRBqIAAQsgMgECALKAIQEKACDAALAAsCQCAOEBNFDQAgABAwIA4QFigCAEcNACAAEDcaIAZBADoAACAOIAIgDhATQQFLGyEBDAYLAkAgDRATRQ0AIAAQMCANEBYoAgBHDQAgABA3GiAGQQE6AAAgDSACIA0QE0EBSxshAQwGCwJAIA4QE0UNACANEBNFDQAgBSAFKAIAQQRyNgIAQQAhAAwECyAOEBNFBEAgDRATRQ0FCyAGIA0QE0U6AAAMBAsgEiACIANBAklyckUEQEEAIQEgA0ECRiALLQB7QQBHcUUNBQsgCyAMEFg2AgggC0EQaiALQQhqEKEBIQQCQCADRQ0AIAMgC2otAHdBAUsNAANAAkAgCyAMEIwBNgIIIAQgC0EIahB3RQ0AIAdBASAEKAIAKAIAEGVFDQAgBBDMAQwBCwsgCyAMEFg2AgggBCgCACALKAIIa0ECdSIBIBAQE00EQCALIBAQjAE2AgggC0EIakEAIAFrELACIQogEBCMASETIAwQWCEUIwBBIGsiASQAIAEgEzYCECABIAo2AhggASAUNgIIA0ACQCABQRhqIAFBEGoQdyIKRQ0AIAEoAhgoAgAgASgCCCgCAEcNACABQRhqEMwBIAFBCGoQzAEMAQsLIAFBIGokACAKQQFzDQELIAsgDBBYNgIAIAQgC0EIaiALEKEBKAIANgIACyALIAQoAgA2AggDQAJAIAsgDBCMATYCACALQQhqIAsQd0UNACAAIAtBqARqECMNACAAEDAgCygCCCgCAEcNACAAEDcaIAtBCGoQzAEMAQsLIBJFDQMgCyAMEIwBNgIAIAtBCGogCxB3RQ0DIAUgBSgCAEEEcjYCAEEAIQAMAgsDQAJAIAAgC0GoBGoQIw0AAn8gB0HAACAAEDAiARBlBEAgCSgCACIEIAsoAqQERgRAIAggCSALQaQEahCrASAJKAIAIQQLIAkgBEEEajYCACAEIAE2AgAgCkEBagwBCyAREBNFIApFcg0BIAEgCygCcEcNASALKAKEASIBIAsoAoABRgRAIA8gC0GEAWogC0GAAWoQqwEgCygChAEhAQsgCyABQQRqNgKEASABIAo2AgBBAAshCiAAEDcaDAELCyAKRSALKAKEASIBIA8oAgBGckUEQCALKAKAASABRgRAIA8gC0GEAWogC0GAAWoQqwEgCygChAEhAQsgCyABQQRqNgKEASABIAo2AgALAkAgCygCHEEATA0AAkAgACALQagEahAjRQRAIAAQMCALKAJ0Rg0BCyAFIAUoAgBBBHI2AgBBACEADAMLA0AgABA3GiALKAIcQQBMDQECQCAAIAtBqARqECNFBEAgB0HAACAAEDAQZQ0BCyAFIAUoAgBBBHI2AgBBACEADAQLIAkoAgAgCygCpARGBEAgCCAJIAtBpARqEKsBCyAAEDAhASAJIAkoAgAiBEEEajYCACAEIAE2AgAgCyALKAIcQQFrNgIcDAALAAsgAiEBIAgoAgAgCSgCAEcNAyAFIAUoAgBBBHI2AgBBACEADAELAkAgAkUNAEEBIQoDQCACEBMgCk0NAQJAIAAgC0GoBGoQI0UEQCAAEDAgAiAKEO4BKAIARg0BCyAFIAUoAgBBBHI2AgBBACEADAMLIAAQNxogCkEBaiEKDAALAAtBASEAIA8oAgAgCygChAFGDQBBACEAIAtBADYCECARIA8oAgAgCygChAEgC0EQahA9IAsoAhAEQCAFIAUoAgBBBHI2AgAMAQtBASEACyAQEC0aIA0QLRogDhAtGiAMEC0aIBEQEhogDxAuDAMLIAIhAQsgA0EBaiEDDAALAAsgC0GwBGokACAACx8AIAAgARDnARA2IAEQygEoAgAhASAAEMoBIAE2AgALCwAgAEHMvwEQgAELCwAgAEHUvwEQgAEL/gEBBH8jAEEQayIFJAAjAEEQayIEJAAgBSABIARBDGogAhB7IgcoAgAiBgR/QQAFQSQQJiEGIARBADoACCAEIAFBBGo2AgQgBCAGNgIAIAZBEGogAhA0IgIgAygCADYCDCACIAMoAgQiAjYCECACBEAgAiACKAIEQQFqNgIECyAEQQE6AAggASAEKAIMIAcgBCgCABBOIAQoAgAhBiAEQQA2AgAgBCgCACEBIARBADYCACABBEAgBC0ACARAIAFBEGoQ8AELIAEEQCABEBkLC0EBCzoADCAFIAY2AgggBEEQaiQAIAAgBSgCCDYCACAAIAUtAAw6AAQgBUEQaiQAC8QBAQZ/IwBBEGsiBCQAIAAQygEoAgAhBQJ/IAIoAgAgACgCAGsiA0H/////B0kEQCADQQF0DAELQX8LIgNBASADGyEDIAEoAgAhBiAAKAIAIQcgBUHxAEYEf0EABSAAKAIACyADEIACIggEQCAFQfEARwRAIAAQ5wEaCyAEQfAANgIEIAAgBEEIaiAIIARBBGoQLyIFELQDIAUQLiABIAAoAgAgBiAHa2o2AgAgAiADIAAoAgBqNgIAIARBEGokAA8LEDkACyABAX8gASgCABCIBMAhAiAAIAEoAgA2AgQgACACOgAAC/QPAQp/IwBBsARrIgskACALIAo2AqQEIAsgATYCqAQCQCAAIAtBqARqECQEQCAFIAUoAgBBBHI2AgBBACEADAELIAtB8QA2AmggCyALQYgBaiALQZABaiALQegAaiIBEC8iDygCACIKNgKEASALIApBkANqNgKAASABEBwhESALQdgAahAcIQwgC0HIAGoQHCEOIAtBOGoQHCENIAtBKGoQHCEQIwBBEGsiASQAIAsCfyACBEAgASADELYDIgIQiQEgCyABKAIANgB4IAEgAhCIASANIAEQPiABEBIaIAEgAhBhIA4gARA+IAEQEhogCyACEF86AHcgCyACEEg6AHYgASACEEcgESABED4gARASGiABIAIQYiAMIAEQPiABEBIaIAIQhwEMAQsgASADELUDIgIQiQEgCyABKAIANgB4IAEgAhCIASANIAEQPiABEBIaIAEgAhBhIA4gARA+IAEQEhogCyACEF86AHcgCyACEEg6AHYgASACEEcgESABED4gARASGiABIAIQYiAMIAEQPiABEBIaIAIQhwELNgIkIAFBEGokACAJIAgoAgA2AgAgBEGABHEhEkEAIQNBACEBA0AgASECAkACQAJAAkAgA0EERg0AIAAgC0GoBGoQJA0AQQAhCgJAAkACQAJAAkACQCALQfgAaiADaiwAAA4FAQAEAwUJCyADQQNGDQcgB0EBIAAQMRBmBEAgC0EYaiAAELkDIBAgCywAGBDbAQwCCyAFIAUoAgBBBHI2AgBBACEADAYLIANBA0YNBgsDQCAAIAtBqARqECQNBiAHQQEgABAxEGZFDQYgC0EYaiAAELkDIBAgCywAGBDbAQwACwALAkAgDhATRQ0AIAAQMUH/AXEgDkEAEBgtAABHDQAgABA4GiAGQQA6AAAgDiACIA4QE0EBSxshAQwGCwJAIA0QE0UNACAAEDFB/wFxIA1BABAYLQAARw0AIAAQOBogBkEBOgAAIA0gAiANEBNBAUsbIQEMBgsCQCAOEBNFDQAgDRATRQ0AIAUgBSgCAEEEcjYCAEEAIQAMBAsgDhATRQRAIA0QE0UNBQsgBiANEBNFOgAADAQLIBIgAiADQQJJcnJFBEBBACEBIANBAkYgCy0Ae0EAR3FFDQULIAsgDBBYNgIQIAtBGGogC0EQahChASEEAkAgA0UNACADIAtqLQB3QQFLDQADQAJAIAsgDBCNATYCECAEIAtBEGoQd0UNACAHQQEgBCgCACwAABBmRQ0AIAQQzQEMAQsLIAsgDBBYNgIQIAQoAgAgCygCEGsiASAQEBNNBEAgCyAQEI0BNgIQIAtBEGpBACABaxCyAiEKIBAQjQEhEyAMEFghFCMAQSBrIgEkACABIBM2AhAgASAKNgIYIAEgFDYCCANAAkAgAUEYaiABQRBqEHciCkUNACABKAIYLQAAIAEoAggtAABHDQAgAUEYahDNASABQQhqEM0BDAELCyABQSBqJAAgCkEBcw0BCyALIAwQWDYCCCAEIAtBEGogC0EIahChASgCADYCAAsgCyAEKAIANgIQA0ACQCALIAwQjQE2AgggC0EQaiALQQhqEHdFDQAgACALQagEahAkDQAgABAxQf8BcSALKAIQLQAARw0AIAAQOBogC0EQahDNAQwBCwsgEkUNAyALIAwQjQE2AgggC0EQaiALQQhqEHdFDQMgBSAFKAIAQQRyNgIAQQAhAAwCCwNAAkAgACALQagEahAkDQACfyAHQcAAIAAQMSIBEGYEQCAJKAIAIgQgCygCpARGBEAgCCAJIAtBpARqELgDIAkoAgAhBAsgCSAEQQFqNgIAIAQgAToAACAKQQFqDAELIBEQE0UgCkVyDQEgCy0AdiABQf8BcUcNASALKAKEASIBIAsoAoABRgRAIA8gC0GEAWogC0GAAWoQqwEgCygChAEhAQsgCyABQQRqNgKEASABIAo2AgBBAAshCiAAEDgaDAELCyAKRSALKAKEASIBIA8oAgBGckUEQCALKAKAASABRgRAIA8gC0GEAWogC0GAAWoQqwEgCygChAEhAQsgCyABQQRqNgKEASABIAo2AgALAkAgCygCJEEATA0AAkAgACALQagEahAkRQRAIAAQMUH/AXEgCy0Ad0YNAQsgBSAFKAIAQQRyNgIAQQAhAAwDCwNAIAAQOBogCygCJEEATA0BAkAgACALQagEahAkRQRAIAdBwAAgABAxEGYNAQsgBSAFKAIAQQRyNgIAQQAhAAwECyAJKAIAIAsoAqQERgRAIAggCSALQaQEahC4AwsgABAxIQEgCSAJKAIAIgRBAWo2AgAgBCABOgAAIAsgCygCJEEBazYCJAwACwALIAIhASAIKAIAIAkoAgBHDQMgBSAFKAIAQQRyNgIAQQAhAAwBCwJAIAJFDQBBASEKA0AgAhATIApNDQECQCAAIAtBqARqECRFBEAgABAxQf8BcSACIAoQGC0AAEYNAQsgBSAFKAIAQQRyNgIAQQAhAAwDCyAAEDgaIApBAWohCgwACwALQQEhACAPKAIAIAsoAoQBRg0AQQAhACALQQA2AhggESAPKAIAIAsoAoQBIAtBGGoQPSALKAIYBEAgBSAFKAIAQQRyNgIADAELQQEhAAsgEBASGiANEBIaIA4QEhogDBASGiAREBIaIA8QLgwDCyACIQELIANBAWohAwwACwALIAtBsARqJAAgAAsMACAAQQFBLRDIAxoLGwAjAEEQayIBJAAgAEEBQS0Q/gIgAUEQaiQACysAIAAgASACEKECIgEpAgA3AgAgACABKAIINgIIIAFCADcCACABQQA2AggLHAEBfyAALQAAIQIgACABLQAAOgAAIAEgAjoAAAtkAQF/IwBBEGsiBiQAIAZBADoADyAGIAU6AA4gBiAEOgANIAZBJToADCAFBEAgBkENaiAGQQ5qEL4DCyACIAEgASACKAIAEPIDIAZBDGogAyAAKAIAEA0gAWo2AgAgBkEQaiQAC0EAIAEgAiADIARBBBBxIQEgAy0AAEEEcUUEQCAAIAFB0A9qIAFB7A5qIAEgAUHkAEgbIAFBxQBIG0HsDms2AgALC0AAIAIgAyAAQQhqIAAoAggoAgQRAAAiACAAQaACaiAFIARBABDvASAAayIAQZ8CTARAIAEgAEEMbUEMbzYCAAsLQAAgAiADIABBCGogACgCCCgCABEAACIAIABBqAFqIAUgBEEAEO8BIABrIgBBpwFMBEAgASAAQQxtQQdvNgIACwtBACABIAIgAyAEQQQQciEBIAMtAABBBHFFBEAgACABQdAPaiABQewOaiABIAFB5ABIGyABQcUASBtB7A5rNgIACwubAQEEfyMAQRBrIgMkACMAQRBrIgIkACACQQE2AgQgAkGgARAmNgIIIAIoAggiAUIANwIEIAFB7CY2AgAgAUEMakEAQYgBEEMaIAFBmAFqIgRCADcCACABIAFBjAFqNgKIASABIAQ2ApQBIAIoAgghASACQQA2AgggACABNgIEIAAgAUEMajYCACACEOEBIAJBEGokACADQRBqJAALQAAgAiADIABBCGogACgCCCgCBBEAACIAIABBoAJqIAUgBEEAEPIBIABrIgBBnwJMBEAgASAAQQxtQQxvNgIACwtAACACIAMgAEEIaiAAKAIIKAIAEQAAIgAgAEGoAWogBSAEQQAQ8gEgAGsiAEGnAUwEQCABIABBDG1BB282AgALCwQAQQIL2gEBBX8jAEEQayIHJAAjAEEQayIDJAACQCABQe////8DTQRAAkAgARDfAQRAIAAgARBRIAAhBAwBCyADQQhqIAAgARCpAUEBahCoASADKAIMGiAAIAMoAggiBBBkIAAgAygCDBBjIAAg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IABBAWoiACABRw0ADAELQZC5ASgCACEGQZC5AUEANgIAIAAgBEEMaiADECcQpQIhBwJAQZC5ASgCACIABEAgBCgCDCABRw0BIABBxABGDQUMBAtBkLkBIAY2AgAgBCgCDCABRg0DCwsLIAJBBDYCAEEADAMLIAdC//8DWA0BCyACQQQ2AgBB//8DDAELQQAgB6ciAGsgACAFQS1GGwshACAEQRBqJAAgAEH//wNxC7YBAgF+An8jAEEQayIFJAACQAJAIAAgAUcEQEGQuQEoAgAhBkGQuQFBADYCACAAIAVBDGogAxAnEIIDIQQCQEGQuQEoAgAiAARAIAUoAgwgAUcNASAAQcQARg0DDAQLQZC5ASAGNgIAIAUoAgwgAUYNAwsLIAJBBDYCAEIAIQQMAQsgAkEENgIAIARCAFUEQEL///////////8AIQQMAQtCgICAgICAgICAfyEECyAFQRBqJAAgBAvDAQICfwF+IwBBEGsiBCQAAn8CQAJAIAAgAUcEQEGQuQEoAgAhBUGQuQFBADYCACAAIARBDGogAxAnEIIDIQYCQEGQuQEoAgAiAARAIAQoAgwgAUcNASAAQcQARg0EDAMLQZC5ASAFNgIAIAQoAgwgAUYNAgsLIAJBBDYCAEEADAILIAZCgICAgHhTIAZC/////wdVcg0AIAanDAELIAJBBDYCAEH/////ByAGQgBVDQAaQYCAgIB4CyEAIARBEGokACAACwoAIAEgAGtBDG0LpQEBA38jAEEQayIDJAAgASACEM4CIgVB7////wNNBEACQCAFEN8BBEAgACAFEFEgACEEDAELIANBCGogACAFEKkBQQFqEKgBIAMoAgwaIAAgAygCCCIEEGQgACADKAIMEGMgACAFEEkLA0AgASACRwRAIAQgARBWIARBBGohBCABQQRqIQEMAQsLIANBADYCBCAEIANBBGoQViADQRBqJAAPCxBVAAsxAQF/Qay6ASgCACEBIAAEQEGsugFBtLkBIAAgAEF/Rhs2AgALQX8gASABQbS5AUYbC64IAQV/IAEoAgAhBAJAAkACQAJAAkACQAJAAn8CQAJAAkACQCADRQ0AIAMoAgAiBkUNACAARQRAIAIhAwwDCyADQQA2AgAgAiEDDAELAkBBrLoBKAIAKAIARQRAIABFDQEgAkUNDCACIQYDQCAELAAAIgME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DQACQAJAAkACQCABQQJqDgYAAQICBAMECyAAIAI8AAAPCyAAIAI9AQAPCyAAIAI+AgAPCyAAIAI3AwALC7UDAgN/AX4jAEEgayIDJAACQCABQv///////////wCDIgVCgICAgICAwMA/fSAFQoCAgICAgMC/wAB9VARAIAFCGYinIQQgAFAgAUL///8PgyIFQoCAgAhUIAVCgICACFEbRQRAIARBgYCAgARqIQIMAgsgBEGAgICABGohAiAAIAVCgICACIWEQgBSDQEgAiAEQQFxaiECDAELIABQIAVCgICAgICAwP//AFQgBUKAgICAgIDA//8AURtFBEAgAUIZiKdB////AXFBgICA/gdyIQIMAQtBgICA/AchAiAFQv///////7+/wABWDQBBACECIAVCMIinIgRBkf4ASQ0AIANBEGogACABQv///////z+DQoCAgICAgMAAhCIFIARBgf4AaxA/IAMgACAFQYH/ACAEaxCmASADKQMIIgBCGYinIQIgAykDACADKQMQIAMpAxiEQgBSrYQiBVAgAEL///8PgyIAQoCAgAhUIABCgICACFEbRQRAIAJBAWohAgwBCyAFIABCgICACIWEQgBSDQAgAkEBcSACaiECCyADQSBqJAAgAiABQiCIp0GAgICAeHFyvguQBAIDfwF+AkACQAJ/AkACQAJ/IAAoAgQiAiAAKAJoRwRAIAAgAkEBajYCBCACLQAADAELIAAQIAsiAkEraw4DAAEAAQsgAkEtRiABRQJ/IAAoAgQiAyAAKAJoRwRAIAAgA0EBajYCBCADLQAADAELIAAQIAsiA0E6ayIBQXVLcg0BGiAAKQNwQgBTDQIgACAAKAIEQQFrNgIEDAILIAJBOmshASACIQNBAAshBCABQXZJDQAgA0EwayIBQQpJBEBBACECA0AgAyACQQpsaiEBAn8gACgCBCICIAAoAmhHBEAgACACQQFqNgIEIAItAAAMAQsgABAgCyEDIAFBMGshAiACQcyZs+YASCADQTBrIgFBCU1xDQALIAKsIQULAkAgAUEKTw0AA0AgA60gBUIKfnxCMH0hBQJ/IAAoAgQiASAAKAJoRwRAIAAgAUEBajYCBCABLQAADAELIAAQIAsiA0EwayIBQQlLDQEgBUKuj4XXx8LrowFTDQALCyABQQpJBEADQAJ/IAAoAgQiASAA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QQAgD2utVQRAQZC5AUHEADYCACACQaABaiAGEFkgAkGQAWogAikDoAEgAikDqAFCf0L///////+///8AECggAkGAAWogAikDkAEgAikDmAFCf0L///////+///8AECggAikDgAEhFSACKQOIAQwBCyAPQeIBa6wgE1cEQCAJQQBOBEADQCACQaADaiAVIBdCAEKAgICAgIDA/79/EE8gFSAXQoCAgICAgID/PxDtAyEBIAJBkANqIBUgFyACKQOgAyAVIAFBAE4iARsgAikDqAMgFyABGxBPIBNCAX0hEyACKQOYAyEXIAIpA5ADIRUgCUEBdCABciIJQQBODQALCwJ+IBMgD6x9QiB8IhSnIgFBACABQQBKGyAOIBQgDq1TGyIBQfEATgRAIAJBgANqIAYQWSACKQOIAyEWIAIpA4ADIRhCAAwBCyACQeACakGQASABaxC/AhB5IAJB0AJqIAYQWSACQfACaiACKQPgAiACKQPoAiACKQPQAiIYIAIpA9gCIhYQ7AMgAikD+AIhGSACKQPwAgshFCACQcACaiAJIAlBAXFFIBUgF0IAQgAQoAFBAEcgAUEgSHFxIgFqELQBIAJBsAJqIBggFiACKQPAAiACKQPIAhAoIAJBkAJqIAIpA7ACIAIpA7gCIBQgGRBPIAJBoAJqIBggFkIAIBUgARtCACAXIAEbECggAkGAAmogAikDoAIgAikDqAIgAikDkAIgAikDmAIQTyACQfABaiACKQOAAiACKQOIAiAUIBkQvgIgAikD8AEiFCACKQP4ASIWQgBCABCgAUUEQEGQuQFBxAA2AgALIAJB4AFqIBQgFiATpxDrAyACKQPgASEVIAIpA+gBDAELQZC5AUHEADYCACACQdABaiAGEFkgAkHAAWogAikD0AEgAikD2AFCAEKAgICAgIDAABAoIAJBsAFqIAIpA8ABIAIpA8gBQgBCgICAgICAwAAQKCACKQOwASEVIAIpA7gBCyETIAwgFTcDECAMIBM3AxggAkGwA2okACAMKQMYIRMgDCkDECEUDAYLIAEpA3BCAFMNACABIAEoAgRBAWs2AgQLIAEhBSAGIQkgAyEKQQAhA0EAIQYjAEGQxgBrIgQkAEEAIA9rIhAgDmshEgJAAn8DQCACQTBHBEACQCACQS5HDQQgBSgCBCIBIAUoAmhGDQAgBSABQQFq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AiABKAJoRwRAIAEgAkEBajYCBCACLQAADAELIAEQIAsiAkEwa0EKSSACQcEAa0EaSXIgAkHfAEZyRSACQeEAa0EaT3FFBEAgBUEBaiEFDAELC0KAgICAgIDg//8AIRMgAkEpRg0CIAEpA3AiFkIAWQRAIAEgASgCBEEBazYCBAsCQCADBEAgBQ0BDAQLDAELA0AgBUEBayEFIBZCAFkEQCABIAEoAgRBAWs2AgQLIAUNAAsMAgtBkLkBQRw2AgAgAUIAEGwLQgAhEwsgACAUNwMAIAAgEzcDCCAMQTBqJAALygYCBH8DfiMAQYABayIFJAACQAJAAkAgAyAEQgBCABCgAUUNAAJ/IARC////////P4MhCgJ/IARCMIinQf//AXEiBkH//wFHBEBBBCAGDQEaQQJBAyADIAqEUBsMAgsgAyAKhFALCyEGIAJCMIinIghB//8BcSIHQf//AUYNACAGDQELIAVBEGogASACIAMgBBAoIAUgBSkDECICIAUpAxgiASACIAEQ6QMgBSkDCCECIAUpAwAhBAwBCyABIAJC////////////AIMiCiADIARC////////////AIMiCRCgAUEATARAIAEgCiADIAkQoAEEQCABIQQMAgsgBUHwAGogASACQgBCABAoIAUpA3ghAiAFKQNwIQQMAQsgBEIwiKdB//8BcSEGIAcEfiABBSAFQeAAaiABIApCAEKAgICAgIDAu8AAECggBSkDaCIKQjCIp0H4AGshByAFKQNgCyEEIAZFBEAgBUHQAGogAyAJQgBCgICAgICAwLvAABAoIAUpA1giCUIwiKdB+ABrIQYgBSkDUCEDCyAJQv///////z+DQoCAgICAgMAAhCELIApC////////P4NCgICAgICAwACEIQogBiAHSARAA0ACfiAKIAt9IAMgBFatfSIJQgBZBEAgCSAEIAN9IgSEUARAIAVBIGogASACQgBCABAoIAUpAyghAiAFKQMgIQQMBQsgCUIBhiAEQj+IhAwBCyAKQgGGIARCP4iECyEKIARCAYYhBCAHQQFrIgcgBkoNAAsgBiEHCwJAIAogC30gAyAEVq19IglCAFMEQCAKIQkMAQsgCSAEIAN9IgSEQgBSDQAgBUEwaiABIAJCAEIAECggBSkDOCECIAUpAzAhBAwBCyAJQv///////z9YBEADQCAEQj+IIQEgB0EBayEHIARCAYYhBCABIAlCAYaEIglCgICAgICAwABUDQALCyAIQYCAAnEhBiAHQQBMBEAgBUFAayAEIAlC////////P4MgB0H4AGogBnKtQjCGhEIAQoCAgICAgMDDPxAoIAUpA0ghAiAFKQNAIQQMAQsgCUL///////8/gyAGIAdyrUIwhoQhAgsgACAENwMAIAAgAjcDCCAFQYABaiQAC6oPAgV/D34jAEHQAmsiBSQAIARC////////P4MhCyACQv///////z+DIQogAiAEhUKAgICAgICAgIB/gyENIARCMIinQf//AXEhCAJAAkAgAkIwiKdB//8BcSIJQf//AWtBgoB+TwRAIAhB//8Ba0GBgH5LDQELIAFQIAJC////////////AIMiDEKAgICAgIDA//8AVCAMQoCAgICAgMD//wBRG0UEQCACQoCAgICAgCCEIQ0MAgsgA1AgBEL///////////8AgyICQoCAgICAgMD//wBUIAJCgICAgICAwP//AFEbRQRAIARCgICAgICAIIQhDSADIQEMAgsgASAMQoCAgICAgMD//wCFhFAEQCADIAJCgICAgICAwP//AIWEUARAQgAhAUKAgICAgIDg//8AIQ0MAwsgDUKAgICAgIDA//8AhCENQgAhAQwCCyADIAJCgICAgICAwP//AIWEUARAQgAhAQwCCyABIAyEUARAQoCAgICAgOD//wAgDSACIAOEUBshDUIAIQEMAgsgAiADhFAEQCANQoCAgICAgMD//wCEIQ1CACEBDAILIAxC////////P1gEQCAFQcACaiABIAogASAKIApQIgYbeSAGQQZ0rXynIgZBD2sQP0EQIAZrIQYgBSkDyAIhCiAFKQPAAiEBCyACQv///////z9WDQAgBUGwAmogAyALIAMgCyALUCIHG3kgB0EGdK18pyIHQQ9rED8gBiAHakEQayEGIAUpA7gCIQsgBSkDsAIhAwsgBUGgAmogC0KAgICAgIDAAIQiEkIPhiADQjGIhCICQgBCgICAgLDmvIL1ACACfSIEQgAQOiAFQZACakIAIAUpA6gCfUIAIARCABA6IAVBgAJqIAUpA5gCQgGGIAUpA5ACQj+IhCIEQgAgAkIAEDogBUHwAWogBEIAQgAgBSkDiAJ9QgAQOiAFQeABaiAFKQP4AUIBhiAFKQPwAUI/iIQiBEIAIAJCABA6IAVB0AFqIARCAEIAIAUpA+gBfUIAEDogBUHAAWogBSkD2AFCAYYgBSkD0AFCP4iEIgRCACACQgAQOiAFQbABaiAEQgBCACAFKQPIAX1CABA6IAVBoAFqIAJCACAFKQO4AUIBhiAFKQOwAUI/iIRCAX0iAkIAEDogBUGQAWogA0IPhkIAIAJCABA6IAVB8ABqIAJCAEIAIAUpA6gBIAUpA6ABIgwgBSkDmAF8IgQgDFStfCAEQgFWrXx9QgAQOiAFQYABakIBIAR9QgAgAkIAEDogBiAJIAhraiEGAn8gBSkDcCITQgGGIg4gBSkDiAEiD0IBhiAFKQOAAUI/iIR8IhBC5+wAfSIUQiCIIgIgCkKAgICAgIDAAIQiFUIBhiIWQiCIIgR+IhEgAUIBhiIMQiCIIgsgECAUVq0gDiAQVq0gBSkDeEIBhiATQj+IhCAPQj+IfHx8QgF9IhNCIIgiEH58Ig4gEVStIA4gDiATQv////8PgyITIAFCP4giFyAKQgGGhEL/////D4MiCn58Ig5WrXwgBCAQfnwgBCATfiIRIAogEH58Ig8gEVStQiCGIA9CIIiEfCAOIA4gD0IghnwiDlatfCAOIA4gFEL/////D4MiFCAKfiIRIAIgC358Ig8gEVStIA8gDyATIAxC/v///w+DIhF+fCIPVq18fCIOVq18IA4gBCAUfiIYIBAgEX58IgQgAiAKfnwiCiALIBN+fCIQQiCIIAogEFatIAQgGFStIAQgClatfHxCIIaEfCIEIA5UrXwgBCAPIAIgEX4iAiALIBR+fCILQiCIIAIgC1atQiCGhHwiAiAPVK0gAiAQQiCGfCACVK18fCICIARUrXwiBEL/////////AFgEQCAWIBeEIRUgBUHQAGogAiAEIAMgEhA6IAFCMYYgBSkDWH0gBSkDUCIBQgBSrX0hCkIAIAF9IQsgBkH+/wBqDAELIAVB4ABqIARCP4YgAkIBiIQiAiAEQgGIIgQgAyASEDogAUIwhiAFKQNofSAFKQNgIgxCAFKtfSEKQgAgDH0hCyABIQwgBkH//wBqCyIGQf//AU4EQCANQoCAgICAgMD//wCEIQ1CACEBDAELAn4gBkEASgRAIApCAYYgC0I/iIQhCiAEQv///////z+DIAatQjCGhCEMIAtCAYYMAQsgBkGPf0wEQEIAIQEMAgsgBUFAayACIARBASAGaxCmASAFQTBqIAwgFSAGQfAAahA/IAVBIGogAyASIAUpA0AiAiAFKQNIIgwQOiAFKQM4IAUpAyhCAYYgBSkDICIBQj+IhH0gBSkDMCIEIAFCAYYiAVStfSEKIAQgAX0LIQQgBUEQaiADIBJCA0IAEDogBSADIBJCBUIAEDogDCACIAIgAyACQgGDIgEgBHwiA1QgCiABIANWrXwiASASViABIBJRG618IgJWrXwiBCACIAIgBEKAgICAgIDA//8AVCADIAUpAxBWIAEgBSkDGCIEViABIARRG3GtfCICVq18IgQgAiAEQoCAgICAgMD//wBUIAMgBSkDAFYgASAFKQMIIgNWIAEgA1Ebca18IgEgAlStfCANhCENCyAAIAE3AwAgACANNwMIIAVB0AJqJAALugEBBn8CfyABEMEBIQMCQCAAKAIEIgJFDQAgACgCAAJ/IAJBAWsgA3EgAmkiAEEBTQ0AGiADIAIgA0sNABogAyACcAsiBUECdGooAgAiBEUNACACQQFrIQYgAEEBSyEHA0AgBCgCACIERQ0BIAQoAgQiACADRwRAAkAgB0UEQCAAIAZxIQAMAQsgACACSQ0AIAAgAnAhAAsgACAFRw0CDAELIARBCGogARDAAUUNAAsgBAwBC0EAC0EARwu/AgEBfyMAQdAAayIEJAACQCADQYCAAU4EQCAEQSBqIAEgAkIAQoCAgICAgID//wAQKCAEKQMoIQIgBCkDICEBIANB//8BSQRAIANB//8AayEDDAILIARBEGogASACQgBCgICAgICAgP//ABAoQf3/AiADIANB/f8CThtB/v8BayEDIAQpAxghAiAEKQMQIQEMAQsgA0GBgH9KDQAgBEFAayABIAJCAEKAgICAgICAORAoIAQpA0ghAiAEKQNAIQEgA0H0gH5LBEAgA0GN/wBqIQMMAQsgBEEwaiABIAJCAEKAgICAgICAORAoQeiBfSADIANB6IF9TBtBmv4BaiEDIAQpAzghAiAEKQMwIQELIAQgASACQgAgA0H//wBqrUIwhhAoIAAgBCkDCDcDCCAAIAQpAwA3AwAgBEHQAGokAAs1ACAAIAE3AwAgACACQv///////z+DIARCMIinQYCAAnEgAkIwiKdB//8BcXKtQjCGhDcDCAvAAQIBfwJ+QX8hAwJAIABCAFIgAUL///////////8AgyIEQoCAgICAgMD//wBWIARCgICAgICAwP//AFEbDQAgAkL///////////8AgyIFQoCAgICAgMD//wBWIAVCgICAgICAwP//AFJxDQAgACAEIAWEhFAEQEEADwsgASACg0IAWQRAIAEgAlIgASACU3ENASAAIAEgAoWEQgBSDwsgAEIAUiABIAJVIAEgAlEbDQAgACABIAKFhEIAUiEDCyADCywBAX8gACgCACIBBEAgARCCBEF/EJQBRQRAIAAoAgBFDwsgAEEANgIAC0EBCzIAIAAgARA0IgAgASgCDDYCDCAAIAEoAhAiATYCECABBEAgASABKAIEQQFqNgIECyAACywBAX8gACgCACIBBEAgARCJBEF/EJQBRQRAIAAoAgBFDwsgAEEANgIAC0EBC9AEAQh/IAEQ9AMEQEEEIAEgAUEETRshBCAAQQEgABshBgNAAkAjAEEQayIHJAAgB0EANgIMAkACfyAEQQhGBEAgBhAsDAELIARBA3EgBEEESXINASAEQQJ2IgAgAEEBa3FBQCAEayAGSXINAQJ/QRAhAwJAQRBBECAEIARBEE0bIgAgAEEQTRsiASABQQFrcUUEQCABIQAMAQsDQCADIgBBAXQhAyAAIAFJDQALCyAGQUAgAGtPBEBBkLkBQTA2AgBBAAwBC0EAQRAgBkELakF4cSAGQQtJGyIDIABqQQxqECwiAkUNABogAkEIayEBAkAgAEEBayACcUUEQCABIQAMAQsgAkEEayIIKAIAIglBeHEgACACakEBa0EAIABrcUEIayICIABBACACIAFrQQ9NG2oiACABayICayEFIAlBA3FFBEAgASgCACEBIAAgBTYCBCAAIAEgAmo2AgAMAQsgACAFIAAoAgRBAXFyQQJyNgIEIAAgBWoiBSAFKAIEQQFyNgIEIAggAiAIKAIAQQFxckECcjYCACABIAJqIgUgBSgCBEEBcjYCBCABIAIQ/wELAkAgACgCBCIBQQNxRQ0AIAFBeHEiAiADQRBqTQ0AIAAgAyABQQFxckECcjYCBCAAIANqIgEgAiADayIDQQNyNgIEIAAgAmoiAiACKAIEQQFyNgIEIAEgAxD/AQsgAEEIagsLIgBFDQAgByAANgIMCyAHKAIMIQAgB0EQaiQAIAANAEGAzwEo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aiAAQSBqIABBHGogAEEYaiAAQfABahC2Ag0AIABB+AJqEDcaDAELCwJAIABB2AFqEBNFDQAgAC0AF0UNACAAKAIcIgMgAEEgamtBnwFKDQAgACADQQRqNgIcIAMgACgCGDYCAAsgACACIAAoAsQBIAQQ0AMgACkDACEGIAUgACkDCDcDCCAFIAY3AwAgAEHYAWogAEEgaiAAKAIcIAQQPSAAQfgCaiAAQfACahAjBEAgBCAEKAIAQQJyNgIACyAAKAL4AiECIAEQEhogAEHYAWoQEhogAEGAA2okACACC7oDACMAQfACayIAJAAgACACNgLgAiAAIAE2AugCIABByAFqIAMgAEHgAWogAEHcAWogAEHYAWoQtwIgAEG4AWoQHCIBIAEQHxAXIAAgAUEAEBgiAjYCtAEgACAAQRBqNgIMIABBADYCCCAAQQE6AAcgAEHFADoABgNAAkAgAEHoAmogAEHgAmoQIw0AIAAoArQBIAEQEyACakYEQCABEBMhAyABIAEQE0EBdBAXIAEgARAfEBcgACADIAFBABAYIgJqNgK0AQsgAEHoAmoQMCAAQQdqIABBBmogAiAAQbQBaiAAKALcASAAKALYASAAQcgBaiAAQRBqIABBDGogAEEIaiAAQeABahC2Ag0AIABB6AJqEDcaDAELCwJAIABByAFqEBNFDQAgAC0AB0UNACAAKAIMIgMgAEEQamtBnwFKDQAgACADQQRqNgIMIAMgACgCCDYCAAsgBSACIAAoArQBIAQQ0QM5AwAgAEHIAWogAEEQaiAAKAIMIAQQPSAAQegCaiAAQeACahAjBEAgBCAEKAIAQQJyNgIACyAAKALoAiECIAEQEhogAEHIAWoQEhogAEHwAmokACACC7oDACMAQfACayIAJAAgACACNgLgAiAAIAE2AugCIABByAFqIAMgAEHgAWogAEHcAWogAEHYAWoQtwIgAEG4AWoQHCIBIAEQHxAXIAAgAUEAEBgiAjYCtAEgACAAQRBqNgIMIABBADYCCCAAQQE6AAcgAEHFADoABgNAAkAgAEHoAmogAEHgAmoQIw0AIAAoArQBIAEQEyACakYEQCABEBMhAyABIAEQE0EBdBAXIAEgARAfEBcgACADIAFBABAYIgJqNgK0AQsgAEHoAmoQMCAAQQdqIABBBmogAiAAQbQBaiAAKALcASAA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IAQQPSAAQdgCaiAAQdACahAjBEAgBCAEKAIAQQJyNgIACyAAKALYAiECIAEQEhogAEHQAWoQEhogAEHgAmokACACC+cBAQF/IwBBIGsiBiQAIAYgATYCGAJAIAMoAgRBAXFFBEAgBkF/NgIAIAAgASACIAMgBCAGIAAoAgAoAhARBgAhAQJAAkACQCAGKAIADgIAAQILIAVBADoAAAwDCyAFQQE6AAAMAgsgBUEBOgAAIARBBDYCAAwBCyAGIAMQHSAGEEohASAGEBogBiADEB0gBhCvASEAIAYQGiAGIAAQYiAGQQxyIAAQYSAFIAZBGGoiAyACIAYgAyABIARBARDvASAGRjoAACAGKAIYIQEDQCADQQxrEC0iAyAGRw0ACwsgBkEgaiQAIAEL8gIBAX8jAEGQAmsiACQAIAAgAjYCgAIgACABNgKIAiAAQdABahAcIQYgAEEQaiICIAMQHSACEE1BkOcAQarnACAAQeABahCQASACEBogAEHAAWoQHCIDIAMQHxAXIAAgA0EAEBgiATYCvAEgACACNgIMIABBADYCCANAAkAgAEGIAmogAEGAAmoQJA0AIAAoArwBIAMQEyABakYEQCADEBMhAiADIAMQE0EBdBAXIAMgAxAfEBcgACACIANBABAYIgFqNgK8AQsgAEGIAmoQMUEQIAEgAEG8AWogAEEIakEAIAYgAEEQaiAAQQxqIABB4AFqELABDQAgAEGIAmoQOBoMAQsLIAMgACgCvAEgAWsQFyADEBYhAhAnIQEgACAFNgIAIAIgASAAEM8DQQFHBEAgBEEENgIACyAAQYgCaiAAQYACahAkBEAgBCAEKAIAQQJyNgIACyAAKAKIAiEBIAMQEhogBhASGiAAQZACaiQAIAEL0QMBAX4jAEGgAmsiACQAIAAgAjYCkAIgACABNgKYAiAAQeABaiADIABB8AFqIABB7wFqIABB7gFqELoCIABB0AFqEBwiASABEB8QFyAAIAFBABAYIgI2AswBIAAgAEEgajYCHCAAQQA2AhggAEEBOgAXIABBxQA6ABYDQAJAIABBmAJqIABBkAJqECQNACAAKALMASABEBMgAmpGBEAgARATIQMgASABEBNBAXQQFyABIAEQHxAXIAAgAyABQQAQGCICajYCzAELIABBmAJqEDEgAEEXaiAAQRZqIAIgAEHMAWogACwA7wEgACwA7gEgAEHgAWogAEEgaiAAQRxqIABBGGogAEHwAWoQuQINACAAQZgCahA4GgwBCwsCQCAAQeABahATRQ0AIAAtABdFDQAgACgCHCIDIABBIGprQZ8BSg0AIAAgA0EEajYCHCADIAAoAhg2AgALIAAgAiAAKALMASAEENADIAApAwAhBiAFIAApAwg3AwggBSAGNwMAIABB4AFqIABBIGogACgCHCAEED0gAEGYAmogAEGQAmoQJARAIAQgBCgCAEECcjYCAAsgACgCmAIhAiABEBIaIABB4AFqEBIaIABBoAJqJAAgAgu6AwAjAEGQAmsiACQAIAAgAjYCgAIgACABNgKIAiAAQdABaiADIABB4AFqIABB3wFqIABB3gFqELoCIABBwAFqEBwiASABEB8QFyAAIAFBABAYIgI2ArwBIAAgAEEQajYCDCAAQQA2AgggAEEBOgAHIABBxQA6AAYDQAJAIABBiAJqIABBgAJqECQNACAAKAK8ASABEBMgAmpGBEAgARATIQMgASABEBNBAXQQFyABIAEQHxAXIAAgAyABQQAQGCICajYCvAELIABBiAJqEDEgAEEHaiAAQQZqIAIgAEG8AWogACwA3wEgACwA3gEgAEHQAWogAEEQaiAAQQxqIABBCGogAEHgAWoQuQINACAAQYgCahA4GgwBCwsCQCAAQdABahATRQ0AIAAtAAdFDQAgACgCDCIDIABBEGprQZ8BSg0AIAAgA0EEajYCDCADIAAoAgg2AgALIAUgAiAAKAK8ASAEENEDOQMAIABB0AFqIABBEGogACgCDCAEED0gAEGIAmogAEGAAmoQJARAIAQgBCgCAEECcjYCAAsgACgCiAIhAiABEBIaIABB0AFqEBIaIABBkAJqJAAgAgu6AwAjAEGQAmsiACQAIAAgAjYCgAIgACABNgKIAiAAQdABaiADIABB4AFqIABB3wFqIABB3gFqELoCIABBwAFqEBwiASABEB8QFyAAIAFBABAYIgI2ArwBIAAgAEEQajYCDCAAQQA2AgggAEEBOgAHIABBxQA6AAYDQAJAIABBiAJqIABBgAJqECQNACAAKAK8ASABEBMgAmpGBEAgARATIQMgASABEBNBAXQQFyABIAEQHxAXIAAgAyABQQAQGCICajYCvAELIABBiAJqEDEgAEEHaiAAQQZqIAIgAEG8AWogACwA3wEgACwA3gEgAEHQAWogAEEQaiAAQQxqIABBCGogAEHgAWoQuQINACAAQYgCahA4GgwBCwsCQCAAQdABahATRQ0AIAAtAAdFDQAgACgCDCIDIABBEGprQZ8BSg0AIAAgA0EEajYCDCADIAAoAgg2AgALIAUgAiAAKAK8ASAEENIDOAIAIABB0AFqIABBEGogACgCDCAEED0gAEGIAmogAEGAAmoQJARAIAQgBCgCAEECcjYCAAsgACgCiAIhAiABEBIaIABB0AFqEBIaIABBkAJqJAAgAguRAwEBfyMAQZACayIAJAAgACACNgKAAiAAIAE2AogCIAMQeCEGIABB0AFqIAMgAEH/AWoQ0AEgAEHAAWoQHCIBIAEQHxAXIAAgAUEAEBgiAjYCvAEgACAAQRBqNgIMIABBADYCCANAAkAgAEGIAmogAEGAAmoQJA0AIAAoArwBIAEQEyACakYEQCABEBMhAyABIAEQE0EBdBAXIAEgARAfEBcgACADIAFBABAYIgJqNgK8AQsgAEGIAmoQMSAGIAIgAEG8AWogAEEIaiAALAD/ASAAQdABaiAAQRBqIABBDGpBkOcAELABDQAgAEGIAmoQOBoMAQsLAkAgAEHQAWoQE0UNACAAKAIMIgMgAEEQamtBnwFKDQAgACADQQRqNgIMIAMgACgCCDYCAAsgBSACIAAoArwBIAQgBhDTAzcDACAAQdABaiAAQRBqIAAoAgwgBBA9IABBiAJqIABBgAJqECQEQCAEIAQoAgBBAnI2AgALIAAoAogCIQIgARASGiAAQdABahASGiAAQZACaiQAIAILkQMBAX8jAEGQAmsiACQAIAAgAjYCgAIgACABNgKIAiADEHghBiAAQdABaiADIABB/wFqENABIABBwAFqEBwiASABEB8QFyAAIAFBABAYIgI2ArwBIAAgAEEQajYCDCAAQQA2AggDQAJAIABBiAJqIABBgAJqECQNACAAKAK8ASABEBMgAmpGBEAgARATIQMgASABEBNBAXQQFyABIAEQHxAXIAAgAyABQQAQGCICajYCvAELIABBiAJqEDEgBiACIABBvAFqIABBCGogACwA/wEgAEHQAWogAEEQaiAAQQxqQZDnABCwAQ0AIABBiAJqEDgaDAELCwJAIABB0AFqEBNFDQAgACgCDCIDIABB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bABGcmkAc3RvaQBiYWRfYXJyYXlfbmV3X2xlbmd0aABNYXJjaABBdWcAdW5zaWduZWQgbG9uZwBzdGQ6OndzdHJpbmcAYmFzaWNfc3RyaW5nAHN0ZDo6c3RyaW5nAHN0ZDo6dTE2c3RyaW5nAHN0ZDo6dTMyc3RyaW5nAGNvbmZpZwBpY2UtdWZyYWcAaW5mACUuMExmACVMZgBhPXJ0Y3AtcnNpemUAYT1pbmFjdGl2ZQBhPXNldHVwOmFjdGl2ZQBhPXNldHVwOnBhc3NpdmUAdHJ1ZQBUdWUAY2FuZGlkYXRlAGZhbHNlAEp1bmUAdW5rbm93biBsaW5lAGNuYW1lAGRvdWJsZQA6IG91dCBvZiByYW5nZQBpY2UtcHdkAG1zaWQAdm9pZABtaWQAbGV2ZWwtYXN5bW1ldHJ5LWFsbG93ZWQAbWVkaWEgdHlwZSBub3Qgc3VwcG9ydGVkAFBTLWVuYWJsZWQAU0JSLWVuYWJsZWQAV2VkACV4OiV4OiV4OiV4OiV4OiV4OiVkLiVkLiVkLiVkAHNzcmMAc3RkOjpiYWRfYWxsb2MARGVjAHJ0Y3AtZmIARmViAGRhdGEAd2VicnRjOi8vZG9tYWluL2xpdmUveHh4eF9kNzE5NTZkOWNjOTNlNGE0NjdiMTFlMDZmZGFmMDM5YQBfACVhICViICVkICVIOiVNOiVTICVZAFBPU0lYACVIOiVNOiVTAGE9c3NyYy1ncm91cDpGRUMtRlIAU0RQAE5BTgBQTQBBTQBMQ19BTEwATEFORwBJTkYAYT1ncm91cDpCVU5ETEUAQwBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxzaG9ydD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8dW5zaWduZWQgc2hvcnQ+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGludD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8dW5zaWduZWQgaW50PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxmbG9hdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8dWludDhfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8aW50OF90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1aW50MTZfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8aW50MTZfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8dWludDMyX3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGludDMyX3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGNoYXI+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVuc2lnbmVkIGNoYXI+AHN0ZDo6YmFzaWNfc3RyaW5nPHVuc2lnbmVkIGNoYXI+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHNpZ25lZCBjaGFyPgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxsb25nPgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBsb25nPgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxkb3VibGU+AHY9AHM9AG89AG09AGk9AGE9AGE9ZmluZ2VycHJpbnQ6AGE9aWNlLW9wdGlvbnM6AGE9Zm10cDoAYT1ydGNwOgBhPWV4dG1hcDoAYT1ydHBtYXA6AGE9aWNlLXVmcmFnOgBhPWljZS1wd2Q6AGE9bWlkOgBhPXNzcmM6AGE9cnRjcC1mYjoAYz1JTiBJUDYgOjoAIElOIElQNiA6OgAwMTIzNDU2Nzg5AEMuVVRGLTgAIElOIElQNiA6OjEAIElOIElQNCAxMjcuMC4wLjEAOjAAYz1JTiBJUDQgMC4wLjAuMAAgSU4gSVA0IDAuMC4wLjAAIGdlbmVyYXRpb24gMAB0PTAgMAAuAChudWxsKQBQdXJlIHZpcnR1YWwgZnVuY3Rpb24gY2FsbGVkIQAgcnBvcnQgAHR5cCBzcmZseCByYWRkciAALCBsaW5lIABhPW1zaWQtc2VtYW50aWM6IFdNUyAAYT1jYW5kaWRhdGU6Zm91bmRhdGlvbiAxIHVkcCAxMDAgACVzCgANCQBvcHVzAE1QNEEtTEFUTQBNUDRBLUFEVFMASDI2NABIMjY1AGZsZXhmZWMtMDMAVlA4AEFWMQByZWQAcnR4AHVscGZlYwBJU0FDAEc3MjIAAHcBAAAAAACIWAEAAQAAAAD6AAACAAAAgLsAAAMAAABErAAABAAAAAB9AAAFAAAAwF0AAAYAAAAiVgAABwAAAIA+AAAIAAAA4C4AAAkAAAARKwAACgAAAEAfAAALAAAAthwAAAwAAAAAAAAADQAAAJBfAQAPAAAAAHcBAIhYAQAA+gAAgLsAAESsAAAAfQAAwF0AACJWAACAPgAA4C4AABErAABAHwAAthwAQfgbCxiQXwEANDIwMDFmADRkMDAxZgA2NDAwMWYAQaAcC5MEaHR0cDovL3d3dy53ZWJydGMub3JnL2V4cGVyaW1lbnRzL3J0cC1oZHJleHQvYWJzLXNlbmQtdGltZQAAAAAAAGh0dHA6Ly93d3cud2VicnRjLm9yZy9leHBlcmltZW50cy9ydHAtaGRyZXh0L3BsYXlvdXQtZGVsYXkAAAAAAABodHRwOi8vd3d3LmlldGYub3JnL2lkL2RyYWZ0LWhvbG1lci1ybWNhdC10cmFuc3BvcnQtd2lkZS1jYy1leHRlbnNpb25zLTAxAAAAAAAAAGh0dHA6Ly93d3cud2VicnRjLm9yZy9leHBlcmltZW50cy9ydHAtaGRyZXh0L21ldGEtZGF0YS0wMQAAAAAAAABodHRwOi8vd3d3LndlYnJ0Yy5vcmcvZXhwZXJpbWVudHMvcnRwLWhkcmV4dC9tZXRhLWRhdGEtMDIAAAAAAAAAaHR0cDovL3d3dy53ZWJydGMub3JnL2V4cGVyaW1lbnRzL3J0cC1oZHJleHQvbWV0YS1kYXRhLTAzAAAAAAAAAGh0dHA6Ly93d3cud2VicnRjLm9yZy9leHBlcmltZW50cy9ydHAtaGRyZXh0L2RlY29kaW5nLXRpbWVzdGFtcABodHRwOi8vd3d3LndlYnJ0Yy5vcmcvZXhwZXJpbWVudHMvcnRwLWhkcmV4dC92aWRlby1jb21wb3NpdGlvbi10aW1lAEHAIAuTAWh0dHA6Ly93d3cud2VicnRjLm9yZy9leHBlcmltZW50cy9ydHAtaGRyZXh0L3ZpZGVvLWZyYW1lLXR5cGUAAAB1cmk6d2VicnRjOnJ0YzpydHAtaGRyZXh0OnZpZGVvOkNvbXBvc2l0aW9uVGltZQB1cm46aWV0ZjpwYXJhbXM6cnRwLWhkcmV4dDpzZGVzOm1pZABB4CELZnVybjppZXRmOnBhcmFtczpydHAtaGRyZXh0OnNkZXM6cnRwLXN0cmVhbS1pZAAAAHVybjppZXRmOnBhcmFtczpydHAtaGRyZXh0OnNkZXM6cmVwYWlyZWQtcnRwLXN0cmVhbS1pZABB0CILInVybjppZXRmOnBhcmFtczpydHAtaGRyZXh0OnRvZmZzZXQAQYAjC6EDdXJuOmlldGY6cGFyYW1zOnJ0cC1oZHJleHQ6c3NyYy1hdWRpby1sZXZlbAAAAAAAdXJuOjNncHA6dmlkZW8tb3JpZW50YXRpb24AAAAAAABodHRwOi8vd3d3LndlYnJ0Yy5vcmcvZXhwZXJpbWVudHMvcnRwLWhkcmV4dC92aWRlby1jb250ZW50LXR5cGUAaHR0cDovL3d3dy53ZWJydGMub3JnL2V4cGVyaW1lbnRzL3J0cC1oZHJleHQvdmlkZW8tdGltaW5nAAAAAAAAAGh0dHA6Ly93d3cud2VicnRjLm9yZy9leHBlcmltZW50cy9ydHAtaGRyZXh0L2NvbG9yLXNwYWNlAAAAAAAAAABVRFAvVExTL1JUUC9TQVZQRgBuYWNrAHRyYW5zcG9ydC1jYwBnb29nLXJlbWIAYmZyYW1lLWVuYWJsZWQAQkZyYW1lLWVuYWJsZWQANDJlMDFmAHNjdHAtcG9ydAAAAABtYXgtbWVzc2FnZS1zaXplAFVEUC9EVExTL1NDVFAAUlRQL0FWUEYAd2VicnRjOi8vAEGwJgsScGFja2V0aXphdGlvbi1tb2RlAEHQJgvmFXByb2ZpbGUtbGV2ZWwtaWQAAAAAAAAAANQTAAASAAAAEwAAABQAAAAVAAAAFgAAAE5TdDNfXzIyMF9fc2hhcmVkX3B0cl9lbXBsYWNlSU44bWluaV9zZHAxOFNlc3Npb25EZXNjcmlwdGlvbkVOU185YWxsb2NhdG9ySVMyX0VFRUUAABxTAACAEwAAyE4AAAAAAABQFAAAFwAAABgAAAAZAAAAFQAAABoAAABOU3QzX18yMjBfX3NoYXJlZF9wdHJfZW1wbGFjZUlOOG1pbmlfc2RwMTZNZWRpYURlc2NyaXB0aW9uRU5TXzlhbGxvY2F0b3JJUzJfRUVFRQAAAAAcUwAA/BMAAMhOAAAAAAAAzBQAABsAAAAcAAAAHQAAABUAAAAeAAAATlN0M19fMjIwX19zaGFyZWRfcHRyX2VtcGxhY2VJTjhtaW5pX3NkcDE2Q29kZWNEZXNjcmlwdGlvbkVOU185YWxsb2NhdG9ySVMyX0VFRUUAAAAAHFMAAHgUAADITgAAAAAAAEgVAAAfAAAAIAAAACEAAAAVAAAAIgAAAE5TdDNfXzIyMF9fc2hhcmVkX3B0cl9lbXBsYWNlSU44bWluaV9zZHAxNlRyYWNrRGVzY3JpcHRpb25FTlNfOWFsbG9jYXRvcklTMl9FRUVFAAAAABxTAAD0FAAAyE4AAABzZW5kcmVjdgBzZW5kb25seQByZWN2b25seQBpbmFjdGl2ZQBJUDQASVA2AGF1ZGlvAHZpZGVvAGFwcGxpY2F0aW9uAGFjdGl2ZQBhY3RwYXNzAHBhc3NpdmUAAAAAABQXAAA2AAAANwAAADgAAAA5AAAAOgAAADsAAAA8AAAAPQAAAD4AAABOU3QzX18yMTBfX2Z1bmN0aW9uNl9fZnVuY0lQRmJOU18xMHNoYXJlZF9wdHJJTjhtaW5pX3NkcDE4U2Vzc2lvbkRlc2NyaXB0aW9uRUVFT05TXzEyYmFzaWNfc3RyaW5nSWNOU18xMWNoYXJfdHJhaXRzSWNFRU5TXzlhbGxvY2F0b3JJY0VFRUVQS2NtRU5TOV9JU0dfRUVTRl9FRQBOU3QzX18yMTBfX2Z1bmN0aW9uNl9fYmFzZUlGYk5TXzEwc2hhcmVkX3B0cklOOG1pbmlfc2RwMThTZXNzaW9uRGVzY3JpcHRpb25FRUVPTlNfMTJiYXNpY19zdHJpbmdJY05TXzExY2hhcl90cmFpdHNJY0VFTlNfOWFsbG9jYXRvckljRUVFRVBLY21FRUUA9FIAAHsWAAAcUwAA3BUAAAwXAABQRmJOU3QzX18yMTBzaGFyZWRfcHRySU44bWluaV9zZHAxOFNlc3Npb25EZXNjcmlwdGlvbkVFRU9OU18xMmJhc2ljX3N0cmluZ0ljTlNfMTFjaGFyX3RyYWl0c0ljRUVOU185YWxsb2NhdG9ySWNFRUVFUEtjbUUARmJOU3QzX18yMTBzaGFyZWRfcHRySU44bWluaV9zZHAxOFNlc3Npb25EZXNjcmlwdGlvbkVFRU9OU18xMmJhc2ljX3N0cmluZ0ljTlNfMTFjaGFyX3RyYWl0c0ljRUVOU185YWxsb2NhdG9ySWNFRUVFUEtjbUUAAAAA2FIAAJkXAADUUwAAIBcAAAAAAAAUGAAAAAAAAIwZAAA/AAAAQAAAAEEAAABCAAAAQwAAAEQAAABFAAAARgAAAEcAAABOU3QzX18yMTBfX2Z1bmN0aW9uNl9fZnVuY0lQRmJOU18xMHNoYXJlZF9wdHJJTjhtaW5pX3NkcDE2TWVkaWFEZXNjcmlwdGlvbkVFRU9OU18xMmJhc2ljX3N0cmluZ0ljTlNfMTFjaGFyX3RyYWl0c0ljRUVOU185YWxsb2NhdG9ySWNFRUVFUEtjbUVOUzlfSVNHX0VFU0ZfRUUATlN0M19fMjEwX19mdW5jdGlvbjZfX2Jhc2VJRmJOU18xMHNoYXJlZF9wdHJJTjhtaW5pX3NkcDE2TWVkaWFEZXNjcmlwdGlvbkVFRU9OU18xMmJhc2ljX3N0cmluZ0ljTlNfMTFjaGFyX3RyYWl0c0ljRUVOU185YWxsb2NhdG9ySWNFRUVFUEtjbUVFRQD0UgAA9RgAABxTAABYGAAAhBkAAFBGYk5TdDNfXzIxMHNoYXJlZF9wdHJJTjhtaW5pX3NkcDE2TWVkaWFEZXNjcmlwdGlvbkVFRU9OU18xMmJhc2ljX3N0cmluZ0ljTlNfMTFjaGFyX3RyYWl0c0ljRUVOU185YWxsb2NhdG9ySWNFRUVFUEtjbUUARmJOU3QzX18yMTBzaGFyZWRfcHRySU44bWluaV9zZHAxNk1lZGlhRGVzY3JpcHRpb25FRUVPTlNfMTJiYXNpY19zdHJpbmdJY05TXzExY2hhcl90cmFpdHNJY0VFTlNfOWFsbG9jYXRvckljRUVFRVBLY21FAAAAANhSAAAPGgAA1FMAAJgZAAAAAAAAiBoAAA0KAGF1ZGlvAHZpZGVvAGFwcGxpY2F0aW9uAGZsZXhmZWMtMDMALQAAAAAAoxoAAKkaAACvGgAAUQUAAFUHAABkBwAA1QQAAB8EAAAqBAAASgcAAE5TdDNfXzIxMmJhc2ljX3N0cmluZ0ljTlNfMTFjaGFyX3RyYWl0c0ljRUVOU185YWxsb2NhdG9ySWNFRUVFAAD0UgAA9BoAAE5TdDNfXzIxMmJhc2ljX3N0cmluZ0loTlNfMTFjaGFyX3RyYWl0c0loRUVOU185YWxsb2NhdG9ySWhFRUVFAAD0UgAAPBsAAE5TdDNfXzIxMmJhc2ljX3N0cmluZ0l3TlNfMTFjaGFyX3RyYWl0c0l3RUVOU185YWxsb2NhdG9ySXdFRUVFAAD0UgAAhBsAAE5TdDNfXzIxMmJhc2ljX3N0cmluZ0lEc05TXzExY2hhcl90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AFwjAAAMIwAAOAAAAAAAAABUJAAAaQAAAGoAAADI////yP///1QkAABrAAAAbAAAALgjAADwIwAABCQAAMwjAAA4AAAAAAAAAEQjAABeAAAAXwAAAMj////I////RCMAAGAAAABhAAAATlN0M19fMjE5YmFzaWNfb3N0cmluZ3N0cmVhbUljTlNfMTFjaGFyX3RyYWl0c0ljRUVOU185YWxsb2NhdG9ySWNFRUVFAAAAHFMAAAwkAABEIwAAAAAAAIQkAABtAAAAbgAAAE5TdDNfXzI4aW9zX2Jhc2VFAAAA9FIAAHAkAAAAAAAA0XSeAFedvSqAcFIP//8+JwoAAABkAAAA6AMAABAnAACghgEAQEIPAICWmAAA4fUFGAAAADUAAABxAAAAa////877//+Sv///AAAAAAAAAAD/////////////////////////////////////////////////////////////////AAECAwQFBgcICf////////8KCwwNDg8QERITFBUWFxgZGhscHR4fICEiI////////woLDA0ODxAREhMUFRYXGBkaGxwdHh8gISIj/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wABAgQHAwYFAAAAAAAAAAIAAMADAADABAAAwAUAAMAGAADABwAAwAgAAMAJAADACgAAwAsAAMAMAADADQAAwA4AAMAPAADAEAAAwBEAAMASAADAEwAAwBQAAMAVAADAFgAAwBcAAMAYAADAGQAAwBoAAMAbAADAHAAAwB0AAMAeAADAHwAAwAAAALMBAADDAgAAwwMAAMMEAADDBQAAwwYAAMMHAADDCAAAwwkAAMMKAADDCwAAwwwAAMMNAADTDgAAww8AAMMAAAy7AQAMwwIADMMDAAzDBAAM2wAAAADeEgSVAAAAAP///////////////8AmAAAUAAAAQy5VVEYtOABBkM4ACwLUJgBBsM4AC0pMQ19DVFlQRQAAAABMQ19OVU1FUklDAABMQ19USU1FAAAAAABMQ19DT0xMQVRFAABMQ19NT05FVEFSWQBMQ19NRVNTQUdFUwCAKQBBhNMAC/kDAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAACAAAAAhAAAAIgAAACMAAAAkAAAAJQAAACYAAAAnAAAAKAAAACkAAAAqAAAAKwAAACwAAAAtAAAALgAAAC8AAAAwAAAAMQAAADIAAAAzAAAANAAAADUAAAA2AAAANwAAADgAAAA5AAAAOgAAADsAAAA8AAAAPQAAAD4AAAA/AAAAQAAAAEEAAABCAAAAQwAAAEQAAABFAAAARgAAAEcAAABIAAAASQAAAEoAAABLAAAATAAAAE0AAABOAAAATwAAAFAAAABRAAAAUgAAAFMAAABUAAAAVQAAAFYAAABXAAAAWAAAAFkAAABaAAAAWwAAAFwAAABdAAAAXgAAAF8AAABgAAAAQQAAAEIAAABDAAAARAAAAEUAAABGAAAARwAAAEgAAABJAAAASgAAAEsAAABMAAAATQAAAE4AAABPAAAAUAAAAFEAAABSAAAAUwAAAFQAAABVAAAAVgAAAFcAAABYAAAAWQAAAFoAAAB7AAAAfAAAAH0AAAB+AAAAfwBBgNsACwKQLwBBlN8AC/kDAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAACAAAAAhAAAAIgAAACMAAAAkAAAAJQAAACYAAAAnAAAAKAAAACkAAAAqAAAAKwAAACwAAAAtAAAALgAAAC8AAAAwAAAAMQAAADIAAAAzAAAANAAAADUAAAA2AAAANwAAADgAAAA5AAAAOgAAADsAAAA8AAAAPQAAAD4AAAA/AAAAQAAAAGEAAABiAAAAYwAAAGQAAABlAAAAZgAAAGcAAABoAAAAaQAAAGoAAABrAAAAbAAAAG0AAABuAAAAbwAAAHAAAABxAAAAcgAAAHMAAAB0AAAAdQAAAHYAAAB3AAAAeAAAAHkAAAB6AAAAWwAAAFwAAABdAAAAXgAAAF8AAABgAAAAYQAAAGIAAABjAAAAZAAAAGUAAABmAAAAZwAAAGgAAABpAAAAagAAAGsAAABsAAAAbQAAAG4AAABvAAAAcAAAAHEAAAByAAAAcwAAAHQAAAB1AAAAdgAAAHcAAAB4AAAAeQAAAHoAAAB7AAAAfAAAAH0AAAB+AAAAfwBBkOcACzEwMTIzNDU2Nzg5YWJjZGVmQUJDREVGeFgrLXBQaUluTgAlSTolTTolUyAlcCVIOiVNAEHQ5wALgQElAAAAbQAAAC8AAAAlAAAAZAAAAC8AAAAlAAAAeQAAACUAAABZAAAALQAAACUAAABtAAAALQAAACUAAABkAAAAJQAAAEkAAAA6AAAAJQAAAE0AAAA6AAAAJQAAAFMAAAAgAAAAJQAAAHAAAAAAAAAAJQAAAEgAAAA6AAAAJQAAAE0AQeDoAAtlJQAAAEgAAAA6AAAAJQAAAE0AAAA6AAAAJQAAAFMAAAAAAAAA1D0AAIIAAACDAAAAhAAAAAAAAAA0PgAAhQAAAIYAAACEAAAAhwAAAIgAAACJAAAAigAAAIsAAACMAAAAjQAAAI4AQdDpAAv9AwQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAUCAAAFAAAABQAAAAUAAAAFAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAAAwIAAIIAAACCAAAAggAAAIIAAACCAAAAggAAAIIAAACCAAAAggAAAIIAAACCAAAAggAAAIIAAACCAAAAggAAAEIBAABCAQAAQgEAAEIBAABCAQAAQgEAAEIBAABCAQAAQgEAAEIBAACCAAAAggAAAIIAAACCAAAAggAAAIIAAACCAAAAKgEAACoBAAAqAQAAKgEAACoBAAAqAQAAKgAAACoAAAAqAAAAKgAAACoAAAAqAAAAKgAAACoAAAAqAAAAKgAAACoAAAAqAAAAKgAAACoAAAAqAAAAKgAAACoAAAAqAAAAKgAAACoAAACCAAAAggAAAIIAAACCAAAAggAAAIIAAAAyAQAAMgEAADIBAAAyAQAAMgEAADIBAAAyAAAAMgAAADIAAAAyAAAAMgAAADIAAAAyAAAAMgAAADIAAAAyAAAAMgAAADIAAAAyAAAAMgAAADIAAAAyAAAAMgAAADIAAAAyAAAAMgAAAIIAAACCAAAAggAAAIIAAAAEAEHU8QAL7QKcPQAAjwAAAJAAAACEAAAAkQAAAJIAAACTAAAAlAAAAJUAAACWAAAAlwAAAAAAAABsPgAAmAAAAJkAAACEAAAAmgAAAJsAAACcAAAAnQAAAJ4AAAAAAAAAkD4AAJ8AAACgAAAAhAAAAKEAAACiAAAAowAAAKQAAAClAAAAdAAAAHIAAAB1AAAAZQAAAAAAAABmAAAAYQAAAGwAAABzAAAAZQAAAAAAAAAlAAAAbQAAAC8AAAAlAAAAZAAAAC8AAAAlAAAAeQAAAAAAAAAlAAAASAAAADoAAAAlAAAATQAAADoAAAAlAAAAUwAAAAAAAAAlAAAAYQAAACAAAAAlAAAAYgAAACAAAAAlAAAAZAAAACAAAAAlAAAASAAAADoAAAAlAAAATQAAADoAAAAlAAAAUwAAACAAAAAlAAAAWQAAAAAAAAAlAAAASQAAADoAAAAlAAAATQAAADoAAAAlAAAAUwAAACAAAAAlAAAAcABBzPQAC/4KdDoAAKYAAACnAAAAhAAAAE5TdDNfXzI2bG9jYWxlNWZhY2V0RQAAABxTAABcOgAAoE4AAAAAAAD0OgAApgAAAKgAAACEAAAAqQAAAKoAAACrAAAArAAAAK0AAACuAAAArwAAALAAAACxAAAAsgAAALMAAAC0AAAATlN0M19fMjVjdHlwZUl3RUUATlN0M19fMjEwY3R5cGVfYmFzZUUAAPRSAADWOgAAeFMAAMQ6AAAAAAAAAgAAAHQ6AAACAAAA7DoAAAIAAAAAAAAAiDsAAKYAAAC1AAAAhAAAALYAAAC3AAAAuAAAALkAAAC6AAAAuwAAALwAAABOU3QzX18yN2NvZGVjdnRJY2MxMV9fbWJzdGF0ZV90RUUATlN0M19fMjEyY29kZWN2dF9iYXNlRQAAAAD0UgAAZjsAAHhTAABEOwAAAAAAAAIAAAB0OgAAAgAAAIA7AAACAAAAAAAAAPw7AACmAAAAvQAAAIQAAAC+AAAAvwAAAMAAAADBAAAAwgAAAMMAAADEAAAATlN0M19fMjdjb2RlY3Z0SURzYzExX19tYnN0YXRlX3RFRQAAeFMAANg7AAAAAAAAAgAAAHQ6AAACAAAAgDsAAAIAAAAAAAAAcDwAAKYAAADFAAAAhAAAAMYAAADHAAAAyAAAAMkAAADKAAAAywAAAMwAAABOU3QzX18yN2NvZGVjdnRJRHNEdTExX19tYnN0YXRlX3RFRQB4UwAATDwAAAAAAAACAAAAdDoAAAIAAACAOwAAAgAAAAAAAADkPAAApgAAAM0AAACEAAAAzgAAAM8AAADQAAAA0QAAANIAAADTAAAA1AAAAE5TdDNfXzI3Y29kZWN2dElEaWMxMV9fbWJzdGF0ZV90RUUAAHhTAADAPAAAAAAAAAIAAAB0OgAAAgAAAIA7AAACAAAAAAAAAFg9AACmAAAA1QAAAIQAAADWAAAA1wAAANgAAADZAAAA2gAAANsAAADcAAAATlN0M19fMjdjb2RlY3Z0SURpRHUxMV9fbWJzdGF0ZV90RUUAeFMAADQ9AAAAAAAAAgAAAHQ6AAACAAAAgDsAAAIAAABOU3QzX18yN2NvZGVjdnRJd2MxMV9fbWJzdGF0ZV90RUUAAAB4UwAAeD0AAAAAAAACAAAAdDoAAAIAAACAOwAAAgAAAE5TdDNfXzI2bG9jYWxlNV9faW1wRQAAABxTAAC8PQAAdDoAAE5TdDNfXzI3Y29sbGF0ZUljRUUAHFMAAOA9AAB0OgAATlN0M19fMjdjb2xsYXRlSXdFRQAcUwAAAD4AAHQ6AABOU3QzX18yNWN0eXBlSWNFRQAAAHhTAAAgPgAAAAAAAAIAAAB0OgAAAgAAAOw6AAACAAAATlN0M19fMjhudW1wdW5jdEljRUUAAAAAHFMAAFQ+AAB0OgAATlN0M19fMjhudW1wdW5jdEl3RUUAAAAAHFMAAHg+AAB0OgAAAAAAAPQ9AADdAAAA3gAAAIQAAADfAAAA4AAAAOEAAAAAAAAAFD4AAOIAAADjAAAAhAAAAOQAAADlAAAA5gAAAAAAAACwPwAApgAAAOcAAACEAAAA6AAAAOkAAADqAAAA6wAAAOwAAADtAAAA7gAAAO8AAADwAAAA8QAAAPIAAABOU3QzX18yN251bV9nZXRJY05TXzE5aXN0cmVhbWJ1Zl9pdGVyYXRvckljTlNfMTFjaGFyX3RyYWl0c0ljRUVFRUVFAE5TdDNfXzI5X19udW1fZ2V0SWNFRQBOU3QzX18yMTRfX251bV9nZXRfYmFzZUUAAPRSAAB2PwAAeFMAAGA/AAAAAAAAAQAAAJA/AAAAAAAAeFMAABw/AAAAAAAAAgAAAHQ6AAACAAAAmD8AQdT/AAvKAYRAAACmAAAA8wAAAIQAAAD0AAAA9QAAAPYAAAD3AAAA+AAAAPkAAAD6AAAA+wAAAPwAAAD9AAAA/gAAAE5TdDNfXzI3bnVtX2dldEl3TlNfMTlpc3RyZWFtYnVmX2l0ZXJhdG9ySXdOU18xMWNoYXJfdHJhaXRzSXdFRUVFRUUATlN0M19fMjlfX251bV9nZXRJd0VFAAAAeFMAAFRAAAAAAAAAAQAAAJA/AAAAAAAAeFMAABBAAAAAAAAAAgAAAHQ6AAACAAAAbEAAQaiBAQveAWxBAACmAAAA/wAAAIQAAAAAAQAAAQEAAAIBAAADAQAABAEAAAUBAAAGAQAABwEAAE5TdDNfXzI3bnVtX3B1dEljTlNfMTlvc3RyZWFtYnVmX2l0ZXJhdG9ySWNOU18xMWNoYXJfdHJhaXRzSWNFRUVFRUUATlN0M19fMjlfX251bV9wdXRJY0VFAE5TdDNfXzIxNF9fbnVtX3B1dF9iYXNlRQAA9FIAADJBAAB4UwAAHEEAAAAAAAABAAAATEEAAAAAAAB4UwAA2EAAAAAAAAACAAAAdDoAAAIAAABUQQBBkIMBC74BNEIAAKYAAAAIAQAAhAAAAAkBAAAKAQAACwEAAAwBAAANAQAADgEAAA8BAAAQAQAATlN0M19fMjdudW1fcHV0SXdOU18xOW9zdHJlYW1idWZfaXRlcmF0b3JJd05TXzExY2hhcl90cmFpdHNJd0VFRUVFRQBOU3QzX18yOV9fbnVtX3B1dEl3RUUAAAB4UwAABEIAAAAAAAABAAAATEEAAAAAAAB4UwAAwEEAAAAAAAACAAAAdDoAAAIAAAAcQgBB2IQBC5oLNEMAABEBAAASAQAAhAAAABMBAAAUAQAAFQEAABYBAAAXAQAAGAEAABkBAAD4////NEMAABoBAAAbAQAAHAEAAB0BAAAeAQAAHwEAACABAABOU3QzX18yOHRpbWVfZ2V0SWNOU18xOWlzdHJlYW1idWZfaXRlcmF0b3JJY05TXzExY2hhcl90cmFpdHNJY0VFRUVFRQBOU3QzX18yOXRpbWVfYmFzZUUA9FIAAO1CAABOU3QzX18yMjBfX3RpbWVfZ2V0X2Nfc3RvcmFnZUljRUUAAAD0UgAACEMAAHhTAACoQgAAAAAAAAMAAAB0OgAAAgAAAABDAAACAAAALEMAAAAIAAAAAAAAIEQAACEBAAAiAQAAhAAAACMBAAAkAQAAJQEAACYBAAAnAQAAKAEAACkBAAD4////IEQAACoBAAArAQAALAEAAC0BAAAuAQAALwEAADABAABOU3QzX18yOHRpbWVfZ2V0SXdOU18xOWlzdHJlYW1idWZfaXRlcmF0b3JJd05TXzExY2hhcl90cmFpdHNJd0VFRUVFRQBOU3QzX18yMjBfX3RpbWVfZ2V0X2Nfc3RvcmFnZUl3RUUAAPRSAAD1QwAAeFMAALBDAAAAAAAAAwAAAHQ6AAACAAAAAEMAAAIAAAAYRAAAAAgAAAAAAADERAAAMQEAADIBAACEAAAAMwEAAE5TdDNfXzI4dGltZV9wdXRJY05TXzE5b3N0cmVhbWJ1Zl9pdGVyYXRvckljTlNfMTFjaGFyX3RyYWl0c0ljRUVFRUVFAE5TdDNfXzIxMF9fdGltZV9wdXRFAAAA9FIAAKVEAAB4UwAAYEQAAAAAAAACAAAAdDoAAAIAAAC8RAAAAAgAAAAAAABERQAANAEAADUBAACEAAAANgEAAE5TdDNfXzI4dGltZV9wdXRJd05TXzE5b3N0cmVhbWJ1Zl9pdGVyYXRvckl3TlNfMTFjaGFyX3RyYWl0c0l3RUVFRUVFAAAAAHhTAAD8RAAAAAAAAAIAAAB0OgAAAgAAALxEAAAACAAAAAAAANhFAACmAAAANwEAAIQAAAA4AQAAOQEAADoBAAA7AQAAPAEAAD0BAAA+AQAAPwEAAEABAABOU3QzX18yMTBtb25leXB1bmN0SWNMYjBFRUUATlN0M19fMjEwbW9uZXlfYmFzZUUAAAAA9FIAALhFAAB4UwAAnEUAAAAAAAACAAAAdDoAAAIAAADQRQAAAgAAAAAAAABMRgAApgAAAEEBAACEAAAAQgEAAEMBAABEAQAARQEAAEYBAABHAQAASAEAAEkBAABKAQAATlN0M19fMjEwbW9uZXlwdW5jdEljTGIxRUVFAHhTAAAwRgAAAAAAAAIAAAB0OgAAAgAAANBFAAACAAAAAAAAAMBGAACmAAAASwEAAIQAAABMAQAATQEAAE4BAABPAQAAUAEAAFEBAABSAQAAUwEAAFQBAABOU3QzX18yMTBtb25leXB1bmN0SXdMYjBFRUUAeFMAAKRGAAAAAAAAAgAAAHQ6AAACAAAA0EUAAAIAAAAAAAAANEcAAKYAAABVAQAAhAAAAFYBAABXAQAAWAEAAFkBAABaAQAAWwEAAFwBAABdAQAAXgEAAE5TdDNfXzIxMG1vbmV5cHVuY3RJd0xiMUVFRQB4UwAAGEcAAAAAAAACAAAAdDoAAAIAAADQRQAAAgAAAAAAAADYRwAApgAAAF8BAACEAAAAYAEAAGEBAABOU3QzX18yOW1vbmV5X2dldEljTlNfMTlpc3RyZWFtYnVmX2l0ZXJhdG9ySWNOU18xMWNoYXJfdHJhaXRzSWNFRUVFRUUATlN0M19fMjExX19tb25leV9nZXRJY0VFAAD0UgAAtkcAAHhTAABwRwAAAAAAAAIAAAB0OgAAAgAAANBHAEH8jwELmgF8SAAApgAAAGIBAACEAAAAYwEAAGQBAABOU3QzX18yOW1vbmV5X2dldEl3TlNfMTlpc3RyZWFtYnVmX2l0ZXJhdG9ySXdOU18xMWNoYXJfdHJhaXRzSXdFRUVFRUUATlN0M19fMjExX19tb25leV9nZXRJd0VFAAD0UgAAWkgAAHhTAAAUSAAAAAAAAAIAAAB0OgAAAgAAAHRIAEGgkQELmgEgSQAApgAAAGUBAACEAAAAZgEAAGcBAABOU3QzX18yOW1vbmV5X3B1dEljTlNfMTlvc3RyZWFtYnVmX2l0ZXJhdG9ySWNOU18xMWNoYXJfdHJhaXRzSWNFRUVFRUUATlN0M19fMjExX19tb25leV9wdXRJY0VFAAD0UgAA/kgAAHhTAAC4SAAAAAAAAAIAAAB0OgAAAgAAABhJAEHEkgELmgHESQAApgAAAGgBAACEAAAAaQEAAGoBAABOU3QzX18yOW1vbmV5X3B1dEl3TlNfMTlvc3RyZWFtYnVmX2l0ZXJhdG9ySXdOU18xMWNoYXJfdHJhaXRzSXdFRUVFRUUATlN0M19fMjExX19tb25leV9wdXRJd0VFAAD0UgAAokkAAHhTAABcSQAAAAAAAAIAAAB0OgAAAgAAALxJAEHokwELuQg8SgAApgAAAGsBAACEAAAAbAEAAG0BAABuAQAATlN0M19fMjhtZXNzYWdlc0ljRUUATlN0M19fMjEzbWVzc2Fn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";if(!P(Q)){var pa=Q;Q=g.locateFile?g.locateFile(pa,u):u+pa}\nfunction qa(){var a=Q;try{if(a==Q&&x)return new Uint8Array(x);if(P(a))try{var c=ra(a.slice(37)),b=new Uint8Array(c.length);for(a=0;a<c.length;++a)b[a]=c.charCodeAt(a);var d=b}catch(h){throw Error("Converting base64 string to bytes failed.");}else d=void 0;var f=d;if(f)return f;throw"both async and sync fetching of the wasm failed";}catch(h){y(h)}}\nfunction sa(){return x||"function"!=typeof fetch?Promise.resolve().then(function(){return qa()}):fetch(Q,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at \'"+Q+"\'";return a.arrayBuffer()}).catch(function(){return qa()})}function ta(a){for(;0<a.length;)a.shift()(g)}\nfunction ua(a){this.J=a-24;this.V=function(c){L[this.J+4>>2]=c};this.S=function(c){L[this.J+8>>2]=c};this.T=function(){K[this.J>>2]=0};this.R=function(){H[this.J+12>>0]=0};this.U=function(){H[this.J+13>>0]=0};this.O=function(c,b){this.P();this.V(c);this.S(b);this.T();this.R();this.U()};this.P=function(){L[this.J+16>>2]=0}}var va=0;function wa(a){switch(a){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+a);}}var xa=void 0;\nfunction R(a){for(var c="";C[a];)c+=xa[C[a++]];return c}var ya={},za={},Aa={};function Ba(a,c){if(void 0===a)a="_unknown";else{a=a.replace(/[^a-zA-Z0-9_]/g,"$");var b=a.charCodeAt(0);a=48<=b&&57>=b?"_"+a:a}return(new Function("body","return function "+a+\'() {\\n    "use strict";    return body.apply(this, arguments);\\n};\\n\'))(c)}\nfunction Ca(a){var c=Error,b=Ba(a,function(d){this.name=a;this.message=d;d=Error(d).stack;void 0!==d&&(this.stack=this.toString()+"\\n"+d.replace(/^Error(:[^\\n]*)?\\n/,""))});b.prototype=Object.create(c.prototype);b.prototype.constructor=b;b.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message};return b}var Da=void 0;function S(a){throw new Da(a);}\nfunction T(a,c,b={}){if(!("argPackAdvance"in c))throw new TypeError("registerType registeredInstance requires argPackAdvance");var d=c.name;a||S(\'type "\'+d+\'" must have a positive integer typeid pointer\');if(za.hasOwnProperty(a)){if(b.W)return;S("Cannot register type \'"+d+"\' twice")}za[a]=c;delete Aa[a];ya.hasOwnProperty(a)&&(c=ya[a],delete ya[a],c.forEach(f=>f()))}\nvar Ea=[],U=[{},{value:void 0},{value:null},{value:!0},{value:!1}],Fa=a=>{switch(a){case void 0:return 1;case null:return 2;case !0:return 3;case !1:return 4;default:var c=Ea.length?Ea.pop():U.length;U[c]={X:1,value:a};return c}};function Ha(a){return this.fromWireType(K[a>>2])}function Ia(a,c){switch(c){case 2:return function(b){return this.fromWireType(ia[b>>2])};case 3:return function(b){return this.fromWireType(ja[b>>3])};default:throw new TypeError("Unknown float type: "+a);}}\nfunction Ja(a,c,b){switch(c){case 0:return b?function(d){return H[d]}:function(d){return C[d]};case 1:return b?function(d){return I[d>>1]}:function(d){return J[d>>1]};case 2:return b?function(d){return K[d>>2]}:function(d){return L[d>>2]};default:throw new TypeError("Unknown integer type: "+a);}}var Ka="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;\nfunction La(a,c){var b=a>>1;for(var d=b+c/2;!(b>=d)&&J[b];)++b;b<<=1;if(32<b-a&&Ka)return Ka.decode(C.subarray(a,b));b="";for(d=0;!(d>=c/2);++d){var f=I[a+2*d>>1];if(0==f)break;b+=String.fromCharCode(f)}return b}function Ma(a,c,b){void 0===b&&(b=2147483647);if(2>b)return 0;b-=2;var d=c;b=b<2*a.length?b/2:a.length;for(var f=0;f<b;++f)I[c>>1]=a.charCodeAt(f),c+=2;I[c>>1]=0;return c-d}function Na(a){return 2*a.length}\nfunction Oa(a,c){for(var b=0,d="";!(b>=c/4);){var f=K[a+4*b>>2];if(0==f)break;++b;65536<=f?(f-=65536,d+=String.fromCharCode(55296|f>>10,56320|f&1023)):d+=String.fromCharCode(f)}return d}function Pa(a,c,b){void 0===b&&(b=2147483647);if(4>b)return 0;var d=c;b=d+b-4;for(var f=0;f<a.length;++f){var h=a.charCodeAt(f);if(55296<=h&&57343>=h){var k=a.charCodeAt(++f);h=65536+((h&1023)<<10)|k&1023}K[c>>2]=h;c+=4;if(c+4>b)break}K[c>>2]=0;return c-d}\nfunction Qa(a){for(var c=0,b=0;b<a.length;++b){var d=a.charCodeAt(b);55296<=d&&57343>=d&&++b;c+=4}return c}var Ra={};function Sa(){if(!Ta){var a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:ca||"./this.program"},c;for(c in Ra)void 0===Ra[c]?delete a[c]:a[c]=Ra[c];var b=[];for(c in a)b.push(c+"="+a[c]);Ta=b}return Ta}var Ta,Ua=[null,[],[]];\nfunction V(a){return 0===a%4&&(0!==a%100||0===a%400)}var Va=[31,29,31,30,31,30,31,31,30,31,30,31],Wa=[31,28,31,30,31,30,31,31,30,31,30,31];function Xa(a,c,b){b=Array(0<b?b:E(a)+1);a=D(a,b,0,b.length);c&&(b.length=a);return b}\nfunction Ya(a,c,b,d){function f(e,p,r){for(e="number"==typeof e?e.toString():e||"";e.length<p;)e=r[0]+e;return e}function h(e,p){return f(e,p,"0")}function k(e,p){function r(Ga){return 0>Ga?-1:0<Ga?1:0}var G;0===(G=r(e.getFullYear()-p.getFullYear()))&&0===(G=r(e.getMonth()-p.getMonth()))&&(G=r(e.getDate()-p.getDate()));return G}function l(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),\n0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function n(e){var p=e.H;for(e=new Date((new Date(e.I+1900,0,1)).getTime());0<p;){var r=e.getMonth(),G=(V(e.getFullYear())?Va:Wa)[r];if(p>G-e.getDate())p-=G-e.getDate()+1,e.setDate(1),11>r?e.setMonth(r+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1));else{e.setDate(e.getDate()+p);break}}r=new Date(e.getFullYear()+1,0,4);p=l(new Date(e.getFullYear(),0,\n4));r=l(r);return 0>=k(p,e)?0>=k(r,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var m=K[d+40>>2];d={$:K[d>>2],Z:K[d+4>>2],L:K[d+8>>2],N:K[d+12>>2],M:K[d+16>>2],I:K[d+20>>2],G:K[d+24>>2],H:K[d+28>>2],ca:K[d+32>>2],Y:K[d+36>>2],aa:m?A(m):""};b=A(b);m={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e",\n"%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var q in m)b=b.replace(new RegExp(q,"g"),m[q]);var v="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),B="January February March April May June July August September October November December".split(" ");m={"%a":function(e){return v[e.G].substring(0,3)},"%A":function(e){return v[e.G]},"%b":function(e){return B[e.M].substring(0,3)},"%B":function(e){return B[e.M]},\n"%C":function(e){return h((e.I+1900)/100|0,2)},"%d":function(e){return h(e.N,2)},"%e":function(e){return f(e.N,2," ")},"%g":function(e){return n(e).toString().substring(2)},"%G":function(e){return n(e)},"%H":function(e){return h(e.L,2)},"%I":function(e){e=e.L;0==e?e=12:12<e&&(e-=12);return h(e,2)},"%j":function(e){for(var p=0,r=0;r<=e.M-1;p+=(V(e.I+1900)?Va:Wa)[r++]);return h(e.N+p,3)},"%m":function(e){return h(e.M+1,2)},"%M":function(e){return h(e.Z,2)},"%n":function(){return"\\n"},"%p":function(e){return 0<=\ne.L&&12>e.L?"AM":"PM"},"%S":function(e){return h(e.$,2)},"%t":function(){return"\\t"},"%u":function(e){return e.G||7},"%U":function(e){return h(Math.floor((e.H+7-e.G)/7),2)},"%V":function(e){var p=Math.floor((e.H+7-(e.G+6)%7)/7);2>=(e.G+371-e.H-2)%7&&p++;if(p)53==p&&(r=(e.G+371-e.H)%7,4==r||3==r&&V(e.I)||(p=1));else{p=52;var r=(e.G+7-e.H-1)%7;(4==r||5==r&&V(e.I%400-1))&&p++}return h(p,2)},"%w":function(e){return e.G},"%W":function(e){return h(Math.floor((e.H+7-(e.G+6)%7)/7),2)},"%y":function(e){return(e.I+\n1900).toString().substring(2)},"%Y":function(e){return e.I+1900},"%z":function(e){e=e.Y;var p=0<=e;e=Math.abs(e)/60;return(p?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.aa},"%%":function(){return"%"}};b=b.replace(/%%/g,"\\x00\\x00");for(q in m)b.includes(q)&&(b=b.replace(new RegExp(q,"g"),m[q](d)));b=b.replace(/\\0\\0/g,"%");q=Xa(b,!1);if(q.length>c)return 0;H.set(q,a);return q.length-1}for(var Za=Array(256),W=0;256>W;++W)Za[W]=String.fromCharCode(W);xa=Za;\nDa=g.BindingError=Ca("BindingError");g.InternalError=Ca("InternalError");g.count_emval_handles=function(){for(var a=0,c=5;c<U.length;++c)void 0!==U[c]&&++a;return a};g.get_first_emval=function(){for(var a=5;a<U.length;++a)if(void 0!==U[a])return U[a];return null};\nvar ra="function"==typeof atob?atob:function(a){var c="",b=0;a=a.replace(/[^A-Za-z0-9\\+\\/=]/g,"");do{var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(b++));var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(b++));var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(b++));var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(b++));d=d<<2|f>>4;\nf=(f&15)<<4|h>>2;var l=(h&3)<<6|k;c+=String.fromCharCode(d);64!==h&&(c+=String.fromCharCode(f));64!==k&&(c+=String.fromCharCode(l))}while(b<a.length);return c},$a={c:function(a,c,b){(new ua(a)).O(c,b);va++;throw a;},m:function(){},k:function(a,c,b,d,f){var h=wa(b);c=R(c);T(a,{name:c,fromWireType:function(k){return!!k},toWireType:function(k,l){return l?d:f},argPackAdvance:8,readValueFromPointer:function(k){if(1===b)var l=H;else if(2===b)l=I;else if(4===b)l=K;else throw new TypeError("Unknown boolean type size: "+\nc);return this.fromWireType(l[k>>h])},K:null})},j:function(a,c){c=R(c);T(a,{name:c,fromWireType:function(b){b||S("Cannot use deleted val. handle = "+b);var d=U[b].value;4<b&&0===--U[b].X&&(U[b]=void 0,Ea.push(b));return d},toWireType:function(b,d){return Fa(d)},argPackAdvance:8,readValueFromPointer:Ha,K:null})},g:function(a,c,b){b=wa(b);c=R(c);T(a,{name:c,fromWireType:function(d){return d},toWireType:function(d,f){return f},argPackAdvance:8,readValueFromPointer:Ia(c,b),K:null})},b:function(a,c,b,\nd,f){c=R(c);-1===f&&(f=4294967295);f=wa(b);var h=l=>l;if(0===d){var k=32-8*b;h=l=>l<<k>>>k}b=c.includes("unsigned")?function(l,n){return n>>>0}:function(l,n){return n};T(a,{name:c,fromWireType:h,toWireType:b,argPackAdvance:8,readValueFromPointer:Ja(c,f,0!==d),K:null})},a:function(a,c,b){function d(h){h>>=2;var k=L;return new f(F,k[h+1],k[h])}var f=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][c];b=R(b);T(a,{name:b,fromWireType:d,argPackAdvance:8,readValueFromPointer:d},\n{W:!0})},f:function(a,c){c=R(c);var b="std::string"===c;T(a,{name:c,fromWireType:function(d){var f=L[d>>2],h=d+4;if(b)for(var k=h,l=0;l<=f;++l){var n=h+l;if(l==f||0==C[n]){k=A(k,n-k);if(void 0===m)var m=k;else m+=String.fromCharCode(0),m+=k;k=n+1}}else{m=Array(f);for(l=0;l<f;++l)m[l]=String.fromCharCode(C[h+l]);m=m.join("")}X(d);return m},toWireType:function(d,f){f instanceof ArrayBuffer&&(f=new Uint8Array(f));var h,k="string"==typeof f;k||f instanceof Uint8Array||f instanceof Uint8ClampedArray||\nf instanceof Int8Array||S("Cannot pass non-string to std::string");b&&k?h=E(f):h=f.length;var l=Y(4+h+1),n=l+4;L[l>>2]=h;if(b&&k)D(f,C,n,h+1);else if(k)for(k=0;k<h;++k){var m=f.charCodeAt(k);255<m&&(X(n),S("String has UTF-16 code units that do not fit in 8 bits"));C[n+k]=m}else for(k=0;k<h;++k)C[n+k]=f[k];null!==d&&d.push(X,l);return l},argPackAdvance:8,readValueFromPointer:Ha,K:function(d){X(d)}})},d:function(a,c,b){b=R(b);if(2===c){var d=La;var f=Ma;var h=Na;var k=()=>J;var l=1}else 4===c&&(d=Oa,\nf=Pa,h=Qa,k=()=>L,l=2);T(a,{name:b,fromWireType:function(n){for(var m=L[n>>2],q=k(),v,B=n+4,e=0;e<=m;++e){var p=n+4+e*c;if(e==m||0==q[p>>l])B=d(B,p-B),void 0===v?v=B:(v+=String.fromCharCode(0),v+=B),B=p+c}X(n);return v},toWireType:function(n,m){"string"!=typeof m&&S("Cannot pass non-string to C++ string type "+b);var q=h(m),v=Y(4+q+c);L[v>>2]=q>>l;f(m,v+4,q+c);null!==n&&n.push(X,v);return v},argPackAdvance:8,readValueFromPointer:Ha,K:function(n){X(n)}})},r:function(a,c){c=R(c);T(a,{ba:!0,name:c,argPackAdvance:0,\nfromWireType:function(){},toWireType:function(){}})},e:function(){y("")},i:function(a){var c=C.length;a>>>=0;if(2147483648<a)return!1;for(var b=1;4>=b;b*=2){var d=c*(1+.2/b);d=Math.min(d,a+100663296);var f=Math;d=Math.max(a,d);f=f.min.call(f,2147483648,d+(65536-d%65536)%65536);a:{try{z.grow(f-F.byteLength+65535>>>16);ka();var h=1;break a}catch(k){}h=void 0}if(h)return!0}return!1},o:function(a,c){var b=0;Sa().forEach(function(d,f){var h=c+b;f=L[a+4*f>>2]=h;for(h=0;h<d.length;++h)H[f++>>0]=d.charCodeAt(h);\nH[f>>0]=0;b+=d.length+1});return 0},p:function(a,c){var b=Sa();L[a>>2]=b.length;var d=0;b.forEach(function(f){d+=f.length+1});L[c>>2]=d;return 0},q:function(){return 52},l:function(){return 70},h:function(a,c,b,d){for(var f=0,h=0;h<b;h++){var k=L[c>>2],l=L[c+4>>2];c+=8;for(var n=0;n<l;n++){var m=C[k+n],q=Ua[a];0===m||10===m?((1===a?da:w)(ha(q,0)),q.length=0):q.push(m)}f+=l}L[d>>2]=f;return 0},n:function(a,c,b,d){return Ya(a,c,b,d)}};\n(function(){function a(f){g.asm=f.exports;z=g.asm.s;ka();ma.unshift(g.asm.t);M--;g.monitorRunDependencies&&g.monitorRunDependencies(M);0==M&&(null!==N&&(clearInterval(N),N=null),O&&(f=O,O=null,f()))}function c(f){a(f.instance)}function b(f){return sa().then(function(h){return WebAssembly.instantiate(h,d)}).then(function(h){return h}).then(f,function(h){w("failed to asynchronously prepare wasm: "+h);y(h)})}var d={a:$a};M++;g.monitorRunDependencies&&g.monitorRunDependencies(M);if(g.instantiateWasm)try{return g.instantiateWasm(d,\na)}catch(f){w("Module.instantiateWasm callback failed with error: "+f),t(f)}(function(){return x||"function"!=typeof WebAssembly.instantiateStreaming||P(Q)||"function"!=typeof fetch?b(c):fetch(Q,{credentials:"same-origin"}).then(function(f){return WebAssembly.instantiateStreaming(f,d).then(c,function(h){w("wasm streaming compile failed: "+h);w("falling back to ArrayBuffer instantiation");return b(c)})})})().catch(t);return{}})();\ng.___wasm_call_ctors=function(){return(g.___wasm_call_ctors=g.asm.t).apply(null,arguments)};g._parseToMiniSdp=function(){return(g._parseToMiniSdp=g.asm.u).apply(null,arguments)};g._getBuffer=function(){return(g._getBuffer=g.asm.v).apply(null,arguments)};g._loadMiniSdpToSdp=function(){return(g._loadMiniSdpToSdp=g.asm.w).apply(null,arguments)};var Y=g._malloc=function(){return(Y=g._malloc=g.asm.x).apply(null,arguments)};g.___getTypeName=function(){return(g.___getTypeName=g.asm.z).apply(null,arguments)};\ng.__embind_initialize_bindings=function(){return(g.__embind_initialize_bindings=g.asm.A).apply(null,arguments)};var X=g._free=function(){return(X=g._free=g.asm.B).apply(null,arguments)},ab=g.stackSave=function(){return(ab=g.stackSave=g.asm.C).apply(null,arguments)},bb=g.stackRestore=function(){return(bb=g.stackRestore=g.asm.D).apply(null,arguments)},cb=g.stackAlloc=function(){return(cb=g.stackAlloc=g.asm.E).apply(null,arguments)};\ng.___cxa_is_pointer_type=function(){return(g.___cxa_is_pointer_type=g.asm.F).apply(null,arguments)};g.UTF8ToString=A;\ng.ccall=function(a,c,b,d){var f={string:m=>{var q=0;if(null!==m&&void 0!==m&&0!==m){var v=(m.length<<2)+1;q=cb(v);D(m,C,q,v)}return q},array:m=>{var q=cb(m.length);H.set(m,q);return q}};a=g["_"+a];var h=[],k=0;if(d)for(var l=0;l<d.length;l++){var n=f[b[l]];n?(0===k&&(k=ab()),h[l]=n(d[l])):h[l]=d[l]}b=a.apply(null,h);return b=function(m){0!==k&&bb(k);return"string"===c?A(m):"boolean"===c?!!m:m}(b)};g.intArrayFromString=Xa;g.allocateUTF8=function(a){var c=E(a)+1,b=Y(c);b&&D(a,H,b,c);return b};var Z;\nO=function db(){Z||eb();Z||(O=db)};\nfunction eb(){function a(){if(!Z&&(Z=!0,g.calledRun=!0,!ea)){ta(ma);aa(g);if(g.onRuntimeInitialized)g.onRuntimeInitialized();if(g.postRun)for("function"==typeof g.postRun&&(g.postRun=[g.postRun]);g.postRun.length;){var c=g.postRun.shift();na.unshift(c)}ta(na)}}if(!(0<M)){if(g.preRun)for("function"==typeof g.preRun&&(g.preRun=[g.preRun]);g.preRun.length;)oa();ta(la);0<M||(g.setStatus?(g.setStatus("Running..."),setTimeout(function(){setTimeout(function(){g.setStatus("")},1);a()},1)):a())}}\nif(g.preInit)for("function"==typeof g.preInit&&(g.preInit=[g.preInit]);0<g.preInit.length;)g.preInit.pop()();eb();\n\n\n  return Module.ready\n}\n);\n})();\nif (typeof exports === \'object\' && typeof module === \'object\')\n  module.exports = Module;\nelse if (typeof define === \'function\' && define[\'amd\'])\n  define([], function() { return Module; });\nelse if (typeof exports === \'object\')\n  exports["Module"] = Module;\n'},5668:function(eA,er){"use strict";var ei=this&&this.__assign||function(){return(ei=Object.assign||function(eA){for(var er,ei=1,eo=arguments.length;ei<eo;ei++)for(var en in er=arguments[ei])Object.prototype.hasOwnProperty.call(er,en)&&(eA[en]=er[en]);return eA}).apply(this,arguments)};Object.defineProperty(er,"__esModule",{value:!0}),er.ZegoAudioEffectPlayer=void 0;var eo=function(){function eA(eA,er){this.zegoWebRTC=eA,this.stream=er}return eA.prototype.start=function(eA,er,eo,en){this.zegoWebRTC.playEffect(ei({stream:this.stream,effectID:eA},er||{}),eo,en)},eA.prototype.stop=function(eA){return this.zegoWebRTC.stopEffect(this.stream,eA)},eA.prototype.pause=function(eA){return this.zegoWebRTC.pauseEffect(this.stream,eA)},eA.prototype.resume=function(eA){return this.zegoWebRTC.resumeEffect(this.stream,eA)},eA.prototype.setVolume=function(eA,er,ei){return this.zegoWebRTC.setEffectVolume(this.stream,er,eA,ei)},eA.prototype.getTotalDuration=function(eA){return this.zegoWebRTC.getEffectDuration(eA)},eA.prototype.getCurrentProgress=function(eA){return this.zegoWebRTC.getEffectCurrentProgress(this.stream,eA)},eA.prototype.seekTo=function(eA,er){return this.zegoWebRTC.seekAudioEffect(this.stream,eA,er)},eA}();er.ZegoAudioEffectPlayer=eo},8874:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.Segmentation=void 0,function(eA){eA[eA.PortraitSegmentation=0]="PortraitSegmentation"}(er.Segmentation||(er.Segmentation={}))},5783:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.ZegoCopyrightedMusicVendorID=er.ZegoCopyrightedMusicResourceType=void 0,function(eA){eA[eA.Song=0]="Song",eA[eA.Accompaniment=1]="Accompaniment",eA[eA.AccompanimentClip=2]="AccompanimentClip"}(er.ZegoCopyrightedMusicResourceType||(er.ZegoCopyrightedMusicResourceType={})),function(eA){eA[eA.Vendor2=2]="Vendor2"}(er.ZegoCopyrightedMusicVendorID||(er.ZegoCopyrightedMusicVendorID={}))},7896:function(eA,er,ei){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.ZegoRealTimeSequentialDataManager=void 0;var eo=ei(4475),en=function(){function eA(eA,er){this.dataChannelManager=new eo.DataChannelListener(eA,er)}return eA.prototype.startBroadcasting=function(eA){return this.dataChannelManager.startBroadcasting(eA)},eA.prototype.stopBroadcasting=function(eA){return this.dataChannelManager.stopBroadcasting(eA)},eA.prototype.sendRealTimeSequentialData=function(eA,er){return this.dataChannelManager.sendRealTimeSequentialData(eA,er)},eA.prototype.startSubscribing=function(eA){return this.dataChannelManager.startSubscribing(eA)},eA.prototype.stopSubscribing=function(eA){return this.dataChannelManager.stopSubscribing(eA)},eA.prototype.on=function(eA,er){this.dataChannelManager.on(eA,er)},eA.prototype.off=function(eA,er){this.dataChannelManager.off(eA,er)},eA}();er.ZegoRealTimeSequentialDataManager=en},694:function(eA,er,ei){"use strict";var eo=this&&this.__createBinding||(Object.create?function(eA,er,ei,eo){void 0===eo&&(eo=ei);var en=Object.getOwnPropertyDescriptor(er,ei);en&&!("get"in en?!er.__esModule:en.writable||en.configurable)||(en={enumerable:!0,get:function(){return er[ei]}}),Object.defineProperty(eA,eo,en)}:function(eA,er,ei,eo){void 0===eo&&(eo=ei),eA[eo]=er[ei]}),en=this&&this.__exportStar||function(eA,er){for(var ei in eA)"default"===ei||Object.prototype.hasOwnProperty.call(er,ei)||eo(er,eA,ei)};Object.defineProperty(er,"__esModule",{value:!0}),er.ZegoSEIType=er.ZegoFontType=er.ZegoMixStreamRenderMode=er.Segmentation=er.ZegoLowlightEnhancementMode=void 0,function(eA){eA[eA.Off=0]="Off",eA[eA.On=1]="On"}(er.ZegoLowlightEnhancementMode||(er.ZegoLowlightEnhancementMode={})),function(eA){eA[eA.PortraitSegmentation=0]="PortraitSegmentation"}(er.Segmentation||(er.Segmentation={})),function(eA){eA[eA.AspectFill=0]="AspectFill",eA[eA.AspectFit=1]="AspectFit"}(er.ZegoMixStreamRenderMode||(er.ZegoMixStreamRenderMode={})),function(eA){eA[eA.ZegoFontTypeSourceHanSans=0]="ZegoFontTypeSourceHanSans",eA[eA.ZegoFontTypeAlibabaSans=1]="ZegoFontTypeAlibabaSans",eA[eA.ZegoFontTypePangMenZhengDaoTitle=2]="ZegoFontTypePangMenZhengDaoTitle",eA[eA.ZegoFontTypeHappyZcool=3]="ZegoFontTypeHappyZcool"}(er.ZegoFontType||(er.ZegoFontType={})),function(eA){eA[eA.ZegoDefined=0]="ZegoDefined",eA[eA.UserUnregister=1]="UserUnregister"}(er.ZegoSEIType||(er.ZegoSEIType={})),en(ei(8641),er),en(ei(5783),er),en(ei(8874),er)},7300:function(eA,er,ei){"use strict";var eo=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},en=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}},es=this&&this.__importDefault||function(eA){return eA&&eA.__esModule?eA:{default:eA}};Object.defineProperty(er,"__esModule",{value:!0}),er.ZegoExpressRangeAudio=void 0;var ea=es(ei(1301)),eg=function(){function eA(eA,er){this.zegoAudioListener=ea.default.getInstance(eA,er)}return eA.getInstance=function(er,ei){if(!eA.instance){if(!er)throw Error("create instance failed.");eA.instance=new eA(er,ei)}return eA.instance},eA.prototype.enableAiDenoise=function(eA){return this.zegoAudioListener.enableAiDenoise(eA)},eA.prototype.enableAudioSourceUpdateChecker=function(eA,er){this.zegoAudioListener.enableAudioSourceUpdateChecker(eA,er)},eA.prototype.on=function(eA,er){return this.zegoAudioListener.on(eA,er)},eA.prototype.off=function(eA,er){return this.zegoAudioListener.off(eA,er)},eA.prototype.setAudioReceiveRange=function(eA){this.zegoAudioListener.setAudioReceiveRange(eA)},eA.prototype.updateSelfPosition=function(eA,er,ei,eo){this.zegoAudioListener.updateSelfPosition(eA,er,ei,eo)},eA.prototype.updateAudioSource=function(eA,er){this.zegoAudioListener.updateAudioSource(eA,er)},eA.prototype.enableSpatializer=function(eA){return this.zegoAudioListener.enableSpatializer(eA)},eA.prototype.enableMicrophone=function(eA){return this.zegoAudioListener.enableMicrophone(eA)},eA.prototype.selectMicrophone=function(eA){return eo(this,void 0,void 0,function(){return en(this,function(er){switch(er.label){case 0:return[4,this.zegoAudioListener.selectMic(eA)];case 1:return[2,er.sent()]}})})},eA.prototype.selectSpeaker=function(eA){return this.zegoAudioListener.selectSpeaker(eA)},eA.prototype.enableSpeaker=function(eA){return this.zegoAudioListener.enableSpeaker(eA)},eA.prototype.setRangeAudioCustomMode=function(eA,er){this.zegoAudioListener.setCustomMode(eA,er)},eA.prototype.setRangeAudioMode=function(eA){this.zegoAudioListener.setRangeAudioMode(eA)},eA.prototype.setTeamID=function(eA){this.zegoAudioListener.setRangeAudioTeamID(eA)},eA.prototype.setPositionUpdateFrequency=function(eA){return this.zegoAudioListener.setPositionUpdateFrequency(eA)},eA.prototype.setRangeAudioVolume=function(eA){return this.zegoAudioListener.setAudioVolume(eA)},eA.prototype.setVoiceChangerPreset=function(eA){return this.zegoAudioListener.setVoiceChangerPreset(eA)},eA.prototype.isAudioContextRunning=function(){return"running"===this.zegoAudioListener.getAudioContextState()},eA.prototype.resumeAudioContext=function(){return this.zegoAudioListener.resumeAudioContext()},eA.prototype.setStreamVocalRange=function(eA,er){this.zegoAudioListener.setStreamVocalRange(eA,er)},eA.prototype.updateStreamPosition=function(eA,er){this.zegoAudioListener.updateStreamPosition(eA,er)},eA.prototype.setCustomSourceVocalRange=function(eA,er){this.zegoAudioListener.setStreamVocalRange(eA,er)},eA.prototype.updateCustomSourcePosition=function(eA,er){this.zegoAudioListener.updateStreamPosition(eA,er)},eA}();er.ZegoExpressRangeAudio=eg},8641:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.ZegoRangeAudioListenMode=er.ZegoRangeAudioSpeakMode=er.ZegoRangeAudioMode=er.ZegoRangeAudioMicrophoneState=void 0,function(eA){eA[eA.Off=0]="Off",eA[eA.TurningOn=1]="TurningOn",eA[eA.On=2]="On"}(er.ZegoRangeAudioMicrophoneState||(er.ZegoRangeAudioMicrophoneState={})),function(eA){eA[eA.World=0]="World",eA[eA.Team=1]="Team",eA[eA.SecretTeam=2]="SecretTeam"}(er.ZegoRangeAudioMode||(er.ZegoRangeAudioMode={})),function(eA){eA[eA.All=0]="All",eA[eA.World=1]="World",eA[eA.Team=2]="Team"}(er.ZegoRangeAudioSpeakMode||(er.ZegoRangeAudioSpeakMode={})),function(eA){eA[eA.All=0]="All",eA[eA.World=1]="World",eA[eA.Team=2]="Team"}(er.ZegoRangeAudioListenMode||(er.ZegoRangeAudioListenMode={}))},8913:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.ZegoStreamView=void 0;var ei=function(){function eA(eA){this.v=eA}return eA.prototype.takeStreamSnapshot=function(eA){return this.v.takeStreamSnapshot(eA)},eA.prototype.play=function(eA,er){return this.v.play(eA,er)},eA.prototype.stop=function(){return this.v.stop()},eA.prototype.resume=function(){this.v.resume()},eA.prototype.setAudioMuted=function(eA){return this.v.setAudioMuted(eA)},eA.prototype.setVideoMuted=function(eA){return this.v.setVideoMuted(eA)},eA.prototype.useAudioOutputDevice=function(eA){return this.v.useAudioOut(eA)},eA.prototype.setVolume=function(eA){return this.v.setVolume(eA)},eA.prototype.on=function(eA,er){return this.v.on(eA,er)},eA.prototype.off=function(eA,er){return this.v.off(eA,er)},eA}();er.ZegoStreamView=ei},2708:function(eA,er,ei){"use strict";var eo,en=this&&this.__extends||(eo=function(eA,er){return(eo=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(eA,er){eA.__proto__=er}||function(eA,er){for(var ei in er)Object.prototype.hasOwnProperty.call(er,ei)&&(eA[ei]=er[ei])})(eA,er)},function(eA,er){if("function"!=typeof er&&null!==er)throw TypeError("Class extends value "+String(er)+" is not a constructor or null");function ei(){this.constructor=eA}eo(eA,er),eA.prototype=null===er?Object.create(er):(ei.prototype=er.prototype,new ei)}),es=this&&this.__importDefault||function(eA){return eA&&eA.__esModule?eA:{default:eA}};Object.defineProperty(er,"__esModule",{value:!0}),er.ZegoExpressEngine=er.WebRTCUtil=void 0;var ea=ei(2192),eg=es(ei(3126)),ec=es(ei(9869)),eu=es(ei(2147)),el=es(ei(563)),ed=es(ei(2083)),eE=es(ei(375)),eI=ei(9317),eC=ei(1123),eh=ei(9045);ea.ZegoExpressEngine.use(eg.default),ea.ZegoExpressEngine.use(ec.default),ea.ZegoExpressEngine.use(eu.default),ea.ZegoExpressEngine.use(el.default),ea.ZegoExpressEngine.use(ed.default),ea.ZegoExpressEngine.use(eE.default),ea.ZegoExpressEngine.use(eI.RangeAudio),ea.ZegoExpressEngine.use(eC.DataChannel),ea.ZegoExpressEngine.use(eh.BeautyEffect);var eB=ei(2192);Object.defineProperty(er,"WebRTCUtil",{enumerable:!0,get:function(){return eB.WebRTCUtil}});var ep=function(eA){function er(){return null!==eA&&eA.apply(this,arguments)||this}return en(er,eA),er}(ea.ZegoExpressEngine);er.ZegoExpressEngine=ep},2192:function(eA,er,ei){"use strict";var eo,en=this&&this.__extends||(eo=function(eA,er){return(eo=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(eA,er){eA.__proto__=er}||function(eA,er){for(var ei in er)Object.prototype.hasOwnProperty.call(er,ei)&&(eA[ei]=er[ei])})(eA,er)},function(eA,er){if("function"!=typeof er&&null!==er)throw TypeError("Class extends value "+String(er)+" is not a constructor or null");function ei(){this.constructor=eA}eo(eA,er),eA.prototype=null===er?Object.create(er):(ei.prototype=er.prototype,new ei)});Object.defineProperty(er,"__esModule",{value:!0}),er.WebRTCUtil=er.ZegoExpressEngine=void 0;var es=ei(4119),ea=ei(1916),eg=ei(5668),ec=function(eA){function er(er,ei,eo){var en=this;return es.ZegoExpressWebRTMEngine.version="2.24.5",(en=eA.call(this,er,ei,0,arguments[2])||this).zegoWebRTC=new ea.ZegoWebRTC(en.logger,en.dataReport,en.reporter,en.zegoWebRTM,0,null==eo?void 0:eo.scenario),en}return en(er,eA),er.prototype.setEngineConfig=function(eA){this.zegoWebRTC.setEngineConfig(eA)},er.prototype.setRoomScenario=function(eA){return this.zegoWebRTC.setRoomScenario(eA)},er.prototype.setSEIConfig=function(eA){this.zegoWebRTC.setSEIConfig(eA)},er.use=function(eA){es.ZegoExpressWebRTMEngine.use(eA),ea.ZegoWebRTC.use(eA)},er.prototype.checkSystemRequirements=function(eA,er){return void 0===er&&(er=0),this.zegoWebRTC.checkSystemRequirements(er,eA)},er.prototype.off=function(eA,er){return this.zegoWebRTM.stateCenter.listenerList[eA]?this.zegoWebRTM.off(eA,er):!!this.zegoWebRTC.stateCenter.listenerList[eA]&&this.zegoWebRTC.off(eA,er)},er.prototype.on=function(eA,er){return this.zegoWebRTM.stateCenter.listenerList[eA]?this.zegoWebRTM.on(eA,er):!!this.zegoWebRTC.stateCenter.listenerList[eA]&&this.zegoWebRTC.on(eA,er)},er.prototype.createStream=function(eA){return this.zegoWebRTC.createStream(eA)},er.prototype.getPublishingStreamQuality=function(eA){return this.zegoWebRTC.getPublishingStreamQuality(eA)},er.prototype.getElectronScreenSources=function(){return this.zegoWebRTC.getElectronScreenSources()},er.prototype.destroyStream=function(eA){return this.zegoWebRTC.destroyStream(eA)},er.prototype.startPublishingStream=function(eA,er,ei){return this.zegoWebRTC.startPublishingStream(eA,er,ei)},er.prototype.stopPublishingStream=function(eA){return this.zegoWebRTC.stopPublishingStream(eA)},er.prototype.sendSEI=function(eA,er){return this.zegoWebRTC.sendSEI(eA,er)},er.prototype.setVideoConfig=function(eA,er){return this.zegoWebRTC.setVideoConfig(eA,er)},er.prototype.setAudioConfig=function(eA,er){return this.zegoWebRTC.setAudioConfig(eA,er)},er.prototype.replaceTrack=function(eA,er){return this.zegoWebRTC.replaceTrack(eA,er)},er.prototype.addTrack=function(eA,er){return this.zegoWebRTC.addTrack(eA,er)},er.prototype.removeTrack=function(eA,er){return this.zegoWebRTC.removeTrack(eA,er)},er.prototype.setCaptureVolume=function(eA,er){return this.zegoWebRTC.setCaptureVolume(eA,er)},er.prototype.setDummyCaptureImagePath=function(eA,er){return this.zegoWebRTC.setDummyCaptureImagePath(eA,er)},er.prototype.setStreamExtraInfo=function(eA,er){return this.zegoWebRTC.setStreamExtraInfo(eA,er)},er.prototype.enableVideoCaptureDevice=function(eA,er){return this.zegoWebRTC.enableCameraCapturing(eA,er)},er.prototype.addPublishCdnUrl=function(eA,er){return 3==arguments.length?this.zegoWebRTC.addPublishCdnUrl(arguments[0],arguments[2]):this.zegoWebRTC.addPublishCdnUrl(eA,er)},er.prototype.removePublishCdnUrl=function(eA,er){return 3==arguments.length?this.zegoWebRTC.removePublishCdnUrl(arguments[0],arguments[2]):this.zegoWebRTC.removePublishCdnUrl(eA,er)},er.prototype.mutePublishStreamVideo=function(eA,er,ei){return this.zegoWebRTC.mutePublishStreamVideo(eA,er,ei)},er.prototype.mutePublishStreamAudio=function(eA,er){return this.zegoWebRTC.mutePublishStreamAudio(eA,er)},er.prototype.setEffectsBeauty=function(eA,er,ei){return this.zegoWebRTC.setBeautyEffect(eA,er,ei)},er.prototype.setLowlightEnhancement=function(eA,er){return this.zegoWebRTC.setLowlightEnhance(eA,er)},er.prototype.enableDualStream=function(eA){return this.zegoWebRTC.enableDualStream(eA)},er.prototype.setLowStreamParameter=function(eA,er){return this.zegoWebRTC.setLowStreamParameter(eA,er)},er.prototype.enableHardwareEncoder=function(eA){this.zegoWebRTC.enableVideoHardwareEncoder(eA)},er.prototype.enableAutoSwitchDevice=function(eA){return this.zegoWebRTC.enableAutoSwitchDevice(eA)},er.prototype.initBackgroundModule=function(eA,er){return this.zegoWebRTC.initBackgroundModule(eA,er)},er.prototype.setBackgroundBlurOptions=function(eA,er){return this.zegoWebRTC.setBackgroundBlurOptions(eA,er)},er.prototype.setVirtualBackgroundOptions=function(eA,er){return this.zegoWebRTC.setVirtualBackgroundOptions(eA,er)},er.prototype.enableBackgroundProcess=function(eA,er,ei){return this.zegoWebRTC.enableBackgroundProcess(eA,er,ei)},er.prototype.setVoiceChangerPreset=function(eA,er){return this.zegoWebRTC.setVoiceChangerPreset(eA,er)},er.prototype.enableAiDenoise=function(eA,er){return this.zegoWebRTC.enableAiDenoise(eA,er)},er.prototype.startPlayingStream=function(eA,er){return this.zegoWebRTC.startPlayingStream(eA,er)},er.prototype.stopPlayingStream=function(eA){return this.zegoWebRTC.stopPlayingStream(eA)},er.prototype.mutePlayStreamVideo=function(eA,er){return this.zegoWebRTC.mutePlayStreamVideo(eA,er)},er.prototype.mutePlayStreamAudio=function(eA,er){return this.zegoWebRTC.mutePlayStreamAudio(eA,er)},er.prototype.getPlayingStreamQuality=function(eA){return this.zegoWebRTC.getPlayingStreamQuality(eA)},er.prototype.createLocalStreamView=function(eA){return this.zegoWebRTC.createLocalViewer(eA)},er.prototype.createRemoteStreamView=function(eA){return this.zegoWebRTC.createRemoteViewer(eA)},er.prototype.startMixerTask=function(eA){return this.zegoWebRTC.startMixerTask(eA)},er.prototype.stopMixerTask=function(eA){return this.zegoWebRTC.stopMixerTask(eA)},er.prototype.setMixerTaskConfig=function(eA){return this.zegoWebRTC.setMixerTaskConfig(eA)},er.prototype.startMixingAudio=function(eA,er){return this.zegoWebRTC.startMixingAudio(eA,er)},er.prototype.stopMixingAudio=function(eA,er){return this.zegoWebRTC.stopMixingAudio(eA,er)},er.prototype.setMixingAudioVolume=function(eA,er,ei){return this.zegoWebRTC.setMixingAudioVolume(eA,er,ei)},er.prototype.createAudioEffectPlayer=function(eA){if(eA instanceof MediaStream)return new eg.ZegoAudioEffectPlayer(this.zegoWebRTC,eA);throw Error("Param localStream is not instance of MediaStream.")},er.prototype.loadAudioEffect=function(eA,er){var ei=this;return new Promise(function(eo,en){ei.zegoWebRTC.preloadEffect(eA,er,function(er){er&&en(er),eo(eA)})})},er.prototype.unloadAudioEffect=function(eA){return this.zegoWebRTC.unloadEffect(eA)},er.prototype.enumDevices=function(){return this.zegoWebRTC.enumDevices()},er.prototype.getCameras=function(){return this.zegoWebRTC.getCameras()},er.prototype.getMicrophones=function(){return this.zegoWebRTC.getMicrophones()},er.prototype.getSpeakers=function(){return this.zegoWebRTC.getSpeakers()},er.prototype.useVideoDevice=function(eA,er){return this.zegoWebRTC.useVideoDevice(eA,er)},er.prototype.useAudioDevice=function(eA,er){return this.zegoWebRTC.useAudioDevice(eA,er)},er.prototype.useAudioOutputDevice=function(eA,er){return this.zegoWebRTC.setAudioOutputDevice(eA,er)},er.prototype.setSoundLevelDelegate=function(eA,er,ei){return this.zegoWebRTC.setSoundLevelDelegate(eA,er,null==ei?void 0:ei.enableInBackground)},er.prototype.isMicrophoneMuted=function(){return this.zegoWebRTC.isMicrophoneMuted()},er.prototype.muteMicrophone=function(eA){return this.zegoWebRTC.muteMicrophone(eA)},er.prototype.createRangeAudioInstance=function(){return this.zegoWebRTC.createRangeAudioInstance()},er.prototype.createRealTimeSequentialDataManager=function(eA){return this.zegoWebRTC.createRealTimeSequentialDataManager(eA)},er.prototype.destroyRealTimeSequentialDataManager=function(eA){this.zegoWebRTC.destroyRealTimeSequentialDataManager(eA)},er.prototype.createCopyrightedMusic=function(){return this.zegoWebRTC.createCopyrightedMusic()},er.prototype.destroyCopyrightedMusic=function(){return this.zegoWebRTC.destroyCopyrightedMusic()},er}(es.ZegoExpressWebRTMEngine);er.ZegoExpressEngine=ec;var eu=ei(1018);Object.defineProperty(er,"WebRTCUtil",{enumerable:!0,get:function(){return eu.WebRTCUtil}})},9585:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0});var ei=function(){function eA(){this.handlerListMap={microphoneStateUpdate:[],audioSourceWithinRangeUpdate:[],publishQualityUpdate:[],playQualityUpdate:[],aiDenoiseError:[],voiceChangerError:[]}}return eA.getInstance=function(){return eA.instance||(eA.instance=new eA),eA.instance},eA.prototype.addEventHandler=function(eA,er){if(!this.handlerListMap[eA])return!1;if("function"!=typeof er)throw Error("Params callBack is not a Function");return -1==this.handlerListMap[eA].indexOf(er)&&this.handlerListMap[eA].push(er),!0},eA.prototype.removeEventHandler=function(eA,er){return!!this.handlerListMap[eA]&&(this.handlerListMap[eA]=er?this.handlerListMap[eA].filter(function(eA){return eA!==er}):[],!0)},eA.prototype.emit=function(eA){for(var er=[],ei=1;ei<arguments.length;ei++)er[ei-1]=arguments[ei];this.handlerListMap[eA]&&this.handlerListMap[eA].forEach(function(ei){try{setTimeout(function(){ei.apply(void 0,er)},0)}catch(er){console.error('Fail to execute callback of event "'.concat(eA,'" : ').concat(er))}})},eA}();er.default=ei},93:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.ZEGO_WEBRTC_ACTION=void 0,function(eA){eA.CONSTRUCTOR="zc.0",eA.CHECK_SUPPORT="zc.csr",eA.CREATE_STREAM="zc.cs",eA.DESTROY_STREAM="zc.ds",eA.START_PUBLISHING_STREAM="zc.sps.0",eA.START_PLAYING_STREAM="zc.sps.1",eA.STOP_PUBLISHING_STREAM="zc.sps.0.0",eA.STOP_PLAYING_STREAM="zc.sps.1.0",eA.SET_MEDIA_SIDE_FLAGS="zc.smsg.0",eA.SEND_MEDIA_SIDE_INFO="zc.smsi.0",eA.ON_STREAM="zc.os",eA.ON_PUSH_STREAM_UPDATE="zc.opsu",eA.BIND_WINDOW_LISTENER="zc.wl",eA.SET_AUDIO_OUTPUT="zc.sao",eA.SET_CUSTOM_SIGNAL_URL="zc.scsu",eA.SET_TURN_OVER_TCP_ONLY="zc.stoto",eA.RDH_ACTIVE="zc.rdh.a",eA.RDH_MAX_TIME="zc.rdh.m",eA.RDH_WEBRTC_URL_RSP="zc.rdh.hfwur",eA.PUBLISH_STATE_HANDLE="zc.psh.0",eA.PLAY_STATE_HANDLE="zc.psh.1",eA.RETRYSTREAMHANDLER_RETRY_NEW_GW_NODE="zc.tsh.rngn.0",eA.RETRYSTREAMHANDLER_RETRY_NEXT_GW_NODE="zc.tsh.rngn.1",eA.STATECENTER_ACTION_LISTENER="zc.sc.al",eA.STATECENTER_SET_SETTING="zc.sc.ss",eA.SIGNAL_SET_SESSION_INFO="zc.s.ssi",eA.SIGNAL_RESET_CONNECT_TIMER="zc.s.rct",eA.SIGNAL_RESET_LOGIN_TIMER="zc.s.rlt",eA.SIGNAL_BIND_WEBSOCKET_HANDLE="zc.s.bwh",eA.SIGNAL_RESET_CHECK_MESSAGE="zc.s.rcm",eA.SIGNAL_UPDATE_TOKEN="zc.s.ut",eA.SIGNAL_DISCONNECTCALLBACK="zc.s.dcb",eA.SIGNAL_SEND_MESSAGE_WITH_CALLBACK="zc.s.smwc",eA.SIGNAL_CONNECT_SERVER="zc.s.cs.0",eA.SIGNAL_START_CONNECT_TIMER="zc.s.sct",eA.SIGNAL_DISCONNECT_SERVER="zc.s.dc",eA.SIGNAL_CREATE_SESSION="zc.s.cs.1",eA.SIGNAL_REMOVE_SESSION="zc.s.rs",eA.SIGNAL_SEND_REMOVE_SESSION="zc.s.srs",eA.SIGNAL_SEND_MESSAGE="zc.s.sm",eA.SIGNAL_HANDLE_RESPOND_DATA="zc.s.hrd",eA.SIGNAL_ADD_SESSION="zc.s.as",eA.SIGNAL_HANDLE_PUSH_DATA="zc.s.hpd",eA.SIGNAL_HANDLE_PUSH_RESET_SESSION_DATA="zc.s.hprsd",eA.SIGNAL_SEND_MEDIA_DESC="zc.s.smd",eA.SIGNAL_SEND_CANDIDATE_INFO="zc.s.sci",eA.SIGNAL_SEND_MEDIA_DESC_ACK="zc.s.smda",eA.SIGNAL_SEND_CANDIDATE_INFO_ACK="zc.s.scia",eA.SIGNAL_SEND_CLOSE_SESSION_ACK="zc.s.scsa",eA.SIGNAL_SEND_RESET_SESSION_ACK="zc.s.srsa",eA.SIGNAL_REGISTER_PUSH_CALLBACK="zc.s.rpc",eA.SIGNAL_CHECK_MESSAGE_TIMEOUT="zc.s.cmt",eA.SIGNAL_SEND_HEARTBEAT="zc.s.sh",eA.SIGNAL_QUALITY_REPORT="zc.s.qr",eA.SIGNAL_SEND_STREAM_STATUS="zc.s.sss",eA.SIGNAL_ACTIVE_PLAY_VIDEO_STREAM="zc.s.apvs",eA.SIGNAL_ACTIVE_PLAY_AUDIO_STREAM="zc.s.apas",eA.SIGNAL_SEND_BROADCAST_STATUS="zc.s.sbs",eA.SIGNAL_SEND_NET_PROBE="zc.s.snp",eA.SIGNAL_SEND_NET_QUALITY_INFO_PUSH_ACK="zc.s.npa",eA.STREAMCENTER_SET_STREAM_GW_NODE="zsc.ssgn",eA.STREAMCENTER_CLEAR_CACHED_GWNODES_LIST="zsc.ccgl",eA.STREAMCENTER_CHECK_CACHED_NODES_USE="zsc.ccns",eA.STREAMCENTER_UPDATE_CACHED_GWNODES_LIST="zsc.ucgl",eA.PUBLISHER_START_PUBLISH="zc.p.0.sp.0",eA.PUBLISHER_PUBLISH_SUCCESS="zc.p.ps",eA.PUBLISHER_ON_CREATE_PUBLISH_SESSION_SUCCESS="zc.p.0.ocpss",eA.PUBLISHER_COMPARE_PUSH_SEQS="zc.p.cps.0",eA.PUBLISHER_HANDLE_CREATE_SESSION_WITH_SDP="zc.p.0.hcsws",eA.PUBLISHER_ON_CREATE_OFFER_SUCCESS="zc.p.0.ocos",eA.PUBLISHER_ON_SET_LOCAL_DESCRIPTION_SUCCESS="zc.p.0.oslds",eA.PUBLISHER_ON_GET_REMOTE_DESCRIPTION="zc.p.0.ogrd",eA.PUBLISHER_ON_RECV_MEDIA_DESC="zc.p.0.ormd",eA.PUBLISHER_ON_RECV_CANDIDATE_INFO="zc.p.0.orci.0",eA.PUBLISHER_ON_RECV_PUBLISH_EVENT="zc.p.0.orpe",eA.PUBLISHER_ON_RECV_CLIENT_INFO="zc.p.0.orci.1",eA.PUBLISHER_ON_ICE_CANDIDATE="zc.p.0.oic",eA.PUBLISHER_ON_CONNECTION_STATE_CHANGE="zc.p.0.ocsc",eA.PUBLISHER_ON_ICE_CONNECTION_STATE_CHANGE="zc.p.0.oicsc",eA.PUBLISHER_RESET_PUBLISH="zc.p.0.rp",eA.PUBLISHER_SET_PLAYER_QUALITY_TIMER="zc.p.0.spqt",eA.PUBLISHER_UPLOAD_PUBLISH_QUALITY="zc.p.0.upq",eA.PUBLISHER_ON_RECV_RESET_SESSION="zc.p.0.orrs",eA.PUBLISHER_ON_RECV_CLOSE_SESSION="zc.p.0.orcs",eA.PUBLISHER_SEND_CANDIDATE_INFO="zc.p.0.sci",eA.PUBLISHER_STATE_ERROR="zc.p.0.psr",eA.PUBLISHER_STOP_PUBLISH="zc.p.0.sp.1",eA.PUBLISHER_ON_DISCONNECT="zc.p.0.od",eA.PUBLISHER_START_SOUND_LEVEL="zc.p.0.ssl.0",eA.PUBLISHER_STOP_SOUND_LEVEL="zc.p.0.ssl.1",eA.PUBLISHER_HANDLE_ENC_BITRATE="zc.p.0.heb",eA.PUBLISHER_ON_RECV_NET_QUALITY_INFO="zc.p.0.nqi",eA.PUBLISHER_ON_RECV_UPDATE_MEDIA_DESC="zc.p.0.orumd",eA.PUBLISHER_SEND_SEI="zc.p.0.ss",eA.PUBLISHER_RESET_GW_NODES="zc.p.0.rgn",eA.PUBLISHER_SET_GW_NODES="zc.p.0.sgn",eA.PUBLISHER_HANDLE_DISPATCHED_GW_NODES="zc.p.0.hdgn",eA.PUBLISHER_PURE_SORT_GW_NODES="zc.p.0.psgn",eA.PLAYER_START_PLAY="zc.p.1.sp.0",eA.PLAYER_ON_CREATE_PLAY_SESSION_SUCCESS="zc.p.ocpss.1",eA.PLAYER_COMPARE_PUSH_SEQS="zc.p.cps.1",eA.PLAYER_HANDLE_CREATE_SESSION_WITH_SDP="zc.p.hcsws.1",eA.PLAYER_ON_CREATE_OFFER_SUCCESS="zc.p.ocos.1",eA.PLAYER_ON_SET_LOCAL_DESCRIPTION_SUCCESS="zc.p.oslds.1",eA.PLAYER_ON_RECV_MEDIA_DESC="zc.p.ormd.1",eA.PLAYER_ON_RECV_CANDIDATE_INFO="zc.p.orci.1",eA.PLAYER_ON_RECV_PLAY_EVENT="zc.p.orpe.1",eA.PLAYER_ON_RECV_CLIENT_INFO="zc.p.orci.1.1",eA.PLAYER_ON_ICE_CANDIDATE="zc.p.oic.1",eA.PLAYER_ON_CONNECTION_STATE_CHANGE="zc.p.ocsc.1",eA.PLAYER_ON_ICE_CONNECTION_STATE_CHANGE="zc.p.oicsc.1",eA.PLAYER_ON_PEER_CONNECTION_STATE_CHANGE="zc.p.opcsc.1",eA.PLAYER_RESET_PLAY="zc.p.rp.1",eA.PLAYER_SET_PLAYER_QUALITY_TIMER="zc.p.spqt.1",eA.PLAYER_UPLOAD_PLAYER_QUALITY="zc.p.upq.1",eA.PLAYER_ON_RECV_RESET_SESSION="zc.p.orrs.1",eA.PLAYER_ON_RECV_CLOSE_SESSION="zc.p.orcs.1",eA.PLAYER_ON_RECV_STREAM_STATUS="zc.p.orss.1",eA.PLAYER_ON_GOT_REMOTE_STREAM="zc.p.ogrs.1",eA.PAYER_GET_VIDEO_CODEC="zc.p.gvc",eA.PLAYER_SEND_CANDIDATE_INFO="zc.p.sci.1",eA.PLAYER_STATE_ERROR="zc.p.psr.1",eA.PLAYER_STOP_PLAY="zc.p.1.sp.1",eA.PLAYER_ON_DISCONNECT="zc.p.od.1",eA.PLAYER_START_SOUND_LEVEL="zc.p.ssl.1",eA.PLAYER_STOP_SOUND_LEVEL="zc.p.ssl.1.1",eA.PLAYER_ON_RECV_NET_QUALITY_INFO="zc.p.1.nqi",eA.PLAYER_RESET_GW_NODES="zc.p.1.rgn",eA.PLAYER_SET_GW_NODES="zc.p.1.sgn",eA.PLAYER_HANDLE_DISPATCHED_GW_NODES="zc.p.1.hdgn",eA.PLAYER_PURE_SORT_GW_NODES="zc.p.1.psgn",eA.UPLOAD_SPEED_LOG_QUALITY="zc.uslq",eA.GS_REGISTER_PUSH_CALLBACK="zc.gs.rpc",eA.PUBLISH_SET_CAPTURE_VOLUME="zc.p.scv",eA.PUBLISH_SET_BEAUTY_EFFECT="zc.p.0.sbe",eA.STREAMHANDLER_MERGE_STREAM_BY_STREAM_SEQ="zc.sh.msbss",eA.STREAMHANDLER_MERGE_STREAM="zc.sh.ms",eA.STREAMHANDLER_PATCH_STREAM_LIST="zc.sh.psl",eA.STREAMHANDLER_SEND_BIZCHANNEL_REQUESTV2="zc.sh.sbr",eA.STREAMHANDLER_SEND_BIZCHANNEL_REQUESTV3="zc.sh.sbr3",eA.ANALOGSOCKET_UPDATE_MEDIA_READY_STATE="zc.as.umrs",eA.ANALOGSOCKET_UPDATE_ACCESS_READY_STATE="zc.as.uars",eA.ANALOGSOCKET_SET_MEDIA_SERVER_STATE="zc.as.smss",eA.ANALOGSOCKET_SET_ACCESS_SERVER_STATE="zc.as.sass",eA.ANALOGSOCKET_SEND="zc.as.s.0",eA.ANALOGSOCKET_OPEN="zc.as.op",eA.SET_ROOM_SCENARIO="zc.srs",eA.INIT_ROOM_SCENARIO="zc.irs",eA.STREAM_STORE_HANDLER="zc.ssh",eA.SEND_NET_QUALITY_GRADE_ACK="zc.s.nqga"}(er.ZEGO_WEBRTC_ACTION||(er.ZEGO_WEBRTC_ACTION={}))},9770:function(eA,er,ei){"use strict";var eo=this&&this.__assign||function(){return(eo=Object.assign||function(eA){for(var er,ei=1,eo=arguments.length;ei<eo;ei++)for(var en in er=arguments[ei])Object.prototype.hasOwnProperty.call(er,en)&&(eA[en]=er[en]);return eA}).apply(this,arguments)};Object.defineProperty(er,"__esModule",{value:!0}),er.CommonStates=void 0;var en=ei(5123),es=function(){function eA(eA,er,ei){this.rtmStateCenter=eA,this.rtcStateCenter=er,this.streamCenter=ei,this._initTime=Date.now()}return Object.defineProperty(eA.prototype,"appid",{get:function(){return this.rtcStateCenter.appid},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"device_id",{get:function(){return this.rtmStateCenter.deviceID},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"product",{get:function(){return this.rtmStateCenter.roomServer},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"sdk_version",{get:function(){return en.PROTO_VERSION},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"sys_info",{get:function(){return navigator.userAgent},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"report_version",{get:function(){return this.rtcStateCenter.reportVersion},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"browser",{get:function(){return this.rtcStateCenter.browser},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"id_name",{get:function(){return this.rtmStateCenter.idName},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"nick_name",{get:function(){return this.rtmStateCenter.nickName},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"use_na",{get:function(){return this.rtcStateCenter.useNetAgent?1:0},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"userid",{get:function(){return this.rtmStateCenter.userid},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"network_state",{get:function(){return this.rtcStateCenter.networkState},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"init_time",{get:function(){return this._initTime},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"net_type",{get:function(){var eA;return(null===(eA=navigator.connection)||void 0===eA?void 0:eA.effectiveType)||"unknown"},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"room_server",{get:function(){return this.rtmStateCenter.roomServer},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"device_infos",{get:function(){return this.rtcStateCenter.deviceInfos},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"room_list",{get:function(){var eA=this,er={};return this.rtcStateCenter.roomList.forEach(function(ei){var eo,en,es,ea=eA.rtmStateCenter.roomModulesList.find(function(eA){return eA.roomID===ei.roomID}),eg={roomSessionID:ei.roomSessionID,sessionID:ei.sessionID,streamList:ei.streamList,token:ei.token,role:eA.rtmStateCenter.role,roomCreateFlag:eA.rtmStateCenter.roomCreateFlag,loginTime:null==ea?void 0:ea.loginTime,heartbeatInterval:null===(eo=null==ea?void 0:ea.heartBeatHandler)||void 0===eo?void 0:eo.heartbeatInterval,roomExtraInfos:null===(en=null==ea?void 0:ea.messageHandler)||void 0===en?void 0:en.transSeqMap,roomRetryTime:null===(es=null==ea?void 0:ea.roomTryHandler)||void 0===es?void 0:es.RETRY_MAX_TIME};er[ei.roomID]=eg}),er},enumerable:!1,configurable:!0}),eA.prototype.getRoomList=function(eA,er){var ei=this;return this.room_id_list.slice(eA,er).map(function(eA){return eo({roomID:eA},ei.room_list[eA])})},Object.defineProperty(eA.prototype,"room_id_list",{get:function(){return this.rtcStateCenter.roomList.map(function(eA){return eA.roomID})},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"roomListSize",{get:function(){return this.room_id_list.length},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"userLoginState",{get:function(){var eA,er=this.rtmStateCenter.roomModulesList[0],ei=er.runState,eo=er.lastRunState;return ei===en.ENUM_RUN_STATE.logout?eA=en.USER_RUN_STATE.logout:ei===en.ENUM_RUN_STATE.login?eA=en.USER_RUN_STATE.login:eo===en.ENUM_RUN_STATE.logout?eA=en.USER_RUN_STATE.trylogin:eo===en.ENUM_RUN_STATE.login&&(eA=en.USER_RUN_STATE.reconnect),eA},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"publishStreamList",{get:function(){return Object.keys(this.streamCenter.publisherList)},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"publishList",{get:function(){var eA=this,er={};return this.publishStreamList.forEach(function(ei){var eo,en,es,ea=eA.streamCenter.publisherList[ei],eg=null==ea?void 0:ea.publisher,ec=null==eg?void 0:eg.publishStat;er[ei]={streamSid:null==ea?void 0:ea.streamSid,roomID:null===(eo=null==ea?void 0:ea.room)||void 0===eo?void 0:eo.roomID,roomSessionID:null===(en=null==ea?void 0:ea.room)||void 0===en?void 0:en.roomSessionID,cameraLabel:null==ea?void 0:ea.cameraLabel,microLabel:null==ea?void 0:ea.microLabel,cameraStatus:null==eg?void 0:eg.camera_status,micStatus:null==eg?void 0:eg.mic_status,sessionId:null==eg?void 0:eg.sessionId,publishBeginTime:null==eg?void 0:eg.reportPublishStateTime,serverUrl:null===(es=null==eg?void 0:eg.signal)||void 0===es?void 0:es.server,gwNode:null==eg?void 0:eg.gwNode,proto:"webrtc",frameWidth:null==ec?void 0:ec.frameWidth,frameHeight:null==ec?void 0:ec.frameHeight,rtt:null==ec?void 0:ec.currentRoundTripTime,videoPacketsLostRate:null==ec?void 0:ec.videoPacketsLostRate,audioPacketsLostRate:null==ec?void 0:ec.audioPacketsLostRate,videoTargetBitrate:null==ec?void 0:ec.videoTargetBitrate,videoBitrate:null==ec?void 0:ec.videoBitrate,audioTargetBitrate:null==ec?void 0:ec.audioTargetBitrate,audioBitrate:null==ec?void 0:ec.audioBitrate,videoTargetFPS:null==ec?void 0:ec.videoTargetFPS,videoFPS:null==ec?void 0:ec.videoFPS,audioFPS:null==ec?void 0:ec.audioFPS,videoCodecName:null==ec?void 0:ec.videoCodecName,audioCodecName:null==ec?void 0:ec.audioCodecName}}),er},enumerable:!1,configurable:!0}),eA.prototype.getPublishList=function(eA,er){var ei=this;return this.publishStreamList.slice(eA,er).map(function(eA){return eo({streamID:eA},ei.publishList[eA])})},Object.defineProperty(eA.prototype,"publishListSize",{get:function(){return this.publishStreamList.length},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"playStreamList",{get:function(){return Object.keys(this.streamCenter.playerList)},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"playList",{get:function(){var eA=this,er={};return this.playStreamList.forEach(function(ei){var eo,en,es,ea=eA.streamCenter.playerList[ei],eg=null==ea?void 0:ea.player,ec=null==eg?void 0:eg.playStat;er[ei]={streamSid:null==ea?void 0:ea.streamSid,roomID:null===(eo=null==ea?void 0:ea.room)||void 0===eo?void 0:eo.roomID,roomSessionID:null===(en=null==ea?void 0:ea.room)||void 0===en?void 0:en.roomSessionID,cameraStatus:null==eg?void 0:eg.cameraStatus,micStatus:null==eg?void 0:eg.micStatus,sessionId:null==eg?void 0:eg.sessionId,playBeginTime:null==eg?void 0:eg.reportPlayStateTime,serverUrl:null===(es=null==eg?void 0:eg.signal)||void 0===es?void 0:es.server,gwNode:null==eg?void 0:eg.gwNode,proto:"webrtc",frameWidth:null==ec?void 0:ec.frameWidth,frameHeight:null==ec?void 0:ec.frameHeight,rtt:null==ec?void 0:ec.currentRoundTripTime,videoPacketsLostRate:null==ec?void 0:ec.videoPacketsLostRate,audioPacketsLostRate:null==ec?void 0:ec.audioPacketsLostRate,videoBitrate:null==ec?void 0:ec.videoBitrate,audioBitrate:null==ec?void 0:ec.audioBitrate,videoFPS:null==ec?void 0:ec.videoFPS,audioFPS:null==ec?void 0:ec.audioFPS,videoCodecName:null==ec?void 0:ec.videoCodecName,audioCodecName:null==ec?void 0:ec.audioCodecName,peerToPeerDelay:null==ec?void 0:ec.peerToPeerDelay,firstFrameTime:null==ec?void 0:ec.firstFrameTime,videoJitter:null==ec?void 0:ec.videoJitter,audioJitter:null==ec?void 0:ec.audioJitter}}),er},enumerable:!1,configurable:!0}),eA.prototype.getPlayList=function(eA,er){var ei=this;return this.playStreamList.slice(eA,er).map(function(eA){return eo({streamID:eA},ei.playList[eA])})},Object.defineProperty(eA.prototype,"playListSize",{get:function(){return this.playStreamList.length},enumerable:!1,configurable:!0}),eA}();er.CommonStates=es},1264:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.RTC=er.ZegoSettingConfig=void 0;var ei=function(){function eA(){this.defaultSetting={publish_video_codec:"H264",camera_video_bitrate:800,screen_video_bitrate:1500,custom_video_bitrate:0,l3_play_buffer_ms:500,AEC:!0,AGC:!0,ANS:!0,resource_mode:0,bitrate_mode:"default",auto_to_tcp:!1,udp_max_fail_num:2,probe_started_num:3,udp_or_tcp:"udp",hardware_encode:!1,camera_hard_encode:!1,custom_hard_encode:!1,bg_fps_stat:0,camera_width:720,camera_height:480,camera_framerate:15,camera_audio_bitrate:48,mini_sdp:!1},this.userChangedKey={},this.setting=JSON.parse(JSON.stringify(this.defaultSetting))}return eA.prototype.setSetting=function(eA,er){var ei=Array.isArray(er)&&er.length>0;for(var eo in eA)for(var en in eA[eo])if(!en.endsWith("_ctrlmode")){if(ei&&-1==er.indexOf(en))continue;var es=eA[eo][en+"_ctrlmode"];1===es?this.userChangedKey[en]||(this.setting[en]=eA[eo][en]):2===es?this.setting[en]=eA[eo][en]:this.defaultSetting[en]&&(this.setting[en]=this.defaultSetting[en]),"number"==typeof es&&(this.setting[en+"_ctrlmode"]=eA[eo][en+"_ctrlmode"])}},eA.prototype.getSetting=function(eA,er){return void 0===er&&(er=!1),er?2==this.setting[eA+"_ctrlmode"]?this.setting[eA]:void 0:this.setting[eA]},eA.prototype.setUserValue=function(eA,er){2!==this.setting[eA+"_ctrlmode"]&&(this.userChangedKey[eA]=!0,this.setting[eA]=er)},eA}();er.ZegoSettingConfig=ei,er.RTC="rtc"},7437:function(eA,er,ei){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.StateCenter=void 0;var eo=ei(5123),en=ei(4028),es=ei(93),ea=ei(5123),eg=ei(1586),ec=ei(8738),eu=ei(9645),el=function(){function eA(eA,er){this.logger=eA,this.dataReport=er,this.debug=!1,this.testEnvironment=!1,this.pullLimited=!0,this.useNetAgent=!0,this.configOK=!1,this.relateService=[],this.role=2,this.maxMemberCount=0,this.roomCreateFlag=1,this.callbackList={},this.publishStreamList={},this.waitPublishStreamList={},this.streamUrlMap={},this.cmdCallback={},this.customUrl=[],this.customPlayUrl=[],this.turnToTcp=!1,this.turnOverTcpOnly=void 0,this.audioEffectBuffer={},this.audioBitRate=48e3,this.cdnSeq=0,this.listenerList={roomStreamUpdate:[],streamExtraInfoUpdate:[],playerStateUpdate:[],publisherStateUpdate:[],screenSharingEnded:[],publishQualityUpdate:[],playQualityUpdate:[],remoteCameraStatusUpdate:[],remoteMicStatusUpdate:[],soundLevelUpdate:[],capturedSoundLevelUpdate:[],videoDeviceStateChanged:[],audioDeviceStateChanged:[],deviceError:[],_deviceError:[],_remoteCameraStatusUpdate:[],_remoteMicStatusUpdate:[],_streamUpdated:[],receiveRealTimeSequentialData:[],beautyEffectOverload:[],playerRecvSEI:[],beautyEffectError:[],_engineConfigUpdate:[],backgroundEffectError:[],exceptionUpdate:[],networkQuality:[]},this.reportList={},this.reportSeqList={startPublish:{},rePublish:{},startPlay:{},rePlay:{},stopPublish:{},stopPlay:{}},this.streamTrigger={},this.audioStreamList={},this.deviceInfos=null,this.deviceChangeTimer=null,this.deviceStateOut=!1,this.streamRetryTime=300,this.checkList=[],this.anchor_info={anchor_id:"",anchor_id_name:"",anchor_nick_name:""},this.streamConnectTime=0,this.clientIP="",this.accessClientIp="",this.isMultiOuter=!1,this.type="PUBLIC",this.roomList=[],this.tempRoomList=[],this.isMultiRoom=!1,this.browser="",this.unregisterSeiFilter="",this.isTestMode=!1,this.netAppConfigDelay=0,this.seiConfig={emulationPreventionByte:!1},this.playAccelerate=!0,this.connectChanged=!1,this.autoSwitchDeviceSetting={camera:!1,microphone:!1},this.unSendMessageList=[],this.scenario=eo.ZegoScenario.Default,this.testStreamRetryMode=0,this.testStreamRetryCount=10,this.supportDispatchByPass=!1,this.testStreamStatusSeq=0,this.engineConfig={keepAudioTrack:!0,playClearLastFrame:!0,previewClearLastFrame:!0,mixingAudioDelay:0},this._isMiniSdp=!0,this.logReportCallback=en.ClientUtil.logReportCallback,this.unregisterCallback=en.ClientUtil.unregisterCallback,this.checkIllegalCharacters=en.ClientUtil.checkIllegalCharacters,this.decodeServerError=en.ClientUtil.decodeServerError,this.getLiveRoomError=en.ClientUtil.getLiveRoomError,this.getServerError=en.ClientUtil.getServerError,this.mergeStreamList=en.ClientUtil.mergeStreamList,this.checkInteger=en.ClientUtil.checkInteger,this.isUrl=en.ClientUtil.isUrl,this.actionSuccessCallback=en.ClientUtil.actionSuccessCallback,this.checkValidNumber=en.ClientUtil.checkValidNumber,this.getDevices=en.ClientUtil.getDevices,this.uint8arrayToBase64=en.ClientUtil.uint8arrayToBase64,this.getSeq=ea.getSeq,this.getReportSeq=eo.getReportSeq}return Object.defineProperty(eA.prototype,"networkState",{get:function(){var eA;return null===(eA=this.rtm)||void 0===eA?void 0:eA.stateCenter.networkState},set:function(eA){var er;(null===(er=this.rtm)||void 0===er?void 0:er.stateCenter)&&void 0!==eA&&(this.rtm.stateCenter.networkState=eA)},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"isMiniSdp",{get:function(){if(!this._isMiniSdp||!window.WebAssembly||!window.Worker)return!1;var eA=this.settingConfig.getSetting("mini_sdp");return"boolean"==typeof eA&&(this.logger.info("zc.c.ims setting: "+eA),eA)},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"streamCenter",{get:function(){return this._streamCenter},set:function(eA){this._streamCenter=eA},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"billingTimer",{get:function(){return this._billingTimer||(this._billingTimer=new ec.BillingTimer(this.logger,this)),this._billingTimer},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"chargeInfosSaver",{get:function(){return this._chargeInfosSaver||(this._chargeInfosSaver=new eu.ChargeInfosSaverWeb(this.logger,this)),this._chargeInfosSaver},enumerable:!1,configurable:!0}),eA.prototype.getRequestId=function(){return this.idName+"-"+(0,ea.getSeq)()},eA.prototype.getSignalCmdContent=function(eA,er,ei,eo){var en={request_id:er,room_id:eA,from_userid:this.idName,from_username:this.nickName,to_userid:ei};return null!=eo&&(en.result=eo),JSON.stringify(en)},eA.prototype.actionListener=function(eA){for(var er=this,ei=[],en=1;en<arguments.length;en++)ei[en-1]=arguments[en];if(!["playQualityUpdate","publishQualityUpdate","soundLevelUpdate","capturedSoundLevelUpdate","playerRecvSEI","remoteCameraStatusUpdate","_remoteCameraStatusUpdate","remoteMicStatusUpdate","_remoteMicStatusUpdate","_streamUpdated","_deviceError"].includes(eA)&&this.listenerList[eA]){var ea=this.reporter.createSpan(eo.TRACER_LEVEL.H,{key:eg.ZegoRTCLogEvent.kZegoTaskListener.event},{key:""},eg.ZegoRTCLogEvent.kZegoListener.event);ea.setAttributes({listener:eA,listener_params:JSON.stringify(ei)}),["deviceError","streamExtraInfoUpdate","publisherStateUpdate","playerStateUpdate","roomStreamUpdate"].includes(eA)&&this.logger.info("zc.al ".concat(eA," ").concat(JSON.stringify(ei))),ea.end()}this.listenerList[eA]&&this.listenerList[eA].forEach(function(eo){try{setTimeout(function(){eo.apply(void 0,ei)},0)}catch(ei){er.logger.error(es.ZEGO_WEBRTC_ACTION.STATECENTER_ACTION_LISTENER+" "+eA+" "+ei)}})},eA.prototype.getRoomByRoomID=function(eA){return this.roomList.find(function(er){return er.roomID==eA})},eA.prototype.getPlayRoom=function(eA){return this.roomList.find(function(er){return!!er.streamList.find(function(er){return er.stream_id==eA})})},eA}();er.StateCenter=el},2277:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.ZegoStreamCenter=void 0,er.ZegoStreamCenter=function(){this.publisherList={},this.playerList={},this.stopedPlayerList={}}},4202:function(eA,er,ei){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.StreamHandler=void 0;var eo=ei(5123),en=ei(2532),es=ei(93),ea=ei(1586),eg=ea.ZegoRTCLogEvent.kZegoTaskLiveRoomGetCurrentStreamList,ec=function(){function eA(eA,er,ei,eo,en){this.logger=eA,this.stateCenter=er,this.rtm=ei,this.streamCenter=eo,this.roomID=en,this.minStreamSeq=0,this.streamSeq=0,this.maxFullStreamSeq=0,this.streamQuerying=!1,this.streamSeqMergeMap=null,this.streamListHBMergeInterval=2e3,this.streamListMergeInterval=5e3}return eA.prototype.setCDNInfo=function(eA,er){eA.urlFlv=er.urls_flv instanceof Array?er.urls_flv[0]||"":"string"==typeof er.urls_flv?er.urls_flv:"",eA.urlHls=er.urls_m3u8 instanceof Array?er.urls_m3u8[0]||"":"string"==typeof er.urls_m3u8?er.urls_m3u8:"",eA.urlFlvPlus=er.urls_flv_plus instanceof Array?er.urls_flv_plus[0]||"":"string"==typeof er.urls_flv_plus?er.urls_flv_plus:"",eA.urlHlsPlus=er.urls_m3u8_plus instanceof Array?er.urls_m3u8_plus[0]||"":"string"==typeof er.urls_m3u8_plus?er.urls_m3u8_plus:"",eA.urlHttpsFlv=er.urls_https_flv instanceof Array?er.urls_https_flv[0]||"":"string"==typeof er.urls_https_flv?er.urls_https_flv:"",eA.urlHttpsHls=er.urls_https_m3u8 instanceof Array?er.urls_https_m3u8[0]||"":"string"==typeof er.urls_https_m3u8?er.urls_https_m3u8:"",eA.urlRtmp=er.urls_rtmp instanceof Array?er.urls_rtmp[0]||"":"string"==typeof er.urls_rtmp?er.urls_rtmp:""},eA.prototype.onStreamUpdated=function(eA,er,ei){},eA.prototype.onStreamExtraInfoUpdated=function(eA,er){},eA.prototype.handleStreamStart=function(eA,er){this.logger.info("zb.sh.hss call stream update"),this.room=er,eA.body?(this.streamListHBMergeInterval=eA.body.stream_list_hb_wait_merge_time||2e3,this.streamListMergeInterval=eA.body.stream_list_push_merge_timeout||5e3,this.streamQuerying=!1,this.handleFullUpdateStream(eA.body.stream_seq,eA.body.stream_info||[]),this.handleReconnectStream(eA.body.stream_info),this.logger.info("zb.sh.hss call end")):this.logger.error("zb.sh.hss server response wrong")},eA.prototype.onPublishStateUpdate=function(eA,er,ei){},eA.prototype._updateStreamInfo=function(eA,er,ei,es,ea){var eg,ec,eu=this;void 0===ei&&(ei=""),this.logger.info("zb.sh.usi call");var el=ei,ed=null===(eg=this.room)||void 0===eg?void 0:eg.streamList.find(function(er){return er.stream_id===eA});ed||this.logger.info("zb.sh.usi stream not in room cmd "+er);var eE={stream_id:eA,extra_info:el};2002!==er&&2003!==er||(eE.stream_sid=(null==ed?void 0:ed.stream_sid)||"");var eI={sub_cmd:er,stream_msg:JSON.stringify(eE),third_token:null===(ec=this.room)||void 0===ec?void 0:ec.token},eC=this.room;this.room.streamInfoList[eA]={};var eh=function(ei,eo){es&&es(ei,eu.room.streamInfoList[eA].seq),eu.handleStreamUpdateRsp(ei,eA,er)},eB=function(eg,ec){var el=eu.room;if(el&&!el.isResetRoom&&!eu.rtm.isDisConnect()&&eg.code&&eg.code==en.errorCodeList.TIMEOUT.code&&el.streamInfoList[eA].seq==ec)2001==er&&eu.stateCenter.publishStreamList[eA]&&eu.stateCenter.publishStreamList[eA].state==eo.ENUM_PUBLISH_STREAM_STATE.update_info||2002==er?(eu.logger.warn("zb.sh.usi resend stream update "+er),setTimeout(function(){eu._updateStreamInfo(eA,er,ei,es,ea)},0)):ea&&ea(en.errorCodeList.TIMEOUT);else if(eg.body&&eg.body.err_code){var ed=eu.stateCenter.getServerError(eg.body.err_code,eu.stateCenter.useNetAgent,eg.body.err_message);[1011,1000002002].includes(ed.code)&&(ed=en.errorCodeList.TOKEN_EXPIRED),ea&&ea(ed,ec),er===eo.ENUM_STREAM_SUB_CMD.liveBegin&&eu.onPublishStateUpdate(eo.ENUM_PUBLISH_STATE_UPDATE.error,eA,ed)}};if(this.stateCenter.useNetAgent)this.room.streamInfoList[eA].seq=this.rtm.liveRoomHandler.sendStreamUpdate(eI,eh,eB,{sessionID:null==eC?void 0:eC.sessionID,roomID:null==eC?void 0:eC.roomID,roomSessionID:null==eC?void 0:eC.roomSessionID});else{var ep=this.rtm.service.sendMessage("stream",eI,eh,eB,void 0,{sessionID:null==eC?void 0:eC.sessionID,roomID:null==eC?void 0:eC.roomID,roomSessionID:null==eC?void 0:eC.roomSessionID});this.room.streamInfoList[eA].seq=ep,0===ep&&2002===er&&"wxMini"===this.stateCenter.clientType&&(this.stateCenter.unSendMessageList.push({roomID:(null==eC?void 0:eC.roomID)||"",streamid:eA,cmd:er,stream_extra_info:ei}),this.logger.info("zb.sh.usi call unsendmsg "+JSON.stringify(this.stateCenter.unSendMessageList)))}this.logger.info("zb.sh.usi call success cmd "+er)},eA.prototype.updateStreamInfo=function(eA,er,ei,en,es){var eg,ec=this;void 0===ei&&(ei=""),(2001===er||2002===er)&&(eg=this.stateCenter.reporter.createSpan(eo.TRACER_LEVEL.H,{key:ea.ZegoRTCLogEvent.kZMLoginRoom.event,par:this.roomID},{key:""},ea.ZegoRTCLogEvent.kZegoTaskLiveRoomSendStreamUpdateInfo.event)).setAttributes({stream_update_type:ea.ZegoRTCLogEvent.kZegoTaskLiveRoomSendStreamUpdateInfo.stream_update_type(2001===er?"stream added":2002===er?"stream deleted":""),stream_extra_info:ea.ZegoRTCLogEvent.kZegoTaskLiveRoomSendStreamUpdateInfo.stream_extra_info(ei),stream_id:ea.ZegoRTCLogEvent.kZegoTaskLiveRoomSendStreamUpdateInfo.stream_id(eA)}),this._updateStreamInfo(eA,er,ei,function(eA,ei){2001!==er&&2002!==er||(eg.setAttributes({send_seq:ei}),eg&&eg.end()),en&&en(eA,ei)},function(eA,ei){2001!==er&&2002!==er||(eg.setAttributes({send_seq:ei}),ec.stateCenter.reporter.setError(eg,eA)),es&&es(eA,ei)})},eA.prototype.handleStreamUpdateRsp=function(eA,er,ei){var eo,en,es;if(this.rtm.isDisConnect())this.logger.warn("zb.sh.hsur not login");else if(0==eA.body.err_code){this.logger.info("zb.sh.hsur stream seq "+this.streamSeq+" server seq "+eA.body.stream_seq);var ea=this.room;if(ea){if((null===(eo=null==eA?void 0:eA.body)||void 0===eo?void 0:eo.token_remain_time)&&(this.stateCenter.getRoomByRoomID(null===(en=null==eA?void 0:eA.header)||void 0===en?void 0:en.room_id)?this.rtm.resetRoomTokenTimer(eA.header.room_id,eA.body.token_remain_time):this.logger.error("zb.sh.hsur room no found ignore "+JSON.stringify(null===(es=eA.header)||void 0===es?void 0:es.room_id))),this.stateCenter.useNetAgent)this.handleStreamSync(eA,er,ei),delete ea.streamInfoList[er];else{eA.body.stream_seq>this.streamSeq+1?(this.logger.info("zb.sh.hsur seq diff, server: "+eA.body.stream_seq+" client: "+this.streamSeq),this.fetchStreamList()):this.streamSeq=eA.body.stream_seq;for(var eg=0;eg<eA.body.stream_info.length;eg++){var ec=eA.body.stream_info[eg].stream_id;this.handleStreamRsp(ea,ec,eA.body.stream_info[eg],ei),delete ea.streamInfoList[ec]}}}else this.logger.info("hsur.0 room no found")}else this.logger.error("zb.sh.hsur stream update error "+eA.body.err_code)},eA.prototype.handleStreamSync=function(eA,er,ei){if(this.handleStreamRsp(this.room,er,{stream_id:er,stream_sid:eA.body.stream_sid,stream_ver:eA.body.stream_ver,stream_nid:eA.body.stream_nid},ei),eA.body.stream_seq>this.streamSeq+1)return this.logger.info("zb.sh.hss.1 seq diff server: "+eA.body.stream_seq+" client "+this.streamSeq),void this.fetchStreamList();this.streamSeq=eA.body.stream_seq;var eo=this.room.streamList.find(function(eA){return eA.stream_id==er});eo&&eA.body.stream_ver>eo.stream_ver&&this.fetchStreamList(er)},eA.prototype.handleStreamRsp=function(eA,er,ei,en){var es=this.stateCenter.publishStreamList[er],ea=eA.streamList.find(function(eA){return eA.stream_id==er});if(this.logger.info("hsur.0 cmd "+en+" "+!!ea),ea&&2002===en){var eg=eA.streamList.findIndex(function(eA){return eA.stream_id==er});this.logger.info("hsur.0 stream index "+eg),eg>-1&&eA.streamList.splice(eg,1)}es?(es.state==eo.ENUM_PUBLISH_STREAM_STATE.update_info&&(es.state=eo.ENUM_PUBLISH_STREAM_STATE.publishing,2001!==en||ea||eA.streamList.push(ei),this.onPublishStateUpdate(eo.ENUM_PUBLISH_STATE_UPDATE.start,er,{code:0,message:""})),ea&&ea.stream_sid!==ei.stream_sid&&(this.logger.info("hsur.0 update sid. "+er+" origin:"+ea.stream_sid+", new:"+ei.stream_sid),ea.stream_sid=ei.stream_sid)):this.logger.info("hsur.0 stream is not exist")},eA.prototype.handleFetchStreamListRsp=function(eA,er){var ei,eo,en,es,ea,ec;if(this.logger.info("zb.sh.hfslr call "+er),this.streamQuerying=!1,this.stateCenter.reporter.spanEnd({key:eg.event,par:this.roomID},{stream_seq:eg.stream_seq(null===(ei=eA.body)||void 0===ei?void 0:ei.stream_seq),stream_size:eg.stream_size(null===(en=null===(eo=eA.body)||void 0===eo?void 0:eo.stream_info)||void 0===en?void 0:en.length),stream_list:eg.stream_list(null===(es=eA.body)||void 0===es?void 0:es.stream_info),error:(null===(ea=null==eA?void 0:eA.body)||void 0===ea?void 0:ea.err_code)||(null==eA?void 0:eA.code),message:(null===(ec=null==eA?void 0:eA.body)||void 0===ec?void 0:ec.err_message)||(null==eA?void 0:eA.msg)}),0===eA.body.err_code){if(this.streamSeq!==eA.body.stream_seq){if(this.streamSeq>eA.body.stream_seq)return this.logger.error("zb.sh.hfslr less seq"),void this.fetchStreamList(er);if(this.maxFullStreamSeq>eA.body.stream_seq)this.logger.info("zb.sh.hfslr less than max fetch stream seq ");else{var eu=eA.body.stream_info;this.stateCenter.useNetAgent&&er&&(eu=eA.body.stream_info.filter(function(eA){return eA.stream_id===er})),this.handleFullUpdateStream(eA.body.stream_seq,eu),this.logger.info("zb.sh.hfslr call success")}}else this.logger.info("zb.sh.hfslr same seq")}else this.logger.info("zb.sh.hfslr server error=",eA.body.err_code)},eA.prototype.syncPublishStreamList=function(){this.logger.info("zb.sh.spsl call");var eA=function(eA){er.stateCenter.publishStreamList[eA].state===eo.ENUM_PUBLISH_STREAM_STATE.publishing&&-1===er.room.streamList.findIndex(function(er){return er.stream_id===eA})&&(er.stateCenter.publishStreamList[eA].state=eo.ENUM_PUBLISH_STREAM_STATE.update_info,er.updateStreamInfo(eA,eo.ENUM_STREAM_SUB_CMD.liveBegin,er.stateCenter.publishStreamList[eA].extra_info,function(eA){}))},er=this;for(var ei in this.stateCenter.publishStreamList)eA(ei);this.logger.info("zb.sh.spsl call success")},eA.prototype.handleFullUpdateStream=function(eA,er){var ei=this;this.logger.info("zb.sh.hfus call"),this.streamSeq=eA,this.maxFullStreamSeq<eA&&(this.maxFullStreamSeq=eA),this.logger.debug("zb.sh.hfus server seq "+this.streamSeq),this.stateCenter.mergeStreamList(this.stateCenter.idName,this.room.streamList,er,function(eA,er,en){0!==eA.length&&(ei.logger.debug("zb.sh.hfus callback addstream"),ei.onStreamUpdated(ei.roomID,eo.ENUM_STREAM_UPDATE_TYPE.added,ei.makeCallbackStreamList(eA))),0!==er.length&&(ei.logger.debug("zb.sh.hfus callback delstream"),ei.onStreamUpdated(ei.roomID,eo.ENUM_STREAM_UPDATE_TYPE.deleted,ei.makeCallbackStreamList(er))),0!==en.length&&(ei.logger.debug("zb.sh.hfus callback updatestream"),ei.onStreamExtraInfoUpdated(ei.roomID,ei.makeCallbackStreamList(en)))}),this.syncPublishStreamList(),this.logger.info("zb.sh.hfus call success")},eA.prototype.handlePushStreamUpdateMsg=function(eA){if(this.logger.info("zb.sh.hpsum call "+JSON.stringify(eA)),eA.body.stream_info&&0!==eA.body.stream_info.length){if(this.streamSeq+1!==eA.body.stream_seq)return this.logger.info("zb.sh.hpsum call updatestream 1"),void this.fetchStreamList();if(eA.body.stream_seq<this.maxFullStreamSeq)return this.logger.info("zb.sh.hpsum call updatestream 2"),void this.fetchStreamList();switch(this.streamSeq=eA.body.stream_seq,eA.body.stream_cmd){case eo.ENUM_STREAM_UPDATE_CMD.added:this.handleAddedStreamList(eA.body.stream_info);break;case eo.ENUM_STREAM_UPDATE_CMD.deleted:this.handleDeletedStreamList(eA.body.stream_info);break;case eo.ENUM_STREAM_UPDATE_CMD.updated:this.handleUpdatedStreamList(eA.body.stream_info)}this.logger.info("zb.sh.hpsum call success")}else this.logger.info("zb.sh.hpsum, emtpy list")},eA.prototype.handlePriPushStreamUpdateMsg=function(eA){if(this.logger.info("zb.sh.hpsum call"),eA.body.streams_info&&0!==eA.body.streams_info.length){if(eA.body.streams_info.length+this.streamSeq!==eA.body.stream_seq)return this.logger.info("zb.sh.hpsum call updatestream"),void this.mergeStreamByStreamSeq(eA.body.stream_cmd,eA.body.stream_seq,eA.body.streams_info);switch(this.streamSeq=eA.body.stream_seq,eA.body.stream_cmd){case eo.ENUM_STREAM_UPDATE_CMD_PRI.added:this.handleAddedStreamList(eA.body.streams_info);break;case eo.ENUM_STREAM_UPDATE_CMD_PRI.deleted:this.handleDeletedStreamList(eA.body.streams_info);break;case eo.ENUM_STREAM_UPDATE_CMD_PRI.updated:this.handleUpdatedStreamList(eA.body.streams_info)}this.logger.info("zb.sh.hpsum call success")}else this.logger.info("zb.sh.hpsum, emtpy list")},eA.prototype.handleAddedStreamList=function(eA){this.logger.debug("zb.sh.hasl call");for(var er,ei=[],en=0;en<eA.length;en++)if(eA[en].anchor_id_name!=this.stateCenter.idName&&eA[en].id_name!=this.stateCenter.idName&&eA[en].user_id!==this.stateCenter.idName){er=!1;for(var es=0;es<this.room.streamList.length;es++)if(eA[en].stream_id===this.room.streamList[es].stream_id){er=!0;break}er||ei.push(eA[en])}else this.logger.debug("hdsl.0 have self stream added");if(0!==ei.length){this.logger.debug("zb.sh.hasl callback addstream");for(var ea=0;ea<ei.length;ea++){this.room.streamList.push(ei[ea]);var eg=this.streamCenter.playerList[ei[ea].stream_id];null==eg||eg.player.setStreamAdd()}this.onStreamUpdated(this.roomID,eo.ENUM_STREAM_UPDATE_TYPE.added,this.makeCallbackStreamList(ei))}this.logger.info("zb.sh.hasl call success")},eA.prototype.handleDeletedStreamList=function(eA){this.logger.debug("zb.sh.hdsl call");for(var er=[],ei=0;ei<eA.length;ei++)if(eA[ei].anchor_id_name!=this.stateCenter.idName&&eA[ei].id_name!=this.stateCenter.idName&&eA[ei].user_id!==this.stateCenter.idName){for(var en=this.room.streamList.length-1;en>=0;en--)if(eA[ei].stream_id===this.room.streamList[en].stream_id){this.stateCenter.connectChanged||this.room.streamList.splice(en--,1),er.push(eA[ei]);break}}else this.logger.debug("zb.sh.hdsl have self stream deleted");0!==er.length&&(this.logger.debug("zb.sh.hdsl callback delstream"),this.onStreamUpdated(this.roomID,eo.ENUM_STREAM_UPDATE_TYPE.deleted,this.makeCallbackStreamList(er))),this.logger.info("zb.sh.hdsl call")},eA.prototype.handleUpdatedStreamList=function(eA){this.logger.debug("zb.sh.husl call");for(var er=[],ei=0;ei<eA.length;ei++)if(eA[ei].anchor_id_name!=this.stateCenter.idName&&eA[ei].id_name!=this.stateCenter.idName&&eA[ei].user_id!==this.stateCenter.idName){for(var eo=0;eo<this.room.streamList.length;eo++)if(eA[ei].stream_id===this.room.streamList[eo].stream_id){eA[ei].extra_info!==this.room.streamList[eo].extra_info&&(this.room.streamList[eo]=eA[ei],er.push(eA[ei]));break}}else this.logger.debug("hsul.0 have self stream updated");0!==er.length&&(this.logger.debug("zb.sh.husl callback updatestream"),this.onStreamExtraInfoUpdated(this.roomID,this.makeCallbackStreamList(er))),this.logger.info("zb.sh.husl call success")},eA.prototype.fetchStreamList=function(eA){var er,ei,en,es=this;this.logger.info("zb.sh.fsl call");var ec=this.stateCenter.reporter.createSpan(eo.TRACER_LEVEL.H,{key:ea.ZegoRTCLogEvent.kZMLoginRoom.event,par:this.roomID},{key:eg.event,par:this.roomID},eg.event,!0);if(this.rtm.isDisConnect())return this.logger.info("zb.sh.fsl state error"),void this.stateCenter.reporter.setError(ec,eg.error.NOT_LOGIN);if(this.streamQuerying)return this.logger.info("zb.sh.fsl already doing"),void this.stateCenter.reporter.setError(ec,eg.error.kParamError," already doing");if(this.streamQuerying=!0,this.logger.info("zb.sh.fsl send fetch request"),this.stateCenter.useNetAgent)this.rtm.liveRoomHandler.getStreamList({},function(er){es.handleFetchStreamListRsp(er,eA)},function(eA){},{roomID:null===(er=this.room)||void 0===er?void 0:er.roomID,sessionID:null===(ei=this.room)||void 0===ei?void 0:ei.sessionID,roomSessionID:null===(en=this.room)||void 0===en?void 0:en.roomSessionID});else{var eu=this.room;this.rtm.service.sendMessage("stream_info",{reserve:0},function(eA){es.handleFetchStreamListRsp(eA)},function(eA,er){},void 0,{roomID:null==eu?void 0:eu.roomID,sessionID:null==eu?void 0:eu.sessionID,roomSessionID:null==eu?void 0:eu.roomSessionID})}this.logger.info("zb.sh.fsl call success")},eA.prototype.handleReconnectStream=function(eA){this.logger.info("zb.sh.hrs call");var er,ei,en,es,ea,eg,ec,eu,el=this.streamCenter.publisherList,ed=this.streamCenter.playerList;this.logger.info("zb.sh.hrs publish "+Object.keys(this.streamCenter.publisherList));var eE=function(eu){if((null===(ei=null===(er=el[eu])||void 0===er?void 0:er.room)||void 0===ei?void 0:ei.roomID)!==eI.roomID)return"continue";var ed=eA.find(function(eA){return eA.stream_id==eu}),eE=ed&&!(ed.anchor_id_name===eI.stateCenter.idName||ed.id_name===eI.stateCenter.idName||ed.user_id===eI.stateCenter.idName);if(eI.logger.info("zb.sh.hrs stream ".concat(eu," ").concat(!!ed," ").concat(eE," ").concat(null===(en=el[eu].publisher)||void 0===en?void 0:en.state)),(null===(es=el[eu].publisher)||void 0===es?void 0:es.state)!=eo.ENUM_PUBLISH_STATE.publishing&&el[eu].state!==eo.ENUM_PLAYER_STATE.playing||ed&&!eE){if(((null===(ea=el[eu].publisher)||void 0===ea?void 0:ea.state)==eo.ENUM_PUBLISH_STATE.stop||el[eu].state===eo.ENUM_PLAYER_STATE.stop)&&!(null===(ec=null===(eg=el[eu])||void 0===eg?void 0:eg.retryStreamHandler)||void 0===ec?void 0:ec.maxTimer)&&eA.find(function(eA){return eA.stream_id==eu})){eI.updateStreamInfo(eu,eo.ENUM_STREAM_SUB_CMD.liveEnd);for(var eC=0;eC<eI.room.streamList.length;eC++)if(eI.room.streamList[eC].stream_id==eu){eI.room.streamList.splice(eC--,1);break}}}else eI.updateStreamInfo(eu,eo.ENUM_STREAM_SUB_CMD.liveBegin,eI.stateCenter.publishStreamList[eu].extra_info)},eI=this;for(var eC in el)eE(eC);for(var eC in el)el[eC].room.roomID===this.roomID&&el[eC].isReDispatch&&(this.logger.info("zb.sh.hrs "+eC+"retry dispatch"),(eu=el[eC].retryDispatchHandler).stopMaxTime(),eu.invalid(),eu.initStream(eC,el[eC].publishOption,!0),eu.active(0),el[eC].isReDispatch=!1);for(var eC in ed)ed[eC].room.roomID===this.roomID&&ed[eC].isReDispatch&&(this.logger.info("zb.sh.hrs "+eC+"retry dispatch"),(eu=ed[eC].retryDispatchHandler).stopMaxTime(),eu.invalid(),eu.initStream(eC,ed[eC].playOption,!1),eu.active(0),ed[eC].isReDispatch=!1);var eh=this.streamCenter.stopedPlayerList,eB=function(eA){if(eh[eA].roomID!==ep.roomID)return"continue";var er=ep.streamCenter,ei=eh[eA],en=ei.playOption,es=ei.playStream;er.setPlayStateStart(eA,en,ei.isDataChannel);var ea=er.playerList[eA].retryDispatchHandler;er.playSuccessCallBackList[eA]=eh[eA].sucCallBack?eh[eA].sucCallBack:function(eA){for(var er=document.querySelectorAll("video, audio"),ei=0;ei<er.length;ei++)es&&er[ei].srcObject===es&&(es.getTracks().forEach(function(eA){return es.removeTrack(eA)}),eA.clone().getTracks().forEach(function(eA){return es.addTrack(eA)}))},eh[eA].errCallBack&&(er.playErrorCallBackList[eA]=eh[eA].errCallBack),er.onPlayStateUpdate(eo.ENUM_PLAY_STATE_UPDATE.retry,eA,{code:0,message:""}),ea.stopMaxTime(),ea.invalid(),ea.initStream(eA,en,!1),ea.startMaxTime(),ea.active(0),delete eh[eA]},ep=this;for(var eC in eh)eB(eC);this.logger.info("zb.sh.hrs end")},eA.prototype.makeCallbackStreamList=function(eA){var er,ei=[];if(this.stateCenter.useNetAgent&&this.stateCenter.appConfig&&(er=this.stateCenter.appConfig.media_config.play_config.resource_info.filter(function(eA){return[eo.SignalResourceType.CDN,eo.SignalResourceType.DG].includes(eA.resource_type)})),eA&&eA.length>0)for(var en=0;en<eA.length;en++){var es=eA[en].stream_id;if(er&&er.length)for(var ea=0;ea<er.length;ea++){for(var eg=er[ea].resource_type==eo.SignalResourceType.DG?"_plus":"",ec=[],eu=[],el=[],ed=0;ed<er[ea].service_info.length;ed++){var eE=er[ea].service_info[ed],eI=eE.protocol,eC=eE.url_template.replace("{STREAM_NAME}",es);switch(eI){case eo.ProtocolType.FLV:ec.push(eC);break;case eo.ProtocolType.HLS:eu.push(eC);break;case eo.ProtocolType.RTMP:el.push(eC)}}eA[en]["urls_flv"+eg]=ec,eA[en]["urls_m3u8"+eg]=eu,eA[en]["urls_rtmp"+eg]=el}var eh={user:{userID:eA[en].anchor_id_name||eA[en].id_name,userName:eA[en].anchor_nick_name||eA[en].nick_name},extraInfo:eA[en].extra_info,streamID:eA[en].stream_id,roomID:"",urlFlv:"",urlFlvPlus:"",urlRtmp:"",urlHls:"",urlHlsPlus:"",urlHttpsFlv:"",urlHttpsHls:"",streamGID:eA[en].stream_gid,closeType:eA[en].close_type};this.setCDNInfo(eh,eA[en]),ei.push(eh)}return ei},eA.prototype.sendBizChannelRequest=function(eA,er,ei,eo){var en=this;void 0===eo&&(eo=!1),eA=Object.assign(eA,{is_retry_req:eo?1:0});var es=this.room;this.rtm.service.sendMessage("biz_channel",eA,function(eA,ei){er(eA.header.seq,eA.body.cmd,eA.body.rsp_body)},function(eo,es){var ea=eo.body.err_code;"number"!=typeof ea||2002!==ea?ei(ea,es,eo.body.rsp_body):en.sendBizChannelRequest(eA,er,ei,!0)},void 0,{roomID:null==es?void 0:es.roomID,sessionID:null==es?void 0:es.sessionID,roomSessionID:null==es?void 0:es.roomSessionID})},eA.prototype.sendBizChannelRequestV3=function(eA,er,ei,eo){var en=this,ea=eA.server,eg=eA.location,ec=this.rtm.netAgent,eu=this.room,el=void 0;er&&(el=JSON.stringify(er)),this.logger.info(es.ZEGO_WEBRTC_ACTION.STREAMHANDLER_SEND_BIZCHANNEL_REQUESTV3+" "+JSON.stringify(el)+" request "+JSON.stringify(eA)),ec.startHttpRequest({service:ea,headers:[{"Token-Appid":this.stateCenter.appid+""},{"Token-Check":"true"},{"Token-Str":null==eu?void 0:eu.token},{"Token-Userid":this.stateCenter.idName},{"Token-Biztype":0}],body:er,idName:this.stateCenter.idName,method_no:2,ack:!1,location:eg},function(eA){en.logger.info(es.ZEGO_WEBRTC_ACTION.STREAMHANDLER_SEND_BIZCHANNEL_REQUESTV3+" rsp "+JSON.stringify(eA.body));var ea=eA.status_code,eg=eA.body;if(200===ea){var ec=eg;if("string"==typeof eg)try{ec=JSON.parse(eg)}catch(eA){throw eo(ea),eA}var eu=ec.code,el=ec.data,ed=void 0;try{ed=JSON.parse(el)}catch(eA){ed=el}if(0!==eu)return"number"==typeof eu&&2002===eu?void en.sendBizChannelRequest(er,ei,eo,!0):void eo(ea,eu,ed);ei(ed)}else eo(ea)},function(eA){eo(-1,null==eA?void 0:eA.code,void 0,eA)})},eA.prototype.sendBizChannelRequestV2=function(eA,er,ei,eo){var en=this,ea=eA.server,eg=eA.location,ec=eA.cmd,eu=eA.channel,el=this.rtm.netAgent,ed=this.room,eE=void 0,eI=er.timestamp;er&&(eE=JSON.stringify(er));var eC={cmd:ec,req_body:eE,appid:this.stateCenter.appid,timestamp:eI||Math.ceil((new Date).getTime()/1e3),token:null==ed?void 0:ed.token,user_id:this.stateCenter.idName,channel:eu||"media"};this.logger.info(es.ZEGO_WEBRTC_ACTION.STREAMHANDLER_SEND_BIZCHANNEL_REQUESTV2+" "+JSON.stringify(eC)+" request "+JSON.stringify(eA)),el.startHttpRequest({service:ea,headers:[],body:eC,idName:this.stateCenter.idName,method_no:2,ack:!1,location:eg},function(eA){en.logger.info(es.ZEGO_WEBRTC_ACTION.STREAMHANDLER_SEND_BIZCHANNEL_REQUESTV2+" rsp "+JSON.stringify(eA.body));var ea=eA.status_code,eg=eA.body;if(200===ea){var ec=eg;if("string"==typeof eg)try{ec=JSON.parse(eg)}catch(eA){throw eo(ea),eA}var eu=ec.err_code,el=ec.rsp_body,ed=void 0;try{ed=JSON.parse(el)}catch(eA){ed=el}if(0!==eu)return"number"==typeof eu&&2002===eu?void en.sendBizChannelRequest(er,ei,eo,!0):void eo(ea,eu,ed);ei(ed)}else eo(ea)},function(eA){eo(-1,null==eA?void 0:eA.code,void 0,eA)})},eA.prototype.updateStreamExtraInfo=function(eA,er,ei,eo){},eA.prototype.setStreamExtraInfo=function(eA,er,ei,eo){},eA.prototype._publishTarget=function(eA,er,ei){},eA.prototype.patchStreamList=function(eA){var er=this;if("number"==typeof eA.body.StreamRefresh&&0!==eA.body.StreamRefresh)return this.logger.info(es.ZEGO_WEBRTC_ACTION.STREAMHANDLER_PATCH_STREAM_LIST+" stream refresh "),void this.fetchStreamList();this.logger.info(es.ZEGO_WEBRTC_ACTION.STREAMHANDLER_PATCH_STREAM_LIST+" stream seq "+this.streamSeq+" "+JSON.stringify(this.streamSeqMergeMap)),eA.body.stream_seq>this.streamSeq&&!this.streamSeqMergeMap&&(this.streamSeqMergeMap={},this.logger.info(es.ZEGO_WEBRTC_ACTION.STREAMHANDLER_PATCH_STREAM_LIST+" call update stream "+this.streamSeq+" server "+eA.body.stream_seq),this.streamSeqMergeTimer&&clearTimeout(this.streamSeqMergeTimer),this.streamSeqMergeTimer=setTimeout(function(){er.handleMergeTimeout()},this.streamListHBMergeInterval)),this.minStreamSeq=eA.body.stream_seq},eA.prototype.getStreamSeq=function(){return this.streamSeq},eA.prototype.mergeStreamByStreamSeq=function(eA,er,ei){var eo=this;this.streamSeqMergeMap||(this.logger.warn(es.ZEGO_WEBRTC_ACTION.STREAMHANDLER_MERGE_STREAM_BY_STREAM_SEQ+" new merge stream list "+this.streamSeq+" server "+er),this.streamSeqMergeMap={},this.streamSeqMergeTimer&&clearTimeout(this.streamSeqMergeTimer),this.streamSeqMergeTimer=setTimeout(function(){eo.handleMergeTimeout()},this.streamListMergeInterval)),this.logger.info(es.ZEGO_WEBRTC_ACTION.STREAMHANDLER_MERGE_STREAM_BY_STREAM_SEQ+" ".concat(this.streamSeqMergeMap," ").concat(eA," ").concat(er," ").concat(ei)),this.streamSeqMergeMap[er]={cmd:eA,streamList:ei}},eA.prototype.handleMergeTimeout=function(){if(this.streamSeqMergeMap){var eA=Object.keys(this.streamSeqMergeMap).map(function(eA){return+eA}).sort(function(eA,er){return eA-er});eA[eA.length-1]-eA[0]+1===eA.length||eA[eA.length-1]>=this.minStreamSeq?this.mergeStream(eA):(this.streamSeqMergeMap=null,this.fetchStreamList())}},eA.prototype.mergeStream=function(eA){var er=this;this.logger.info(es.ZEGO_WEBRTC_ACTION.STREAMHANDLER_MERGE_STREAM+" merge streamList "+this.streamSeq+" streamSeqList "+eA.join(","));var ei=eA[eA.length-1],en=[];eA.forEach(function(eA){if(er.streamSeqMergeMap&&er.streamSeqMergeMap[eA])switch(er.streamSeqMergeMap[eA].cmd){case eo.ENUM_STREAM_UPDATE_CMD.added:er.streamSeqMergeMap[eA].streamList.forEach(function(eA){var er=en.findIndex(function(er){return er.stream_id==eA.stream_id});-1!==er&&en.splice(er),en.push(eA)});break;case eo.ENUM_STREAM_UPDATE_CMD.deleted:er.streamSeqMergeMap[eA].streamList.forEach(function(eA){var er=en.findIndex(function(er){return er.stream_id==eA.stream_id});-1!==er&&en.splice(er)});break;case eo.ENUM_STREAM_UPDATE_CMD.updated:er.streamSeqMergeMap[eA].streamList.forEach(function(eA){var er=en.findIndex(function(er){return er.stream_id==eA.stream_id});-1!==er&&en.splice(er),en.push(eA)})}}),this.streamSeqMergeMap=null,this.logger.info(es.ZEGO_WEBRTC_ACTION.STREAMHANDLER_MERGE_STREAM+" "+en),this.handleFullUpdateStream(ei,en)},eA.prototype.reset=function(){this.minStreamSeq=0,this.streamSeqMergeMap=null,this.streamSeqMergeTimer&&(clearTimeout(this.streamSeqMergeTimer),this.streamSeqMergeTimer=void 0),this.streamListHBMergeInterval=2e3,this.streamListMergeInterval=5e3},eA}();er.StreamHandler=ec},5123:function(eA,er,ei){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.ENUM_BROADCASTER_STATUS=er.ENUM_PLAY_SOURCE_TYPE=er.ExceptionCode=er.ENUM_PUBLISH_STATE_NEGO=er.ENUM_PUSH_SIGNAL_SUB_CMD=er.ENUM_SIGNAL_SUB_CMD=er.QUALITYLEVEL=er.SERVER_ERROR_CODE=er.ENUM_STREAM_UPDATE_CMD_PRI=er.ENUM_STREAM_UPDATE_CMD=er.MINIUM_HEARTBEAT_INTERVAL=er.STREAM_DELETE_REASON=er.ENUM_NETWORK_STATE=er.USER_RUN_STATE=er.ENUM_RUN_STATE=er.ENUM_STREAM_UPDATE_TYPE=er.ENUM_STREAM_CMD_PRI=er.ENUM_STREAM_SUB_CMD=er.ENUM_PUBLISH_STREAM_STATE=er.MAX_RETRY_CONNECT_INTERVAL=er.MAX_TRANS_DATA_LENGTH=er.MAX_TRANS_TYPE_LENGTH=er.MAX_MIX_TASK_ID_LENGTH=er.MAX_MESSAGE_LENGTH=er.MAX_ROOM_ID_LENGTH=er.MAX_USER_NAME_LENGTH=er.MAX_USER_ID_LENGTH=er.MAX_STREAM_ID_LENGTH=er.MAX_TRY_HEARTBEAT_COUNT=er.SEND_MSG_TIMEOUT=er.SEND_MSG_RESET=er.MAX_TRY_CONNECT_COUNT=er.streamMap=er.ENUM_CONNECT_STATE=er.ProtocolType=er.SignalResourceType=er.ENUM_PROBE_STATE=er.ENUM_PLAY_STATE_NEGO=er.ENUM_PLAYER_STATE=er.ENUM_PLAY_STATE=er.ENUM_PUBLISH_STATE=er.ENUM_SCREEM_RESOLUTION_TYPE=er.ENUM_RESOLUTION_TYPE=er.ENUM_SIGNAL_STATE=er.ERROR_CODES=er.ENUM_REMOTE_TYPE=er.LOG_LEVEL=er.ENUM_LOG_LEVEL=er.ROOMVERSION=er.PROTO_VERSION=void 0,er.ZReporter=er.BusinessService=er.NetConnection=er.ZegoExpressWebRTM=er.ZegoDataReport=er.ZegoLogger=er.ZegoExpressWebRTMEngine=er.getReportSeq=er.getSeq=er.ZegoVoiceChangerPreset=er.EncodecSelectionModeType=er.H264ProfileType=er.TRACER_LEVEL=er.ZegoScenario=er.Segmentation=er.ResourceMode=er.PlayMode=er.ZegoSEIType=er.QUALITY_CONSTANT=er.QualityGrade=er.REPORT_ACTION=er.ENUM_RETRY_STATE=er.ENUM_PLAY_STATE_UPDATE=er.ENUM_PUBLISH_STATE_UPDATE=er.LinkedList=er.ListNode=er.E_CLIENT_TYPE=er.ENUM_SOURCE_TYPE=er.ENUM_DISPATCH_TYPE=void 0,er.PROTO_VERSION="2.24.5",er.ROOMVERSION="V1",function(eA){eA[eA.debug=0]="debug",eA[eA.info=1]="info",eA[eA.warn=2]="warn",eA[eA.error=3]="error",eA[eA.report=99]="report",eA[eA.disable=100]="disable"}(er.ENUM_LOG_LEVEL||(er.ENUM_LOG_LEVEL={})),er.LOG_LEVEL={debug:0,info:1,warn:2,error:3,report:99,disable:100},function(eA){eA[eA.disable=0]="disable",eA[eA.websocket=1]="websocket",eA[eA.https=2]="https"}(er.ENUM_REMOTE_TYPE||(er.ENUM_REMOTE_TYPE={})),er.ERROR_CODES={ROOM_SESSION_ID_ERR:1000000152,FETCH_TRANS_UNKNOWN_CHANNEL:1000001108,FETCH_TRANS_UNKNOWN_TYPE:1000001109,FETCH_TRANS_WRONG_SEQ:1000001110},function(eA){eA[eA.disconnected=0]="disconnected",eA[eA.connecting=1]="connecting",eA[eA.connected=2]="connected"}(er.ENUM_SIGNAL_STATE||(er.ENUM_SIGNAL_STATE={})),er.ENUM_RESOLUTION_TYPE={LOW:{width:320,height:240,frameRate:15,bitRate:300},MEDIUM:{width:640,height:480,frameRate:15,bitRate:800},HIGH:{width:1280,height:720,frameRate:20,bitRate:1500}},er.ENUM_SCREEM_RESOLUTION_TYPE={LOW:{frameRate:20,bitRate:800},MEDIUM:{frameRate:15,bitRate:1500},HIGH:{frameRate:5,bitRate:2e3}},er.ENUM_PUBLISH_STATE={start:0,waitingSessionRsp:1,waitingOfferRsp:2,waitingServerAnswer:3,waitingServerICE:4,connecting:5,publishing:6,stop:7,didNotStart:8},er.ENUM_PLAY_STATE={start:0,waitingSessionRsp:1,waitingOfferRsp:2,waitingServerAnswer:3,waitingServerICE:4,connecting:5,playing:6,stop:7,didNotStart:8},er.ENUM_PLAYER_STATE={start:0,playing:1,stop:2},er.ENUM_PLAY_STATE_NEGO={stop:0,start:1,waiterAnswer:2,waitingCandidate:3,sendCandidate:4,iceConnected:5,iceDisconnected:6,iceClosed:7,iceFailed:8},function(eA){eA[eA.tryProbe=0]="tryProbe",eA[eA.probed=2]="probed"}(er.ENUM_PROBE_STATE||(er.ENUM_PROBE_STATE={})),function(eA){eA[eA.CDN=0]="CDN",eA[eA.RTC=1]="RTC",eA[eA.L3=2]="L3",eA[eA.DG=3]="DG"}(er.SignalResourceType||(er.SignalResourceType={})),function(eA){eA[eA.UDP=0]="UDP",eA[eA.RTMP=1]="RTMP",eA[eA.FLV=2]="FLV",eA[eA.HLS=3]="HLS",eA[eA.WEBRTC=4]="WEBRTC"}(er.ProtocolType||(er.ProtocolType={})),er.ENUM_CONNECT_STATE={disconnect:0,connecting:1,connected:2},er.streamMap={"/lr/push/stream_add":12001,"/lr/push/stream_delete":12002,"/lr/push/stream_update":12003},er.MAX_TRY_CONNECT_COUNT=3,er.SEND_MSG_RESET=2,er.SEND_MSG_TIMEOUT=1,er.MAX_TRY_HEARTBEAT_COUNT=5,er.MAX_STREAM_ID_LENGTH=256,er.MAX_USER_ID_LENGTH=64,er.MAX_USER_NAME_LENGTH=256,er.MAX_ROOM_ID_LENGTH=128,er.MAX_MESSAGE_LENGTH=1024,er.MAX_MIX_TASK_ID_LENGTH=256,er.MAX_TRANS_TYPE_LENGTH=128,er.MAX_TRANS_DATA_LENGTH=4096,er.MAX_RETRY_CONNECT_INTERVAL=12,er.ENUM_PUBLISH_STREAM_STATE={waiting_url:1,tryPublish:2,update_info:3,publishing:4,stop:5,retryPublish:6},er.ENUM_STREAM_SUB_CMD={liveNone:0,liveBegin:2001,liveEnd:2002,liveUpdate:2003},er.ENUM_STREAM_CMD_PRI={liveBegin:"zegochat_js.room_stream_create_req",liveEnd:"zegochat_js.room_stream_delete_req",liveUpdate:"zegochat_js.room_stream_update_req"},er.ENUM_STREAM_UPDATE_TYPE={added:1,deleted:0},function(eA){eA[eA.logout=0]="logout",eA[eA.trylogin=1]="trylogin",eA[eA.login=2]="login"}(er.ENUM_RUN_STATE||(er.ENUM_RUN_STATE={})),function(eA){eA[eA.logout=0]="logout",eA[eA.trylogin=1]="trylogin",eA[eA.login=2]="login",eA[eA.reconnect=3]="reconnect"}(er.USER_RUN_STATE||(er.USER_RUN_STATE={})),function(eA){eA[eA.offline=0]="offline",eA[eA.online=1]="online"}(er.ENUM_NETWORK_STATE||(er.ENUM_NETWORK_STATE={})),er.STREAM_DELETE_REASON={0:{code:1,description:"user_stop_publishing_stream_normal"},1:{code:2,description:"user_heart_beat_timeout"},2:{code:3,description:"user_repeat_login"},3:{code:4,description:"user_kicked_out"},4:{code:5,description:"user_offline"},100:{code:6,description:"remove_by_server"}},function(eA){eA[eA.UNKNOWN=0]="UNKNOWN",eA[eA.CDN=1]="CDN",eA[eA.RTC=2]="RTC",eA[eA.L3=3]="L3"}(eo||(eo={})),er.MINIUM_HEARTBEAT_INTERVAL=3e3,er.ENUM_STREAM_UPDATE_CMD={added:12001,deleted:12002,updated:12003},er.ENUM_STREAM_UPDATE_CMD_PRI={added:1,updated:2,deleted:3},er.SERVER_ERROR_CODE=1e4,function(eA){eA[eA.low=1]="low",eA[eA.stantard=2]="stantard",eA[eA.hight=3]="hight",eA[eA.custome=4]="custome"}(er.QUALITYLEVEL||(er.QUALITYLEVEL={})),er.ENUM_SIGNAL_SUB_CMD={none:0,joinLiveRequest:1001,joinLiveResult:1002,joinLiveInvite:1003,joinLiveStop:1004},er.ENUM_PUSH_SIGNAL_SUB_CMD={none:0,pushJoinLiveRequest:11001,pushJoinLiveResult:11002,pushJoinLiveInvite:11003,pushJoinLiveStop:11004},er.ENUM_PUBLISH_STATE_NEGO={stop:0,start:1,waiterAnswer:2,waitingCandidate:3,sendCandidate:4,iceConnected:5,iceDisconnected:6,iceClosed:7,iceFailed:8},function(eA){eA[eA.captureFpsToLow=1001]="captureFpsToLow",eA[eA.captureVolumeToLow=1002]="captureVolumeToLow",eA[eA.sendVideoBitrateToLow=1003]="sendVideoBitrateToLow",eA[eA.sendFpsToLow=1004]="sendFpsToLow",eA[eA.sendAudioBitrateToLow=1005]="sendAudioBitrateToLow",eA[eA.receiveVolumeToLow=1006]="receiveVolumeToLow",eA[eA.receiveAudioDecodedFail=1007]="receiveAudioDecodedFail",eA[eA.receiveVideoDecodedFail=1008]="receiveVideoDecodedFail",eA[eA.receiveVideoFpsDecodedToLow=1009]="receiveVideoFpsDecodedToLow",eA[eA.renderVideoFpsToLow=1010]="renderVideoFpsToLow",eA[eA.captureFpsNormal=2001]="captureFpsNormal",eA[eA.captureVolumeNormal=2002]="captureVolumeNormal",eA[eA.sendVideoBitrateNormal=2003]="sendVideoBitrateNormal",eA[eA.sendFpsNormal=2004]="sendFpsNormal",eA[eA.sendAudioBitrateNormal=2005]="sendAudioBitrateNormal",eA[eA.receiveVolumeNormal=2006]="receiveVolumeNormal",eA[eA.receiveAudioDecodedNormal=2007]="receiveAudioDecodedNormal",eA[eA.receiveVideoDecodedNormal=2008]="receiveVideoDecodedNormal",eA[eA.receiveVideoFpsDecodedNormal=2009]="receiveVideoFpsDecodedNormal",eA[eA.renderVideoFpsNormal=2010]="renderVideoFpsNormal"}(er.ExceptionCode||(er.ExceptionCode={})),function(eA){eA[eA.cdn=0]="cdn",eA[eA.ultra=1]="ultra"}(er.ENUM_PLAY_SOURCE_TYPE||(er.ENUM_PLAY_SOURCE_TYPE={})),function(eA){eA[eA.stop=0]="stop",eA[eA.start=1]="start"}(er.ENUM_BROADCASTER_STATUS||(er.ENUM_BROADCASTER_STATUS={})),function(eA){eA[eA.cdn=0]="cdn",eA[eA.ultra=1]="ultra",eA[eA.customUrl=2]="customUrl"}(er.ENUM_DISPATCH_TYPE||(er.ENUM_DISPATCH_TYPE={})),function(eA){eA[eA.CDN=0]="CDN",eA[eA.BGP=1]="BGP"}(er.ENUM_SOURCE_TYPE||(er.ENUM_SOURCE_TYPE={})),function(eA){eA[eA.ClientType_None=0]="ClientType_None",eA[eA.ClientType_H5=1]="ClientType_H5",eA[eA.ClientType_SmallPragram=2]="ClientType_SmallPragram",eA[eA.ClientType_Webrtc=3]="ClientType_Webrtc"}(er.E_CLIENT_TYPE||(er.E_CLIENT_TYPE={}));var eo,en=function(){function eA(eA,er){void 0===eA&&(eA=null),void 0===er&&(er=null),this._id=null,this.next=null,this.prev=null,this._id=eA,this._data=er}return Object.defineProperty(eA.prototype,"id",{get:function(){return this._id?this._id:null},set:function(eA){this._id=eA},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"data",{get:function(){return this._data},set:function(eA){this._data=eA},enumerable:!1,configurable:!0}),eA.prototype.hasNext=function(){return this.next&&this.next.id},eA.prototype.hasPrev=function(){return this.prev&&this.prev.id},eA}();er.ListNode=en;var es=function(){function eA(){this.start=new en,this.end=new en,this._idCounter=0,this._numNodes=0,this.start.next=this.end,this.start.prev=null,this.end.prev=this.start,this.end.next=null}return eA.prototype.insertBefore=function(eA,er){var ei=new en(this._idCounter,er);return ei.next=eA,ei.prev=eA.prev,eA.prev&&(eA.prev.next=ei),eA.prev=ei,++this._idCounter,++this._numNodes,ei},eA.prototype.addLast=function(eA){return this.insertBefore(this.end,eA)},eA.prototype.add=function(eA){return this.addLast(eA)},eA.prototype.getFirst=function(){return 0===this._numNodes?null:this.start.next},eA.prototype.getLast=function(){return 0===this._numNodes?null:this.end.prev},eA.prototype.size=function(){return this._numNodes},eA.prototype.getFromFirst=function(eA){var er=0,ei=this.start.next;if(eA>=0)for(;er<eA&&null!==ei;)ei=ei.next,++er;else ei=null;if(null===ei)throw"Index out of bounds.";return ei},eA.prototype.get=function(eA){return 0===eA?this.getFirst():eA===this._numNodes-1?this.getLast():this.getFromFirst(eA)},eA.prototype.remove=function(eA){return eA.prev&&(eA.prev.next=eA.next),eA.next&&(eA.next.prev=eA.prev),--this._numNodes,eA},eA.prototype.removeFirst=function(){var eA=null;return this._numNodes>0&&this.start.next&&(eA=this.remove(this.start.next)),eA},eA.prototype.removeLast=function(){var eA=null;return this._numNodes>0&&this.end.prev&&(eA=this.remove(this.end.prev)),eA},eA.prototype.removeAll=function(){this.start.next=this.end,this.end.prev=this.start,this._numNodes=0,this._idCounter=0},eA.prototype.each=function(eA){for(var er=this.start;er.hasNext();)eA(er=er.next)},eA.prototype.find=function(eA){for(var er=this.start,ei=!1,eo=null;er.hasNext()&&!ei;)eA(er=er.next)&&(eo=er,ei=!0);return eo},eA.prototype.map=function(eA){for(var er=this.start,ei=[];er.hasNext();)eA(er=er.next)&&ei.push(er);return ei},eA.prototype.push=function(eA){return this.addLast(eA)},eA.prototype.unshift=function(eA){this.insertBefore(this._numNodes>0?this.start.next:this.end,eA)},eA.prototype.pop=function(){return this.removeLast()},eA.prototype.shift=function(){return this.removeFirst()},eA}();er.LinkedList=es,er.ENUM_PUBLISH_STATE_UPDATE={start:0,error:1,retry:2},er.ENUM_PLAY_STATE_UPDATE={start:0,error:1,retry:2,stop:3},er.ENUM_RETRY_STATE={didNotStart:0,retrying:1,finished:2},er.REPORT_ACTION={eventStart:"eventStart",eventEndWithMsgInfo:"eventEndWithMsgInfo",addEventMsg:"addEventMsg",addEvent:"addEvent",eventEnd:"eventEnd",addMsgInfo:"addMsgInfo"},function(eA){eA[eA.Unknown=-1]="Unknown",eA[eA.Excellent=0]="Excellent",eA[eA.Good=1]="Good",eA[eA.Middle=2]="Middle",eA[eA.Poor=3]="Poor",eA[eA.Die=4]="Die"}(er.QualityGrade||(er.QualityGrade={})),function(eA){eA[eA.MinQuality=0]="MinQuality",eA[eA.DieQuality=0]="DieQuality",eA[eA.PoorMinQuality=1]="PoorMinQuality",eA[eA.MiddleMinQuality=30]="MiddleMinQuality",eA[eA.GoodMinQuality=60]="GoodMinQuality",eA[eA.ExcellentMinQuality=85]="ExcellentMinQuality",eA[eA.MaxQuality=100]="MaxQuality"}(er.QUALITY_CONSTANT||(er.QUALITY_CONSTANT={})),function(eA){eA[eA.ZegoDefined=0]="ZegoDefined",eA[eA.UserUnregister=1]="UserUnregister"}(er.ZegoSEIType||(er.ZegoSEIType={})),function(eA){eA[eA.CDN=0]="CDN",eA[eA.L3=1]="L3"}(er.PlayMode||(er.PlayMode={})),function(eA){eA[eA.RTC=0]="RTC",eA[eA.CDN=1]="CDN",eA[eA.L3=2]="L3",eA[eA.DG=3]="DG"}(er.ResourceMode||(er.ResourceMode={})),function(eA){eA[eA.PortraitSegmentation=0]="PortraitSegmentation"}(er.Segmentation||(er.Segmentation={})),function(eA){eA[eA.Default=3]="Default",eA[eA.StandardVideoCall=4]="StandardVideoCall",eA[eA.HighVideoCall=5]="HighVideoCall",eA[eA.StandardChatroom=6]="StandardChatroom",eA[eA.HighQualityChatroom=7]="HighQualityChatroom",eA[eA.Broadcast=8]="Broadcast"}(er.ZegoScenario||(er.ZegoScenario={})),function(eA){eA[eA.I=0]="I",eA[eA.H=10]="H",eA[eA.M=100]="M",eA[eA.L=1e3]="L"}(er.TRACER_LEVEL||(er.TRACER_LEVEL={})),function(eA){eA[eA.BASE_LINE=1]="BASE_LINE",eA[eA.MAIN=2]="MAIN",eA[eA.HIGH=3]="HIGH"}(er.H264ProfileType||(er.H264ProfileType={})),function(eA){eA.ONLY_BASELINE="only_baseline",eA.HARD_SOFT_ENCODEC_FIRST="hard_or_soft_encodec_first",eA.HIGH_PROFILE_FIRST="high_profile_first"}(er.EncodecSelectionModeType||(er.EncodecSelectionModeType={})),function(eA){eA[eA.NONE=0]="NONE",eA[eA.MEN_TO_CHILD=1]="MEN_TO_CHILD",eA[eA.MEN_TO_WOMEN=2]="MEN_TO_WOMEN",eA[eA.WOMEN_TO_CHILD=3]="WOMEN_TO_CHILD",eA[eA.WOMEN_TO_MEN=4]="WOMEN_TO_MEN",eA[eA.FOREIGNER=5]="FOREIGNER",eA[eA.OPTIMUS_PRIME=6]="OPTIMUS_PRIME",eA[eA.ANDROID=7]="ANDROID",eA[eA.ETHEREAL=8]="ETHEREAL",eA[eA.MALE_MAGNETIC=9]="MALE_MAGNETIC",eA[eA.FEMALE_FRESH=10]="FEMALE_FRESH",eA[eA.MAJOR_C=11]="MAJOR_C",eA[eA.MINOR_A=12]="MINOR_A",eA[eA.HARMONIC_MINOR=13]="HARMONIC_MINOR",eA[eA.FEMALE_ENERGETIC=14]="FEMALE_ENERGETIC",eA[eA.RICHNESS=15]="RICHNESS",eA[eA.MUFFLED=16]="MUFFLED",eA[eA.ROUNDNESS=17]="ROUNDNESS",eA[eA.FALSETTO=18]="FALSETTO",eA[eA.FULLNESS=19]="FULLNESS",eA[eA.CLEAR=20]="CLEAR",eA[eA.HIGHLY_RESONANT=21]="HIGHLY_RESONANT",eA[eA.LOUD_CLEAR=22]="LOUD_CLEAR"}(er.ZegoVoiceChangerPreset||(er.ZegoVoiceChangerPreset={}));var ea=ei(4119);Object.defineProperty(er,"getSeq",{enumerable:!0,get:function(){return ea.getSeq}}),Object.defineProperty(er,"getReportSeq",{enumerable:!0,get:function(){return ea.getReportSeq}}),Object.defineProperty(er,"ZegoExpressWebRTMEngine",{enumerable:!0,get:function(){return ea.ZegoExpressWebRTMEngine}}),Object.defineProperty(er,"ZegoLogger",{enumerable:!0,get:function(){return ea.ZegoLogger}}),Object.defineProperty(er,"ZegoDataReport",{enumerable:!0,get:function(){return ea.ZegoDataReport}}),Object.defineProperty(er,"ZegoExpressWebRTM",{enumerable:!0,get:function(){return ea.ZegoExpressWebRTM}}),Object.defineProperty(er,"NetConnection",{enumerable:!0,get:function(){return ea.NetConnection}}),Object.defineProperty(er,"BusinessService",{enumerable:!0,get:function(){return ea.BusinessService}}),Object.defineProperty(er,"ZReporter",{enumerable:!0,get:function(){return ea.ZReporter}})},2532:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.errorCodeList=void 0,er.errorCodeList={NOT_LOGIN:{code:1000002,message:"not login room"},STREAMID_TOO_LONG:{code:1000014,message:"stream ID is too long"},STREAM_ID_NULL:{code:1000015,message:"streamID is empty"},STREAM_ID_INVALID_CHARACTER:{code:1000016,message:"stream ID contains illegal characters"},NETWORK_BROKEN:{code:1000017,message:"network is broken"},LOCALSTREAM_WRONG:{code:1000018,message:"local stream wrong"},INPUT_PARAM:{code:1100001,message:"input param error."},TIMEOUT:{code:1100002,message:"network timeout."},SOCKET_CLOSE:{code:1100003,msg:"socket close"},INIT_SDK_WRONG:{code:1101e3,message:"init sdk wrong"},WX_GET_SETTING_FAIL:{code:1101001,message:"wx get setting fail"},GET_CONFIG_FAIL:{code:1101002,message:"get app config fail"},MODULE_NOT_IMPORTED:{code:1101003,message:"Module not imported"},RTC_LOGIN_ERROR:{code:1101004,message:"signal login fail"},RTC_HB_ERROR:{code:1101005,message:"signal hb fail"},USER_ID_NULL:{code:1002005,message:"user ID is empty"},USER_ID_INVALID_CHARACTER:{code:1002006,message:"user ID contains illegal characters"},USER_ID_TOO_LONG:{code:1002007,message:"user ID is too long"},USER_NAME_NULL:{code:1002008,message:"username is empty"},USER_NAME_TOO_LONG:{code:1002010,message:"username is too long"},ROOM_ID_NULL:{code:1002011,message:"room ID is empty"},ROOM_ID_INVALID_CHARACTER:{code:1002012,message:"room ID contains illegal characters"},ROOM_ID_TOO_LONG:{code:1002013,message:"room ID is too long"},ROOM_NOT_EXIST:{code:1002014,msg:"room not exist"},LOGIN_TIMEOUT:{code:1002031,message:"login timeout"},ROOM_MAX_USER_COUNT:{code:1002034,message:"users logging into the room exceeds the maximum number"},MULTIPLE_LOGIN_KICKOUT:{code:1002050,message:"kickout may be the same user ID login other"},ROOM_RETRY_TIMEOUT:{code:1002053,message:"network is broken and login fail."},MANUAL_KICKOUT:{code:1002055,message:"server has sent a signal to kick out"},ROOM_INNER_ERROR:{code:1002099,message:"room inner error"},HEARTBEAT_TIMEOUT:{code:1102001,message:"heartbeat timeout."},PARSE_JSON_ERROR:{code:1102011,message:"parse json error."},LOGIN_PROCESSING:{code:1102012,message:"login is processing."},LIVEROOM_REQUEST_ERROR:{code:1102013,message:"liveroom request error."},ZPUSH_REQUEST_FAIL:{code:1102014,message:"zpush request fail."},LOGIN_STATE_WRONG:{code:1102015,message:"user login state is wrong."},TOKEN_ERROR:{code:1102016,message:"token error"},DISPATCH_ERROR:{code:1102017,message:"dispatch error"},TOKEN_EXPIRED:{code:1102018,message:"token expired"},SUBCMD_ERROR:{code:1102019,message:"subcmd error."},ZEGO_AUTH_ERROR:{code:1102020,message:"zego auth error."},BIZ_CHANNEL_ERROR:{code:1102021,message:"biz channel error."},DISPATCH_TIMEOUT:{code:1102022,message:"dispatch request timeout"},CONNECT_FAILED:{code:1102023,message:"connect signal fail"},PUBLISHER_MEDIA_SERVER_FORBID:{code:1003025,message:"stream is forbided by media server"},PUBLISHER_EXTRA_INFO_TOO_LONG:{code:1003051,message:"stream extra info is too long"},PUBLISHER_PARAM:{code:1103001,message:"input param error"},PUBLISHER_BROWSER_NOT_SUPPORT:{code:1103002,message:"browser do not support"},PUBLISHER_DISPATCH_FAIL:{code:1103003,message:"dispatch request error"},PUBLISHER_SCREEN_FAILED:{code:1103010,message:"screen fail"},ENUMERATE_DEVICES_FAIL:{code:1103011,message:"enumerate devices fail"},PUBLISHER_DISPATCH_REQUEST_FAIL:{code:1103020,message:"dispatch request fail"},PUBLISHER_SESSION_REQUEST_FAIL:{code:1103021,message:"session request fail"},PUBLISHER_CREATE_OFFER_ERROR:{code:1103022,message:"create offer error"},PUBLISHER_SET_LOCAL_DESC_ERROR:{code:1103023,message:"setLocalDescription error"},PUBLISHER_MEDIA_DESC_ERROR:{code:1103024,message:"mediaDesc error"},PUBLISHER_SET_REMOTE_DESC_ERROR:{code:1103025,message:"other side offer error"},PUBLISHER_CANDIDATE_ERROR:{code:1103026,message:"candidate error"},PUBLISHER_SESSION_CLOSED:{code:1103027,message:"server session closed"},PUBLISHER_MEDIA_CONNECTION_ERROR:{code:1103028,message:"ice connection error"},PUBLISHER_SERVER_NEGO_TIMEOUT:{code:1103030,message:"negotiation timeout"},PUBLISH_DEVICE_OUT_ERR:{code:1103041,message:"device change "},PUBLISH_SCREEN_CANCELED:{code:1103042,message:"screen canceled"},PUBLISH_SCREEN_NOT_SUPPORT:{code:1103043,message:"screen not support"},PUBLISH_NO_PREVIEW:{code:1103044,message:"stream is not from zego"},REPEATED_PULL:{code:1103049,message:"repeated pull same stream"},PUBLISHER_WEBSOCKET_DISCONNECTED:{code:1103050,message:"websocket disconnected"},PUBLISHER_RETRY_TIMEOUT:{code:1103051,message:"publisher retry timeout"},PUBLISHER_HTTPS_REQUIRED:{code:1103053,message:"https is required"},PUBLISHER_NO_PREVIEW:{code:1103054,message:"no preview"},PUBLISHER_STREAM_NO_FOUND:{code:1103055,message:"publish stream no found"},PUBLISHER_IS_PUBLISHING:{code:1103056,message:"publish is publishing"},PUBLISHER_CLIENT_IP_CHANGED:{code:1103058,message:"client ip changed"},PUBLISHER_TTL_OVERTIME:{code:1103059,message:"ttl over time"},PUBLISHER_SESSION_TIMEOUT:{code:1103060,message:"session request timeout"},PUBLISHER_GET_USER_MEDIA_FAIL:{code:1103061,message:"get media fail"},PUBLISHER_DEVICE_NO_ALLOWED:{code:1103064,message:"get device not allowed"},PUBLISHER_DEVICE_NO_READABLE:{code:1103065,message:"device is not readable"},PUBLISHER_OVER_CONSTRAINED:{code:1103066,message:"device does not meet constraints"},PUBLISHER_UPDATE_SDP_TIMEOUT:{code:1103067,message:"update sdp time out"},PUBLISHER_UPDATE_SDP_FAIL:{code:1103068,message:"update sdp fail"},VIDEO_EFFECT_IS_STARTING:{code:1103073,message:"video effect is starting, please operate after video effect is started"},PUBLISHER_NET_PROBE_POOR:{code:1103069,message:"publish stream poor and net probe poor"},PUBLISHER_NOT_SUBSCRIBE_BACKGROUND_PROCESS:{code:1103070,message:"background process is start, but not subscribe yet"},PLAYER_PARAM:{code:1104001,message:"input parm error"},PLAYER_DISPATCH_REQUEST_FAIL:{code:1104020,message:"dispatch request fail"},PLAYER_SESSION_REQUEST_FAIL:{code:1104021,message:"session request fail"},PLAYER_CREATE_OFFER_ERROR:{code:1104022,message:"create offer error"},PLAYER_SET_LOCAL_DESC_ERROR:{code:1104023,message:"setLocalDescription error"},PLAYER_MEDIA_DESC_ERROR:{code:1104024,message:"mediaDesc error"},PLAYER_SET_REMOTE_DESC_ERROR:{code:1104025,message:"other side offer error"},PLAYER_CANDIDATE_ERROR:{code:1104026,message:"candidate error"},PLAYER_SESSION_CLOSED:{code:1104027,message:"server session closed"},PLAYER_MEDIA_CONNECTION_ERROR:{code:1104028,message:"ice connection error"},PLAYER_WEBSOCKET_DISCONNECTED:{code:1104029,message:"websocket disconnected"},PLAYER_SERVER_NEGO_TIMEOUT:{code:1104030,message:"negotiation timeout"},PLAYER_RETRY_TIMEOUT:{code:1104031,message:"player retry timeout"},PLAYER_IS_PLAYING:{code:1104032,message:"player is playing"},PLAYER_CLIENT_IP_CHANGED:{code:1104033,message:"client ip changed"},PLAYER_TTL_OVERTIME:{code:1104034,message:"ttl is over time"},PLAYER_SESSION_RESET:{code:1104035,message:"reset session push"},PLAYER_SESSION_TIMEOUT:{code:1104036,message:"session request timeout"},PLAYER_PROBE_TIMEOUT:{code:1104037,message:"probe time out"},PLAYER_UNSUPPORTED_PROTOCOL:{code:1104038,message:"resource mode is not supported"},PLAYER_STREAM_NOT_EXIST:{code:1104039,message:"play stream not found"},PLAYER_NET_PROBE_POOR:{code:1103040,message:"stream quality poor and net probe poor"},DEVICE_ERROR_TYPE_UNPLUGGED:{code:1006006,message:"the device is unplugged"},IM_CONTENT_NULL:{code:1009001,message:"message content is empty"},IM_CONTENT_TOO_LONG:{code:1009002,message:"message content is too long"},IM_SEND_FAILED:{code:1009010,message:"failed to send message"},FREQ_LIMITED:{code:1109001,message:"frequency limited."},SET_ROOM_SCENARIO:{code:1000067,message:"Logged in room, setting scenario is not supported"},WRONG_FORMAT:{code:1103083,message:"sdp wrong format"},SIZE_EXCEEDED:{code:1103084,message:"mini sdp buffer size exceeded"},URL_EXCEEDED:{code:1103085,message:"url size exceeded"}}},1586:function(eA,er,ei){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.ZegoWechatLogEvent=er.ZegoRTCLogEvent=void 0;var eo=ei(2532),en=ei(9268);er.ZegoRTCLogEvent={kZMInitSetting:{event:"/sdk/init",error:{kInvalidParamError:eo.errorCodeList.INPUT_PARAM},system_info:en.getItemString,servers:en.getItemArrString},kZegoTaskRoom:{event:"room"},kZMLoginRoom:{event:"/sdk/login"},kZegoTaskListener:{event:"listener"},kZegoTaskOnListener:{event:"/sdk/on_listener",listener:en.getItemString,error:{INPUT_PARAM:eo.errorCodeList.INPUT_PARAM}},kZegoTaskOffListener:{event:"/sdk/off_listener",listener:en.getItemString,error:{INPUT_PARAM:eo.errorCodeList.INPUT_PARAM}},kZegoTaskRoomContext:{event:"room_context"},kZegoTaskInitSetting:{event:"/sdk/init"},kZegoTaskCreateStream:{event:"/sdk/create_stream",error:{kBrowserNotSupportError:eo.errorCodeList.PUBLISHER_BROWSER_NOT_SUPPORT,kParamError:eo.errorCodeList.PUBLISHER_PARAM,kScreenCancelError:eo.errorCodeList.PUBLISH_SCREEN_CANCELED,kScreenFailedError:eo.errorCodeList.PUBLISHER_SCREEN_FAILED,kScreenNotSupportError:eo.errorCodeList.PUBLISH_SCREEN_NOT_SUPPORT,kHttpsRequiredError:eo.errorCodeList.PUBLISHER_HTTPS_REQUIRED,kGetUserMediaError:eo.errorCodeList.PUBLISHER_GET_USER_MEDIA_FAIL,kDeviceNoAllowedError:eo.errorCodeList.PUBLISHER_DEVICE_NO_ALLOWED,kDeviceNoReadableError:eo.errorCodeList.PUBLISHER_DEVICE_NO_READABLE,kDeviceOverConstrainedError:eo.errorCodeList.PUBLISHER_OVER_CONSTRAINED},stream_type:en.getItemString,screen:en.getItem,camera:en.getItem,custom:en.getItem,preview_conf:en.getItem,media_stream_id:en.getItemString},kZegoTaskPublishStart:{event:"/sdk/start_publish",error:{kPublishParamError:eo.errorCodeList.PUBLISHER_PARAM,kPublishNetworkTimeoutError:eo.errorCodeList.TIMEOUT,kPublishDispatchTimeoutError:eo.errorCodeList.DISPATCH_TIMEOUT,kPublishDispatchError:eo.errorCodeList.DISPATCH_ERROR,kPublishNetworkBrokenError:eo.errorCodeList.NETWORK_BROKEN,kPublishNoPreviewError:eo.errorCodeList.PUBLISH_NO_PREVIEW,kPublishEffectIsStarting:eo.errorCodeList.VIDEO_EFFECT_IS_STARTING,kPublishNoLoginError:eo.errorCodeList.NOT_LOGIN,kPublishRetryTimeoutError:eo.errorCodeList.PUBLISHER_RETRY_TIMEOUT,kMediaServerForbidError:eo.errorCodeList.PUBLISHER_MEDIA_SERVER_FORBID,kPublishTokenExpiredError:eo.errorCodeList.TOKEN_EXPIRED,kPublishSessionClosedError:eo.errorCodeList.PUBLISHER_SESSION_CLOSED,kPublishNegoTimeoutError:eo.errorCodeList.PUBLISHER_SERVER_NEGO_TIMEOUT,kCreateOfferError:eo.errorCodeList.PUBLISHER_CREATE_OFFER_ERROR,kSetLocalDescError:eo.errorCodeList.PUBLISHER_SET_LOCAL_DESC_ERROR,kSessionTimeoutError:eo.errorCodeList.PUBLISHER_SESSION_TIMEOUT,kSessionRequestError:eo.errorCodeList.PUBLISHER_SESSION_REQUEST_FAIL,kSetRemoteDescError:eo.errorCodeList.PUBLISHER_SET_REMOTE_DESC_ERROR,kMediaConnectionError:eo.errorCodeList.PUBLISHER_MEDIA_CONNECTION_ERROR,kWebsocketDisconnectedError:eo.errorCodeList.PUBLISHER_WEBSOCKET_DISCONNECTED,kMediaDescError:eo.errorCodeList.PUBLISHER_MEDIA_DESC_ERROR,kCandidateError:eo.errorCodeList.PUBLISHER_CANDIDATE_ERROR,kIsPublishing:eo.errorCodeList.PUBLISHER_IS_PUBLISHING,kClientIPChangedError:eo.errorCodeList.PUBLISHER_CLIENT_IP_CHANGED,kTTLOverTimeError:eo.errorCodeList.PUBLISHER_TTL_OVERTIME,kUpdateMediaDescriptionTimeOut:eo.errorCodeList.PUBLISHER_UPDATE_SDP_TIMEOUT,kUpdateMediaDescriptionError:eo.errorCodeList.PUBLISHER_UPDATE_SDP_FAIL,kPublishNetProbePoor:eo.errorCodeList.PUBLISHER_NET_PROBE_POOR,kPublishNotSubscribeBackgroundProcessError:eo.errorCodeList.PUBLISHER_NOT_SUBSCRIBE_BACKGROUND_PROCESS},urls:en.getItemArrString,is_center:en.getItemBool,server_url:en.getItemString,publish_option:en.getItem,message:en.getItemString,stream_id:en.getItemString,stream_sid:en.getItemNumber,room_id:en.getItemString,video_en_codec_id:en.getItemNumber,cap_w:en.getItemNumber,cap_h:en.getItemNumber,w:en.getItemNumber,h:en.getItemNumber,video_en_fps:en.getItemNumber,video_en_bps:en.getItemNumber,audio_c_channel_count:en.getItemNumber,audio_en_bps:en.getItemNumber,aec_level:en.getItemNumber,ans_level:en.getItemNumber,agc:en.getItemBool,enable_camera:en.getItemBool,enable_mic:en.getItemBool,video_activate:en.getItemBool,audio_activate:en.getItemBool,gw_version:en.getItemNumber,use_na:en.getItemNumber},kZegoStartPublish:{event:"/publish/start",is_peer:en.getItemBool,reason:en.getItemString,url:en.getItemString,ip:en.getItemString,peer_id:en.getItemNumber,source_type:en.getItemString,net_protocol:en.getItemString,wait_consume:en.getItemNumber,dispatch_consume:en.getItemNumber,signal_consume:en.getItemNumber,is_center:en.getItemBool},kZegoRePublish:{event:"/publish/restart",stream_id:en.getItemString,server_url:en.getItemString,reason_code:en.getItemNumber},kZegoTaskRePublish:{event:"/sdk/republish"},kZegoTaskSDKPublishStream:{event:"/sdk/publish",room_id:en.getItemString,room_sid_string:en.getItemString,retry_btime:en.getItemNumber,max_retry_interval:en.getItemNumber,fail_cnt:en.getItemNumber,continuous_fail_cnt:en.getItemNumber,probe_ip_cnt:en.getItemNumber,valid_probe_ip_cnt:en.getItemNumber,poor_quality_retry_cnt:en.getItemNumber,use_resource_type:en.getItemArrString,probe_not_trigger_retry_info:en.getItem,stop_reason:en.getItemString,try_cnt:en.getItemNumber,server_url:en.getItemString,publish_begin_time:en.getItemNumber,publish_state_time:en.getItemNumber,bitrate:en.getItemNumber,h:en.getItemNumber,w:en.getItemNumber,cap_w:en.getItemNumber,cap_h:en.getItemNumber,fps:en.getItemNumber,use_na:en.getItemNumber,env:en.getItemNumber,webrtc_sid:en.getItemNumber,stream_id:en.getItemString,itemtype:en.getItemString},kZegoTaskVideoCaptureSize:{event:"/sdk/api/publish_video_c_size",webrtc_sid:en.getItemNumber,w:en.getItemNumber,h:en.getItemNumber},kZegoTaskVideoPlaySize:{event:"/sdk/play_video_size_changed",webrtc_sid:en.getItemNumber,w:en.getItemNumber,h:en.getItemNumber},kZegoTaskRTCPublish:{event:"/rtc/publish",tryidx:en.getItemNumber,url:en.getItemString,ip:en.getItemString,net_protocol:en.getItemString,lsttime:en.getItemNumber,denied_info:en.getItemString,dispatch_external_ip:en.getItemString,total_stat:en.getItem,room_id:en.getItemString,room_sid_string:en.getItemString,resource_type:en.getItemString,protocol:en.getItemString,stop_reason:en.getItemString},kZegoTaskPublishStop:{event:"/sdk/stop_publish",error:{kParamError:eo.errorCodeList.PUBLISHER_PARAM},stream_id:en.getItemString,stream_sid:en.getItemNumber,room_id:en.getItemString},kZegoTaskPublishStreamStateError:{event:"/rtc/publish_stream_state_error"},kZegoTaskPlayStart:{event:"/sdk/start_play",error:{kStreamIDNullError:eo.errorCodeList.STREAM_ID_NULL,kPlayParamError:eo.errorCodeList.PLAYER_PARAM,kPlayStreamIDToLongError:eo.errorCodeList.STREAMID_TOO_LONG,kPlayStreamIDInvalidCharacterError:eo.errorCodeList.STREAM_ID_INVALID_CHARACTER,kPlayNoLoginError:eo.errorCodeList.NOT_LOGIN,kPlayRepeatedPullError:eo.errorCodeList.REPEATED_PULL,kPlayNetworkTimeoutError:eo.errorCodeList.TIMEOUT,kPlayDispatchTimeoutError:eo.errorCodeList.DISPATCH_TIMEOUT,kPlayDispatchError:eo.errorCodeList.DISPATCH_ERROR,kPlayNetworkBrokenError:eo.errorCodeList.NETWORK_BROKEN,kPlayUnsupportedResourceMode:eo.errorCodeList.PLAYER_UNSUPPORTED_PROTOCOL,kPlayStreamNotFound:eo.errorCodeList.PLAYER_STREAM_NOT_EXIST,kPlayRetryTimeoutError:eo.errorCodeList.PLAYER_RETRY_TIMEOUT,kPlaySessionClosedError:eo.errorCodeList.PLAYER_SESSION_CLOSED,kPlaySessionResetError:eo.errorCodeList.PLAYER_SESSION_RESET,kPlayNegoTimeoutError:eo.errorCodeList.PLAYER_SERVER_NEGO_TIMEOUT,kCreateOfferError:eo.errorCodeList.PLAYER_CREATE_OFFER_ERROR,kSetLocalDescError:eo.errorCodeList.PLAYER_SET_LOCAL_DESC_ERROR,kSessionRequestError:eo.errorCodeList.PLAYER_SESSION_REQUEST_FAIL,kSessionTimeoutError:eo.errorCodeList.PLAYER_SESSION_TIMEOUT,kSetRemoteDescError:eo.errorCodeList.PLAYER_SET_REMOTE_DESC_ERROR,kMediaConnectionError:eo.errorCodeList.PLAYER_MEDIA_CONNECTION_ERROR,kWebsocketDisconnectedError:eo.errorCodeList.PLAYER_WEBSOCKET_DISCONNECTED,kCandidateError:eo.errorCodeList.PLAYER_CANDIDATE_ERROR,kMediaDescError:eo.errorCodeList.PLAYER_MEDIA_DESC_ERROR,kIsPlaying:eo.errorCodeList.PLAYER_IS_PLAYING,kClientIPChangedError:eo.errorCodeList.PLAYER_CLIENT_IP_CHANGED,kTTLOverTimeError:eo.errorCodeList.PLAYER_TTL_OVERTIME,kProbeTimeOutError:eo.errorCodeList.PLAYER_PROBE_TIMEOUT,kPlayNetProbePoor:eo.errorCodeList.PLAYER_NET_PROBE_POOR},room_id:en.getItemString,urls:en.getItemArrString,is_center:en.getItemBool,server_url:en.getItemString,video_layer:en.getItemNumber,play_option:en.getItem,message:en.getItemString,stream_id:en.getItemString,stream_sid:en.getItemNumber,resource_mode:en.getItemNumber,src:en.getItemString,video_codec_id:en.getItemString,room_sid_string:en.getItemString,is_multi:en.getItemBool,audio_activate:en.getItemBool,video_activate:en.getItemBool,gw_version:en.getItemNumber,use_na:en.getItemNumber,biz_product:en.getItemNumber},kZegoStartPlay:{event:"/play/start",is_peer:en.getItemBool,reason:en.getItemString,url:en.getItemString,ip:en.getItemString,peer_id:en.getItemNumber,source_type:en.getItemString,net_protocol:en.getItemString,wait_consume:en.getItemNumber,dispatch_consume:en.getItemNumber,signal_consume:en.getItemNumber,is_center:en.getItemBool},kZegoRePlay:{event:"/play/restart",stream_id:en.getItemString,server_url:en.getItemString,reason_code:en.getItemNumber},kZegoTaskSDKPlayStream:{event:"/sdk/play",audio_cumulative_break_time:en.getItemNumber,audio_cumulative_decode_time:en.getItemNumber,video_cumulative_break_time:en.getItemNumber,video_cumulative_decode_time:en.getItemNumber,l3_a_break_time:en.getItemNumber,l3_a_decode_time:en.getItemNumber,l3_v_break_time:en.getItemNumber,l3_v_decode_time:en.getItemNumber,rtc_a_break_time:en.getItemNumber,rtc_a_decode_time:en.getItemNumber,rtc_v_break_time:en.getItemNumber,rtc_v_decode_time:en.getItemNumber,fft_audio:en.getItemNumber,fft_video:en.getItemNumber,room_id:en.getItemString,room_sid_string:en.getItemString,retry_btime:en.getItemNumber,max_retry_interval:en.getItemNumber,use_na:en.getItemNumber,fail_cnt:en.getItemNumber,continuous_fail_cnt:en.getItemNumber,probe_ip_cnt:en.getItemNumber,valid_probe_ip_cnt:en.getItemNumber,poor_quality_retry_cnt:en.getItemNumber,probe_not_trigger_retry_info:en.getItem,use_resource_type:en.getItemArrString,stop_reason:en.getItemString,try_cnt:en.getItemNumber,webrtc_sid:en.getItemNumber,itemtype:en.getItemString,server_url:en.getItemString,play_begin_time:en.getItemNumber,play_state_time:en.getItemNumber,play_state_cnt:en.getItemNumber,first_frame_time:en.getItemNumber,protocol:en.getItemString,dispatch_external_ip:en.getItemString,total_stat:en.getItem,w:en.getItemNumber,h:en.getItemNumber,abrc:en.getItemNumber,vbrc:en.getItemNumber,vinfo:en.getItem},kZegoTaskStreamPlay:{event:"/rtc/play",tryidx:en.getItemNumber,url:en.getItemString,ip:en.getItemString,stream_id:en.getItemString,room_id:en.getItemString,room_sid_string:en.getItemString,net_protocol:en.getItemString,lsttime:en.getItemNumber,denied_info:en.getItemString,stop_reason:en.getItemString,dispatch_external_ip:en.getItemString,env:en.getItemNumber,resource_type:en.getItemString,protocol:en.getItemString,total_stat:en.getItem,vinfo:en.getItem},kZegoTaskRePlay:{event:"/sdk/replay",stream_id:en.getItemString,server_url:en.getItemString,reason_code:en.getItemNumber},kZegoTaskPlayStop:{event:"/sdk/stop_play",error:{kParamError:eo.errorCodeList.PUBLISHER_PARAM},room_id:en.getItemString,stream_id:en.getItemString,webrtc_sid:en.getItemNumber,stream_sid:en.getItemNumber,biz_product:en.getItemNumber},kZegoTaskPlayStreamStateError:{event:"/rtc/play_stream_state_error"},kZegoTaskEnumDevices:{event:"/device/list",error:{kBrowserNotSupportError:eo.errorCodeList.PUBLISHER_BROWSER_NOT_SUPPORT,kEnumDevicesError:eo.errorCodeList.ENUMERATE_DEVICES_FAIL},dev_list:en.getItem,dev_kind:en.getItemString},kZegoAudioDeviceChanged:{event:"/device/audio_device_changed",error:{kBrowserNotSupportError:eo.errorCodeList.PUBLISHER_BROWSER_NOT_SUPPORT,kEnumDevicesError:eo.errorCodeList.ENUMERATE_DEVICES_FAIL},interrupt:en.getItemNumber,device:en.getItemString,device_name:en.getItemString},kZegoVideoDeviceChanged:{event:"/device/video_device_changed",error:{kBrowserNotSupportError:eo.errorCodeList.PUBLISHER_BROWSER_NOT_SUPPORT,kEnumDevicesError:eo.errorCodeList.ENUMERATE_DEVICES_FAIL},interrupt:en.getItemNumber,device:en.getItemString,device_name:en.getItemString},kZegoTaskDeviceInterrupt:{event:"/device/interrupt",error:{kBrowserNotSupportError:eo.errorCodeList.PUBLISHER_BROWSER_NOT_SUPPORT,kEnumDevicesError:eo.errorCodeList.ENUMERATE_DEVICES_FAIL},interrupt:en.getItemNumber,device:en.getItemString,device_name:en.getItemString},kZegoTaskCheckSystemRequirements:{event:"/sdk/check_system",capability:en.getItem},kZegoTaskRemoteCameraUpdate:{event:"/sdk/remote_camera_update",stream_id:en.getItemString,camera_status:en.getItemString,status_code:en.getItemNumber},kZegoTaskRemoteMicUpdate:{event:"/sdk/remote_mic_update",stream_id:en.getItemString,mic_status:en.getItemString,status_code:en.getItemNumber},kZegoTaskDestroyStream:{event:"/sdk/destroy_stream",error:{kLocalStreamError:eo.errorCodeList.LOCALSTREAM_WRONG},stop_reason:en.getItemString},kZegoTaskAudioOutputChanged:{event:"/device/api/audio_output",device:en.getItemString,device_name:en.getItemString,reason_type:en.getItemString},kZegoTaskLiveRoomRecvStreamUpdateInfo:{event:"/liveroom/recv_stream_update_info",stream_update_type:en.getItemString,stream_seq:en.getItemNumber,stream_list:en.getItem,error:{ROOM_NOT_EXIST:eo.errorCodeList.ROOM_NOT_EXIST}},kZegoTaskLiveRoomSendStreamUpdateInfo:{event:"/liveroom/send_stream_update_info",stream_update_type:en.getItemString,stream_extra_info:en.getItemString,stream_id:en.getItemString,svr_env:en.getItemString,send_seq:en.getItemNumber,use_na:en.getItemNumber},kZegoTaskLiveRoomGetCurrentStreamList:{event:"/liveroom/get_current_stream_list",room_id:en.getItemString,room_sid_string:en.getItemString,stream_seq:en.getItemNumber,stream_size:en.getItemNumber,stream_list:en.getItem,use_ua:en.getItemNumber,error:{kParamError:eo.errorCodeList.PUBLISHER_PARAM,NOT_LOGIN:eo.errorCodeList.NOT_LOGIN}},kZegoTaskLiveRoomGetStreamExtraInfo:{event:"/liveroom/get_stream_extra_info",update_stream:en.getItem},kZegoTaskPlayNetFirstVideoFrame:{event:"/sdk/net_first_video_frame",webrtc_sid:en.getItemNumber,fft_consumed:en.getItem,resource_type:en.getItemString,reliability:en.getItemNumber,push_consumed:en.getItemNumber,prepare_recv_consumed:en.getItemNumber,connected_consumed:en.getItemNumber,protocol:en.getItemString,biz_product:en.getItemNumber,dev_changed:en.getItemBool},kZegoTaskPlayNetFirstAudioFrame:{event:"/sdk/net_first_audio_frame",webrtc_sid:en.getItemNumber,fft_consumed:en.getItem,resource_type:en.getItemString,reliability:en.getItemNumber,push_consumed:en.getItemNumber,prepare_recv_consumed:en.getItemNumber,connected_consumed:en.getItemNumber,protocol:en.getItemString,biz_product:en.getItemNumber,dev_changed:en.getItemBool},kZegoAppLifeCycle:{event:"/app/lifecycle",state:en.getItemString},kZegoSetCaptureVolume:{event:"/sdk/set_capture_volume",error:{kParamError:eo.errorCodeList.INPUT_PARAM}},kZegoListener:{event:"/sdk/listener"},kZegoNetProbe:{event:"/sdk/net_probe",net_quality:en.getItemNumber,node_list:en.getItemArrString},kZegoNetProbeResult:{event:"/sdk/net_probe_result",is_switch:en.getItemBool,is_publish:en.getItemBool,stream_id:en.getItemString,result:en.getItemNumber,node:en.getItemString,net_quality:en.getItemNumber,probe_net_quality:en.getItemNumber},kZegoTaskCloudSettingCache:{event:"/cloud_setting/cache",files:en.getItem},kZegoTaskCloudSettingRefresh:{event:"/cloud_setting/refresh"},kZegoTaskCDNPlay:{event:"/cdn/play",protocol:en.getItemString,tryidx:en.getItemNumber,url:en.getItemString,stop_reason:en.getItemString,biz_product:en.getItemNumber},kZegoTaskL3Play:{event:"/l3/play",protocol:en.getItemString,tryidx:en.getItemNumber,url:en.getItemString,stop_reason:en.getItemString,biz_product:en.getItemNumber},kZegoTaskSrcChange:{event:"/sdk/play_src_changed",last_src:en.getItemString,src:en.getItemString,biz_product:en.getItemNumber},kZegoPublishStreamResource:{event:"/publish/stream_resource",urls:en.getItemArrString,try_cnt:en.getItemNumber,is_center:en.getItemBool},kZegoPublishServerConnect:{event:"/publish/server_connect",server_url:en.getItemString,stream_type:en.getItemString},kZegoPublishCreateOffer:{event:"/publish/create_offer",sdp:en.getItemString,stream_type:en.getItemString,is_mini:en.getItemBool},kZegoPublishSetLocalSdp:{event:"/publish/set_local_sdp",sdp:en.getItemString,stream_type:en.getItemString,is_mini:en.getItemBool},kZegoPublishCreateSession:{event:"/publish/create_session",sdp:en.getItemString,is_mini:en.getItemBool,gw_nodes:en.getItemArrString,gw_nodes_ttl:en.getItemNumber,gw_version:en.getItemNumber,webrtc_sid:en.getItemNumber},kZegoPublishSetRemoteSdp:{event:"/publish/set_remote_sdp",sdp:en.getItemString,is_mini:en.getItemBool,webrtc_sid:en.getItemNumber},kZegoPublishIceConnected:{event:"/publish/ice_connected",webrtc_sid:en.getItemNumber},kZegoRTCPublishEvent:{event:"/publish/rtc_publish_event",event_state:en.getItemNumber,webrtc_sid:en.getItemNumber},kZegoRTCPlayEvent:{event:"/rtc/play_event_message",event_state:en.getItemNumber,webrtc_sid:en.getItemNumber},kZegoRTCRecvCloseSession:{event:"/rtc/recv_close_session",err_info:en.getItem},kZegoRTCRecvResetSession:{event:"/rtc/recv_reset_session"},kZegoRTCIceStateChanged:{event:"/rtc/ice_connection_state_changed",ice_state:en.getItemString},kZegoPublishSendMediaDesc:{event:"/publish/send_media_desc",webrtc_sid:en.getItemNumber},kZegoPublishRecvMediaDesc:{event:"/publish/recv_media_desc",sdp:en.getItemString,is_mini:en.getItemBool},kZegoPublishSendIceCandidate:{event:"/publish/send_ice_candidate",candidate_info:en.getItem},kZegoPublishRecvIceCandidate:{event:"/publish/recv_ice_candidate",candidate_info:en.getItem},kZegoRTCHB:{event:"/rtc/hb",error:{RTC_HB_ERROR:eo.errorCodeList.RTC_HB_ERROR}},kZCRecvRemoteStream:{event:"/rtc/recv_remote_stream"},kZegoPlayStreamResource:{event:"/play/stream_resource",urls:en.getItemArrString,try_cnt:en.getItemNumber,is_center:en.getItemBool},kZegoPlayServerConnect:{event:"/play/server_connect",server_url:en.getItemString,stream_type:en.getItemString},kZegoPlayCreateOffer:{event:"/play/create_offer",sdp:en.getItemString,is_mini:en.getItemBool,stream_type:en.getItemString},kZegoPlaySetLocalSdp:{event:"/play/set_local_sdp",sdp:en.getItemString,is_mini:en.getItemBool,stream_type:en.getItemString},kZegoPlayCreateSession:{event:"/play/create_session",sdp:en.getItemString,is_mini:en.getItemBool,gw_nodes:en.getItemArrString,gw_nodes_ttl:en.getItemNumber,gw_version:en.getItemNumber,webrtc_sid:en.getItemNumber},kZegoPlaySetRemoteSdp:{event:"/play/set_remote_sdp",sdp:en.getItemString,is_mini:en.getItemBool,webrtc_sid:en.getItemNumber},kZegoPlayIceConnected:{event:"/play/ice_connected",webrtc_sid:en.getItemNumber},kZegoPlaySendMediaDesc:{event:"/play/send_media_desc",webrtc_sid:en.getItemNumber},kZegoPlayRecvMediaDesc:{event:"/play/recv_media_desc",sdp:en.getItemString,is_mini:en.getItemBool},kZegoPlaySendIceCandidate:{event:"/play/send_ice_candidate",candidate_info:en.getItem},kZegoPlayRecvIceCandidate:{event:"/play/recv_ice_candidate",candidate_info:en.getItem},kZegoConnConnect:{event:"/zegoconn/connect"},kZegoSDKProxyConnect:{event:"/zegoconn/proxy_connect",service_no:en.getItemNumber,proxy_link_sources:en.getItemNumber,recv_time:en.getItemNumber,connect_stream:en.getItemNumber},kZegoSDKProxyBroken:{event:"/zegoconn/proxy_broken",service_no:en.getItemNumber},kZegoSDKProxyDisconnect:{event:"/zegoconn/proxy_disconnect",service_no:en.getItemNumber},kZegoExceptionUpdate:{event:"/rtc/exception_update",stream:en.getItemString,code:en.getItemNumber,message:en.getItemString}},er.ZegoWechatLogEvent={kZMInitSetting:{event:"/sdk/init"},kZegoTaskCheckSystemRequirements:{event:"/sdk/check_system",error:{kCheckSystemGetSettingFailError:eo.errorCodeList.WX_GET_SETTING_FAIL},check_system:en.getItem},kZegoTaskPublishStart:{event:"/sdk/api/publish_request",error:{kPublishStreamIDNullError:eo.errorCodeList.STREAM_ID_NULL,kPublishParamError:eo.errorCodeList.PUBLISHER_PARAM,kPublishStreamIDTooLongError:eo.errorCodeList.STREAMID_TOO_LONG,kPublishStreamIDInvalidCharacterError:eo.errorCodeList.STREAM_ID_INVALID_CHARACTER,kPublishNetworkTimeoutError:eo.errorCodeList.TIMEOUT,kPublishDispatchTimeoutError:eo.errorCodeList.DISPATCH_TIMEOUT,kPublishDispatchError:eo.errorCodeList.DISPATCH_ERROR,kPublishNetworkBrokenError:eo.errorCodeList.NETWORK_BROKEN,kPublishNoLoginError:eo.errorCodeList.NOT_LOGIN,kPublishRetryTimeoutError:eo.errorCodeList.PUBLISHER_RETRY_TIMEOUT,kIsPublishing:eo.errorCodeList.PUBLISHER_IS_PUBLISHING},publishOption:en.getItem,stream:en.getItem,message:en.getItem},kZegoTaskPlayStart:{event:"/sdk/api/play_request",error:{kPlayStreamIDNullError:eo.errorCodeList.STREAM_ID_NULL,kPlayParamError:eo.errorCodeList.PLAYER_PARAM,kPlayStreamIDTooLongError:eo.errorCodeList.STREAMID_TOO_LONG,kPlayStreamIDInvalidCharacterError:eo.errorCodeList.STREAM_ID_INVALID_CHARACTER,kPlayNoLoginError:eo.errorCodeList.NOT_LOGIN,kPlayRepeatedPullError:eo.errorCodeList.REPEATED_PULL,kPlayStreamNotFound:eo.errorCodeList.PLAYER_STREAM_NOT_EXIST,kPlayNetworkTimeoutError:eo.errorCodeList.TIMEOUT,kPlayDispatchTimeoutError:eo.errorCodeList.DISPATCH_TIMEOUT,kPlayDispatchError:eo.errorCodeList.DISPATCH_ERROR,kPlayNetworkBrokenError:eo.errorCodeList.NETWORK_BROKEN,kPlayRetryTimeoutError:eo.errorCodeList.PLAYER_RETRY_TIMEOUT,kIsPlaying:eo.errorCodeList.PLAYER_IS_PLAYING},playOption:en.getItem,message:en.getItem,session_id:en.getItem,stream:en.getItem,audio_activate:en.getItem,video_activate:en.getItem},kZegoEventPublishStat:"/sdk/publish_stat_report",kZegoEventPlayStat:"/sdk/play_stat_report",kZegoTaskRePublish:"/sdk/republish",kZegoTaskRePlay:"/sdk/replay",kZegoTaskPublishStop:{event:"/sdk/stop_publish",error:{kParamError:eo.errorCodeList.PUBLISHER_PARAM},stream:en.getItem,room_id:en.getItem},kZegoTaskPlayStop:{event:"/sdk/stop_play",error:{kParamError:eo.errorCodeList.PUBLISHER_PARAM},stream:en.getItem},kZegoTaskLiveRoomGetStreamUpdateInfo:{event:"/liveroom/get_stream_update_info",stream_update_type:en.getItem,update_stream:en.getItem},kZegoTaskLiveRoomGetStreamExtraInfo:{event:"/liveroom/get_stream_extra_info",update_stream:en.getItem}}},9268:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.getItemBool=er.getItemNumber=er.getItemArrString=er.getItemString=er.getItem=void 0,er.getItem=function(eA){return eA},er.getItemString=function(eA){return eA},er.getItemArrString=function(eA){return eA},er.getItemNumber=function(eA){return eA},er.getItemBool=function(eA){return eA}},2965:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.ZEGO_WEBRTC_ACTION=void 0,function(eA){eA.SET_VIDEO_CONFIG="zc.svc",eA.SET_AUDIO_CONFIG="zc.sac",eA.REPLACE_TRACK="zc.rp",eA.SET_BEAUTY_EFFECT="zc.sbe",eA.ENABLE_STREAM="zc.es",eA.ENABLE_MIC_ONLY="zc.emo",eA.ACTIVATE_SEI_INSERT="zc.asi",eA.MUTE_PUBLISH_STREAM_VIDEO="zc.mpsv.0",eA.MUTE_PUBLISH_STREAM_AUDIO="zc.mpsa.0",eA.MUTE_MIC="zc.mm",eA.MUTE_PLAY_STREAM_VIDEO="zc.mpsv.1",eA.MUTE_PLAY_STREAM_AUDIO="zc.mpsa.1",eA.ADD_TRACK="zc.at",eA.REMOVE_TRACK="zc.rt",eA.HANDLE_TRACK="zc.ht"}(er.ZEGO_WEBRTC_ACTION||(er.ZEGO_WEBRTC_ACTION={}))},9068:function(eA,er,ei){"use strict";var eo=this&&this.__assign||function(){return(eo=Object.assign||function(eA){for(var er,ei=1,eo=arguments.length;ei<eo;ei++)for(var en in er=arguments[ei])Object.prototype.hasOwnProperty.call(er,en)&&(eA[en]=er[en]);return eA}).apply(this,arguments)},en=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},es=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}};Object.defineProperty(er,"__esModule",{value:!0}),er.AdvancedModule=er.TRACER_LEVEL=void 0;var ea,eg=ei(2965),ec=ei(8476),eu=ei(3725),el=ei(4028);!function(eA){eA[eA.I=0]="I",eA[eA.H=10]="H",eA[eA.M=100]="M",eA[eA.L=1e3]="L"}(ea=er.TRACER_LEVEL||(er.TRACER_LEVEL={}));var ed=function(){function eA(eA,er,ei,eo){this.logger=eA,this.dataReport=er,this.streamCenter=ei,this.stateCenter=eo,this.screenShotReady=!1}return eA.prototype.setVideoConfig=function(eA,er){var ei=this;return this.logger.info(eg.ZEGO_WEBRTC_ACTION.SET_VIDEO_CONFIG+" call"),new Promise(function(en,es){var ea=eu.ZegoRTCLogEvent.kZegoSetVideoConfig.error,ec=ea.kLocalStreamError,ed=ea.kParamError,eE=ei.getSpan(eA,eu.ZegoRTCLogEvent.kZegoSetVideoConfig.event),eI=eo({},er);er.width&&(eI.width=JSON.stringify(er.width)),er.height&&(eI.height=JSON.stringify(er.height)),er.frameRate&&(eI.frameRate=JSON.stringify(er.frameRate)),eE.setAttributes({video_params:eu.ZegoRTCLogEvent.kZegoSetVideoConfig.video_params(eI)});var eC,eh,eB=function(eA){ei.stateCenter.reporter.setError(eE,ec,eA)};if(!(eA instanceof MediaStream))return ei.logger.error(eg.ZEGO_WEBRTC_ACTION.SET_VIDEO_CONFIG+" localStream not found"),eB("localStream not found"),void es({errorCode:ed.code,extendedData:ed.message+" localStream no found"});if(!er||"object"!=typeof er||0==Object.keys(er).length)return ei.logger.error(eg.ZEGO_WEBRTC_ACTION.SET_VIDEO_CONFIG+" constraints wrong"),eB("constraints wrong"),void es({errorCode:ed.code,extendedData:ed.message+" constraints wrong"});if(er.width&&"number"==typeof er.width&&!ei.stateCenter.checkValidNumber(er.width,0,7680))return ei.logger.error(eg.ZEGO_WEBRTC_ACTION.SET_VIDEO_CONFIG+" constraints width integer number, range[0, 7680]"),eB("constraints width integer number, range[1, 7680]"),void es({errorCode:ed.code,extendedData:ed.message+" constraints wrong"});if(er.width&&"object"==typeof er.width){if(!(eh=el.ClientUtil.checkConstraintExtendWithMessage(er.width,"width",0,7680)).result)return ei.logger.error(eg.ZEGO_WEBRTC_ACTION.SET_VIDEO_CONFIG+" constraints width: "+eh.message),eB("constraints width: "+eh.message),void es({errorCode:ed.code,extendedData:ed.message+" constraints wrong"})}else if(er.width&&"number"!=typeof er.width&&"object"!=typeof er.width)return ei.logger.error(eg.ZEGO_WEBRTC_ACTION.SET_VIDEO_CONFIG+" constraints width must be a number or an object. "),eB("constraints width must be a number or an object."),void es({errorCode:ed.code,extendedData:ed.message+" constraints wrong"});if(er.height&&"number"==typeof er.height&&!ei.stateCenter.checkValidNumber(er.height,0,4320))return ei.logger.error(eg.ZEGO_WEBRTC_ACTION.SET_VIDEO_CONFIG+" constraints height integer number, range[0, 4320]"),eB(" constraints height integer number, range[0, 4320]"),void es({errorCode:ed.code,extendedData:ed.message+" constraints wrong"});if(er.height&&"object"==typeof er.height){if(!(eh=el.ClientUtil.checkConstraintExtendWithMessage(er.height,"height",0,4320)).result)return ei.logger.error(eg.ZEGO_WEBRTC_ACTION.SET_VIDEO_CONFIG+" constraints height: "+eh.message),eB("constraints height: "+eh.message),void es({errorCode:ed.code,extendedData:ed.message+" constraints wrong"})}else if(er.height&&"number"!=typeof er.height&&"object"!=typeof er.height)return ei.logger.error(eg.ZEGO_WEBRTC_ACTION.SET_VIDEO_CONFIG+" constraints height must be a number or an object. "),eB(" constraints height must be a number or an object."),void es({errorCode:ed.code,extendedData:ed.message+" constraints wrong"});return er.maxBitrate&&"number"!=typeof er.maxBitrate?(ei.logger.error(eg.ZEGO_WEBRTC_ACTION.SET_VIDEO_CONFIG+(eC=" constraints maxBitrate is not a number")),eB(eC),void es({errorCode:ed.code,extendedData:ed.message+eC})):void 0!==er.frameRate&&"number"!=typeof er.frameRate&&"object"!=typeof er.frameRate?(ei.logger.error(eg.ZEGO_WEBRTC_ACTION.SET_VIDEO_CONFIG+(eC=" constraints frameRate is not a number or an object")),eB(eC),void es({errorCode:ed.code,extendedData:ed.message+eC})):"number"!=typeof er.frameRate||er.frameRate>0&&er.frameRate%1==0?er.frameRate&&"object"==typeof er.frameRate&&!(eh=el.ClientUtil.checkConstraintExtendWithMessage(er.frameRate,"frameRate")).result?(ei.logger.error(eg.ZEGO_WEBRTC_ACTION.SET_VIDEO_CONFIG+" constraints frameRate: "+eh.message),eB("constraints frameRate: "+eh.message),void es({errorCode:ed.code,extendedData:ed.message+" constraints wrong"})):void ei.setPublishStreamConstraints(eA,er,eE,function(eA){eE.setAttributes({error:eA.errorCode,message:eA.extendedData}),eE.end(),en(eA)}):(ei.logger.error(eg.ZEGO_WEBRTC_ACTION.SET_VIDEO_CONFIG+" constraints frameRate must be positive integer number"),eB("constraints frameRate must be positive integer number"),void es({errorCode:ed.code,extendedData:ed.message+" constraints wrong"}))})},eA.prototype.setAudioConfig=function(eA,er){var ei=this;return this.logger.info(eg.ZEGO_WEBRTC_ACTION.SET_AUDIO_CONFIG+" call"),new Promise(function(eo){var en=ei.getSpan(eA,eu.ZegoRTCLogEvent.kZegoSetAudioConfig.event);return(en.setAttributes({audio_params:eu.ZegoRTCLogEvent.kZegoSetAudioConfig.audio_params(er)}),eA instanceof MediaStream)?er&&"object"==typeof er&&0!=Object.keys(er).length&&(void 0===er.AEC||"boolean"==typeof er.AEC)&&(void 0===er.AGC||"boolean"==typeof er.AGC)&&(void 0===er.ANS||"boolean"==typeof er.ANS)?void ei.setPublishStreamConstraints(eA,er,en,function(eA){en.end(),eo(eA)}):(ei.logger.error(eg.ZEGO_WEBRTC_ACTION.SET_AUDIO_CONFIG+" constraints wrong"),ei.stateCenter.reporter.setError(en,eu.ZegoRTCLogEvent.kZegoSetAudioConfig.error.kParamError," constraints wrong"),void eo({errorCode:eu.ZegoRTCLogEvent.kZegoSetAudioConfig.error.kParamError.code,extendedData:eu.ZegoRTCLogEvent.kZegoSetAudioConfig.error.kParamError.message+" constraints wrong"})):(ei.logger.error(eg.ZEGO_WEBRTC_ACTION.SET_AUDIO_CONFIG+" localStream not found"),ei.stateCenter.reporter.setError(en,eu.ZegoRTCLogEvent.kZegoSetAudioConfig.error.kLocalStreamError),void eo({errorCode:eu.ZegoRTCLogEvent.kZegoSetAudioConfig.error.kParamError.code,extendedData:eu.ZegoRTCLogEvent.kZegoSetAudioConfig.error.kParamError.message+" localStream no found"}))})},eA.prototype.enableStream=function(eA,er){if(this.logger.info(eg.ZEGO_WEBRTC_ACTION.ENABLE_STREAM+" call"),"boolean"!=typeof er.video&&"boolean"!=typeof er.audio)return this.logger.error(eg.ZEGO_WEBRTC_ACTION.ENABLE_STREAM+" option error"),!1;var ei=!0,eo=!0;return"boolean"==typeof er.video&&(ei=this.enableCamera(eA,er.video,er.retain)),"boolean"==typeof er.audio&&(eo=this.enableMicrophone(eA,er.audio)),ei&&eo},eA.prototype.enableMicrophoneOnly=function(eA){if(this.logger.info(eg.ZEGO_WEBRTC_ACTION.ENABLE_MIC_ONLY+" call"),"boolean"!=typeof eA)return!1;for(var er=0;er<this.streamCenter.previewStreamList.length;er++)if(!this.streamCenter.previewStreamList[er].enableMicrophoneOnly(eA,this.streamCenter))return this.logger.error("zsc.emo.0 previewer ".concat(er," change mic mute state failed")),!1;return this.streamCenter.isMicEnabled=eA,!0},eA.prototype.replaceTrack=function(eA,er,ei){return en(this,void 0,void 0,function(){var eo,en,ea;return es(this,function(es){return eo=this.getSpan(eA,eu.ZegoRTCLogEvent.kZegoReplaceTrack.event),en=eu.ZegoRTCLogEvent.kZegoReplaceTrack.error.kParamError,eA instanceof MediaStream?er&&er instanceof MediaStreamTrack?(ea=this._replaceTrack(eA,er,ei),eo.setAttributes({track_kind:eu.ZegoRTCLogEvent.kZegoReplaceTrack.track_kind(er.kind)}),eo.end(),[2,ea]):(this.logger.error(eg.ZEGO_WEBRTC_ACTION.REPLACE_TRACK+" mediastream track no found"),this.stateCenter.reporter.setError(eo,en,"mediastream track no found"),[2,{errorCode:en.code,extendedData:en.message+" mediastream track no found"}]):(this.logger.error(eg.ZEGO_WEBRTC_ACTION.REPLACE_TRACK+" localStream not found"),this.stateCenter.reporter.setError(eo,en,"localStream not found"),[2,{errorCode:en.code,extendedData:en.message+" localStream no found"}])})})},eA.prototype.setPublishStreamConstraints=function(eA,er,ei,eo){var ea=this;this.logger.info("zsc.spsc.0 constraints",JSON.stringify(er));var eg=this.streamCenter.checkPreview(eA);if(!eg)return this.logger.error("zsc.spsc.0 preview no found"),void(eo&&eo({errorCode:ec.errorCodeList.PUBLISH_NO_PREVIEW.code,extendedData:ec.errorCodeList.PUBLISH_NO_PREVIEW.message}));var el=eg.videoTrack,ed=eg.audioTrack,eE=null==el?void 0:el.getSettings(),eI=!1,eC=!1;if(el&&(er.width||er.height||er.frameRate||er.videoQuality)&&(er.videoQuality||(eg.mediaStreamConfig.videoQuality=4),eI=!0),void 0===er.ANS&&void 0===er.AGC&&void 0===er.AEC||(eC=!0),eI&&!el)return this.logger.error("zsc.spsc.0 video track not found"),void(eo&&eo({errorCode:ec.errorCodeList.TRACK_NOT_FOUND.code,extendedData:ec.errorCodeList.TRACK_NOT_FOUND.message}));if(er.video=!0,eC&&(!ed||eg.hasEmptyAudioTrack))return this.logger.error("zsc.spsc.0 audio track not found"),void(eo&&eo({errorCode:ec.errorCodeList.TRACK_NOT_FOUND.code,extendedData:ec.errorCodeList.TRACK_NOT_FOUND.message}));er.audio=!0;var eh,eB=JSON.parse(JSON.stringify(eg.mediaStreamConfig)),ep=Object.assign(eg.mediaStreamConfig,er);"screen"==eg.previewType?(eh=this.streamCenter.getScreenConstrains(ep)).bitRate!==eB.bitRate&&(er.maxBitrate=eh.bitRate):eh=eg.getMediaStreamConstraints(ep,!0),this.logger.info("zsc.spsc.0 applyConstraints ",JSON.stringify(eh));var ef=[];if(eI&&el){var em={};Object.keys(eh.video).forEach(function(eA){em[eA]=JSON.stringify(eh.video[eA])}),ei.setAttributes({video_conf:eu.ZegoRTCLogEvent.kZegoSetVideoConfig.video_conf(em)}),ef.push(el.applyConstraints(eh.video))}var eQ=!0;eC&&(eQ=(null==ed?void 0:ed.enabled)||!1,ei.setAttributes({audio_conf:eu.ZegoRTCLogEvent.kZegoSetAudioConfig.audio_conf(eh.audio)}),null==ed||ed.stop(),ef.push(navigator.mediaDevices.getUserMedia({video:!1,audio:eh.audio})));var ev=this.streamCenter.getPublishList(eA);ev.forEach(function(eA){var ei,eo=null==eA?void 0:eA.publisher,en=(null===(ei=null==eo?void 0:eo.peerConnection)||void 0===ei?void 0:ei.getSenders())||[];if(en.length>0&&er.maxBitrate){var es=en.filter(function(eA){return eA.track&&"video"===eA.track.kind});es||ea.logger.error("zsc.spsc.0 video sender no found");var ec=es.length>1?es[1]:es[0]?es[0]:null;if(ec){var eu=ec.getParameters();eu.encodings||(eu.encodings=[{}]),eu.encodings[0].maxBitrate=1e3*er.maxBitrate,ef.push(ec.setParameters(eu))}else ea.logger.error("zsc.spsc.0 video sender no found")}else er.maxBitrate&&(eg.videoInfo.bitRate=er.maxBitrate)}),ef.length>0?Promise.all(ef).then(function(eA){var ei,en,es=eA[1];if(eC){var ec=(en=eI?eA[1]:eA[0]).getVideoTracks()[0];null==ec||ec.stop();var el=en.getAudioTracks()[0];el.enabled=eQ,es=JSON.stringify(el.getSettings()),eg.replacePreviewTrack(el);var ed=el;eg.insertableTrack&&eg.localStream&&(ed=eg.localStream.getAudioTracks()[0]),eg.gainNode||eg.audioNodeQueue||eg.onAudioTrackChange(ed)}if(er.maxBitrate){var eB=eg.videoInfo.bitRate!==er.maxBitrate;eg.videoInfo.bitRate=er.maxBitrate,ev.forEach(function(eA){var ei=null==eA?void 0:eA.publisher;ei&&(eB&&ea.enVideoSpan(eA.streamID,eu.ZegoRTCLogEvent.kZegoVideoEnBps.event,{bitrate:eu.ZegoRTCLogEvent.kZegoVideoEnBps.bitrate(er.maxBitrate)}),ei.videoInfo.bitRate=er.maxBitrate)})}if(null===(ei=null==eh?void 0:eh.video)||void 0===ei?void 0:ei.frameRate){var ep=eh.video.frameRate;eg.videoInfo.frameRate=ep,ev.forEach(function(eA){var er=null==eA?void 0:eA.publisher;er&&(er.videoInfo.frameRate=ep)})}ev.forEach(function(eA){var er,ei,eo=null===(ei=null===(er=eA.localStream)||void 0===er?void 0:er.getVideoTracks()[0])||void 0===ei?void 0:ei.getSettings();(null==eE?void 0:eE.width)===(null==eo?void 0:eo.width)&&(null==eE?void 0:eE.height)===(null==eo?void 0:eo.height)||ea.enVideoSpan(eA.streamID,eu.ZegoRTCLogEvent.kZegoVideoEnSize.event,{w:eu.ZegoRTCLogEvent.kZegoVideoEnSize.w(null==eo?void 0:eo.width),h:eu.ZegoRTCLogEvent.kZegoVideoEnSize.h(null==eo?void 0:eo.height)}),(null==eE?void 0:eE.frameRate)!==(null==eo?void 0:eo.frameRate)&&ea.enVideoSpan(eA.streamID,eu.ZegoRTCLogEvent.kZegoVideoEnFps.event,{fps:eu.ZegoRTCLogEvent.kZegoVideoEnFps.fps(null==eo?void 0:eo.frameRate)})}),ea.logger.info("zsc.spsc.0 set constraints success",es),eo&&eo({errorCode:0,extendedData:""})}).catch(function(er){return en(ea,void 0,void 0,function(){var ei,en,ea,eu,el=this;return es(this,function(es){switch(es.label){case 0:return this.logger.error("zsc.spsc.0 fail reason ",er.name,er.toString()),eC?(ei=eg.getMediaStreamConstraints(eB),this.logger.info("zsc.spsc.0 oldMediaStreamConstraints ",JSON.stringify(ei)),[4,navigator.mediaDevices.getUserMedia({video:!1,audio:ei.audio}).catch(function(eA){el.logger.error("zsc.spsc.0.1 setbackup fail "+eA.name)})]):[3,2];case 1:(en=es.sent())&&(null==(ea=eA.getVideoTracks()[0])||ea.stop(),eu=en.getAudioTracks()[0],eg.replacePreviewTrack(eu),eg.gainNode||eg.onAudioTrackChange(eu)),this.logger.info("zsc.spsc.0.1 setbackup suc "),es.label=2;case 2:return eo&&eo({errorCode:ec.errorCodeList.PUBLISHER_CONSTRAINTS_ERROR.code,extendedData:"".concat(er.name," ").concat(er.constraint?"constraint:"+er.constraint:"")}),[2]}})})}):(this.logger.warn("zsc.spsc.0 constaints is no changes"),eo&&eo({errorCode:ec.errorCodeList.PUBLISHER_CONSTRAINTS_ERROR.code,extendedData:"constraints is no changes"}))},eA.prototype.useVideoDevice=function(eA,er){var ei=this;return this.logger.info("zc.uvd.0 call"),new Promise(function(eo){var en=ei.getSpan(eA,eu.ZegoRTCLogEvent.kZegoTaskUseVideoDevice.event);if(en.setAttributes({device:eu.ZegoRTCLogEvent.kZegoTaskUseVideoDevice.device(er)}),!(eA instanceof MediaStream))return ei.logger.error("zc.uvd.0 localStream not found"),ei.stateCenter.reporter.setError(en,eu.ZegoRTCLogEvent.kZegoTaskUseVideoDevice.error.kLocalStreamError),void eo({errorCode:eu.ZegoRTCLogEvent.kZegoTaskUseVideoDevice.error.kParamError.code,extendedData:eu.ZegoRTCLogEvent.kZegoTaskUseVideoDevice.error.kParamError.message});if("string"!=typeof er)return ei.logger.error("zc.uvd.0 deviceID must be string"),ei.stateCenter.reporter.setError(en,eu.ZegoRTCLogEvent.kZegoTaskUseVideoDevice.error.kParamError," deviceID must be string"),void eo({errorCode:eu.ZegoRTCLogEvent.kZegoTaskUseVideoDevice.error.kParamError.code,extendedData:eu.ZegoRTCLogEvent.kZegoTaskUseVideoDevice.error.kParamError.message});var es=function(er){en.setAttributes({error:er.errorCode,message:er.extendedData}),en.end(),ei.streamCenter.getPublishList(eA).forEach(function(eA){var er,ei;eA.cameraLabel=(null===(ei=null===(er=eA.publisher.previewer)||void 0===er?void 0:er.videoTrack)||void 0===ei?void 0:ei.label)||eA.cameraLabel}),eo(er)};ei.stateCenter.getDevices(function(eo){var ea=eo.cameras.find(function(eA){return eA.deviceID==er});if(!ea)return ei.logger.error("zc.uvd.0 device is not found"),void es({errorCode:eu.ZegoRTCLogEvent.kZegoTaskUseVideoDevice.error.kDevicesNoFoundError.code,extendedData:eu.ZegoRTCLogEvent.kZegoTaskUseVideoDevice.error.kDevicesNoFoundError.message});en.setAttributes({device_name:eu.ZegoRTCLogEvent.kZegoTaskUseVideoDevice.device_name(null==ea?void 0:ea.deviceName)}),ei.switchDevice("video",eA,er,es)},function(eo){ei.logger.warn("zc.uvd.0 getDevices err:",eo),ei.switchDevice("video",eA,er,es)})})},eA.prototype.useAudioDevice=function(eA,er){var ei=this;return this.logger.info("zc.uad.1 call"),new Promise(function(eo){var en=ei.getSpan(eA,eu.ZegoRTCLogEvent.kZegoTaskUseAudioDevice.event);en.setAttributes({device:eu.ZegoRTCLogEvent.kZegoTaskUseAudioDevice.device(er)});var es=function(eA,er){ei.logger.error("zc.uad.1 "+er);var es=eA;es.message=es.message+(er?" "+er:""),ei.stateCenter.reporter.setError(en,eA,er),eo({errorCode:es.code,extendedData:es.message})},ea=function(er){en.setAttributes({error:er.errorCode,message:er.extendedData}),en.end(),ei.streamCenter.getPublishList(eA).forEach(function(er){var ei;er.microLabel=(null===(ei=eA.getAudioTracks()[0])||void 0===ei?void 0:ei.label)||er.microLabel}),eo(er)};eA instanceof MediaStream?"string"==typeof er?ei.stateCenter.getDevices(function(eo){var es=eo.microphones.find(function(eA){return eA.deviceID==er});if(!es)return ei.logger.error("zc.uad.1 device is not found"),void ea({errorCode:eu.ZegoRTCLogEvent.kZegoTaskUseAudioDevice.error.kDevicesNoFoundError.code,extendedData:eu.ZegoRTCLogEvent.kZegoTaskUseAudioDevice.error.kDevicesNoFoundError.message});en.setAttributes({device_name:eu.ZegoRTCLogEvent.kZegoTaskUseAudioDevice.device_name(null==es?void 0:es.deviceName)}),ei.switchDevice("audio",eA,er,ea)},function(eo){ei.logger.warn("zc.uad.1 getDevices err:",eo),ei.switchDevice("audio",eA,er,ea)}):es(eu.ZegoRTCLogEvent.kZegoTaskUseAudioDevice.error.kParamError,"deviceID must be string"):es(eu.ZegoRTCLogEvent.kZegoTaskUseAudioDevice.error.kLocalStreamError,"localStream not found")})},eA.prototype.enableDualStream=function(eA){this.logger.info("zsc.eds call");var er=this.streamCenter.checkPreview(eA);er&&!er.lowStream?navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"custom"==er.previewType?this.logger.error("zsc.eds can not support firefox"):this.streamCenter.checkPublish(eA)?this.logger.error("zsc.eds is publishing"):(er.enableDualStream=!0,er.createLowStream()):this.logger.error("zsc.eds preview no found")},eA.prototype.setLowStreamParameter=function(eA,er){var ei=this.streamCenter.checkPreview(eA);if(ei){var eo=ei.videoInfo;er.width&&eo.width&&er.width>eo.width?this.logger.error("zsc.slsp.0 low stream width can not larger than high stream"):er.height&&eo.height&&er.height>eo.height?this.logger.error("zsc.slsp.0 low stream height can not larger than high stream"):er.frameRate&&eo.frameRate&&er.frameRate>eo.frameRate||er.height&&eo.bitRate&&er.bitRate>eo.bitRate||(ei.lowStreamConfig=Object.assign(ei.lowStreamConfig,er))}else this.logger.error("zsc.slsp.0 preview no found")},eA.prototype.handleTrack=function(eA,er,ei,eo,ea){var eu,el,ed;return en(this,void 0,void 0,function(){var eE,eI,eC,eh,eB,ep,ef,em,eQ,ev,e_,ey,eS,eR,eT,eD,eb,eN,ek,eL=this;return es(this,function(ew){switch(ew.label){case 0:if(eE="ADD"===eA,eI={errorCode:0,extendedData:""},!(er instanceof MediaStream))return this.logger.error(eg.ZEGO_WEBRTC_ACTION.HANDLE_TRACK+" stream wrong"),ea({errorCode:ec.errorCodeList.INPUT_PARAM.code,extendedData:ec.errorCodeList.INPUT_PARAM.message}),[2];if(!(ei instanceof MediaStreamTrack))return this.logger.error(eg.ZEGO_WEBRTC_ACTION.HANDLE_TRACK+" parameter 2 type error"),ea({errorCode:ec.errorCodeList.INPUT_PARAM.code,extendedData:ec.errorCodeList.INPUT_PARAM.message}),[2];if(!(eC=this.streamCenter.checkPreview(er)))return this.logger.error(eg.ZEGO_WEBRTC_ACTION.HANDLE_TRACK+" stream no found"),ea&&ea({errorCode:ec.errorCodeList.PUBLISH_NO_PREVIEW.code,extendedData:ec.errorCodeList.PUBLISH_NO_PREVIEW.message}),[2];if("video"===ei.kind){if(null===(eu=eC.videoEffect)||void 0===eu?void 0:eu.enabled)return this.logger.error(eg.ZEGO_WEBRTC_ACTION.HANDLE_TRACK+" need to disable video beauty effect first"),ea&&ea({errorCode:ec.errorCodeList.VIDEO_EFFECT_IS_RUNNING.code,extendedData:"need to disable video beauty effect before add or remove track"}),[2];if(eC.enableDualStream)return this.logger.error(eg.ZEGO_WEBRTC_ACTION.HANDLE_TRACK+" "+(eh=" can not add/remove track while dual stream enabled.")),ea&&ea({errorCode:ec.errorCodeList.VIDEO_EFFECT_IS_RUNNING.code,extendedData:eh}),[2];if(eC.isBackgroundBlur)return this.logger.error(eg.ZEGO_WEBRTC_ACTION.HANDLE_TRACK+" need to disable background process first"),ea&&ea({errorCode:ec.errorCodeList.BACKGROUND_PROCESS_IS_RUNNING.code,extendedData:"need to disable video background process before add or remove track"}),[2]}return eC.streamFromCanvas&&"video"===ei.kind?(this.logger.error(eg.ZEGO_WEBRTC_ACTION.HANDLE_TRACK+" browser not support"),ea&&ea({errorCode:ec.errorCodeList.HANDLE_TRACK_NOT_SUPPORTED.code,extendedData:ec.errorCodeList.HANDLE_TRACK_NOT_SUPPORTED.message}),[2]):(eB="audio"===ei.kind&&this.stateCenter.engineConfig.keepAudioTrack&&eC.hasEmptyAudioTrack,ep=er.getTracks().length>=2||er.getTracks().find(function(eA){return eA.kind==ei.kind}),eE&&ep&&!eB?(this.logger.error(eg.ZEGO_WEBRTC_ACTION.HANDLE_TRACK+" only stream which have one track and kind no exist can add track"),ea&&ea({errorCode:ec.errorCodeList.TRACK_CAN_NOT_ADD.code,extendedData:ec.errorCodeList.TRACK_CAN_NOT_ADD.message}),[2]):"REMOVE"==eA&&(er.getTracks().length<=1||"video"===ei.kind&&eC.hasEmptyAudioTrack||!er.getTracks().find(function(eA){return eA.kind===ei.kind}))?(this.logger.error(eg.ZEGO_WEBRTC_ACTION.HANDLE_TRACK+" can not remove track"),ea({errorCode:ec.errorCodeList.HANDLE_TRACK_NOT_SUPPORTED.code,extendedData:ec.errorCodeList.HANDLE_TRACK_NOT_SUPPORTED.message}),[2]):(ef=this.streamCenter.checkPublish(er))&&(5!==ef.publisher.stateNego||1==ef.publisher.isUpdateSDP)?(this.logger.error(eg.ZEGO_WEBRTC_ACTION.HANDLE_TRACK+" publish state wrong. "+"".concat(ef.publisher.stateNego)),ea&&ea({errorCode:ec.errorCodeList.PUBLISHER_STATE_WRONG.code,extendedData:ec.errorCodeList.PUBLISHER_STATE_WRONG.message}),[2]):this.stateCenter.engineConfig.keepAudioTrack&&"audio"===ei.kind?(eE?(this._replaceTrack(er,ei,!1,!0),eC.hasEmptyAudioTrack=!1):((em=eC.getEmptyAudioTrack())&&this._replaceTrack(er,em,!1,!0),eC.hasEmptyAudioTrack=!0),eo(eI),[2]):(eQ=eC.rtcViewer,ev=eC,e_="video"==ei.kind?"videoTrack":"audioTrack",ef?(ey=ef.publisher,(eS=ef.publisher.peerConnection)?(ey.isUpdateSDP=!0,ey.sideMediaConfig.isSEIStart&&"video"===ei.kind?(this.logger.info(eg.ZEGO_WEBRTC_ACTION.HANDLE_TRACK+" replace sei blank track."),eR=void 0,eE?[4,ey.replacePublishedTrack(ei,!1,{handleTrack:eA})]:[3,2]):[3,5]):[2]):[3,14]));case 1:return eR=ew.sent(),ey.handleSEIVideoTrack("add"),[3,4];case 2:return ey.handleSEIVideoTrack("remove"),[4,ey.replacePublishedTrack(ey.sideMediaConfig.track,!1,{handleTrack:eA})];case 3:eR=ew.sent(),ew.label=4;case 4:return 0===(null==eR?void 0:eR.errorCode)||this.logger.warn(eg.ZEGO_WEBRTC_ACTION.HANDLE_TRACK+" enable sei but not found video sender. error: ".concat(JSON.stringify(eR))),[3,12];case 5:return"audio"!==ei.kind?[3,10]:(ey.isUpdateSDP=!1,eE?(ev.replacePreviewTrack(ei),eT=ev.audioNodeQueue?null===(ed=null===(el=ev.audioNodeQueue)||void 0===el?void 0:el.destinationNode)||void 0===ed?void 0:ed.stream.getAudioTracks()[0]:ei,[4,eS.getSenders().find(function(eA){return eA.track&&"audio"===eA.track.kind})]):[3,7]);case 6:return(eD=ew.sent())?eD.replaceTrack(eT):eS.addTrack(eT,er),this.logger.info(eg.ZEGO_WEBRTC_ACTION.HANDLE_TRACK+" add audio track. "),[3,9];case 7:return er.removeTrack(ei),ev[e_]=null,eQ&&eQ.setTrack(!1,null),[4,eS.getSenders().find(function(eA){return eA.track&&"audio"===eA.track.kind})];case 8:(eD=ew.sent())&&eD.replaceTrack(null),this.logger.info(eg.ZEGO_WEBRTC_ACTION.HANDLE_TRACK+" remove audio track. "),ew.label=9;case 9:return eo(eI),[2];case 10:return[4,eS.getSenders().find(function(eA){return eA.track&&eA.track.kind==ei.kind||null===eA.track})];case 11:if(eD=ew.sent(),eE)eD?(eD.replaceTrack(ei),this.logger.info(eg.ZEGO_WEBRTC_ACTION.HANDLE_TRACK+" sender replace track "+ei.kind)):(eS.addTrack(ei,er),this.logger.info(eg.ZEGO_WEBRTC_ACTION.HANDLE_TRACK+" pc add track "+ei.kind));else{if(!eD)return this.logger.error(eg.ZEGO_WEBRTC_ACTION.HANDLE_TRACK+" sender no found"),ea&&ea({errorCode:ec.errorCodeList.TRACK_NOT_FOUND.code,extendedData:ec.errorCodeList.TRACK_NOT_FOUND.message}),[2];try{eD.replaceTrack(null),this.logger.info(eg.ZEGO_WEBRTC_ACTION.HANDLE_TRACK+" sender replace null.")}catch(eA){this.logger.error(eg.ZEGO_WEBRTC_ACTION.HANDLE_TRACK+" "+eA),ea&&ea({errorCode:ec.errorCodeList.PUBLISHER_UPDATE_SDP_FAIL.code,extendedData:ec.errorCodeList.PUBLISHER_UPDATE_SDP_FAIL.message+" "+eA})}}ew.label=12;case 12:return eb={},(eN=(eN=this.streamCenter.previewStreamList.find(function(eA){return eA.originVideoTrack===ei}))||this.streamCenter.previewStreamList.find(function(eA){return eA.localStream.getTracks().find(function(eA){return eA==ei})}))||this.logger.warn(eg.ZEGO_WEBRTC_ACTION.HANDLE_TRACK+" track is not created by sdk"),eb=eN&&eE?eN.videoInfo:{bitRate:50},this.logger.info(eg.ZEGO_WEBRTC_ACTION.HANDLE_TRACK+" video info: ".concat(JSON.stringify(eb))),[4,eS.createOffer({})];case 13:return ek=ew.sent(),ey.onCreateOfferSuccess(ek,!0,eb,function(eu){return en(eL,void 0,void 0,function(){return es(this,function(en){return 0!==eu?ea&&ea({errorCode:ec.errorCodeList.PUBLISHER_UPDATE_SDP_FAIL.code,extendedData:ec.errorCodeList.PUBLISHER_UPDATE_SDP_FAIL.message}):("ADD"==eA?(er.addTrack(ei),ev[e_]=ei,eQ&&eQ.setTrack("video"==ei.kind,ei,"safari"===this.stateCenter.browser),"video"==ei.kind&&1==ei.enabled?ey.sendStreamStatus(0,ey.mic_status,!0):1==ei.enabled&&ey.sendStreamStatus(ey.camera_status,0,!0),this.logger.info(eg.ZEGO_WEBRTC_ACTION.HANDLE_TRACK+" add track completely")):("video"==ei.kind?ey.sendStreamStatus(2,ey.mic_status,!0):ey.sendStreamStatus(ey.camera_status,2,!0),er.removeTrack(ei),ev[e_]=null,eQ&&eQ.setTrack("video"==ei.kind,null),this.logger.info(eg.ZEGO_WEBRTC_ACTION.HANDLE_TRACK+" remove track completely")),eC.mediaStreamConfig.video="ADD"==eA,eo(eI)),[2]})})}),[3,15];case 14:eE?(er.addTrack(ei),ev[e_]=ei,eQ&&eQ.setTrack("video"==ei.kind,ei)):(er.removeTrack(ei),ev[e_]=null,eQ&&eQ.setTrack("video"==ei.kind,null)),eo(eI),eC.mediaStreamConfig.video=!!eE,ew.label=15;case 15:return[2]}})})},eA.prototype.switchDevice=function(eA,er,ei,en){var es=this,ea=this.streamCenter.checkPreview(er);if(!ea)return this.logger.error("zsc.sd.0 preview no found"),void(en&&en({errorCode:ec.errorCodeList.PUBLISH_NO_PREVIEW.code,extendedData:ec.errorCodeList.PUBLISH_NO_PREVIEW.message}));if("video"===eA&&0==ea.mediaStreamConfig.video)return this.logger.error("zsc.sd.0 camera can not be changed when video is false"),void(en&&en({errorCode:ec.errorCodeList.VIDEO_DEVICE_FALSE.code,extendedData:ec.errorCodeList.VIDEO_DEVICE_FALSE.message}));if("audio"===eA&&0==ea.mediaStreamConfig.audio)return this.logger.error("zsc.sd.0 microphone can not be changed when audio is false"),void(en&&en({errorCode:ec.errorCodeList.AUDIO_DEVICE_FALSE.code,extendedData:ec.errorCodeList.AUDIO_DEVICE_FALSE.message}));ea.mediaStreamConfig.videoInput!==ei&&delete ea.mediaStreamConfig.facingMode;var eg,eu={};"video"===eA?(eu.videoInput=ei,eg=ea.videoTrack):(eu.audioInput=ei,eg=ea.audioTrack);var el=this.stateCenter.browser;this.logger.info("zsc.sd.0 browser "+el),"firefox"===el&&(null==eg||eg.stop());var ed=eo(eo({},ea.mediaStreamConfig),eu);"audio"===eA&&"default"===ea.mediaStreamConfig.audioInput&&"default"===ei&&ea.audioTrack&&ea.audioTrack.stop();var eE=ea.getMediaStreamConstraints(ed),eI=function(ei,eo){eo.getTracks().forEach(function(ei){if(ei.kind===eA){var eo="video"===eA,en=eo?"videoTrack":"audioTrack",eg=ea[en];ei.enabled=eg.enabled,eo&&ea.lowStream&&ea.lowStream.getTracks().forEach(function(eA){return eA.stop()});var ec=es.streamCenter.getPublishList(er);ec.length>0&&(!ea.muteImage||ei.enabled||!eo)?ec.map(function(eA){return eA.publisher}).forEach(function(eA){eA.replacePublishedTrack(ei)}):ea&&ea.muteImage&&!ei.enabled&&eo?ea[en]=ei:ea&&ea.replacePreviewTrack(ei),eg&&eg.stop()}}),ea.restartSoundLevel()};"audio"==eA?eE.video=!1:eE.audio=!1,navigator.mediaDevices.getUserMedia(eE).then(function(er){Object.assign(ea.mediaStreamConfig,eu),eI(0,er),es.logger.info("zsc.sd.0 switch "+eA+" device success"),en&&en({errorCode:0,extendedData:""})},function(er){var ei,eo;"video"==eA?null===(ei=ea.videoTrack)||void 0===ei||ei.stop():null===(eo=ea.audioTrack)||void 0===eo||eo.stop(),es.logger.warn("zsc.sd.0 switch "+eA+" device failed, stop last device and retry. ",er+""),navigator.mediaDevices.getUserMedia(eE).then(function(er){Object.assign(ea.mediaStreamConfig,eu),eI(0,er),es.logger.info("zsc.sd.0 swtich "+eA+" device success"),en&&en({errorCode:0,extendedData:""})},function(er){es.logger.warn("zsc.sd.0 swtich "+eA+" device failed and recover last device. ",er+"");var ei=ea.getMediaStreamConstraints(ea.mediaStreamConfig),eo=ec.errorCodeList.VIDEO_DEVICE_FALSE;"audio"===eA&&(eo=ec.errorCodeList.AUDIO_DEVICE_FALSE),navigator.mediaDevices.getUserMedia(ei).then(function(ei){eI(0,ei),es.logger.info("zsc.sd.0 recover last "+eA+" device success"),en&&en({errorCode:eo.code,extendedData:eo.message+" "+JSON.stringify(er)})},function(er){es.logger.error("zsc.sd.0 swtich "+eA+" device and recover failed, please recreate stream. ",er+""),en&&en({errorCode:eo.code,extendedData:eo.message+" "+JSON.stringify(er)})})})})},eA.prototype._replaceTrack=function(eA,er,ei,eo){void 0===eo&&(eo=!1);var en=this.streamCenter.checkPreview(eA),es=this.streamCenter.getPublishList(eA);if(!en)return this.logger.error("zc.rt.0 preview no found"),{errorCode:ec.errorCodeList.PUBLISH_NO_PREVIEW.code,extendedData:ec.errorCodeList.PUBLISH_NO_PREVIEW.message};if(en.streamFromCanvas&&"video"===er.kind)return this.logger.error("zc.rt.0 browser not support"),{errorCode:ec.errorCodeList.HANDLE_TRACK_NOT_SUPPORTED.code,extendedData:ec.errorCodeList.HANDLE_TRACK_NOT_SUPPORTED.message};var ea=eA.getTracks().find(function(eA){return eA.kind===er.kind});if(!eo&&(!ea||"audio"===er.kind&&en.hasEmptyAudioTrack))return this.logger.error("zc.rt.0 track no found"),{errorCode:ec.errorCodeList.TRACK_NOT_FOUND.code,extendedData:ec.errorCodeList.TRACK_NOT_FOUND.message};var eg=this.streamCenter.soundLevelDelegate&&"audio"===er.kind;if(es.length){var eu=null;return eg&&en.stopSoundLevel(),es.forEach(function(eA){var eo;eu=null===(eo=eA.publisher)||void 0===eo?void 0:eo.replacePublishedTrack(er,!1,{isTrackProcessedFromOriginalStream:ei})}),eg&&en.startSoundLevel(),eu}return eg&&en.stopSoundLevel(),en.replacePreviewTrack(er,!1,{isTrackProcessedFromOriginalStream:ei}),eg&&en.startSoundLevel(),{errorCode:0,extendedData:""}},eA.prototype.enableMicrophone=function(eA,er){var ei=this.streamCenter.checkPreview(eA);return ei?ei.enableMicrophone(er,this.streamCenter):(this.logger.error("zsc.em.0 no preview"),!1)},eA.prototype.enableCamera=function(eA,er,ei){var eo=this.streamCenter.checkPreview(eA);return eo?eo.enableCamera(er,this.streamCenter,ei):(this.logger.error("zsc.ec.0 no preview"),!1)},eA.prototype.setDummyCaptureImagePath=function(eA,er){var ei=this;return new Promise(function(eo,en){var es=ei.streamCenter.checkPreview(er);if(!es)return ei.logger.error("zc.sdcp.0 preview no found"),void eo(!1);if("string"!=typeof eA)return ei.logger.error("zc.sdcp.0 filePath type error"),void eo(!1);var ea=new Image;ea.src=eA,ea.crossOrigin="anonymous",ea.onload=function(){es.loadImgTimer&&clearTimeout(es.loadImgTimer),es.loadImgTimer=void 0,ei.logger.info("zc.sdcp.0 load file path success"),es.muteImage=ea,eo(!0)},es.loadImgTimer=setTimeout(function(){ei.logger.error("zc.sdcp.0 load img timeout"),eo(!1)},5e3)})},eA.prototype.enableAutoSwitchDevice=function(eA){this.stateCenter.autoSwitchDeviceSetting=eo({},eA)},eA.prototype.getSpan=function(eA,er){var ei=this.streamCenter.checkPublish(eA);return this.stateCenter.reporter.createSpan(ea.H,ei?{key:eu.ZegoRTCLogEvent.kZegoTaskPublishStart.event,par:ei.streamID}:{key:eu.ZegoRTCLogEvent.kZMInitSetting.event},{key:""},er)},eA.prototype.enVideoSpan=function(eA,er,ei){var eo=this.stateCenter.reporter.createSpan(ea.H,{key:eu.ZegoRTCLogEvent.kZegoTaskPublishStart.event,par:eA},{key:""},er);eo.setAttributes(ei),eo.end()},eA}();er.AdvancedModule=ed},6466:function(eA,er,ei){"use strict";var eo=this&&this.__assign||function(){return(eo=Object.assign||function(eA){for(var er,ei=1,eo=arguments.length;ei<eo;ei++)for(var en in er=arguments[ei])Object.prototype.hasOwnProperty.call(er,en)&&(eA[en]=er[en]);return eA}).apply(this,arguments)},en=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},es=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}};Object.defineProperty(er,"__esModule",{value:!0}),er.signal=er.publisher=er.publishModule=er.playModule=er.preview=er.streamHandler=er.zegoWebRTC=er.ENUM_PUBLISH_STREAM_STATE=er.ENUM_STREAM_CMD_PRI=er.ENUM_STREAM_SUB_CMD=er.TRACER_LEVEL=er.PROTO_VERSION=void 0;var ea,eg=ei(2965),ec=ei(8476),eu=ei(3725),el=ei(5976);function ed(eA,er){return eA&&"live"===eA.readyState?!0===eA.enabled?0:"video"===eA.kind&&"firefox"===er?2:20:2}er.PROTO_VERSION="2.24.5",function(eA){eA[eA.I=0]="I",eA[eA.H=10]="H",eA[eA.M=100]="M",eA[eA.L=1e3]="L"}(ea=er.TRACER_LEVEL||(er.TRACER_LEVEL={})),er.ENUM_STREAM_SUB_CMD={liveNone:0,liveBegin:2001,liveEnd:2002,liveUpdate:2003},er.ENUM_STREAM_CMD_PRI={liveBegin:"zegochat_js.room_stream_create_req",liveEnd:"zegochat_js.room_stream_delete_req",liveUpdate:"zegochat_js.room_stream_update_req"},er.ENUM_PUBLISH_STREAM_STATE={waiting_url:1,tryPublish:2,update_info:3,publishing:4,stop:5,retryPublish:6},er.zegoWebRTC={mutePublishStreamVideo:function(eA,er,ei){this.logger.info(eg.ZEGO_WEBRTC_ACTION.MUTE_PUBLISH_STREAM_VIDEO+" call");var eo=this.rtcModules.advancedModule.getSpan(eA,eu.ZegoRTCLogEvent.kZegoTaskMutePublishVideo.event);if("boolean"!=typeof er||void 0!==ei&&"boolean"!=typeof ei)return this.logger.error(eg.ZEGO_WEBRTC_ACTION.MUTE_PUBLISH_STREAM_VIDEO+" option error"),!1;var en=this.rtcModules.advancedModule.enableStream(eA,{video:!er,retain:ei});return eo.setAttributes({mute_type:eu.ZegoRTCLogEvent.kZegoTaskMutePublishVideo.mute_type(er?1:0),retain:eu.ZegoRTCLogEvent.kZegoTaskMutePublishVideo.retain(ei)}),eo.end(),this.logger.info(eg.ZEGO_WEBRTC_ACTION.MUTE_PUBLISH_STREAM_VIDEO+" end"),en},mutePublishStreamAudio:function(eA,er){this.logger.info(eg.ZEGO_WEBRTC_ACTION.MUTE_PUBLISH_STREAM_AUDIO+" call");var ei=this.rtcModules.advancedModule.getSpan(eA,eu.ZegoRTCLogEvent.kZegoTaskMutePublishAudio.event);if("boolean"!=typeof er)return this.logger.error(eg.ZEGO_WEBRTC_ACTION.MUTE_PUBLISH_STREAM_AUDIO+" option error"),!1;var eo=this.rtcModules.advancedModule.enableStream(eA,{audio:!er});return ei.setAttributes({mute_type:eu.ZegoRTCLogEvent.kZegoTaskMutePublishAudio.mute_type(er?1:0)}),ei.end(),this.logger.info(eg.ZEGO_WEBRTC_ACTION.MUTE_PUBLISH_STREAM_AUDIO+" end"),eo},mutePlayStreamVideo:function(eA,er){this.logger.info(eg.ZEGO_WEBRTC_ACTION.MUTE_PLAY_STREAM_VIDEO+" call "+eA+" "+er);var ei=this.stateCenter.reporter.createSpan(ea.H,{key:eu.ZegoRTCLogEvent.kZegoTaskPlayStart.event,par:eA},{key:""},eu.ZegoRTCLogEvent.kZegoTaskMutePlayVideo.event);ei.setAttributes({mute_type:eu.ZegoRTCLogEvent.kZegoTaskMutePlayVideo.mute_type(er?1:0)});var eo=this.rtcModules.playModule.mutePlayStream(eA,"video",er);return ei.end(),this.logger.info(eg.ZEGO_WEBRTC_ACTION.MUTE_PLAY_STREAM_VIDEO+" end"),eo},mutePlayStreamAudio:function(eA,er){this.logger.info(eg.ZEGO_WEBRTC_ACTION.MUTE_PLAY_STREAM_AUDIO+" call "+eA+" "+er);var ei=this.stateCenter.reporter.createSpan(ea.H,{key:eu.ZegoRTCLogEvent.kZegoTaskPlayStart.event,par:eA},{key:""},eu.ZegoRTCLogEvent.kZegoTaskMutePlayAudio.event);ei.setAttributes({mute_type:eu.ZegoRTCLogEvent.kZegoTaskMutePlayAudio.mute_type(er?1:0)});var eo=this.rtcModules.playModule.mutePlayStream(eA,"audio",er);return ei.end(),this.logger.info(eg.ZEGO_WEBRTC_ACTION.MUTE_PLAY_STREAM_AUDIO+"end"),eo},muteMicrophone:function(eA){this.logger.info(eg.ZEGO_WEBRTC_ACTION.MUTE_MIC+" call");var er=this.stateCenter.reporter.createSpan(ea.H,{key:eu.ZegoRTCLogEvent.kZegoTaskInitSetting.event},{key:""},eu.ZegoRTCLogEvent.kZegoEnableMic.event);if("boolean"!=typeof eA)return this.logger.error(eg.ZEGO_WEBRTC_ACTION.MUTE_MIC+" option error"),this.stateCenter.reporter.setError(er,ec.errorCodeList.INPUT_PARAM),!1;var ei=this.rtcModules.advancedModule.enableMicrophoneOnly(!eA),eo=Object.keys(this.streamCenter.publisherList).map(function(eA){return{stream_id:eA}});return er.setAttributes({enable:eu.ZegoRTCLogEvent.kZegoEnableMic.enable(!eA),stream_list:eu.ZegoRTCLogEvent.kZegoEnableMic.stream_list(eo)}),er.end(),this.logger.info(eg.ZEGO_WEBRTC_ACTION.MUTE_MIC+" end"),ei},activateSEIInsert:function(eA){var er=eA.stream,ei=eA.action,eo=eA.infoType,en=this.rtcModules.advancedModule.getSpan(eA.stream,eu.ZegoRTCLogEvent.kZegoTaskActivateSEIInsert.event);en.setAttributes({action:eu.ZegoRTCLogEvent.kZegoTaskActivateSEIInsert.action(eA.action),info_type:eu.ZegoRTCLogEvent.kZegoTaskActivateSEIInsert.info_type(eA.infoType)});var es=this.rtcModules.publishModule.activateSEIInsert(er,ei,eo);return en.end(),es},getAudioInfo:function(eA,er,ei){if(!eA)return this.logger.error("localStream is empty!"),!1;var en=eo({},ei);return new el.MediaUtil(this.ac,en).connectToSource(eA,function(eA){er(eA)})},startRecord:function(eA){var er=this,ei=this.streamCenter.checkPreview(eA);if(ei){var eo=eA.clone(),en=eo.getAudioTracks();en.length>0&&ei.hasEmptyAudioTrack&&en.forEach(function(eA){eo.removeTrack(eA)}),this.recordedBlobs=[];var es={mimeType:"video/webm;codecs=vp9"};MediaRecorder.isTypeSupported(es.mimeType)||(es={mimeType:"video/webm;codecs=vp8,opus"},MediaRecorder.isTypeSupported(es.mimeType)||(es={mimeType:"video/webm;codecs=vp8"},MediaRecorder.isTypeSupported(es.mimeType)||(es={mimeType:"video/webm"},MediaRecorder.isTypeSupported(es.mimeType)||(es={mimeType:""}))));try{this.mediaRecorder=new MediaRecorder(eo,es)}catch(eA){return void this.logger.error("Exception while creating ZegoMediaRecorder:",eA)}this.mediaRecorder.onstop=function(eA){er.logger.warn("Recorder stopped: "+eA)},this.mediaRecorder.ondataavailable=this.handleDataAvailable.bind(this),this.mediaRecorder.start(10)}else this.logger.error("stream is not from zego!")},stopRecord:function(){this.mediaRecorder?this.mediaRecorder.stop():this.logger.warn("please invoke startRecord first")},resumeRecord:function(){this.mediaRecorder?this.mediaRecorder.resume():this.logger.warn("please invoke startRecord first")},pauseRecord:function(){this.mediaRecorder?this.mediaRecorder.pause():this.logger.warn("please invoke startRecord first")},saveRecord:function(eA){if(this.mediaRecorder&&this.recordedBlobs){var er=new Blob(this.recordedBlobs,{type:"video/webm"}),ei=window.URL.createObjectURL(er),eo=document.createElement("a");eo.style.display="none",eo.href=ei,eo.download=eA+".webm",document.body.appendChild(eo),eo.click(),setTimeout(function(){document.body.removeChild(eo),window.URL.revokeObjectURL(ei)},100)}else this.logger.warn("please invoke startRecord first")},handleDataAvailable:function(eA){eA.data&&eA.data.size>0&&this.recordedBlobs.push(eA.data)},addTrack:function(eA,er){var ei=this;return new Promise(function(eo,en){ei.logger.info(eg.ZEGO_WEBRTC_ACTION.ADD_TRACK+" call"),ei.rtcModules.advancedModule.handleTrack("ADD",eA,er,eo,en)})},removeTrack:function(eA,er){var ei=this;return new Promise(function(eo,en){ei.logger.info(eg.ZEGO_WEBRTC_ACTION.REMOVE_TRACK+" call"),ei.rtcModules.advancedModule.handleTrack("REMOVE",eA,er,eo,en)})},enableCameraCapturing:function(eA,er){return void 0===er&&(er=!0),en(this,void 0,void 0,function(){var ei,eo,en;return es(this,function(es){return ei=this.stateCenter.reporter.createSpan(ea.H,{key:eu.ZegoRTCLogEvent.kZegoTaskInitSetting.event},{key:""},eu.ZegoRTCLogEvent.kZegoEnableCamera.event),(eo=this.streamCenter.checkPreview(eA))?(en=this.streamCenter.getPublishList(eA).map(function(eA){return{stream_id:eA.streamID}}),ei.setAttributes({enable:eu.ZegoRTCLogEvent.kZegoEnableCamera.enable(er),stream_list:eu.ZegoRTCLogEvent.kZegoEnableCamera.stream_list(en)}),ei.end(),[2,eo.enableCameraCapturing(er)]):(this.logger.error("zsc.ecc no preview"),this.stateCenter.reporter.setError(ei,ec.errorCodeList.PUBLISH_NO_PREVIEW),[2,!1])})})}},er.streamHandler={},er.preview={enableCamera:function(eA,er,ei){var eo,ea;return en(this,void 0,void 0,function(){var en,eg,ec,eu,el,eE,eI,eC,eh,eB,ep,ef,em,eQ=this;return es(this,function(es){switch(es.label){case 0:return this.localStream&&0!=this.localStream.getVideoTracks().length?(en=this.videoTrack,!eA&&this.muteImage?((ec=document.createElement("canvas")).width=this.muteImage.width,ec.height=this.muteImage.height,eu=ec.getContext("2d"),this.muteImageAnID=setInterval(function(){eu.drawImage(eQ.muteImage,0,0)},100),eg=ec.captureStream().getVideoTracks()[0],this.localStream.removeTrack(this.localStream.getVideoTracks()[0]),this.localStream.addTrack(eg),this.rtcViewer&&this.rtcViewer.setVideo(eg)):eA&&this.muteImage&&(this.isVideoNodeQueueEnabled?this.replacePreviewTrack(this.videoNodeQueue.getDestinationTrack(),!0):this.replacePreviewTrack(this.videoTrack,!1)),el=this.stateCenter.browser,(!ei||eA)&&en?(en.enabled=eA,"chrome"===el&&eA&&(en.getSettings().width,!0)&&en.getSettings().width>0&&navigator.userAgent&&(eE=0,(eI=(navigator.userAgent.toLowerCase().match(/chrome\/([\d.]+)/)||[])[1])&&(eE=parseInt(eI.split(",")[0])),eE&&eE>=87&&eE<92&&(eC=en.getSettings().width-1,eh=en.getSettings().height-1,eB=en.getSettings().frameRate,en.applyConstraints({width:eC,height:eh,frameRate:eB}).then(function(){en.applyConstraints({width:eQ.videoInfo.width,height:eQ.videoInfo.height,frameRate:eB})})))):ei&&!eA&&((null===(eo=this.videoEffect)||void 0===eo?void 0:eo.enabled)||this.isVideoNodeQueueEnabled?this.logger.warn("zp.ec.2 Unable to keep the preview screen when beauty is turned on"):(ep=this.cloneVideoTrack,this.cloneVideoTrack=this.videoTrack.clone(),this.cloneVideoTrack.enabled=!0,this.replacePreviewTrack(this.cloneVideoTrack,!1,{retainTrack:!0}),ep&&ep.stop())),en&&(en.enabled=eA),this.isVideoNodeQueueEnabled?(this.videoNodeQueue.getDestinationTrack().enabled=eA,eA?[3,2]:[4,this.videoNodeQueue.replaceNewSourceByTrack(null,!1)]):[3,5]):(this.logger.error("zp.ec.2 video track no found"),[2,!1]);case 1:es.sent(),es.label=2;case 2:return eA&&en?[4,this.videoNodeQueue.replaceNewSourceByTrack(en,!1)]:[3,4];case 3:es.sent(),es.label=4;case 4:es.label=5;case 5:return null===(ea=this.lowStream)||void 0===ea||ea.getVideoTracks().forEach(function(er){er.enabled=eA}),ef=er.checkPreview(this.localStream),(em=er.getPublishList(this.localStream).map(function(eA){return eA.publisher})).length&&em.forEach(function(er){var ei,eo=null===(ei=er.peerConnection)||void 0===ei?void 0:ei.getSenders().filter(function(eA){var er;return"video"===(null===(er=eA.track)||void 0===er?void 0:er.kind)});eo&&eo.forEach(function(er){!eA&&eQ.muteImage&&eg?null==er||er.replaceTrack(eg):eA&&(eQ.isVideoNodeQueueEnabled?er.track!==eQ.videoNodeQueue.getDestinationTrack()&&(null==er||er.replaceTrack(eQ.videoNodeQueue.getDestinationTrack())):er.track===eQ.videoTrack||(null==ef?void 0:ef.streamFromCanvas)||null==er||er.replaceTrack(eQ.videoTrack),eQ.muteImageAnID&&clearInterval(eQ.muteImageAnID))});var en=eQ.muteImage&&!eA?0:ed(eQ.videoTrack,el);er.sendStreamStatus(en,er.mic_status)}),this.isVideoEnabled=eA,this.logger.info("zp.ec.2 call success"),[2,!0]}})})},enableMicrophone:function(eA,er){if(!this.localStream)return this.logger.error("zp.em.2 no localStream"),!1;this.localStream.getAudioTracks().forEach(function(er){er.enabled=eA}),this.audioTrack&&(this.audioTrack.enabled=eA&&er.isMicEnabled);var ei=er.getPublishList(this.localStream).map(function(eA){return eA.publisher});return ei.length&&ei.forEach(function(ei){ei.signal&&ei.sendStreamStatus(ei.camera_status,eA&&er.isMicEnabled?0:2)}),this.isAudioEnabled=eA,this.logger.debug("zp.em.2 call success. "+eA),!0},replacePreviewTrack:function(eA,er,ei){var eo;return void 0===er&&(er=!1),void 0===ei&&(ei={}),en(this,void 0,void 0,function(){var en,ea,eg,ec,eu;return es(this,function(es){return this.logger.info("zsc.rpt.0 call"),eA&&eA.kind&&this.localStream&&(en=!0===(null==ei?void 0:ei.retainTrack),ea="audio"===eA.kind?"audioTrack":"videoTrack","audio"===eA.kind&&(null===(eo=this.insertableTrack)||void 0===eo?void 0:eo.id)!==eA.id&&(eA=this.getInsertableStreamTrack(eA)),en||"video"!==eA.kind||er||!this._videoNodeQueue?"audio"===eA.kind&&this.audioNodeQueue&&!ei.isTrackProcessedFromOriginalStream?((eg=new MediaStream).addTrack(eA),ec=this.ac.createMediaStreamSource(eg),this.audioNodeQueue.replaceSource(ec)):"audio"!==eA.kind||this.audioNodeQueue||!this.destNode||ei.isTrackProcessedFromOriginalStream?(this.logger.info("zsc.rpt.0 replace local track"),(eu=this.localStream.getTracks().find(function(er){return er.kind===eA.kind}))!==eA&&(eu&&this.localStream.removeTrack(eu),this.localStream.addTrack(eA)),this.localStream.addTrack(eA),this.rtcViewer&&(this.rtcViewer.setTrack("video"===eA.kind,eA),"safari"===this.stateCenter.browser&&this.rtcViewer.resume(!0)),!en&&"video"===eA.kind&&this.enableDualStream&&this.createLowStream()):(this.createSrcNode(eA,!0).connect(this.destNode),this.logger.info("zsc.rpt.0 replace audio track with audio mix.")):(this.logger.info("zsc.rpt.0 videoNodeQueue replaceNewSource"),this._videoNodeQueue.replaceNewSourceByTrack(eA)),er||en||ei.isTrackProcessedFromOriginalStream||(this[ea]=eA,"REMOVE"===ei.handleTrack&&"video"===eA.kind&&(this.localStream.removeTrack(eA),this.rtcViewer&&this.rtcViewer.setTrack(!0,null),this[ea]=null)),this.logger.info("zsc.rpt.0 end")),[2]})})},enableCameraCapturing:function(eA){return en(this,void 0,void 0,function(){var er,ei,en,ea,eg,ec,eu,el,eE;return es(this,function(es){switch(es.label){case 0:return this.localStream&&this.videoTrack&&"camera"===this.previewType?(er=this.streamCenter.getPublishList(this.localStream).map(function(eA){return eA.publisher}),eA?"live"!==this.videoTrack.readyState?[3,1]:(this.logger.warn("zp.ecc camera is already capturing"),[3,12]):[3,13]):(this.logger.error("zp.ecc not camera stream"),[2,!1]);case 1:ei=this.getMediaStreamConstraints(eo(eo({},this.mediaStreamConfig),{audio:!1})),es.label=2;case 2:return es.trys.push([2,11,,12]),[4,navigator.mediaDevices.getUserMedia(ei)];case 3:return(en=es.sent().getVideoTracks()[0]).enabled=this.isVideoEnabled,!1===en.enabled&&this.logger.warn("zp.ecc video is not enabled"),!this.muteImage||this.isVideoEnabled?[3,4]:(this.videoTrack=en,en.enabled=!this.isVideoEnabled,[3,10]);case 4:if(!er.length)return[3,9];ea=0,es.label=5;case 5:return ea<er.length?[4,er[ea].replacePublishedTrack(en)]:[3,8];case 6:if(0!==(null==(eg=es.sent())?void 0:eg.errorCode))throw eg;es.label=7;case 7:return ea++,[3,5];case 8:return[3,10];case 9:this.replacePreviewTrack(en),es.label=10;case 10:return[3,12];case 11:return ec=es.sent(),this.logger.error("zsc.ecc resume camera capturing failed. "+JSON.stringify(ec)),[2,!1];case 12:return[3,18];case 13:return eu=this.videoTrack.enabled,el=this.stateCenter.browser,this.stateCenter.engineConfig.previewClearLastFrame?"safari"===el?[3,15]:(this.videoTrack.enabled=!1,[4,new Promise(function(eA){setTimeout(function(){eA(void 0)},200)})]):[3,16];case 14:es.sent(),es.label=15;case 15:return this.videoTrack.stop(),this.stopCanvasStreamTrack(),this.videoTrack.enabled=eu,[3,17];case 16:this.videoTrack.stop(),this.stopCanvasStreamTrack(),es.label=17;case 17:er.length&&(eE=this.muteImage&&!this.isVideoEnabled?0:ed(this.videoTrack,el),er.forEach(function(eA){eA.sendStreamStatus(eE,eA.mic_status)})),es.label=18;case 18:return[2,!0]}})})}},er.playModule={mutePlayStream:function(eA,er,ei){var eo=this;return this.logger.info("zsc.mps.0 call "+er+" "+ei),new Promise(function(en,es){if("string"!=typeof eA||""==eA)return eo.logger.error("zsc.mps.0 streamID must be string and not empty"),void es(!1);if("boolean"!=typeof ei)return eo.logger.error("zsc.mps.0 mute must be boolean"),void es(!1);var eg=eo.streamCenter.playerList[eA];if(!eg)return eo.logger.error("zsc.mps.0 player not found"),void es(!1);if("video"===er){if(eg.playOption&&!1===eg.playOption.video||eg.player&&0!==eg.player.cameraStatus)return eo.logger.error("zsc.mps.0 stream no contain video"),void es(!1);eg.player.signal.ActivatePlayVideoStream(eo.stateCenter.getSeq(),eg.player.sessionId,ei,function(){eo.logger.info("zsc.mps.0 suc"),eg.player.playMediaStatus.video=!ei;var er,es,ec,el,ed=eu.ZegoRTCLogEvent.kZegoPlayContentChanged,eE=eo.stateCenter.reporter.createSpan(ea.H,{key:eu.ZegoRTCLogEvent.kZegoTaskPlayStart.event,par:eA},{key:""},ed.event);eE.setAttributes({webrtc_sid:ed.webrtc_sid(eg.player.sessionId),video_activate:ed.video_activate(!!eg.player.playMediaStatus.video),audio_activate:ed.audio_activate(!!eg.player.playMediaStatus.audio),video_layer:ed.video_layer(2===(null===(es=null===(er=eg.player)||void 0===er?void 0:er.playOption)||void 0===es?void 0:es.streamType)?-1:null===(el=null===(ec=eg.player)||void 0===ec?void 0:ec.playOption)||void 0===el?void 0:el.streamType)}),eE.end(),en(!0)},function(){eo.logger.error("zsc.mps.0 fail"),es(!1)})}else if("audio"===er){if(eg.playOption&&!1===eg.playOption.audio||eg.player&&0!==eg.player.micStatus)return eo.logger.error("zsc.mps.0 stream no contain audio"),void es(!1);eg.player.signal.ActivatePlayAudioStream(eo.stateCenter.getSeq(),eg.player.sessionId,ei,function(){eo.logger.info("zsc.mps.0 suc"),eg.player.playMediaStatus.audio=!ei;var er=eu.ZegoRTCLogEvent.kZegoPlayContentChanged,es=eo.stateCenter.reporter.createSpan(ea.H,{key:eu.ZegoRTCLogEvent.kZegoTaskPlayStart.event,par:eA},{key:""},er.event);es.setAttributes({webrtc_sid:er.webrtc_sid(eg.player.sessionId),video_activate:er.video_activate(!!eg.player.playMediaStatus.video),audio_activate:er.audio_activate(!!eg.player.playMediaStatus.audio)}),es.end(),en(!0)},function(){eo.logger.error("zsc.mps.0 fail"),es(!1)})}else es(!1)})},setStreamAudioOutput:function(eA,er){var ei=this;return!(null==er||0==er.length||!eA)&&(this.logger.debug("zsc.ssao.0 device "+er),eA?"undefined"!==eA.sinkId?(eA.setSinkId(er).then(function(){ei.logger.info("zsc.ssao.0 success device: "+er)}).catch(function(eA){ei.logger.info("zsc.ssao.0 "+eA.name)}),!0):(this.logger.error("zsc.ssao.0 browser does not suppport"),!1):(this.logger.error("zsc.ssao.0 no localVideo"),!1))}},er.publishModule={activateSEIInsert:function(eA,er,ei){void 0===ei&&(ei=0);var eo=this.streamCenter.checkPreview(eA);return eo?0!==er&&1!==er?(this.logger.error(eg.ZEGO_WEBRTC_ACTION.ACTIVATE_SEI_INSERT+" value of “action” should be 0 or 1"),!1):(eo.activatesSEIConfig={action:er,infoType:ei},this.streamCenter.getPublishList(eA).map(function(eA){return eA.publisher}).forEach(function(eA){eA.activateSEIInsert(er,ei)}),!0):(this.logger.error(eg.ZEGO_WEBRTC_ACTION.ACTIVATE_SEI_INSERT+" stream is not created"),!1)}},er.publisher={activateSEIInsert:function(eA,er){var ei=this;return new Promise(function(eo,en){return ei.signal?(ei.signal&&ei.signal.activateSEIInsert(ei.stateCenter.getSeq(),ei.sessionId,ei.peerID,eA,er,function(eA,er,en){var es=!1;0===en.result?(ei.logger.info(eg.ZEGO_WEBRTC_ACTION.ACTIVATE_SEI_INSERT+" called success"),es=!0):1===en.result?(ei.logger.error(eg.ZEGO_WEBRTC_ACTION.ACTIVATE_SEI_INSERT+" "+en.peer_id+" invalid param."),es=!1):2===en.result&&(ei.logger.error(eg.ZEGO_WEBRTC_ACTION.ACTIVATE_SEI_INSERT+" peer not exist"),es=!1),eo(es)},function(eA){1===eA&&ei.logger.error(eg.ZEGO_WEBRTC_ACTION.ACTIVATE_SEI_INSERT+" request timeout")}),!1):eo(!1)})},replacePublishedTrack:function(eA,er,ei){var eo;return void 0===er&&(er=!1),void 0===ei&&(ei={}),en(this,void 0,void 0,function(){var en,ea,eg,eu,el,eE,eI,eC;return es(this,function(es){switch(es.label){case 0:return null==(en=this.previewer)||en.videoEffect,eg=en["".concat(ea=eA.kind,"Track")],eu=null===(eo=this.peerConnection)||void 0===eo?void 0:eo.getSenders().filter(function(eA){var er;return(null===(er=eA.track)||void 0===er?void 0:er.kind)===ea}),el=this.stateCenter.browser,eg||ei.handleTrack?(eE=0,eI=0,"video"===ea?(eE=ed(er?eg:eA,el),eI=this.mic_status):"audio"===ea&&(eI=ed(eA,el),eE=this.camera_status),[4,en.replacePreviewTrack(eA,er,ei)]):[3,2];case 1:return es.sent(),eC=eA,"audio"==eA.kind&&en.insertableTrack&&(eC=en.localStream.getAudioTracks()[0]),eu?(eu.forEach(function(eA,ei){var eo=!1;if(("video"!==ea||!er&&en.isVideoNodeQueueEnabled)&&("audio"!==ea||"audio"===ea&&en.destNode)||(eo=!0),eo){if("video"==ea&&en.lowStream&&eu.length>1&&0==ei)eA.replaceTrack(en.lowStream.getVideoTracks()[0]);else if("video"==ea&&en.streamFromCanvas){if(!en.streamFromCanvasTrack){var es=en.getStreamThroughCanvas(en.localStream);en.streamFromCanvasTrack=es.getVideoTracks()[0]}eA.replaceTrack(en.streamFromCanvas?en.streamFromCanvasTrack:eC)}else eA.replaceTrack(eC)}}),this.sendStreamStatus(eE,eI)):this.logger.info("zc.rt.1 replace remote track will work after stream published"),this.logger.info("zc.rt.1 replace remote track success"),[2,{errorCode:0,extendedData:""}];case 2:return this.logger.error("zc.rt.1 publisher track no found"),[2,{errorCode:ec.errorCodeList.TRACK_NOT_FOUND.code,extendedData:ec.errorCodeList.TRACK_NOT_FOUND.message}]}})})}},er.signal={activateSEIInsert:function(eA,er,ei,eo,en,es,ea){this.logger.info(eg.ZEGO_WEBRTC_ACTION.ACTIVATE_SEI_INSERT+" call "+er),this.sendMessageWithCallback("ActivateSEIInsertReq",eA,er,{peer_id:ei,action:eo,info_type:en},es,ea)}}},8476:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.errorCodeList=void 0,er.errorCodeList={NOT_LOGIN:{code:1000002,message:"not login room"},INPUT_PARAM:{code:1100001,message:"input param error."},PUBLISH_NOT_PUBLISH:{code:1103040,message:"publisher not found"},PUBLISH_NO_PREVIEW:{code:1103044,message:"stream is not from zego"},TRACK_NOT_FOUND:{code:1103047,message:"track is not found"},DEVICE_NOT_FOUND:{code:1103048,message:"device is not found"},PUBLISHER_CONSTRAINTS_ERROR:{code:1103029,message:"constraint error"},PUBLISHER_CDN_PUSH_ERROR:{code:1103052,message:"publisher cdn push error"},VIDEO_DEVICE_FALSE:{code:1103045,message:"video is false"},AUDIO_DEVICE_FALSE:{code:1103046,message:"audio is false"},UNKNOWN_SERVER_ERROR:{code:1100999,message:"unknown server error"},LOCALSTREAM_WRONG:{code:1000018,message:"local stream wrong"},PUBLISHER_STREAM_NO_FOUND:{code:1103055,message:"publish stream no found"},PUBLISH_TARGET_NO_RESPONSE:{code:1103063,message:"publish target no response"},BIZ_CHANNEL_ERROR:{code:1102021,message:"biz channel error."},INVALID_CHANNEL:{code:1102024,message:"invalid channel"},PUBLISHER_EXTRA_INFO_NULL:{code:1003050,message:"extra info of publishing stream is null"},PUBLISHER_UPDATE_STREAM_INFO_FAIL:{code:1103062,message:"update stream info fail"},TRACK_CAN_NOT_ADD:{code:1103063,message:"only stream which have one track and kind no exist can add track"},TRACK_CAN_NOT_REMOVE:{code:1103064,message:"stream which only has one track can not remove "},PUBLISHER_UPDATE_SDP_FAIL:{code:1103068,message:"update sdp fail"},PUBLISHER_STATE_WRONG:{code:1103069,message:"publisher state wrong"},HANDLE_TRACK_NOT_SUPPORTED:{code:1103070,message:"not support handle track"},VIDEO_EFFECT_IS_RUNNING:{code:1103071,message:"video effect processor is running"},BACKGROUND_PROCESS_IS_RUNNING:{code:1103072,message:"background processor is running"}}},2147:function(eA,er,ei){"use strict";Object.defineProperty(er,"__esModule",{value:!0});var eo=ei(9068),en=ei(6466);er.default={type:"Advance",install:function(eA,er,ei,es,ea,eg,ec,eu){for(var el in Object.defineProperty(er.prototype,"initAdvance",{value:function(){this.advancedModule=new eo.AdvancedModule(this.logger,this.dataReport,this.streamCenter,this.stateCenter)},writable:!1}),en.zegoWebRTC)Object.defineProperty(eA.prototype,el,{value:en.zegoWebRTC[el],writable:!1});for(var el in en.streamHandler)Object.defineProperty(ei.prototype,el,{value:en.streamHandler[el],writable:!1});for(var el in en.preview)Object.defineProperty(es.prototype,el,{value:en.preview[el],writable:!1});for(var el in en.playModule)Object.defineProperty(ea.prototype,el,{value:en.playModule[el],writable:!1});for(var el in en.publishModule)Object.defineProperty(eg.prototype,el,{value:en.publishModule[el],writable:!1});for(var el in en.publisher)Object.defineProperty(ec.prototype,el,{value:en.publisher[el],writable:!1});for(var el in en.signal)Object.defineProperty(eu.prototype,el,{value:en.signal[el],writable:!1})}}},3725:function(eA,er,ei){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.ZegoRTCLogEvent=void 0;var eo=ei(8476),en=ei(9268);er.ZegoRTCLogEvent={kZegoTaskInitSetting:{event:"/sdk/init"},kZegoDevice:{event:"device"},kZegoTaskRoomContext:{event:"room_context"},kZMInitSetting:{event:"stream"},kZegoTaskPublishStart:{event:"/sdk/start_publish"},kZegoTaskPlayStart:{event:"/sdk/start_play"},kZegoSetVideoConfig:{event:"/sdk/set_video_config",error:{kParamError:eo.errorCodeList.INPUT_PARAM,kLocalStreamError:eo.errorCodeList.LOCALSTREAM_WRONG},video_params:en.getItem,video_conf:en.getItem},kZegoSetAudioConfig:{event:"/sdk/set_audio_config",error:{kParamError:eo.errorCodeList.INPUT_PARAM,kLocalStreamError:eo.errorCodeList.LOCALSTREAM_WRONG},audio_params:en.getItem,audio_conf:en.getItem},kZegoVideoEnSize:{event:"/sdk/api/publish_video_en_size",w:en.getItemNumber,h:en.getItemNumber},kZegoVideoEnBps:{event:"/sdk/api/publish_video_en_bps",bitrate:en.getItemNumber},kZegoVideoEnFps:{event:"/sdk/api/publish_video_en_fps",fps:en.getItemNumber},kZegoReplaceTrack:{event:"/sdk/replace_track",error:{kParamError:eo.errorCodeList.INPUT_PARAM},track_kind:en.getItemString},kZegoTaskUseVideoDevice:{event:"/device/api/video_c",error:{kParamError:eo.errorCodeList.INPUT_PARAM,kDevicesNoFoundError:eo.errorCodeList.DEVICE_NOT_FOUND,kLocalStreamError:eo.errorCodeList.LOCALSTREAM_WRONG},device:en.getItemString,device_name:en.getItemString},kZegoTaskUseAudioDevice:{event:"/device/api/audio_c",error:{kParamError:eo.errorCodeList.INPUT_PARAM,kDevicesNoFoundError:eo.errorCodeList.DEVICE_NOT_FOUND,kLocalStreamError:eo.errorCodeList.LOCALSTREAM_WRONG},device:en.getItemString,device_name:en.getItemString},kZegoPlayContentChanged:{event:"/sdk/play_content_changed",webrtc_sid:en.getItemNumber,video_activate:en.getItemBool,audio_activate:en.getItemBool,video_layer:en.getItemNumber},kZegoTaskMutePublishVideo:{event:"/sdk/mute_publish_video",mute_type:en.getItemNumber,retain:en.getItemBool},kZegoTaskMutePublishAudio:{event:"/sdk/mute_publish_audio",mute_type:en.getItemNumber},kZegoEnableMic:{event:"/device/enable_mic",enable:en.getItemBool,stream_list:en.getItem},kZegoEnableCamera:{event:"/device/enable_camera",enable:en.getItemBool,stream_list:en.getItem},kZegoTaskMutePlayVideo:{event:"/sdk/mute_play_video",mute_type:en.getItemNumber},kZegoTaskMutePlayAudio:{event:"/sdk/mute_play_audio",mute_type:en.getItemNumber},kZegoTaskLiveRoomSendStreamExtraInfo:{event:"/liveroom/send_stream_extra_info",error:{kParamError:eo.errorCodeList.INPUT_PARAM,kExtraInfoNullError:eo.errorCodeList.PUBLISHER_EXTRA_INFO_NULL,kNoLoginError:eo.errorCodeList.NOT_LOGIN,kPublishStreamNoFoundError:eo.errorCodeList.PUBLISHER_STREAM_NO_FOUND,kUpdateStreamInfoFailError:eo.errorCodeList.PUBLISHER_UPDATE_STREAM_INFO_FAIL},stream_id:en.getItemString,msg_length:en.getItemString,room_id:en.getItemString,room_sid_string:en.getItemString,use_na:en.getItemNumber},kZegoTaskActivateSEIInsert:{event:"/active/sei",action:en.getItemNumber,info_type:en.getItemNumber}}},5976:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.MediaUtil=void 0;var ei=function(){function eA(eA,er){var ei=er.type,eo=er.channels,en=void 0===eo?1:eo,es=er.bufferSize,ea=void 0===es?0:es,eg=er.sampleBit,ec=void 0===eg?16:eg,eu=er.sampleRate,el=void 0===eu?44100:eu,ed=this;this.instant=0,this.slow=0,this.clip=0,this.context=eA,this.type=ei,this.channels=en,this.bufferSize=ea,this.sampleBit=ec,this.sampleRate=el,this.script=eA.createScriptProcessor(ea,en,en),(new Date).getTime(),this.script.addEventListener("audioprocess",function(eA){var er,eo=eA.inputBuffer.getChannelData(0),en=0,es=0;for(er=0;er<eo.length;++er)en+=eo[er]*eo[er],Math.abs(eo[er])>.99&&(es+=1);if(ed.instant=Math.sqrt(en/eo.length),ed.slow=.95*ed.slow+.05*ed.instant,ed.clip=es/eo.length,"pcm"===ei||"wav"===ei){for(var ea=[],eg=0;eg<ed.channels;eg++)ea.push(eA.inputBuffer.getChannelData(eg));ed.recorderBuffer(ea)}}),"pcm"!==ei&&"wav"!==ei||this.initRecorderBuffer(ei)}return eA.prototype.connectToSource=function(eA,er){try{this.mic=this.context.createMediaStreamSource(eA),this.mic.connect(this.script),this.script.connect(this.context.destination),void 0!==er&&er(null)}catch(eA){console.error(eA),void 0!==er&&er(eA)}return this},eA.prototype.recorderBuffer=function(eA){this.worker.postMessage({command:"record",val:eA})},eA.prototype.initRecorderBuffer=function(eA){var er=this;this.worker=this.inlineWorker(function(){var eA,er,ei,eo,en,es,ea=[];function eg(eA,er,ei){for(var eo=0;eo<ei.length;eo++,er+=2){var en=Math.max(-1,Math.min(1,ei[eo]));eA.setInt16(er,en<0?32768*en:32767*en,!0)}}function ec(eA,er,ei){for(var eo=0;eo<ei.length;eo++,er++){var en=Math.max(-1,Math.min(1,ei[eo])),es=en<0?128*en:127*en;eA.setInt8(er,es+=128)}}function eu(eA,er,ei){for(var eo=0;eo<ei.length;eo++)eA.setUint8(er+eo,ei.charCodeAt(eo))}function el(eA,er){for(var ei=new Float32Array(er.length/eA),eo=0,en=0;eo<ei.length;)ei[eo]=er[en],en+=eA,eo++;return ei}function ed(eA,er,ei){for(var eo=new Float32Array(er*eA.length),en=0,es=0;es<ei[0].length;es++)eo.set(ei[0][es],en),en+=ei[0][es].length;return eo}function eE(eA,er){for(var ei=new Float32Array(eA.length+er.length),eo=0;eo<eA.length+er.length;eo+=2)ei[eo]=eA[eo/2>>0],ei[eo+1]=er[eo/2>>0];return ei}function eI(er){var ei,eo;if(1==eA)ei=ed(ea[0],en,ea),1!=er&&(eo=el(er,ei));else if(2==eA){var es=ed(ea[0],en,ea),eg=ed(ea[1],en,ea);1!=er?eo=eE(el(er,es),el(er,eg)):ei=eE(es,eg)}return 1!=er?eo:ei}function eC(eA){var ei=function(eA,ei){8==ei?eo=eA.length:16==ei&&(eo=2*eA.length);var eo,en=new ArrayBuffer(eo),es=new DataView(en);return 8==ei?ec(es,0,eA):16==er&&eg(es,0,eA),es}(eI(eA),er);self.postMessage({command:"exportPcmLive",val:ei})}function eh(eo){var en=function(eo,en){8==en?es=eo.length:16==er&&(es=2*eo.length);var es,ea=new ArrayBuffer(es+44),el=new DataView(ea),ed=ei,eE=er,eI=eA;return eu(el,0,"RIFF"),el.setUint32(4,36+es,!0),eu(el,8,"WAVE"),eu(el,12,"fmt "),el.setUint32(16,16,!0),el.setUint16(20,1,!0),el.setUint16(22,eI,!0),el.setUint32(24,ed,!0),el.setUint32(28,ed*eI*(eE/8),!0),el.setUint16(32,eI*(eE/8),!0),el.setUint16(34,eE,!0),eu(el,36,"data"),el.setUint32(40,es,!0),8==er?ec(el,44,eo):16==er&&eg(el,44,eo),el}(eI(eo),er);self.postMessage({command:"exportWav",val:en})}this.onmessage=function(eg){var ec;switch(eg.data.command){case"init":eA=(ec=eg.data.val).sampleChannel,er=ec.sampleBit,ei=ec.sampleRate,eo=ec.oldSampleRate,en=ec.bufferSize,es=ec.type;break;case"record":!function(er){for(var en=0;en<eA;en++)ea[en]||(ea[en]=[]),ea[en].push(er[en]);var eg=Math.round(eo/ei);"pcm"===es?eC(eg):"wav"===es&&eh(eg),ea=[]}(eg.data.val)}}}),this.worker.postMessage({command:"init",val:{sampleChannel:this.channels,sampleBit:this.sampleBit,sampleRate:this.sampleRate,oldSampleRate:this.context.sampleRate,bufferSize:this.bufferSize,type:eA}}),this.worker.onmessage=function(eA){switch(eA.data.command){case"exportPcmLive":er.onReceiveBuffer(eA.data.val);break;case"exportWav":er.onReceiveWav(eA.data.val)}}},eA.prototype.onReceiveBuffer=function(eA){},eA.prototype.onReceiveWav=function(eA){},eA.prototype.writeString=function(eA,er,ei){for(var eo=0;eo<ei.length;eo++)eA.setUint8(er+eo,ei.charCodeAt(eo))},eA.prototype.writeBuffer=function(eA,er,ei){for(var eo=0;eo<ei.byteLength;eo++)eA.setUint8(er+eo,ei[eo])},eA.prototype.concatenation=function(eA){for(var er=0,ei=0;ei<eA.length;++ei)er+=eA[ei].buffer.byteLength;var eo=new Uint8Array(er),en=0;for(ei=0;ei<eA.length;++ei)eo.set(new Uint8Array(eA[ei].buffer),en),en+=eA[ei].buffer.byteLength;return eo},eA.prototype.encodeWave=function(eA){var er=this.concatenation(eA),ei=er.byteLength,eo=new ArrayBuffer(ei+44),en=new DataView(eo),es=this.sampleRate,ea=this.sampleBit,eg=this.channels;return this.writeString(en,0,"RIFF"),en.setUint32(4,36+ei,!0),this.writeString(en,8,"WAVE"),this.writeString(en,12,"fmt "),en.setUint32(16,16,!0),en.setUint16(20,1,!0),en.setUint16(22,eg,!0),en.setUint32(24,es,!0),en.setUint32(28,es*eg*(ea/8),!0),en.setUint16(32,eg*(ea/8),!0),en.setUint16(34,ea,!0),this.writeString(en,36,"data"),en.setUint32(40,ei,!0),this.writeBuffer(en,44,er),en},eA.prototype.stop=function(){this.mic.disconnect(),this.script.disconnect()},eA.prototype.inlineWorker=function(eA){if(Worker&&eA){var er=eA.toString().trim().match(/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1],ei=URL.createObjectURL(new window.Blob([er],{type:"text/javascript"}));return new Worker(ei)}return null},eA}();er.MediaUtil=ei},9194:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.ZEGO_WEBRTC_ACTION=void 0,function(eA){eA.PRELOAD_EFFECT="zc.pe.0",eA.PLAY_EFFECT="zc.pe.1",eA.PAUSE_EFFECT="zc.pe.2",eA.RESUME_EFFECT="zc.re",eA.STOP_EFFECT="zc.se",eA.UNLOAD_EFFECT="zc.ue",eA.AUDIO_EFFECT_PROCESS="zc.aep",eA.SET_EFFECT_VOLUME="zc.sev",eA.START_MIXING_AUDIO="zc.sma.0",eA.STOP_MIXING_AUDIO="zc.sma.1",eA.MIXING_BUFFER="zc.mb",eA.STOP_MIXING_BUFFER="zc.smb",eA.PUBLISHER_PLAY_EFFECT="zc.p.0.pe.0",eA.PUBLISHER_PAUSE_EFFECT="zc.p.0.pe.1",eA.PUBLISHER_RESUME_EFFECT="zc.p.0.re",eA.PUBLISHER_STOP_EFFECT="zc.p.0.se",eA.PUBLISHER_START_MIXING_AUDIO="zc.p.0.sma.0",eA.PUBLISHER_STOP_MIXING_AUDIO="zc.p.0.sma.1",eA.SET_MIXING_AUDIO_VOLUME="zc.smav",eA.PUBLISHER_MIXING_BUFFER="zc.p.0.mb",eA.PUBLISHER_SET_MIXING_AUDIO_VOLUME="zc.p.0.smav"}(er.ZEGO_WEBRTC_ACTION||(er.ZEGO_WEBRTC_ACTION={}))},8687:function(eA,er,ei){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.AudioBufferProcessor=void 0;var eo=ei(7546),en=function(){function eA(eA,er,ei,eo,en){this.logger=eA,this.ac=er,this.localStream=ei,this.destination=eo,this.rtcViewer=en,this.audioBufferList=[],this.replace=!1,this.effectEndedCallBack=null,this.effectEndedListener=null,this.startTimes=0,this.startOffset=0,this.pauseTimes=0,this.resumeOffset=0,this.paused=!1,this.isMixAudio=!1,this.isMixingBuffer=!1,this.loop=!1}return eA.prototype.playEffect=function(eA,er,ei,eo,en){var es=this;!0!==this.isMixAudio?this.audioBuffer?(this.startOffset=eA||0,this.loop=er||!1,this.replace=ei||!1,this.effectEndedCallBack=en,this.mixEffect(this.audioBuffer,function(){es.buffSource.loop=!!er,eA?es.buffSource.start(0,eA/1e3):es.buffSource.start(0),es.startTimes=Date.now(),es.effectEndedListener=es.effectEndedHandler.bind(es),es.buffSource.addEventListener("ended",es.effectEndedListener),eo&&eo()})):this.logger.error("amu.pe.1 no audio buffer found"):this.logger.warn("amu.pe.1 audio is mixing")},eA.prototype.stopMixingBuffer=function(){return this.isMixingBuffer=!1,this.stopMixingAudio()},eA.prototype.playRealTimeEffect=function(eA){var er=this;this.mixEffect(eA,function(){er.buffSource&&er.buffSource.start(0),er.buffSource&&er.buffSource.addEventListener("ended",function(){er.audioBufferList.shift(),er.audioBufferList.length>0&&er.isMixAudio&&er.playRealTimeEffect(er.audioBufferList[0])})})},eA.prototype.pauseEffect=function(){this.audioBufferList.length>0?this.logger.error("amu.pe.0 real time buffer can not be paused"):(this.stopMixingAudio(!0),this.resumeOffset=(this.pauseTimes-this.startTimes+this.startOffset)%(1e3*this.audioBuffer.duration),this.paused=!0)},eA.prototype.resumeEffect=function(){return this.audioBufferList.length>0?(this.logger.error("amu.pe.0 real time buffer can not be resume"),!1):(this.playEffect(this.resumeOffset,this.loop,this.replace,void 0,this.effectEndedCallBack),this.startOffset=this.resumeOffset,this.paused=!1,!0)},eA.prototype.mixEffect=function(eA,er){this.localStream?(this.ac.resume(),this.gainNode=this.ac.createGain(),this.delayNode=this.ac.createDelay(1),this.delayNode.delayTime.value=0,this.buffSource=this.ac.createBufferSource(),this.buffSource.buffer=eA,this.buffSource.connect(this.gainNode),this.gainNode.connect(this.ac.destination),this.replaceTrack()&&er()):this.logger.error("amu.me.0 localStream can not be found")},eA.prototype.replaceTrack=function(){if(!this.destination)return!1;this.gainNode.connect(this.delayNode),this.delayNode.connect(this.destination);var eA=this.destination.stream.getAudioTracks()[0],er=this.localStream.getTracks();return this.micTrack=this.localStream.getAudioTracks()[0],this.micTrack!==eA&&(this.micTrack?er.includes(this.micTrack)&&this.localStream.removeTrack(this.micTrack):this.logger.warn("amu.rt.0 origin track not fonud"),er.includes(eA)||(this.localStream.addTrack(eA),this.rtcViewer&&this.rtcViewer.setAudio(eA))),this.isMixAudio=!0,!0},eA.prototype.effectEndedHandler=function(){this.stopMixingAudio(),this.effectEndedCallBack&&this.effectEndedCallBack(),this.effectEndedCallBack=null},eA.prototype.stopMixingAudio=function(eA){return void 0===eA&&(eA=!1),this.paused?(this.logger.info("amu.sma.1 audioEffect is paused"),!eA&&this.effectEndedListener&&(this.effectEndedCallBack&&this.effectEndedCallBack(),this.effectEndedCallBack=null),!0):this.isMixAudio?this.localStream?(this.buffSource&&(this.buffSource.removeEventListener("ended",this.effectEndedListener),this.buffSource.stop(),this.pauseTimes=Date.now(),this.buffSource.disconnect(this.gainNode),this.buffSource=null),this.gainNode.disconnect(),this.delayNode.disconnect(),this.isMixAudio=!1,this.audioBufferList=[],!eA&&this.effectEndedListener&&(this.effectEndedCallBack&&this.effectEndedCallBack(),this.effectEndedCallBack=null),!0):(this.logger.error("amu.sma.1 localStream can not be found"),!1):(this.logger.warn("amu.sma.1 no mixing audio found"),!0)},eA.prototype.getProcess=function(){var eA=Date.now();return this.paused&&(eA=this.pauseTimes),(eA-this.startTimes+this.startOffset)%(1e3*this.audioBuffer.duration)},eA.prototype.seekTo=function(eA){void 0===eA&&(eA=0),this.startOffset=eA,this.paused?this.resumeOffset=eA:(this.stopMixingAudio(!0),this.playEffect(eA,this.loop,this.replace,void 0,this.effectEndedCallBack))},eA.prototype.mixingBuffer=function(eA,er){var ei=this;!0!==this.isMixAudio||0!=this.audioBufferList.length||0!=this.isMixingBuffer?(this.ac.resume(),this.ac.decodeAudioData(eA,function(eA){ei.audioBufferList.push(eA),1==ei.audioBufferList.length&&ei.playRealTimeEffect(ei.audioBufferList[0]),ei.isMixingBuffer=!0,er&&er()},function(eA){ei.logger.error("amu.mb.0 "+eA),er&&er({code:eo.errorCodeList.PUBLISHER_DECODE_AUDIO_FAIL.code,message:eo.errorCodeList.PUBLISHER_DECODE_AUDIO_FAIL.message+" "+eA})})):this.logger.error("amu.mb.0 audio is mixing")},eA.prototype.setMixingAudioVolume=function(eA){return this.gainNode?(console.error("ktv setVolume",eA),this.gainNode.gain.value=eA,!0):(this.logger.error("amu.sma.2 no mixing audio found"),!1)},eA.prototype.setDelay=function(eA){return this.delayNode?(this.logger.info("amu.sma.2 set delay: "+eA),this.delayNode.delayTime.value=eA,!0):(this.logger.warn("amu.sma.2 no mixing audio found"),!1)},eA}();er.AudioBufferProcessor=en},9592:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.AudioMix=void 0;var ei=function(){function eA(eA,er,ei,eo,en,es,ea){var eg=this;this.logger=eA,this.ac=er,this.localStream=ei,this.mediaEleSources=eo,this.browser=en,this.destination=es,this.rtcViewer=ea,this.isMixAudio=!1,this.maxDelay=1,this.audioCurrentTimer=null,this.audioResumedTimer=null,this.audioEl=null,this.eventHandler={volumechange:function(eA){var er=eA.target;er&&eg.audioNode&&(er.muted?(eg.logger.info("amu.sma.0 ".concat(eg.id," audio muted disconnect")),eg.audioNode.disconnect()):(eg.logger.info("amu.sma.0 ".concat(eg.id," audio is connected")),eg.audioNode.connect(eg.ac.destination),eg.audioNode.connect(eg.gainNode)))},canplay:function(eA){var er=eA.target;er&&!eg.isMediaElSrc&&eg.isMixAudio&&(eg.logger.info("amu.sma.1 ".concat(eg.id," canplay, remixing audio")),eg.stopMixingAudio(),eg.startMixingAudio(er))}},this.isMediaElSrc=!1,this.id=Date.now()%1e5+Math.floor(10*Math.random()),eA.info("amu.sma.0 ".concat(this.id," init audio mix"))}return eA.prototype.startMixingAudio=function(eA){if(this.isMixAudio)return this.logger.error("amu.sma.0 audio is mixing"),!1;if(!this.localStream)return this.logger.error("amu.sma.0 localStream can not be found"),!1;if(eA.captureStream=eA.captureStream||eA.mozCaptureStream||eA.webkitCaptureStream,this.isMixAudio=!0,this.ac.resume(),this.gainNode=this.ac.createGain(),this.delayNode=this.ac.createDelay(this.maxDelay),this.delayNode.delayTime.value=0,eA.addEventListener("canplay",this.eventHandler.canplay),"safari"===this.browser){var er,ei=this.mediaEleSources.find(function(er){return er.audio===eA});if(this.isMediaElSrc=!0,ei)this.audioNode=ei.node;else try{var eo=this.ac.createMediaElementSource(eA);eo.connect(this.ac.destination),this.audioNode=eo,this.audioEl=eA,this.mediaEleSources.push({audio:eA,node:eo})}catch(eA){er=eA}eA.addEventListener("volumechange",this.eventHandler.volumechange);var en=this.getBrowserInfo(),es=!1;"10.15.6"===(null==en?void 0:en.sysVer)&&"13.1.2"===(null==en?void 0:en.ver)&&(es=!0),es&&(this.audioResumedTimer=setInterval(function(){eA.currentTime=eA.currentTime+.45},6e3))}else{this.isMediaElSrc=!1;try{this.audioNode=this.ac.createMediaStreamSource(eA.captureStream())}catch(eA){er=eA}"firefox"===this.browser&&this.audioNode&&this.audioNode.connect(this.ac.destination)}return er?(this.logger.info("amu.sma.1 ".concat(this.id," create source failed: ")+er),!0):(this.audioNode.connect(this.gainNode),this.logger.info("amu.sma.1 ".concat(this.id," mix audio success.")),this.replaceTrack())},eA.prototype.getBrowserInfo=function(){var eA,er={},ei=navigator.userAgent.toLowerCase();eA=(ei.match(/x [\d._]+/gi)+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,"."),er.sysVer=eA;var eo=ei.match(/(msie|firefox|chrome|opera|version).*?([\d.]+)/);return eo&&(er.browser=eo[1].replace(/version/,"'safari"),er.ver=eo[2]),er},eA.prototype.replaceTrack=function(){if(!this.destination)return!1;this.gainNode.connect(this.delayNode),this.delayNode.connect(this.destination);var eA=this.destination.stream.getAudioTracks()[0],er=this.localStream.getTracks();return this.micTrack=this.localStream.getAudioTracks()[0],this.micTrack!==eA&&(this.micTrack?er.includes(this.micTrack)&&this.localStream.removeTrack(this.micTrack):this.logger.warn("amu.rt.1 origin track not fonud"),er.includes(eA)||(this.localStream.addTrack(eA),this.rtcViewer&&this.rtcViewer.setAudio(eA))),!0},eA.prototype.stopMixingAudio=function(){return this.isMixAudio?this.localStream?(this.audioEl&&(this.audioEl.removeEventListener("volumechange",this.eventHandler.volumechange),this.audioEl.removeEventListener("canplay",this.eventHandler.canplay),this.audioEl=null),this.audioNode&&(this.audioNode.disconnect(this.gainNode),this.audioNode=null,this.audioCurrentTimer&&(clearInterval(this.audioCurrentTimer),this.audioCurrentTimer=null),this.audioResumedTimer&&(clearInterval(this.audioResumedTimer),this.audioResumedTimer=null)),this.gainNode.disconnect(),this.delayNode.disconnect(),this.isMixAudio=!1,this.logger.info("amu.sma.1 ".concat(this.id," stop mix audio success.")),!0):(this.logger.error("amu.sma.1 localStream can not be found"),!1):(this.logger.warn("amu.sma.1 no mixing audio found"),!0)},eA.prototype.setMixingAudioVolume=function(eA){return this.gainNode?(this.gainNode.gain.value=eA,!0):(this.logger.error("amu.sma.2 no mixing audio found"),!1)},eA.prototype.setDelay=function(eA){return this.delayNode?!isNaN(eA/=1e3)&&(eA>this.maxDelay&&(eA=this.maxDelay),eA<0&&(eA=0),this.logger.info("amu.sma.1 ".concat(this.id," set delay: ")+eA),this.delayNode.delayTime.value=eA,!0):(this.logger.warn("amu.sma.1 no mixing audio found"),!1)},eA}();er.AudioMix=ei},8856:function(eA,er,ei){"use strict";var eo=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},en=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}};Object.defineProperty(er,"__esModule",{value:!0}),er.AudioMixModule=void 0;var es=ei(9194),ea=ei(5153),eg=ei(3309),ec=function(){function eA(eA,er,ei,eo,en,es){var ea=this;this.logger=eA,this.dataReport=er,this.stateCenter=ei,this.streamCenter=eo,this.ac=en,this.rtcModules=es,this.buffer=null,this.blank=null,this.mixingDelay=0,"safari"==this.stateCenter.browser&&null==this.blank&&null==this.buffer&&(this.ac.resume(),this.buffer=this.ac.createBuffer(1,1,this.ac.sampleRate),this.blank=this.ac.createBufferSource(),this.blank.buffer=this.buffer,this.blank.connect(this.ac.destination),this.blank.start()),this.rtcModules.bindListener("_engineConfigUpdate",function(eA){var er=eA.mixingAudioDelay;isNaN(er)||er===ea.mixingDelay||(ea.logger.info("zc.am.mdu delay update:"+er+", origin:"+ea.mixingDelay),ea.mixingDelay=er,ea.streamCenter.previewStreamList.forEach(function(eA){eA.audioMixManager&&eA.audioMixManager.setMixingDelay(er)}))})}return eA.prototype.preloadEffect=function(eA,er,ei){if(this.checkPreviewer(es.ZEGO_WEBRTC_ACTION.PRELOAD_EFFECT,{effectID:eA},{effectID:!0})){if(er&&"string"==typeof er){if(this.stateCenter.audioEffectBuffer[eA])return this.logger.warn(es.ZEGO_WEBRTC_ACTION.PRELOAD_EFFECT+" audio buffer already exists"),void(ei&&ei());this.logger.info(es.ZEGO_WEBRTC_ACTION.PRELOAD_EFFECT+" start preload effect"),this._preloadEffect(this.ac,eA,er,ei)}else this.logger.error(es.ZEGO_WEBRTC_ACTION.PRELOAD_EFFECT+" params error")}},eA.prototype.checkPreviewer=function(eA,er,ei){void 0===er&&(er={});var eo=!!(null==ei?void 0:ei.effectID),en=!!(null==ei?void 0:ei.previewer),es=er.effectID,ea=er.streamID;return((null==ei?void 0:ei.streamID)||ea)&&"string"!=typeof ea&&!(ea instanceof MediaStream)?(this.logger.error(eA+" stream type error"),!1):eo&&!es?(this.logger.error(eA+" effectID required"),!1):es&&"string"!=typeof es?(this.logger.error(eA+" effectID type error"),!1):!en||this.streamCenter.getPreviewer(ea)||(this.logger.error("string"==typeof ea?eA+" "+ea+" stream is not publishing":eA+" stream doesn't exist"),!1)},eA.prototype.getEffectDuration=function(eA){if(!this.checkPreviewer(es.ZEGO_WEBRTC_ACTION.AUDIO_EFFECT_PROCESS,{effectID:eA},{effectID:!0}))return 0;var er=this.stateCenter.audioEffectBuffer[eA];return er?er.duration?Math.floor(1e3*er.duration):0:(this.logger.error(es.ZEGO_WEBRTC_ACTION.AUDIO_EFFECT_PROCESS+" effect not found"),0)},eA.prototype.getEffectProgress=function(eA,er){var ei=this.checkPreviewer(es.ZEGO_WEBRTC_ACTION.AUDIO_EFFECT_PROCESS,{streamID:eA,effectID:er},{effectID:!0,streamID:!0,previewer:!0});return"boolean"==typeof ei?0:this.getAudioManager(ei).getEffectProgress(er)},eA.prototype.seekAudioEffect=function(eA,er,ei){if(ei<0)return this.logger.error(es.ZEGO_WEBRTC_ACTION.AUDIO_EFFECT_PROCESS+" param time error "),!1;var eo=this.checkPreviewer(es.ZEGO_WEBRTC_ACTION.AUDIO_EFFECT_PROCESS,{streamID:eA,effectID:er},{effectID:!0,streamID:!0,previewer:!0});return"boolean"!=typeof eo&&this.getAudioManager(eo).seekAudioEffect(er,ei)},eA.prototype.playEffect=function(eA,er,ei){return eo(this,void 0,void 0,function(){var eo,ea,eg,ec=this;return en(this,function(en){switch(en.label){case 0:return eo=eA.path,this.checkPreviewer(es.ZEGO_WEBRTC_ACTION.PLAY_EFFECT,{streamID:eA.stream||eA.streamID,effectID:ea=eA.effectID},{streamID:!0,effectID:!0})?(eg=this.stateCenter.audioEffectBuffer[ea],eo?eg?(this.logger.warn(es.ZEGO_WEBRTC_ACTION.PLAY_EFFECT+" audio effect already exists"),[3,3]):[3,1]:[3,4]):[2];case 1:return[4,new Promise(function(eA,er){ec.preloadEffect(ea,eo,function(ei){ei?(ec.logger.error(es.ZEGO_WEBRTC_ACTION.PLAY_EFFECT+" preload audio effect failed"),er(ei)):eA(void 0)})})];case 2:en.sent(),en.label=3;case 3:return[3,5];case 4:if(!eg)return this.logger.error(es.ZEGO_WEBRTC_ACTION.PLAY_EFFECT+" audio effect doesn't exists"),[2];en.label=5;case 5:return this._playEffect(eA,er,ei),[2]}})})},eA.prototype.pauseEffect=function(eA,er){return this._pauseEffect(eA,er)},eA.prototype.resumeEffect=function(eA,er){return this._resumeEffect(eA,er)},eA.prototype.stopEffect=function(eA,er){return this._stopEffect(eA,er)},eA.prototype.unloadEffect=function(eA){return!!this.checkPreviewer(es.ZEGO_WEBRTC_ACTION.UNLOAD_EFFECT,{effectID:eA},{effectID:!0})&&(delete this.stateCenter.audioEffectBuffer[eA],!0)},eA.prototype.setEffectVolume=function(eA,er,ei,eo){if("number"!=typeof er||er<0||er>200)return this.logger.error(es.ZEGO_WEBRTC_ACTION.SET_EFFECT_VOLUME+" volume must be a number between 0 and 200"),!1;var en=this.checkPreviewer(es.ZEGO_WEBRTC_ACTION.SET_EFFECT_VOLUME,{streamID:eA,effectID:ei},{streamID:!0,previewer:!0});return"boolean"!=typeof en&&this.getAudioManager(en).setEffectVolume(er/100,ei,eo)},eA.prototype.startMixingAudio=function(eA,er){return this.logger.info(es.ZEGO_WEBRTC_ACTION.START_MIXING_AUDIO+" call "+eA),eA?er?(this.logger.info(es.ZEGO_WEBRTC_ACTION.START_MIXING_AUDIO+" end "+eA),Array.isArray(er)&&0!==er.length&&er.every(function(eA){return eA instanceof HTMLMediaElement})?this._startMixingAudio(eA,er):(this.logger.error(es.ZEGO_WEBRTC_ACTION.START_MIXING_AUDIO+" audio list param type error"),!1)):(this.logger.error(es.ZEGO_WEBRTC_ACTION.START_MIXING_AUDIO+" no audio"),!1):(this.logger.error(es.ZEGO_WEBRTC_ACTION.START_MIXING_AUDIO+" stream not found"),!1)},eA.prototype.stopMixingAudio=function(eA,er){return eA?Array.isArray(er)&&0!==er.length||void 0===er?this._stopMixingAudio(eA,er):(this.logger.error(es.ZEGO_WEBRTC_ACTION.STOP_MIXING_AUDIO+" audio param type error"),!1):(this.logger.error(es.ZEGO_WEBRTC_ACTION.STOP_MIXING_AUDIO+" stream not found"),!1)},eA.prototype.mixingBuffer=function(eA,er,ei,eo){this.logger.info(es.ZEGO_WEBRTC_ACTION.MIXING_BUFFER+" call streamID: "+JSON.stringify(eA)+" sourceID:"+er),eA?er&&"string"==typeof er?(this._mixingBuffer(eA,er,ei,eo),this.logger.info(es.ZEGO_WEBRTC_ACTION.MIXING_BUFFER+" end")):this.logger.error(es.ZEGO_WEBRTC_ACTION.MIXING_BUFFER+" param source id format error"):this.logger.error(es.ZEGO_WEBRTC_ACTION.MIXING_BUFFER+" param streamid format error")},eA.prototype.stopMixingBuffer=function(eA,er){return this._stopMixingBuffer(eA,er)},eA.prototype.setMixingAudioVolume=function(eA,er,ei){return this.logger.info(es.ZEGO_WEBRTC_ACTION.SET_MIXING_AUDIO_VOLUME+" call"),eA?"number"!=typeof er||er<0||er>200?(this.logger.error(es.ZEGO_WEBRTC_ACTION.SET_MIXING_AUDIO_VOLUME+" volume must be a number between 0 and 200"),!1):ei&&ei instanceof HTMLMediaElement?this._setMixingAudioVolume(eA,er,ei):(this.logger.error(es.ZEGO_WEBRTC_ACTION.SET_MIXING_AUDIO_VOLUME+" no audio"),!1):(this.logger.error(es.ZEGO_WEBRTC_ACTION.SET_MIXING_AUDIO_VOLUME+" stream not found"),!1)},eA.prototype.getSoundLevel=function(eA,er,ei){this.logger.info("zc.gsl call");try{var eo=this.ac.createMediaStreamSource(eA),en=new eg.SoundMeterWorklet(this.logger,this.streamCenter.soundLevelInterval);en.initAudioWorklet(this.ac,eo),en.onSoundLevelUpdate=function(eA){er(eA)},this.stateCenter.audioStreamList[eA.id]={mic:eo,script:en}}catch(eA){ei(eA)}this.logger.info("zc.gsl call success")},eA.prototype.stopSoundLevel=function(eA){this.logger.info("zc.ssl call");var er=this.stateCenter.audioStreamList[eA.id];er.mic.disconnect(),er.script.destroy(),delete this.stateCenter.audioStreamList[eA.id]},eA.prototype._preloadEffect=function(eA,er,ei,eo){var en=this,es=new XMLHttpRequest;es.open("GET",ei,!0),es.setRequestHeader("Range","none"),es.responseType="arraybuffer",es.onload=function(){if(200==es.status||304==es.status)eA.decodeAudioData(es.response,function(eA){en.logger.info("zc.pe.0 effect '".concat(er,"' preload success")),en.stateCenter.audioEffectBuffer[er]=eA,eo&&eo()},function(eA){en.logger.error("zc.pe.0 effect '".concat(er,"' preload fail. ")+eA),eo&&eo(eA)});else{var ei=es.statusText;en.logger.error("zc.pe.0 effect '".concat(er,"' preload fail.")+ei),eo&&eo(ei)}},es.send()},eA.prototype._playEffect=function(eA,er,ei){var eo=this.stateCenter.audioEffectBuffer[eA.effectID];if(eo){var en=this.checkPreviewer(es.ZEGO_WEBRTC_ACTION.PLAY_EFFECT,{streamID:eA.stream||eA.streamID,effectID:eA.effectID},{streamID:!0,effectID:!0,previewer:!0});"boolean"!=typeof en&&this.getAudioManager(en).playEffect(eA,eo,er,ei)}else this.logger.error(es.ZEGO_WEBRTC_ACTION.PLAY_EFFECT+" no audio buffer found")},eA.prototype._pauseEffect=function(eA,er){var ei=this.checkPreviewer(es.ZEGO_WEBRTC_ACTION.PAUSE_EFFECT,{streamID:eA,effectID:er},{streamID:!0,previewer:!0});return"boolean"!=typeof ei&&this.getAudioManager(ei).pauseEffect(er)},eA.prototype._resumeEffect=function(eA,er){var ei=this.checkPreviewer(es.ZEGO_WEBRTC_ACTION.RESUME_EFFECT,{streamID:eA,effectID:er},{streamID:!0,previewer:!0});return"boolean"!=typeof ei&&this.getAudioManager(ei).resumeEffect(er)},eA.prototype._stopEffect=function(eA,er){var ei=this.checkPreviewer(es.ZEGO_WEBRTC_ACTION.STOP_EFFECT,{streamID:eA,effectID:er},{streamID:!0,previewer:!0});return"boolean"!=typeof ei&&this.getAudioManager(ei).stopEffect(er)},eA.prototype._setMixingAudioVolume=function(eA,er,ei){var eo=this.streamCenter.getPreviewer(eA);return eo?this.getAudioManager(eo).setMixingAudioVolume(er/100,ei):(this.logger.error("zc.sma.2 publisher doesn't exist"),!1)},eA.prototype._startMixingAudio=function(eA,er){var ei=this.streamCenter.getPreviewer(eA);return ei?this.getAudioManager(ei).startMixingAudio(er):(this.logger.error("string"==typeof eA?"zc.sma.0 "+eA+" stream is not publishing":"zc.sma.0 stream doesn't exist"),!1)},eA.prototype._stopMixingAudio=function(eA,er){var ei=this.streamCenter.getPreviewer(eA);return ei?this.getAudioManager(ei).stopMixingAudio(er):(this.logger.error("zc.sma.0 stream doesn't exist"),!1)},eA.prototype._mixingBuffer=function(eA,er,ei,eo){var en=this.checkPreviewer(es.ZEGO_WEBRTC_ACTION.STOP_MIXING_BUFFER,{streamID:eA,effectID:er},{effectID:!0,streamID:!0,previewer:!0});"boolean"!=typeof en&&(ei instanceof ArrayBuffer?this.getAudioManager(en).mixingBuffer(er,ei,eo):this.logger.error("zc.mb.0 array buffer not found"))},eA.prototype._stopMixingBuffer=function(eA,er){var ei=this.checkPreviewer(es.ZEGO_WEBRTC_ACTION.STOP_MIXING_BUFFER,{streamID:eA,effectID:er},{effectID:!0,streamID:!0,previewer:!0});return"boolean"!=typeof ei&&this.getAudioManager(ei).stopMixingBuffer(er)},eA.prototype.getAudioManager=function(eA){var er=eA.audioMixManager;return er||(er=new ea.PreviewAudioManager(eA),eA.audioMixManager=er),er},eA}();er.AudioMixModule=ec},7546:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.errorCodeList=void 0,er.errorCodeList={GET_SOUND_LEVEL_FAIL:{code:1000019,message:"get sound level error"},PUBLISHER_DECODE_AUDIO_FAIL:{code:1103057,message:"decode audio data fail"}}},2083:function(eA,er,ei){"use strict";Object.defineProperty(er,"__esModule",{value:!0});var eo=ei(8856);er.default={type:"AudioMix",install:function(eA){Object.defineProperty(eA.prototype,"initAudioMix",{value:function(){this.audioMixModule=new eo.AudioMixModule(this.logger,this.dataReport,this.stateCenter,this.streamCenter,this.ac,this)}})}}},5153:function(eA,er,ei){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.PreviewAudioManager=void 0;var eo=ei(9194),en=ei(8687),es=ei(9592),ea=function(){function eA(eA){this.previewer=eA,this.audioDestNode=void 0,this.audioMixList=[],this.arrayBufferMap={},this.effectList=[],this.mediaEleSources=eA.streamCenter.mediaEleSources}return Object.defineProperty(eA.prototype,"delay",{get:function(){var eA;return(null===(eA=this.previewer.stateCenter.engineConfig)||void 0===eA?void 0:eA.mixingAudioDelay)||0},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"logger",{get:function(){return this.previewer.logger},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"localStream",{get:function(){return this.previewer.localStream},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"streamCenter",{get:function(){return this.previewer.streamCenter},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"ac",{get:function(){return this.previewer.ac},enumerable:!1,configurable:!0}),eA.prototype.startMixingAudio=function(eA){var er=this;return this.logger.info(eo.ZEGO_WEBRTC_ACTION.PUBLISHER_START_MIXING_AUDIO+" call"),this.localStream?(eA.forEach(function(eA){if(er.audioMixList.find(function(er){return er.media==eA}))er.logger.warn(eo.ZEGO_WEBRTC_ACTION.PUBLISHER_START_MIXING_AUDIO+" mix audio already exist");else if(er.localStream){er.streamCenter.soundLevelDelegate&&er.previewer.stopSoundLevel();var ei=er.createDestNode(),en=new es.AudioMix(er.logger,er.ac,er.localStream,er.mediaEleSources,er.previewer.stateCenter.browser,ei,er.previewer.rtcViewer);er.audioMixList.push({audioMix:en,media:eA}),en.startMixingAudio(eA),en.setDelay(er.delay),er.streamCenter.soundLevelDelegate&&er.previewer.startSoundLevel()}}),!0):(this.logger.error(eo.ZEGO_WEBRTC_ACTION.PUBLISHER_START_MIXING_AUDIO+" localStream not found"),!1)},eA.prototype.stopMixingAudio=function(eA){var er=this;return this.logger.info(eo.ZEGO_WEBRTC_ACTION.PUBLISHER_STOP_MIXING_AUDIO+" call"),eA?eA.forEach(function(eA){for(var ei=0;ei<er.audioMixList.length;ei++)if(er.audioMixList[ei].media==eA){er.audioMixList[ei].audioMix.stopMixingAudio()&&er.audioMixList.splice(ei--,1);break}}):(this.audioMixList.forEach(function(eA){return eA.audioMix.stopMixingAudio()}),this.audioMixList=[]),!0},eA.prototype.setMixingAudioVolume=function(eA,er){this.logger.info(eo.ZEGO_WEBRTC_ACTION.PUBLISHER_SET_MIXING_AUDIO_VOLUME+" call");var ei=this.audioMixList.find(function(eA){return eA.media===er});return ei?(ei.audioMix.setMixingAudioVolume(eA),this.logger.info(eo.ZEGO_WEBRTC_ACTION.PUBLISHER_SET_MIXING_AUDIO_VOLUME+" call success"),!0):(this.logger.error(eo.ZEGO_WEBRTC_ACTION.PUBLISHER_SET_MIXING_AUDIO_VOLUME+" audio is not mixing"),!1)},eA.prototype.playEffect=function(eA,er,ei,es){var ea=this;if(this.logger.info(eo.ZEGO_WEBRTC_ACTION.PUBLISHER_PLAY_EFFECT+" call"),this.localStream){if(this.effectList.find(function(ei){return ei.effectID==eA.effectID&&ei.audioBuffer==er}))this.logger.warn(eo.ZEGO_WEBRTC_ACTION.PUBLISHER_PLAY_EFFECT+" effect already exist ");else{this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel();var eg=this.createDestNode(),ec=new en.AudioBufferProcessor(this.logger,this.ac,this.localStream,eg,this.previewer.rtcViewer);ec.audioBuffer=er;var eu={processor:ec,effectID:eA.effectID,audioBuffer:er};this.effectList.push(eu),ec.playEffect(eA.playTime,eA.loop,!1,function(){ei&&ei()},function(){for(var eA=[],er=0;er<arguments.length;er++)eA[er]=arguments[er];ea.effectList=ea.effectList.filter(function(eA){return eA!==eu}),es&&es.apply(void 0,eA)}),this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel(),this.logger.info(eo.ZEGO_WEBRTC_ACTION.PUBLISHER_PLAY_EFFECT+" play effect "+eA.effectID+" success")}}else this.logger.warn(eo.ZEGO_WEBRTC_ACTION.PUBLISHER_PLAY_EFFECT+" stream not found")},eA.prototype.pauseEffect=function(eA){var er=this.effectList.find(function(er){return er.effectID==eA});if(er)this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),er.processor.pauseEffect(),this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel(),this.logger.info(eo.ZEGO_WEBRTC_ACTION.PUBLISHER_PAUSE_EFFECT+" pause "+eA+" success");else{if(void 0!==eA)return this.logger.error(eo.ZEGO_WEBRTC_ACTION.PUBLISHER_PAUSE_EFFECT+" effect not found"),!1;this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),this.effectList.forEach(function(eA){return eA.processor.pauseEffect()}),this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel()}return!0},eA.prototype.resumeEffect=function(eA){var er=this.effectList.find(function(er){return er.effectID==eA});if(er){this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel();var ei=er.processor.resumeEffect();return this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel(),this.logger.info(eo.ZEGO_WEBRTC_ACTION.PUBLISHER_RESUME_EFFECT+" resume "+eA+" success"),ei}return void 0===eA?(this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),this.effectList.forEach(function(eA){return eA.processor.resumeEffect()}),this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel(),!0):(this.logger.error(eo.ZEGO_WEBRTC_ACTION.PUBLISHER_RESUME_EFFECT+" no effect found"),!1)},eA.prototype.stopEffect=function(eA){var er=this.effectList.find(function(er){return er.effectID==eA});if(er)this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),er.processor.stopMixingAudio(),this.effectList=this.effectList.filter(function(eA){return eA!==er}),this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel(),this.logger.info(eo.ZEGO_WEBRTC_ACTION.PUBLISHER_STOP_EFFECT+" pause "+eA+" success");else{if(void 0!==eA)return this.logger.error(eo.ZEGO_WEBRTC_ACTION.PUBLISHER_STOP_EFFECT+" effect not found"),!1;this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),this.effectList.forEach(function(eA){return eA.processor.stopMixingAudio()}),this.effectList=[],this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel()}return!0},eA.prototype.setEffectVolume=function(eA,er,ei){var eo=this.effectList.find(function(eA){return eA.effectID==er});if(eo)eo.processor.setMixingAudioVolume(eA),eo.processor.setDelay(ei||1e-7),this.logger.info("zp.sev.0 set volume "+er+" success");else{if(void 0!==er)return this.logger.error("zp.sev.0 effect not found"),!1;this.effectList.forEach(function(er){return er.processor.setMixingAudioVolume(eA)})}return!0},eA.prototype.mixingBuffer=function(eA,er,ei){var es=this;if(this.logger.info(eo.ZEGO_WEBRTC_ACTION.PUBLISHER_MIXING_BUFFER+" call"),this.localStream){if(this.arrayBufferMap[eA])this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),this.arrayBufferMap[eA].mixingBuffer(er,function(){es.streamCenter.soundLevelDelegate&&es.previewer.startSoundLevel(),ei&&ei()});else{this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel();var ea=this.createDestNode(),eg=new en.AudioBufferProcessor(this.logger,this.ac,this.localStream,ea,this.previewer.rtcViewer);this.arrayBufferMap[eA]=eg,eg.mixingBuffer(er,function(){es.streamCenter.soundLevelDelegate&&es.previewer.startSoundLevel(),ei&&ei()})}}},eA.prototype.stopMixingBuffer=function(eA){if(eA&&this.arrayBufferMap[eA])return this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),this.arrayBufferMap[eA].stopMixingBuffer(),delete this.arrayBufferMap[eA],this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel(),!0;if(void 0===eA){for(var er in this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),this.arrayBufferMap)this.arrayBufferMap[er].stopMixingBuffer();return this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel(),!0}return this.logger.warn(eo.ZEGO_WEBRTC_ACTION.PUBLISHER_MIXING_BUFFER+" arrayBuffer no found"),!1},eA.prototype.getEffectProgress=function(eA){var er=this.effectList.find(function(er){return er.effectID==eA});return er?er.processor.getProcess():(this.logger.error(eo.ZEGO_WEBRTC_ACTION.AUDIO_EFFECT_PROCESS+"  effect not found"),0)},eA.prototype.seekAudioEffect=function(eA,er){var ei=this.effectList.find(function(er){return er.effectID==eA});return ei?(this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),ei.processor.seekTo(er),this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel(),!0):(this.logger.error(eo.ZEGO_WEBRTC_ACTION.AUDIO_EFFECT_PROCESS+" effect not found"),!1)},eA.prototype.stopAudioManager=function(){this.stopMixingAudio(),this.stopMixingBuffer(),this.stopEffect()},eA.prototype.createDestNode=function(){var eA=null,er=this.previewer.createDestNode(this.localStream);return this.previewer.audioNodeQueue||((eA=this.previewer.createSrcNode()).disconnect(),eA.connect(er)),er},eA.prototype.setMixingDelay=function(eA){this.audioMixList.forEach(function(er){er.audioMix.setDelay(eA)})},eA}();er.PreviewAudioManager=ea},1123:function(eA,er,ei){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.DataChannel=void 0;var eo=ei(7896);er.DataChannel={type:"DataChannel",install:function(eA){Object.defineProperty(eA.prototype,"createRealTimeSequentialDataManager",{value:function(eA){this.enableDataChannel(!0);var er=this.stateCenter.getRoomByRoomID(eA);return er?er.dataChannelManager?null:(er.dataChannelManager=new eo.ZegoRealTimeSequentialDataManager(this,eA),er.dataChannelManager):(this.logger.error("zc.crsdm room no exist"),null)},writable:!1}),Object.defineProperty(eA.prototype,"destroyRealTimeSequentialDataManager",{value:function(eA){var er=this.stateCenter.roomList.find(function(er){return er.dataChannelManager==eA});er&&(eA.dataChannelManager.reset(),er.dataChannelManager=null)},writable:!1})}}},4475:function(eA,er){"use strict";var ei=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},eo=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}};Object.defineProperty(er,"__esModule",{value:!0}),er.DataChannelListener=void 0;var en=function(){function eA(eA,er){this.zegoWebRTC=eA,this.roomID=er,this.pubDataChannelList=[],this.subDataChannelList=[],this.listenerList={receiveRealTimeSequentialData:[]},this.logger=eA.logger}return eA.prototype.startBroadcasting=function(eA,er){return ei(this,void 0,void 0,function(){var er,ei,en,es;return eo(this,function(eo){switch(eo.label){case 0:return this.logger.info("dc.sb.0 call"),this.pubDataChannelList.includes(eA)?(this.logger.error("dc.sb.0 datachannel already exist"),[2,!1]):(er=this.zegoWebRTC.streamCenter.publisherList[eA])&&er.publisher.dataChannel?(this.pubDataChannelList.push(eA),[2,!0]):er&&!er.publisher.dataChannel?(this.logger.error("dc.sb.0 publish datachannel no exist, try other stream ID"),[2,!1]):this.broadcastStream?[3,2]:(ei=document.createElement("canvas"),en=this,[4,this.zegoWebRTC.createStream({custom:{source:ei}})]);case 1:en.broadcastStream=eo.sent(),eo.label=2;case 2:return(es=this.zegoWebRTC.startPublishingStream(eA,this.broadcastStream,{roomID:this.roomID},!0))&&this.pubDataChannelList.push(eA),this.logger.info("dc.sb.0 end"),[2,es]}})})},eA.prototype.stopBroadcasting=function(eA){this.logger.info("dc.sb.1 call"),this.pubDataChannelList=this.pubDataChannelList.filter(function(er){return er!==eA});var er=this.zegoWebRTC.streamCenter.publisherList[eA];return er?(er.room.roomID==this.roomID&&er.isDataChannel&&this.zegoWebRTC.stopPublishingStream(eA),this.logger.info("dc.sb.1 end"),!0):(this.logger.error("dc.sb.1 datachannel no found"),!1)},eA.prototype.sendRealTimeSequentialData=function(eA,er){if(!er instanceof ArrayBuffer)return this.logger.error("dc.srsd data type wrong"),!1;var ei=this.zegoWebRTC.streamCenter.publisherList[eA];return ei&&this.pubDataChannelList.includes(eA)?this.sendBCMessage(ei.publisher,er):(this.logger.error("dc.srsd datachannel no found"),!1)},eA.prototype.sendBCMessage=function(eA,er){var ei;if(!eA.dataChannelState)return!1;for(var eo=new Uint8Array(er),en=0,es=er.byteLength,ea=eA.send_seq,eg=0,ec=(new Date).getTime(),eu=0;es>0;){es>1151?eu=1141:(eu=es,eg=1);var el=new Uint8Array(eu+10);el[0]=1,el[1]=eg,el[2]=eA.send_seq>>8&255,el[3]=255&eA.send_seq,el[4]=ea>>8&255,el[5]=255&ea,el[6]=ec>>24&255,el[7]=ec>>16&255,el[8]=ec>>8&255,el[9]=255&ec;for(var ed=0;ed<eu;ed++)el[ed+10]=eo[ed+en];es-=eu,en+=eu,eA.send_seq++,eA.send_seq>=65536&&(eA.send_seq=0),null===(ei=eA.dataChannel)||void 0===ei||ei.send(el)}return!0},eA.prototype.startSubscribing=function(eA,er){var en,es;return ei(this,void 0,void 0,function(){var er,ei;return eo(this,function(eo){switch(eo.label){case 0:return this.logger.info("dc.ss.0 call"),this.subDataChannelList.includes(eA)?(this.logger.error("dc.ss.0 datachannel already exist"),[2,!1]):(er=this.zegoWebRTC.streamCenter.playerList[eA])?[3,2]:[4,this.zegoWebRTC.startPlayingStream(eA,void 0,!0)];case 1:eo.sent(),er=this.zegoWebRTC.streamCenter.playerList[eA],eo.label=2;case 2:return(ei=er.player).dataChannel?((null===(en=ei.onDataChannelList)||void 0===en?void 0:en.includes(this.onReceivedDataChannel.bind(this)))||null===(es=ei.onDataChannelList)||void 0===es||es.push(this.onReceivedDataChannel.bind(this)),this.subDataChannelList.push(eA),this.logger.info("dc.ss.0 end"),[2,!0]):(this.logger.error("dc.ss.0 datachannel no exist, try other stream ID"),[2,!1])}})})},eA.prototype.stopSubscribing=function(eA){this.logger.info("dc.ss.1 call"),this.subDataChannelList=this.subDataChannelList.filter(function(er){return er!==eA});var er=this.zegoWebRTC.streamCenter.playerList[eA];return er?(er.room.roomID==this.roomID&&er.isDataChannel&&this.zegoWebRTC.stopPlayingStream(eA),this.logger.info("dc.ss.1 end"),!0):(this.logger.error("dc.ss.1 datachannel no subscribe"),!1)},eA.prototype.on=function(eA,er){this.bindListener(eA,er)},eA.prototype.off=function(eA,er){this.deleteListener(eA,er)},eA.prototype.bindListener=function(eA,er){return this.listenerList[eA]?"function"!=typeof er?(this.logger.error("zc.o.0 listener callBack must be funciton"),!1):(-1==this.listenerList[eA].indexOf(er)&&this.listenerList[eA].push(er),!0):(this.logger.error("dc.o.0 event "+eA+" no found"),!1)},eA.prototype.deleteListener=function(eA,er){if(!this.listenerList[eA])return this.logger.error("dc.o.1 listener no found"),!1;var ei=this.listenerList[eA];return er?ei.splice(ei.indexOf(er),1):this.listenerList[eA]=[],!0},eA.prototype.actionListener=function(eA){for(var er=this,ei=[],eo=1;eo<arguments.length;eo++)ei[eo-1]=arguments[eo];this.listenerList[eA]&&this.listenerList[eA].forEach(function(eo){try{setTimeout(function(){eo.apply(void 0,ei)},0)}catch(ei){er.logger.error("dc.al "+eA+" "+ei)}})},eA.prototype.onReceivedDataChannel=function(eA,er,ei){this.actionListener("receiveRealTimeSequentialData",eA,er,ei)},eA.prototype.reset=function(){var eA=this;for(var er in this.logger.info("dc.rs call"),this.pubDataChannelList.forEach(function(er){var ei=eA.zegoWebRTC.streamCenter.publisherList[er];ei&&ei.room.roomID==eA.roomID&&ei.isDataChannel&&eA.zegoWebRTC.stopPublishingStream(er)}),this.subDataChannelList.forEach(function(er){var ei=eA.zegoWebRTC.streamCenter.playerList[er];ei&&ei.room.roomID==eA.roomID&&ei.isDataChannel&&eA.zegoWebRTC.stopPlayingStream(er)}),this.listenerList)this.listenerList[er]=[];this.broadcastStream&&this.zegoWebRTC.destroyStream(this.broadcastStream),this.broadcastStream=void 0,this.logger.info("dc.rs end")},eA}();er.DataChannelListener=en},1266:function(eA,er,ei){"use strict";var eo=this&&this.__assign||function(){return(eo=Object.assign||function(eA){for(var er,ei=1,eo=arguments.length;ei<eo;ei++)for(var en in er=arguments[ei])Object.prototype.hasOwnProperty.call(er,en)&&(eA[en]=er[en]);return eA}).apply(this,arguments)};Object.defineProperty(er,"__esModule",{value:!0}),er.streamHandler=er.zegoWebRTC=er.TRACER_LEVEL=void 0;var en,es=ei(6701),ea=ei(151),eg="2.24.5",ec=1e4,eu={};!function(eA){eA[eA.I=0]="I",eA[eA.H=10]="H",eA[eA.M=100]="M",eA[eA.L=1e3]="L"}(en=er.TRACER_LEVEL||(er.TRACER_LEVEL={}));var el={code:1005027,message:"mix stream input parameters are wrong"};function ed(eA,er){var ei,eo,en,ea,eg="",eu=es.errorCodeList;return er.errorCode<2e9&&er.errorCode>1e9?(en={1:"MIXER_START_REQUEST_ERROR",2:"MIXER_START_REQUEST_ERROR",3:"MIXER_AUTHENTICATION_FAILED",141:"MIXER_INPUT_IMAGE_FORMAT_WRONG",142:"MIXER_INPUT_IMAGE_GET_FAIL",150:"MIXER_INPUT_STREAM_NOT_EXISTS",151:"MIXER_START_REQUEST_ERROR",152:"MIXER_STOP_REQUEST_ERROR",153:"MIXER_INPUT_PARAMETERS_ERROR",154:"MIXER_EXCEED_MAX_OUTPUT_COUNT",155:"MIXER_INPUT_PARAMETERS_ERROR",156:"MIXER_VIDEO_CONFIG_INVALID",157:"MIXER_NO_SERVICES",158:"MIXER_EXCEED_MAX_INPUT_COUNT",159:"MIXER_START_REQUEST_ERROR",160:"MIXER_NOT_OWNER_STOPMIXER",170:"MIXER_WATERMARK_PARAMETERS_ERROR",171:"MIXER_WATERMARK_NULL",175:"MIXER_REPEAT_INPUT",179:"MIXER_INPUT_LABEL_TOO_LONG",190:"MIXER_START_REQUEST_ERROR"},ea="MIXER_INNER_ERROR",(eo=er.errorCode-ec)>1e9&&en[eo-1e9]&&(ea=en[eo-1e9]),ei=eu[eg=ea]):er.errorCode<1e6&&(ei=eA.decodeServerError(er.errorCode,er.extendedData),eg=eA.getLiveRoomError(er.errorCode,this.stateCenter.useNetAgent)),{reportErr:ei,actualError:eu[eg]}}er.zegoWebRTC={startMixerTask:function(eA){var er=this;return new Promise(function(ei,eo){var es=er.stateCenter.reporter.createSpan(en.H,{key:ea.ZegoRTCLogEvent.kZMInitSetting.event},{key:ea.ZegoRTCLogEvent.kZegoTaskMixStart.event,par:eA.taskID},ea.ZegoRTCLogEvent.kZegoTaskMixStart.event,!0),eg={errorCode:el.code,extendedData:el.message};if(null==eA?void 0:eA.inputList.find(function(eA){return null==eA.streamID&&(eg.extendedData=eg.extendedData+". streamID should be of string type",!0)}))return er.stateCenter.reporter.setError(es,el),void eo(eg);eA.outputConfig&&eA.outputConfig.outputFps&&(eA.outputConfig.outputFPS=eA.outputConfig.outputFps);var ec=function(ei){var en=ed(er.stateCenter,ei),eg=en.reportErr,ec=en.actualError;1005026===ei.errorCode&&es.setAttributes({stop_reason:"UnmatchStreamId"}),er.stateCenter.reporter.setError(es,eg||ei),er.stateCenter.reporter.spanEnd({key:ea.ZegoRTCLogEvent.kZegoTaskMixStart.event,par:eA.taskID}),ec&&(ei.errorCode=null==ec?void 0:ec.code,ei.extendedData=(null==ec?void 0:ec.message)||""),eo(ei)},eu=er.stateCenter.roomList[0];eu?eu.streamHandler.updateMixStream(eA,function(eo){er.stateCenter.reporter.spanEnd({key:ea.ZegoRTCLogEvent.kZegoTaskMixStart.event,par:eA.taskID}),ei(eo)},ec):ec({errorCode:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kNoLoginError.code,extendedData:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kNoLoginError.message})})},setMixerTaskConfig:function(eA){var er=this;return new Promise(function(ei,eo){var es=er.stateCenter.reporter.createSpan(en.H,{key:ea.ZegoRTCLogEvent.kZMInitSetting.event},{key:""},ea.ZegoRTCLogEvent.kZegoTaskMixConfig.event);es.setAttributes({mix_params:ea.ZegoRTCLogEvent.kZegoTaskMixConfig.mix_params(eA)});var eg=er.stateCenter.roomList[0];eg?eg.streamHandler.setMixerTaskConfig(eA).then(function(eA){es.end(),ei(eA)}).catch(function(eA){er.stateCenter.reporter.setError(es,eA),eo(eA)}):eo({errorCode:ea.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kNoLoginError.code,extendedData:ea.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kNoLoginError.message})})},stopMixerTask:function(eA){var er=this;return new Promise(function(ei,eo){var es=er.stateCenter.reporter.createSpan(en.H,{key:ea.ZegoRTCLogEvent.kZMInitSetting.event},{key:""},ea.ZegoRTCLogEvent.kZegoTaskMixStop.event);if(!eA||"string"!=typeof eA||eA.length>256||!er.stateCenter.checkIllegalCharacters(eA))return er.logger.error("zb.rh.lg taskID must be string less 256"),er.stateCenter.reporter.setError(es,ea.ZegoRTCLogEvent.kZegoTaskMixStop.error.kParamError," param taskID error"),void eo({errorCode:ea.ZegoRTCLogEvent.kZegoTaskMixStop.error.kParamError.code,extendedData:ea.ZegoRTCLogEvent.kZegoTaskMixStop.error.kParamError.message+" param taskID error"});es.setAttributes({mix_task_id:eA});var eg=function(eA){var ei=ed(er.stateCenter,eA),en=ei.actualError;er.stateCenter.reporter.setError(es,ei.reportErr||eA),en&&(eA.errorCode=null==en?void 0:en.code,eA.extendedData=(null==en?void 0:en.message)||""),eo(eA)},ec=er.stateCenter.roomList[0];ec?ec.streamHandler.stopMixStream(eA,function(eA){es.end(),ei(eA)},eg):eg({errorCode:ea.ZegoRTCLogEvent.kZegoTaskMixStop.error.kNoLoginError.code,extendedData:ea.ZegoRTCLogEvent.kZegoTaskMixStop.error.kNoLoginError.message})})}},er.streamHandler={setMixerTaskConfig:function(eA){var er=this;return new Promise(function(ei,eo){var en,es={},eg={};if(eA&&eA.videoCodec){var ec=eA.videoCodec.toLowerCase();if(-1==["vp8","h264"].indexOf(ec))return er.logger.error("zb.sh.ums param videoCode error"),eo({errorCode:ea.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kVideoConfigInvalidError.code,extendedData:ea.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kVideoConfigInvalidError.message}),!1;es.videoCodec=ec,eg.video_codec=ec}if(eA.backgroundColor){if(!er.stateCenter.checkInteger(eA.backgroundColor))return er.logger.error("zb.sh.ums param backgroundColor must be integer number"),eo({errorCode:ea.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kParamError.code,extendedData:ea.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kParamError.message}),!1;es.backgroundColor=eA.backgroundColor,eg.background_color=eA.backgroundColor}if(eA.backgroundImage){if("string"!=typeof eA.backgroundImage)return er.logger.error("zb.sh.ums param outputBgImage error"),eo({errorCode:ea.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kParamError.code,extendedData:ea.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kParamError.message}),!1;if(!eA.backgroundImage.startsWith("preset-id://")||!eA.backgroundImage.endsWith(".jpg")&&!eA.backgroundImage.endsWith(".png"))return er.logger.error("zb.sh.ums illegal input background image URL"),eo({errorCode:ea.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kBackgroundImageUrlInvalidError.code,extendedData:ea.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kBackgroundImageUrlInvalidError.message}),!1;es.backgroundImage=eA.backgroundImage,eg.background_image=eA.backgroundImage}if(eA.waterMark&&(es.waterMark=eA.waterMark,eg.water_mark=eA.waterMark),eA&&eA.userData){if(!(eA.userData instanceof Uint8Array))return er.logger.error("zb.sh.ums param userData required Uint8Array"),eo({errorCode:ea.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kParamError.code,extendedData:ea.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kParamError.message}),!1;if(eA.userData.byteLength>1e3)return er.logger.error("zb.sh.ums param userData should shorter than 1000"),eo({errorCode:ea.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kParamError.code,extendedData:ea.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kParamError.message}),!1;es.userData=eA.userData}eA.extraParams&&(es.extraParams||(es.extraParams=[]),(en=es.extraParams).push.apply(en,eA.extraParams)),eu=es,ei({errorCode:0,extendedData:""})})},stopMixStream:function(eA,er,ei,eo,en){var eu=this;this.logger.info("zb.sh.sms call");var el={id_name:this.stateCenter.idName,live_channel:this.roomID,appid:this.stateCenter.appid,version:eg};if("string"==typeof eA&&(el.task_id=eA),null!=eo?el.stream_id=this.stateCenter.testEnvironment?"zegotest-"+this.stateCenter.appid+"-"+eo:eo:null!=en&&(el.mixurl=en),this.stateCenter.useNetAgent)this.sendBizChannelRequestV3({server:12,location:"/mix/stop"},el,function(eA){er&&er({errorCode:0,extendedData:""})},function(eA,er,eo,en){var eg="";if(en)return en==es.errorCodeList.TIMEOUT&&(en=ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kRequestError),en.code&&20010===en.code&&(en=JSON.parse(JSON.stringify(es.errorCodeList.MIXER_NO_SERVICES))),void(ei&&ei(en,eg));if(en=ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kInternalError,200===eA){if("number"==typeof er)return eu.logger.debug("zb.sh.sms error: "+er),er+=1e9,void(ei&&ei({errorCode:eu.stateCenter.getServerError(ec+er).code,extendedData:eg}));eu.logger.error("zb.sh.sms stop mix fail "+JSON.stringify(error));var el=ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kInternalError;ei&&ei({errorCode:el.code,extendedData:el.message})}else eu.logger.error("zb.sh.sms "+(eg="request mix server fail, error: "+eA)),ei&&ei(en,eg)});else{var ed={channel:"zeus",cmd:"stop_mix",req_body:JSON.stringify(el)};this.sendBizChannelRequest(ed,function(){er&&er({errorCode:0,extendedData:""})},function(eA){if("number"==typeof eA)ei&&ei({errorCode:eu.stateCenter.getServerError(ec+eA).code,extendedData:""});else{eu.logger.error("zb.sh.sms stop mix fail "+JSON.stringify(eA));var er=void 0;er=eA==es.errorCodeList.TIMEOUT?ea.ZegoRTCLogEvent.kZegoTaskMixStop.error.kRequestError:ea.ZegoRTCLogEvent.kZegoTaskMixStop.error.kInternalError,ei&&ei({errorCode:er.code,extendedData:er.message})}})}return!0},updateMixStream:function(eA,er,ei){var en,el,ed,eE,eI,eC,eh,eB,ep=this;this.logger.info("zb.sh.ums call");var ef,em=[];if(!eA.noTaskID&&!eA.taskID)return this.logger.error("zb.sh.ums no taskId found"),ei({errorCode:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kTaskIDNullError.code,extendedData:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kTaskIDNullError.message}),!1;if(!eA.noTaskID&&"string"!=typeof eA.taskID)return this.logger.error("zb.rh.lg taskId must be string"),ei({errorCode:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.code,extendedData:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.message}),!1;if(!eA.noTaskID&&eA.taskID.length>256)return this.logger.error("zb.sh.ums taskId is too long"),ei({errorCode:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kTaskIDToLongError.code,extendedData:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kTaskIDToLongError.message}),!1;if(!eA.noTaskID&&!this.stateCenter.checkIllegalCharacters(eA.taskID))return this.logger.error("zb.sh.ums task ID contains illegal characters"),ei({errorCode:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kTaskIDInvalidCharacterError.code,extendedData:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kTaskIDInvalidCharacterError.message}),!1;if(!eA.inputList||0==eA.inputList.length)return this.logger.error("zb.sh.ums input list wrong"),ei({errorCode:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kInputListNullError.code,extendedData:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kInputListNullError.message}),!1;eA.inputList.forEach(function(eA){"AUDIO"===eA.contentType&&(eA.layout||(eA.layout={top:0,left:0,bottom:0,right:0}),eA.layout.top=0,eA.layout.left=0,eA.layout.bottom=1,eA.layout.right=1)});for(var eQ=0;eQ<eA.inputList.length;eQ++){var ev=eA.inputList[eQ],e_={errorCode:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.code,extendedData:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.message};if("object"!=typeof ev.layout)return this.logger.error("zb.sh.ums input layout must be object"),ei(e_),!1;if(!(this.stateCenter.checkInteger(ev.layout.top,!1)&&this.stateCenter.checkInteger(ev.layout.bottom,!1)&&this.stateCenter.checkInteger(ev.layout.left,!1)&&this.stateCenter.checkInteger(ev.layout.right,!1)))return this.logger.error("zb.sh.ums top、left、bottom、right must be integer number"),ei(e_),!1;if(void 0!==ev.renderMode&&![0,1].includes(ev.renderMode))return this.logger.error("zb.sh.ums render_mode is wrong"),ei(e_),!1;if(void 0!==ev.imageInfo){if("string"!=typeof ev.imageInfo.url)return this.logger.error("zb.sh.ums image url is require string"),ei(e_),!1;if(ev.imageInfo.url.length>1024)return this.logger.error("zb.sh.ums input image url length too long"),ei({errorCode:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kInputImageURLTooLong.code,extendedData:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kInputImageURLTooLong.message}),!1}if(void 0!==ev.label){if("string"!=typeof(null===(el=ev.label)||void 0===el?void 0:el.text)||(null===(ed=ev.label)||void 0===ed?void 0:ed.text.length)>=300)return this.logger.error("zb.sh.ums input label text is not string or too long"),ei({errorCode:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kInputLabelTextTooLong.code,extendedData:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kInputLabelTextTooLong.message}),!1;if(void 0!==(null===(eE=ev.label)||void 0===eE?void 0:eE.left)&&!this.stateCenter.checkInteger(null===(eI=ev.label)||void 0===eI?void 0:eI.left,!1)||void 0!==(null===(eC=ev.label)||void 0===eC?void 0:eC.top)&&!this.stateCenter.checkInteger(null===(eh=ev.label)||void 0===eh?void 0:eh.top,!1))return this.logger.error("zb.sh.ums input label left and top should be integer"),ei(e_),!1}if(void 0!==ev.cornerRadius&&!this.stateCenter.checkInteger(ev.cornerRadius,!1))return this.logger.error("zb.sh.ums cornerRadius is wrong"),ei(e_),!1}if(!eA.outputList||0==eA.outputList.length)return this.logger.error("zb.sh.ums no output list found"),ei({errorCode:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kOutputListNullError.code,extendedData:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kOutputListNullError.message}),!1;if(eA.outputList.some(function(eA){return"string"==typeof eA&&!ep.stateCenter.isUrl(eA)&&!ep.stateCenter.checkIllegalCharacters(eA)||"object"==typeof eA&&eA.target&&!ep.stateCenter.isUrl(eA.target)&&!ep.stateCenter.checkIllegalCharacters(eA.target)}))return this.logger.error("zb.sh.ums stream output target is incorrect"),ei({errorCode:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kOutputTargetInvalidError.code,extendedData:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kOutputTargetInvalidError.message}),!1;if(!((ef=eA.inputList.every(function(eA){return"AUDIO"===eA.contentType}))||eA.outputConfig&&"object"==typeof eA.outputConfig))return this.logger.error("zb.sh.ums no output config found"),ei({errorCode:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kOutputNoTargetError.code,extendedData:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kOutputNoTargetError.message}),!1;if(ef&&(eA.outputConfig=eo(eo({},eA.outputConfig||{}),{outputBitrate:.001,outputFPS:1,outputWidth:1,outputHeight:1})),!(ef||eA.outputConfig.outputBitrate&&this.stateCenter.checkInteger(eA.outputConfig.outputBitrate)))return this.logger.error("zb.sh.ums bitrate param is required and must be integer number"),ei({errorCode:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.code,extendedData:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.message}),!1;if(!eA.outputConfig.outputFPS||!this.stateCenter.checkInteger(eA.outputConfig.outputFPS))return this.logger.error("zb.sh.ums fps param is required and must be integer number"),ei({errorCode:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.code,extendedData:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.message}),!1;if(!eA.outputConfig.outputWidth||!this.stateCenter.checkInteger(eA.outputConfig.outputWidth))return this.logger.error("zb.sh.ums width param is required and must be integer number"),ei({errorCode:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.code,extendedData:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.message}),!1;if(!eA.outputConfig.outputHeight||!this.stateCenter.checkInteger(eA.outputConfig.outputHeight))return this.logger.error("zb.sh.ums height param is required and must be integer number"),ei({errorCode:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.code,extendedData:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.message}),!1;if(void 0!==eA.outputConfig.outputAudioCodecID&&!this.stateCenter.checkInteger(eA.outputConfig.outputAudioCodecID,!1))return this.logger.error("zb.sh.ums AudioCodecID param must be integer number"),ei({errorCode:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.code,extendedData:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.message}),!1;if(void 0!==eA.outputConfig.outputAudioBitrate&&!this.stateCenter.checkInteger(eA.outputConfig.outputAudioBitrate))return this.logger.error("zb.sh.ums AudioBitrate param must be integer number"),ei({errorCode:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.code,extendedData:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.message}),!1;if(void 0!==eA.outputConfig.outputAudioChannels&&!this.stateCenter.checkInteger(eA.outputConfig.outputAudioChannels,!1))return this.logger.error("zb.sh.ums AudioChannels param must be integer number"),ei({errorCode:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.code,extendedData:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.message}),!1;if(void 0!==eA.watermark&&"string"!=typeof(null===(eB=eA.watermark)||void 0===eB?void 0:eB.imageURL))return this.logger.error("zb.sh.ums watermark image type error"),ei({errorCode:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.code,extendedData:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.message}),!1;if(void 0!==eA.enableSoundLevel&&"boolean"!=typeof eA.enableSoundLevel)return this.logger.error("zb.sh.ums enableSoundLevel is not bool"),ei(e_),!1;var ey=[];for(eQ=0;eQ<eA.inputList.length;eQ++){var eS=eA.inputList[eQ],eR=eS.streamID;this.stateCenter.testEnvironment&&(eR="zegotest-"+this.stateCenter.appid+"-"+eS.streamID),ey.push({stream_id:eR,content_control:"AUDIO"===eS.contentType?1:0,rect:{layer:eQ,top:eS.layout.top,left:eS.layout.left,bottom:eS.layout.bottom,right:eS.layout.right},render_mode:eS.renderMode,image:eS.imageInfo,label:eS.label}),em.push({stream_id:eR,content_control:"AUDIO"===eS.contentType?1:0,top:eS.layout.top,left:eS.layout.left,bottom:eS.layout.bottom,right:eS.layout.right,render_mode:eS.renderMode,image:eS.imageInfo,label:eS.label})}var eT={},eD=[],eb=0;eA.outputConfig.singleStreamPassThrough&&"boolean"==typeof eA.outputConfig.singleStreamPassThrough&&(eb=eA.outputConfig.singleStreamPassThrough?1:0),eT={task_id:eA.taskID,id_name:this.stateCenter.idName,live_channel:this.roomID,appid:this.stateCenter.appid,version:eg,bypass:eb,timestamp:Math.ceil((new Date).getTime()/1e3),session_secret:(new Date).getTime()+"",ver:0,seq:this.stateCenter.getSeq()};var eN=eu;eN&&(eN.videoCodec&&(eT.extra_params=[{key:"video_encode",value:eN.videoCodec}]),eN.backgroundColor&&(eT.output_bg_color=eN.backgroundColor),eN.backgroundImage&&(eT.output_bg_image=eN.backgroundImage),eN.waterMark&&(eT.watermark=eN.waterMark),eN.userData&&(eT.userdata=this.stateCenter.uint8arrayToBase64(eN.userData)),eN.extraParams&&(eT.extra_params||(eT.extra_params=[]),(en=eT.extra_params).push.apply(en,eN.extraParams))),eA.watermark&&(eT.watermark={image:eA.watermark.imageURL,rect:eA.watermark.layout}),void 0!==eA.enableSoundLevel&&(eT.with_sound_level=eA.enableSoundLevel?1:0),eT.MixInput=eA.inputList.map(function(eA,er){var ei,eo,en,es,ea,eg,ec,eu,el,ed,eE,eI,eC,eh,eB,ef,em=eA.streamID;ep.stateCenter.testEnvironment&&(em="zegotest-"+ep.stateCenter.appid+"-"+eA.streamID);var eQ={font_type:(null===(eo=null===(ei=eA.label)||void 0===ei?void 0:ei.font)||void 0===eo?void 0:eo.type)||0,font_size:(null===(es=null===(en=eA.label)||void 0===en?void 0:en.font)||void 0===es?void 0:es.size)||24,font_color:(null===(eg=null===(ea=eA.label)||void 0===ea?void 0:ea.font)||void 0===eg?void 0:eg.color)||16777215,transparency:(null===(eu=null===(ec=eA.label)||void 0===ec?void 0:ec.font)||void 0===eu?void 0:eu.transparency)||0};(null===(ed=null===(el=eA.label)||void 0===el?void 0:el.font)||void 0===ed?void 0:ed.border)&&(eQ.border_color=(null===(eI=null===(eE=eA.label)||void 0===eE?void 0:eE.font)||void 0===eI?void 0:eI.borderColor)||0);var ev={text:null===(eC=eA.label)||void 0===eC?void 0:eC.text,left:null===(eh=eA.label)||void 0===eh?void 0:eh.left,top:null===(eB=eA.label)||void 0===eB?void 0:eB.top,font:eQ},e_={stream_id:em,content_control:"AUDIO"===eA.contentType?1:0,rect:{layer:er,top:eA.layout.top,left:eA.layout.left,bottom:eA.layout.bottom,right:eA.layout.right,corner_radius:eA.cornerRadius},render_mode:eA.renderMode};return(null===(ef=eA.label)||void 0===ef?void 0:ef.text)&&(e_.label=ev),eA.imageInfo&&(e_.mix_image=eA.imageInfo),e_});var ek=[];eT.MixOutput=eA.outputList.map(function(er){var eo={},en="";if("string"==typeof er)en=er;else{if("object"!=typeof er||!er.target)return ep.logger.error("zb.sh.ums output target required"),ei({errorCode:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kOutputTargetInvalidError.code,extendedData:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kOutputTargetInvalidError.message}),!1;en=er.target}return en.startsWith("rtmp://")||en.startsWith("https://")&&en.endsWith(".flv")||en.startsWith("https://")&&en.endsWith(".m3u8")?eo.mixurl=en:eo.stream_id=ep.stateCenter.testEnvironment?"zegotest-"+ep.stateCenter.appid+"-"+en:en,eo.bitrate=1e3*eA.outputConfig.outputBitrate,eo.fps=eA.outputConfig.outputFPS,eo.width=eA.outputConfig.outputWidth,eo.height=eA.outputConfig.outputHeight,eA.outputConfig.outputAudioCodecID&&(eo.audio_enc_id=eA.outputConfig.outputAudioCodecID),"vp8"===eN.videoCodec?eo.audio_enc_id=3:"h264"===eN.videoCodec&&(eo.audio_enc_id=0),eA.outputConfig.outputAudioBitrate&&(eo.audio_bitrate=1e3*eA.outputConfig.outputAudioBitrate),eA.outputConfig.outputAudioChannels&&(eo.audio_channel_cnt=eA.outputConfig.outputAudioChannels),eo.testenv=ep.stateCenter.testEnvironment?1:0,ek.push(eo),eD.push({target:eo.mixurl||eo.stream_id,is_url:!!eo.mixurl+""}),eo});var eL=eA.outputConfig;this.stateCenter.reporter.spanSetAttributes({key:ea.ZegoRTCLogEvent.kZegoTaskMixStart.event,par:eA.taskID},{mix_stream_conf:ea.ZegoRTCLogEvent.kZegoTaskMixStart.mix_stream_conf({fps:eL.outputFPS,bitrate:eL.outputBitrate,w:eL.outputWidth,h:eL.outputHeight,stream_cnt:em.length,mix_task_id:eA.taskID,input_stream_list:em,output_target_list:eD})}),this.logger.debug("zb.sh.ums send command");var ew="zegotest-"+this.stateCenter.appid+"-";if(this.stateCenter.useNetAgent)this.sendBizChannelRequestV3({server:12,location:"/mix/start"},eT,function(eA){var ei=eA.play.map(function(eA){var er={rtmpURL:"",hlsURL:"",flvURL:""},ei=eA.stream_alias||"";return ep.stateCenter.testEnvironment&&ei&&ei.startsWith(ew)&&(ei=ei.slice(ew.length)),er.streamID=ei,eA.rtmp_url&&eA.rtmp_url.length>0&&(er.rtmpURL=eA.rtmp_url),eA.hls_url&&eA.hls_url.length>0&&(er.hlsURL=eA.hls_url),eA.hdl_url&&eA.hdl_url.length>0&&(er.flvURL=eA.hdl_url),er});er&&er({errorCode:0,extendedData:JSON.stringify({mixerOutputList:ei})})},function(eA,er,eo,en){var eg="";if(en)return en==es.errorCodeList.TIMEOUT&&(en=ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kRequestError),en.code&&20010===en.code&&(en=JSON.parse(JSON.stringify(es.errorCodeList.MIXER_NO_SERVICES))),void(ei&&ei(en,eg));if(en=ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kInternalError,200===eA){if("number"==typeof er){if(ep.logger.debug("zb.sh.ums error: "+er),1000000150==(er+=1e9)&&eo){var eu=eo,el=(null==eu?void 0:eu.non_exist_streams.map(function(eA){return ep.stateCenter.testEnvironment&&eA.startsWith(ew)?eA.slice(ew.length):eA}))||[];el.length>0&&(ep.logger.debug("zb.sh.ums not exist streams: "+el),eg=el.join(","))}return void(ei&&ei({errorCode:ep.stateCenter.getServerError(ec+er).code,extendedData:eg}))}ep.logger.debug("zb.sh.ums error code "+er);var ed=ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kInternalError;ei&&ei({errorCode:ed.code,extendedData:ed.message})}else ep.logger.error("zb.sh.ums "+(eg="request mix server fail, error: "+eA)),ei&&ei(en,eg)});else{var eM={channel:"zeus",cmd:"start_mix",req_body:JSON.stringify(eT)};this.sendBizChannelRequest(eM,function(eA,eo,en){if(ep.logger.debug("zb.sh.ums receive message"),0!=en.length){for(var es=JSON.parse(en),ea=[],eg=0;eg<es.play.length;eg++){var eu={rtmpURL:"",hlsURL:"",flvURL:""},el=es.play[eg].stream_alias||"";ep.stateCenter.testEnvironment&&el&&el.startsWith(ew)&&(el=el.slice(ew.length)),eu.streamID=el,es.play[eg].rtmp_url&&es.play[eg].rtmp_url.length>0&&(eu.rtmpURL=es.play[eg].rtmp_url),es.play[eg].hls_url&&es.play[eg].hls_url.length>0&&(eu.hlsURL=es.play[eg].hls_url),es.play[eg].hdl_url&&es.play[eg].hdl_url.length>0&&(eu.flvURL=es.play[eg].hdl_url),ea.push(eu)}er&&er({errorCode:0,extendedData:JSON.stringify({mixerOutputList:ea})})}else ei&&ei({errorCode:ep.stateCenter.getServerError(ec+1).code,extendedData:""})},function(eA,er,eo){if("number"==typeof eA){ep.logger.debug("zb.sh.ums error: "+eA);var en=[];if(1000000150==eA&&0!=eo.length)for(var eg=JSON.parse(eo),eu=0;eu<eg.non_exist_streams.length;eu++){var el=eg.non_exist_streams[eu];ep.stateCenter.testEnvironment&&el.startsWith(ew)?en.push(el.slice(ew.length)):en.push(el)}ei&&ei({errorCode:ep.stateCenter.getServerError(ec+eA).code,extendedData:""})}else{ep.logger.debug("zb.sh.ums error code "+eA.code);var ed=void 0;ed=eA==es.errorCodeList.TIMEOUT?ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kRequestError:ea.ZegoRTCLogEvent.kZegoTaskMixStart.error.kInternalError,ei&&ei({errorCode:ed.code,extendedData:ed.message})}})}return!0}}},6701:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.errorCodeList=void 0,er.errorCodeList={NOT_LOGIN:{code:1000002,message:"not login room"},INPUT_PARAM:{code:1100001,message:"input param error."},TIMEOUT:{code:1100002,message:"network timeout."},MIXER_NO_SERVICES:{code:1005e3,message:"no mix stream service"},MIXER_TASK_ID_NULL:{code:1005001,message:"mixer task is null"},MIXER_TASK_ID_TOO_LONG:{code:1005002,message:"task ID is too long"},MIXER_TASK_ID_INVALID_CHARACTER:{code:1005003,message:"task ID contains illegal characters"},MIXER_NO_OUTPUT_TARGET:{code:1005005,message:"task configuration does not specify output"},MIXER_OUTPUT_TARGET_INVALID:{code:1005006,message:"stream output target is incorrect"},MIXER_START_REQUEST_ERROR:{code:1005010,message:"start mixer task fail, possibly due to network reasons"},MIXER_STOP_REQUEST_ERROR:{code:1005011,message:"stop mixer task fail, possibly due to network reasons"},MIXER_NOT_OWNER_STOP_MIXER:{code:1005012,message:" maxed task must be stopped by the start user of the task"},MIXER_INPUTLIST_NULL:{code:1005020,message:"Mixed stream task input list is null"},MIXER_OUTPUTLIST_NULL:{code:1005021,message:"Mixed stream task output list is null"},MIXER_VIDEO_CONFIG_INVALID:{code:1005023,message:"invalid mixed stream task video configuration"},MIXER_EXCEED_MAX_INPUT_COUNT:{code:1005025,message:"more than the maximum number of input streams"},MIXER_INPUT_STREAM_NOT_EXISTS:{code:1005026,message:"Input stream does not exist"},MIXER_INPUT_LABEL_TOO_LONG:{code:1005028,message:"Input stream label text is too long"},MIXER_EXCEED_MAX_OUTPUT_COUNT:{code:1005030,message:"more than the maximum number of output streams"},MIXER_INPUT_IMAGE_URL_TOO_LONG:{code:1005034,message:"Input stream image url too long"},MIXER_INPUT_IMAGE_FORMAT_WRONG:{code:1005035,message:"Input stream image format wrong"},MIXER_INPUT_IMAGE_GET_FAIL:{code:1005036,message:"Input stream image get fail"},MIXER_AUTHENTICATION_FAILED:{code:1005050,message:"mixed stream authentication failed"},MIXER_WATERMARK_NULL:{code:1005061,mag:"input watermark is null"},MIXER_WATERMARK_PARAMETERS_ERROR:{code:1005062,message:"input watermark parameter is wrong"},MIXER_WATERMARK_URL_INVALID:{code:1005063,message:"illegal input watermark URL"},MIXER_BACKGROUND_IMAGE_URL_INVALID:{code:1005067,message:"illegal input background image URL"},MIXER_REPEAT_INPUT:{code:1005099,message:"mix stream input repeat"},MIXER_INNER_ERROR:{code:1005099,message:"mixer internal error"}}},375:function(eA,er,ei){"use strict";Object.defineProperty(er,"__esModule",{value:!0});var eo=ei(1266);er.default={type:"MixStream",install:function(eA,er){for(var ei in eo.zegoWebRTC)Object.defineProperty(eA.prototype,ei,{value:eo.zegoWebRTC[ei],writable:!1});for(var ei in eo.streamHandler)Object.defineProperty(er.prototype,ei,{value:eo.streamHandler[ei],writable:!1})}}},151:function(eA,er,ei){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.ZegoRTCLogEvent=void 0;var eo=ei(6701),en=ei(9268);er.ZegoRTCLogEvent={kZMInitSetting:{event:"/sdk/init"},kZegoTaskMixStart:{event:"/mix/start_mix",error:{kParamError:eo.errorCodeList.INPUT_PARAM,kTaskIDNullError:eo.errorCodeList.MIXER_TASK_ID_NULL,kTaskIDToLongError:eo.errorCodeList.MIXER_TASK_ID_TOO_LONG,kTaskIDInvalidCharacterError:eo.errorCodeList.MIXER_TASK_ID_INVALID_CHARACTER,kInputListNullError:eo.errorCodeList.MIXER_INPUTLIST_NULL,kOutputListNullError:eo.errorCodeList.MIXER_OUTPUTLIST_NULL,kOutputTargetInvalidError:eo.errorCodeList.MIXER_OUTPUT_TARGET_INVALID,kOutputNoTargetError:eo.errorCodeList.MIXER_NO_OUTPUT_TARGET,kRequestError:eo.errorCodeList.MIXER_START_REQUEST_ERROR,kInternalError:eo.errorCodeList.MIXER_INNER_ERROR,kInputLabelTextTooLong:eo.errorCodeList.MIXER_INPUT_LABEL_TOO_LONG,kInputImageURLTooLong:eo.errorCodeList.MIXER_INPUT_IMAGE_URL_TOO_LONG,kInputImageFormatWrong:eo.errorCodeList.MIXER_INPUT_IMAGE_FORMAT_WRONG,kMixerWatermarkURLInvalid:eo.errorCodeList.MIXER_WATERMARK_URL_INVALID,kNoLoginError:eo.errorCodeList.NOT_LOGIN},mix_stream_conf:en.getItem,stop_reason:en.getItemString},kZegoTaskMixStop:{event:"/mix/stop_mix",error:{kParamError:eo.errorCodeList.INPUT_PARAM,kTaskIDNullError:eo.errorCodeList.MIXER_TASK_ID_NULL,kRequestError:eo.errorCodeList.MIXER_STOP_REQUEST_ERROR,kInternalError:eo.errorCodeList.MIXER_INNER_ERROR,kNoLoginError:eo.errorCodeList.NOT_LOGIN}},kZegoTaskMixConfig:{event:"/mix/config_mix",error:{kParamError:eo.errorCodeList.INPUT_PARAM,kVideoConfigInvalidError:eo.errorCodeList.MIXER_VIDEO_CONFIG_INVALID,kBackgroundImageUrlInvalidError:eo.errorCodeList.MIXER_BACKGROUND_IMAGE_URL_INVALID,kNoLoginError:eo.errorCodeList.NOT_LOGIN},mix_params:en.getItem}}},1301:function(eA,er,ei){"use strict";var eo=this&&this.__assign||function(){return(eo=Object.assign||function(eA){for(var er,ei=1,eo=arguments.length;ei<eo;ei++)for(var en in er=arguments[ei])Object.prototype.hasOwnProperty.call(er,en)&&(eA[en]=er[en]);return eA}).apply(this,arguments)},en=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},es=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}},ea=this&&this.__spreadArray||function(eA,er,ei){if(ei||2==arguments.length)for(var eo,en=0,es=er.length;en<es;en++)!eo&&en in er||(eo||(eo=Array.prototype.slice.call(er,0,en)),eo[en]=er[en]);return eA.concat(eo||Array.prototype.slice.call(er))},eg=this&&this.__importDefault||function(eA){return eA&&eA.__esModule?eA:{default:eA}};Object.defineProperty(er,"__esModule",{value:!0}),er.getSystemInfo=void 0;var ec=eg(ei(6889)),eu=eg(ei(3976)),el=eg(ei(2747)),ed=eg(ei(6219)),eE=eg(ei(9123)),eI=eg(ei(9585)),eC=ei(6664),eh=ei(694),eB=ei(6218),ep=ei(4028),ef=ei(9304);function em(){var eA;return en(this,void 0,void 0,function(){var er,ei,eo;return es(this,function(en){switch(en.label){case 0:return(er=null==navigator?void 0:navigator.userAgentData)?[4,er.getHighEntropyValues(["platformVersion"]).catch(function(){})]:[2,{platform:"",majorPlatformVersion:0}];case 1:return eo=parseInt(null===(eA=(ei=en.sent()||{}).platformVersion)||void 0===eA?void 0:eA.split(".")[0]),[2,{platform:ei.platform,majorPlatformVersion:eo}]}})})}er.getSystemInfo=em;var eQ="zc.ra.0",ev=function(){function eA(eA,er){var ei=this;this.logger=er,this.isSpatial=!1,this.audioSourceList=[],this.audioSourceUpdate=!1,this.localUserList=[],this.speakingUserIdList=[],this.vocalSourceMap=new Map,this.volume=1,this.speaker="",this._audioCtx=null,this.supportSpeakerSet=!1,this.isHide=!1,this.eventHandler={visibilitychange:function(){return en(ei,void 0,void 0,function(){var eA,er,ei,eo,en,eg,ec=this;return es(this,function(es){switch(es.label){case 0:return ea(ea([],this.vocalSourceList,!0),this.audioSourceList,!0).forEach(function(eA){eA.inBackground(document.hidden),ec.isHide=document.hidden}),eA=function(){ea(ea([],ec.vocalSourceList,!0),ec.audioSourceList,!0).forEach(function(eA){eA.changeRenderConfig(ec.isOpen3D(eA),!0,!1,!1)})},document.hidden?(ei=(er=navigator.userAgent.toLowerCase()).match(/chrome\/(\d*)/)&&er.includes("mobile"),[4,em()]):[3,2];case 1:return en="Windows"===(eo=es.sent()).platform&&eo.majorPlatformVersion>=13,ei||en?(this.logger.warn("".concat(eQ," mobile chrome hide page and stop web audio.")),eA(),[2]):("running"!==(eg=this.audioCtx.state)?(this.logger.info("".concat(eQ," hidden ctx: ").concat(eg,", resume ctx")),this.audioCtx.resume(),setTimeout(function(){var er=ec.audioCtx.state;ec.isHide&&("running"===er?ec.logger.info("".concat(eQ," hidden ctx: ").concat(er,".")):(ec.logger.warn("".concat(eQ," hidden ctx: ").concat(er,", ctx resume failed. stop web audio.")),eA()))},2e3)):this.logger.info("".concat(eQ," hidden ctx: ").concat(eg,".")),[3,3]);case 2:this.audioCtx.resume(),this.audioSourceList.forEach(function(eA){var er,ei;eA.isPlaying&&(null===(er=eA.audioEl)||void 0===er||er.dom.pause(),null===(ei=eA.audioEl)||void 0===ei||ei.dom.play().catch(function(){ec.logger.warn("".concat(eQ," show page and  ").concat(eA.userID," replay failed."))}))}),es.label=3;case 3:return[2]}})})}},this.zegoRTC=eA,document.addEventListener("visibilitychange",this.eventHandler.visibilitychange,!1),this.zegoRTC.on("roomStreamUpdate",function(eA,er,en){var es=en.map(function(eA){var er=ei.getStreamInfo(eA.extraInfo,eA.streamID),en=er.isRangeAudioStream,es=er.teamID,ea=er.raMode,eg=er.sendMode;return eo(eo({},eA),{isRangeAudioStream:en,teamID:es,raMode:ea,sendMode:eg})}).filter(function(eA){return eA.isRangeAudioStream}),ea=es.map(function(eA){return eA.user.userID});"DELETE"===er?ei.speakingUserIdList=ei.speakingUserIdList.filter(function(eA){var er=!ea.includes(eA);if(!er){var eo=ei.audioSourceMap[eA];eo&&eo.stopPlayingAudio("stop for stream delete")}return er}):"ADD"===er&&(ei.speakingUserIdList=ei.speakingUserIdList.concat(ea),es.forEach(function(eA){var er=eA.user.userID,eo=ei.audioSourceMap[er],en=eA.teamID,es=eA.raMode,ea=eA.sendMode;if(eo)eo.streamID!==eA.streamID&&(eo.stopPlayingAudio("stop for old stream"),eo.streamID=eA.streamID),void 0!==es&&(eo.raMode=es),en!==eo.teamID&&(eo.teamID=en),eo.changeRenderConfig(ei.isOpen3D(eo));else{var eg=new ec.default(ei.logger,{userID:er,teamID:en,raMode:es,sendMode:ea},{audioCtx:ei.audioCtx,zegoRTC:ei.zegoRTC,isSpatial:ei.isSpatial,maxDistance:ei.rangeListener.recvRange,volume:ei.volume,speaker:ei.speaker,isHide:ei.isHide});eg.streamID=eA.streamID,ei.audioSourceList.push(eg),ei.playStreamHandler.hasChanged=!0}})),ei.playStreamHandler.setAudioSourceList(ei.speakingAudioSourceList)}),this.zegoRTC.on("playerStateUpdate",function(eA){var er=ei.audioSourceList.find(function(er){return er.streamID===eA.streamID});er&&("NO_PLAY"===eA.state?er.isPlaying=!1:("PLAYING"===eA.state&&er.checkTrackChanged(),er.isPlaying=!0))}),this.zegoRTC.on("streamExtraInfoUpdate",function(eA,er){ei.logger.info(eQ+" recv extra info: "+JSON.stringify(er));var eo=!1;er.forEach(function(eA){var er=ei.audioSourceMap[eA.user.userID];if(er&&er.streamID){var en=ei.getStreamInfo(eA.extraInfo,eA.streamID),es=en.teamID,ea=en.raMode,eg=en.sendMode;es!==er.teamID&&(er.teamID=es,eo=!0),void 0!==ea&&(er.raMode=ea,eo=!0),er.sendMode!==eg&&(er.sendMode=eg,eo=!0),ei.playStreamHandler.hasChanged=!0}}),eo&&ei.enableSpatializer(ei.isSpatial)}),this.zegoRTC.RTM._on("_roomStateUpdate",function(eA,er){"CONNECTED"===er?(ei.roomID=eA,ei.rangeListener.userID=ei.zegoRTC.RTM.getUserID(),ei.playStreamHandler.hasChanged=!0,ei.playStreamHandler.userChanged=!0):"DISCONNECTED"===er&&(ei.roomID=void 0,ei.rangeListener.reset(),ei.enableSpeaker(!1),ei.audioSourceList=[],ei.playStreamHandler.setAudioSourceList([]),ei.localUserList=[],ei.playStreamHandler.setLocalUserList([]))}),this.zegoRTC.RTM.on("roomUserUpdate",function(eA,er,eo){var en;ei.logger.info(eQ+" roomUserUpdate: ",eA,er,JSON.stringify(eo)),"ADD"===er?(en=ei.localUserList).push.apply(en,eo):"DELETE"===er&&eo.forEach(function(eA){ei.localUserList=ei.localUserList.filter(function(er){return er.userID!==eA.userID})}),ei.playStreamHandler.setLocalUserList(ei.localUserList)}),this.zegoRTC.on("publishQualityUpdate",function(eA,er){var en=eA.match(/(.*)_(.*)/);if(3===(null==en?void 0:en.length)){var es=en[1];if(ei.rangeListener.userID!==es)return;var ea=eo({},er.audio);ei.eventManager.emit("publishQualityUpdate",es,ea)}}),this.zegoRTC.on("playQualityUpdate",function(eA,er){var en,es=eA.match(/(.*)_(.*)/);if(3===(null==es?void 0:es.length)){var ea=es[1],eg=er.audio,ec=er.peerToPeerDelay,eu=er.peerToPeerPacketLostRate;if(!(null===(en=ei.audioSourceList)||void 0===en?void 0:en.some(function(eA){return eA.userID===ea})))return;var el=eo(eo({},eg),{peerToPeerDelay:ec,peerToPeerPacketLostRate:eu});ei.eventManager.emit("playQualityUpdate",ea,el)}});var eg=window.AudioContext||window.webkitAudioContext;this._audioCtx=this.zegoRTC&&this.zegoRTC.ac||new eg,this.rangeListener=ed.default.getInstance(this.audioCtx,this.zegoRTC),this.playStreamHandler=eE.default.getInstance(this.logger,this.rangeListener),this.eventManager=eI.default.getInstance()}return Object.defineProperty(eA.prototype,"audioSourceMap",{get:function(){return this.audioSourceList.reduce(function(eA,er){return er.userID&&(eA[er.userID]=er),eA},{})},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"speakingAudioSourceList",{get:function(){var eA=this;return this.audioSourceList.filter(function(er){return eA.speakingUserIdList.includes(er.userID)})},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"vocalSourceList",{get:function(){for(var eA=[],er=this.vocalSourceMap.values(),ei=0;ei<this.vocalSourceMap.size;ei++)eA.push(er.next().value);return eA},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"playingAudioSourceList",{get:function(){return this.audioSourceList.filter(function(eA){return eA.isPlaying})},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"audioCtx",{get:function(){if(!this._audioCtx){var eA=window.AudioContext||window.webkitAudioContext;this._audioCtx=new eA}return this._audioCtx},enumerable:!1,configurable:!0}),eA.getInstance=function(er,ei){return eA.instance||(eA.instance=new eA(er,ei)),eA.instance},eA.prototype.resumeAudioContext=function(){return en(this,void 0,void 0,function(){var eA=this;return es(this,function(er){return[2,new Promise(function(er){eB.AudioElPool.generateEls(),"running"===eA.audioCtx.state&&er(!0),eA.audioCtx.onstatechange=function(){"running"===eA.audioCtx.state&&er(!0)},eA.audioCtx.resume(),eA.logger.info(eQ+" resume audio ctx"),setTimeout(function(){er(!1)},3e3)})]})})},eA.prototype.getAudioContextState=function(){return this.audioCtx.state},eA.prototype.getStreamInfo=function(eA,er){var ei=void 0,eo=null;try{eo=JSON.parse(eA)}catch(eA){return this.logger.warn(eQ+" parse room extra info failed. ".concat(er," is not ra stream.")),{isRangeAudioStream:!1}}if(!eo.hasOwnProperty("range_audio_team_id")||!eo.hasOwnProperty("range_audio_mode"))return this.logger.warn(eQ+" extra info has no mode. ".concat(er," is not ra stream.")),{isRangeAudioStream:!1};ei=({1:0,2:1,3:2})[eo.range_audio_mode];var en=eo.r_a_s_flag,es={teamID:eo.range_audio_team_id||void 0,raMode:ei,isRangeAudioStream:void 0===en||1===en};return eo.hasOwnProperty("r_a_speak")&&(es.sendMode=eo.r_a_speak),this.logger.info("".concat(eQ," ").concat(er," parse extra info: ").concat(JSON.stringify(es),".")),es},eA.prototype.setAudioReceiveRange=function(eA){if(!(0,eC.checkNumber)(eA))throw Error("Failed to execute 'setAudioReceiveRange': Argument 'range' requires to be type number.");if((eA=Number(eA=Number(eA)))<0)throw Error("Failed to execute 'setAudioReceiveRange': Argument 'range' can not be less than 0.");this.logger.info(eQ+" set receive range: "+eA),this.rangeListener.recvRange=eA,this.audioSourceList.forEach(function(er){er.setMaxDistance(eA)}),this.playStreamHandler.hasChanged=!0,this.playStreamHandler.userChanged=!0},eA.prototype.updateSelfPosition=function(eA,er,ei,eo){var en=this,es=function(eA){return"Failed to execute 'updateSelfPosition': Argument '".concat(eA,"' requires an array of type number.\"")};if(!(0,eC.checkCoordinate)(eA))throw Error(es("position"));if(!(0,eC.checkCoordinate)(er))throw Error(es("axisForward"));if(!(0,eC.checkCoordinate)(ei))throw Error(es("axisRight"));if(!(0,eC.checkCoordinate)(eo))throw Error(es("axisUp"));this.logger.info(eQ+" set self position [".concat(eA,"]")),this.rangeListener&&(this.rangeListener.updateSelfPosition(eA,er,eo),this.vocalSourceMap.forEach(function(eA){eA.checkIfCanPlay(en.rangeListener)})),this.playStreamHandler.setListener(this.rangeListener)},eA.prototype.updateAudioSource=function(eA,er){if(eA=String(eA),!(0,eC.checkCoordinate)(er))throw Error("Failed to execute 'updateAudioSource': parameter 'position' must be an array of type number.");var ei=this.audioSourceMap[eA];ei?ei.setPosition(er):(ei=new ec.default(this.logger,{userID:eA,position:er},{audioCtx:this.audioCtx,zegoRTC:this.zegoRTC,isSpatial:this.isSpatial,maxDistance:this.rangeListener.recvRange,volume:this.volume,speaker:this.speaker,isHide:this.isHide}),this.enableSpatializer(this.isSpatial),this.audioSourceList.push(ei)),this.playStreamHandler.setAudioSourceList(this.speakingAudioSourceList),this.playStreamHandler.setAllAudioSourceList(this.audioSourceList)},eA.prototype.enableMicrophone=function(eA){if(void 0===eA&&(eA=!0),!this.rangeListener.userID)throw Error("Enable mic failed. Please log in room first.");return eA?this.rangeListener.startPublishingStream():this.rangeListener.stopPublishingStream()},eA.prototype.selectMic=function(eA){return en(this,void 0,void 0,function(){var er,ei,eo,en;return es(this,function(es){switch(es.label){case 0:if("string"!=typeof eA&&void 0!==eA)throw Error("Select mic failed. DeviceID error.");if(ei=(er=this.rangeListener).audioStream,eo=er.isPublishing,this.logger.info(eQ+" select mic: "+eA),!ei||!eo)return[3,5];en={errorCode:0},es.label=1;case 1:return es.trys.push([1,3,,4]),[4,this.zegoRTC.useAudioDevice(ei,eA||"")];case 2:return en=es.sent(),[3,4];case 3:return es.sent(),[2,!1];case 4:return 0===en.errorCode?(this.rangeListener.micID=eA,[2,!0]):[2,!1];case 5:return this.rangeListener.micID=eA,[2,!0];case 6:return[2]}})})},eA.prototype.enableSpeaker=function(eA){if(void 0===eA&&(eA=!0),eA&&!this.roomID)throw Error("Enable speaker failed. Please log in room first.");this.playStreamHandler.isEnable=eA,this.logger.info(eQ+" enable speaker: "+eA),eA?(eB.AudioElPool.generateEls(),this.playStreamHandler.startPlayingAudioStream()):this.playStreamHandler.stopPlayingAudioStream()},eA.prototype.enableSpatializer=function(eA){var er=this;void 0===eA&&(eA=!0),this.logger.info(eQ+" set spatializer: "+eA),this.isSpatial=!!eA,this.audioSourceList.forEach(function(eA){eA.changeRenderConfig(er.isOpen3D(eA))}),this.vocalSourceList.forEach(function(er){er.changeRenderConfig(eA)}),eA&&this.rangeListener.updateListenerEffect()},eA.prototype.enableAiDenoise=function(eA){if(this.logger.info(eQ+" set ai denoise: "+eA),"boolean"!=typeof eA)return!1;var er=ep.ClientUtil.isMobile();return(er||window.AudioWorklet)&&window.WebAssembly&&(window.AudioContext||(null==window?void 0:window.webkitAudioContext)).prototype.createScriptProcessor?this.rangeListener.enableDenoise(!!eA):(this.logger.error(eQ+"".concat(er&&" mobile"," browser dose not support ai denoise.")),!1)},eA.prototype.setVoiceChangerPreset=function(eA){if(this.logger.info(eQ+" set voice changer preset: "+eA),"number"!=typeof eA)return!1;var er=ep.ClientUtil.isMobile();return(er||window.AudioWorklet)&&window.WebAssembly&&(window.AudioContext||(null==window?void 0:window.webkitAudioContext)).prototype.createScriptProcessor?this.rangeListener.setVoiceChangerPreset(eA):(this.logger.error(eQ+"".concat(er&&" mobile"," browser dose not support voice changer.")),!1)},eA.prototype.setRangeAudioTeamID=function(eA){this.logger.info(eQ+" set team id: "+eA),this.rangeListener.setTeamID(eA),this.enableSpatializer(this.isSpatial),this.playStreamHandler.hasChanged=!0},eA.prototype.setRangeAudioMode=function(eA){if(this.modeType===ef.RAModeType.Custom)throw Error("Failed to execute 'setRangeAudioMode': already use 'setRangeAudioCustomMode'.");this.modeType=ef.RAModeType.Normal,this.logger.info(eQ+" set mode "+eA),this.rangeListener.setNormalMode(eA),this.playStreamHandler.hasChanged=!0},eA.prototype.setCustomMode=function(eA,er){if(this.modeType===ef.RAModeType.Normal)throw Error("Failed to execute 'setRangeAudioCustomMode': already use 'setRangeAudioMode'.");this.modeType=ef.RAModeType.Custom,this.logger.info(eQ+" set custom mode: ".concat(eA,", ").concat(er));var ei=this.rangeListener.setCustomMode(eA,er).recvChange;this.playStreamHandler.hasChanged=!0,ei&&this.enableSpatializer(this.isSpatial)},eA.prototype.setAudioVolume=function(eA){var er=this;if(this.logger.info(eQ+" set volume ".concat(eA)),eA<0)throw Error("Failed to execute 'setVolume': The volume provided is outside the range [0, 200].");this.volume=eA/100,this.audioSourceList.forEach(function(eA){eA.setVolume(er.volume)})},eA.prototype.selectSpeaker=function(eA){var er=this;if(void 0===eA&&(eA=""),"string"!=typeof eA)throw Error("Select speaker failed. Device ID error.");if(!this.supportSpeakerSet){if(!document.createElement("audio").setSinkId)throw Error("Failed to execute 'selectSpeaker': browser not support.");this.supportSpeakerSet=!0}this.speaker=eA,this.logger.info(eQ+" set speaker: "+eA),""===eA&&this.logger.warn(eQ+" set speaker to be default. "),this.audioSourceList.find(function(ei){return en(er,void 0,void 0,function(){var er;return es(this,function(eo){switch(eo.label){case 0:return eo.trys.push([0,2,,3]),[4,ei.setSpeaker(eA)];case 1:return eo.sent(),[3,3];case 2:return er=eo.sent(),this.logger.warn(eQ+" set speaker failed. id: ".concat(eA,", error: ").concat(er)),[2,!0];case 3:return[2,!1]}})})})},eA.prototype.setPositionUpdateFrequency=function(eA){if(!(eA>=15))throw Error("Failed to execute 'setPositionUpdateFrequency': The frequency provided is outside the range [15, +].");this.playStreamHandler.interval=Number(eA)||100,this.logger.info(eQ+" set interval: "+eA)},eA.prototype.on=function(eA,er){return this.eventManager.addEventHandler(eA,er)},eA.prototype.off=function(eA,er){return this.eventManager.removeEventHandler(eA,er)},eA.prototype.enableAudioSourceUpdateChecker=function(eA,er){if(this.logger.info(eQ+" set source update: "+eA),this.audioSourceUpdate=eA,this.playStreamHandler.setAudioSourceUpdate(eA),er&&"number"==typeof er.frequency){if((null==er?void 0:er.frequency)<50)throw Error("Failed to execute 'enableAudioSourceUpdateChecker': The frequency provided is outside the range [50, +].");this.playStreamHandler.updateUserInterval=Number(er.frequency)||1e3,this.logger.info(eQ+" set interval: "+er.frequency)}eA?this.playStreamHandler.startCheckUserInRange():this.playStreamHandler.stopCheckUserInRange()},eA.prototype.getVocalSource=function(eA,er){var ei=this.vocalSourceMap.get(eA);if(!ei){var eo={audioCtx:this.audioCtx,isSpatial:this.isSpatial,maxDistance:er||0,volume:this.volume,speaker:this.speaker,isHide:this.isHide};ei=eA instanceof HTMLMediaElement?new eu.default(this.logger,{media:eA},eo):new el.default(this.logger,{streamView:eA},eo)}return this.vocalSourceMap.set(eA,ei),ei},eA.prototype.setStreamVocalRange=function(eA,er){var ei=eA instanceof HTMLMediaElement;if(!ei&&!(null==eA?void 0:eA.v))throw Error("Failed to execute 'setVocalRange': type of parameter 1 error.");if(!(0,eC.checkNumber)(er))throw Error("Failed to execute 'setVocalRange': parameter 2 requires to be type number.");er=Number(er),this.logger.info(eQ+" ".concat(ei?"custom":"stream"," set range: ")+er);var eo=this.getVocalSource(eA,er);eo.setMaxDistance(er),eo.checkIfCanPlay(this.rangeListener)},eA.prototype.updateStreamPosition=function(eA,er){if(!(eA instanceof HTMLMediaElement)&&!(null==eA?void 0:eA.v))throw Error("Failed to execute 'updatePosition': type of parameter 1 error.");if(!(0,eC.checkCoordinate)(er))throw Error("Failed to execute 'updatePosition': parameter 'position' must be an array of type number.");var ei=this.getVocalSource(eA);ei.setPosition(er),ei.checkIfCanPlay(this.rangeListener)},eA.prototype.isOpen3D=function(eA){return eA instanceof ec.default?(!(this.rangeListener.recvMode!==eh.ZegoRangeAudioListenMode.World)||!eA.isSpeakInTeam(this.rangeListener.teamID))&&this.isSpatial:this.isSpatial},eA}();er.default=ev},9317:function(eA,er,ei){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.RangeAudio=void 0;var eo=ei(7300);er.RangeAudio={type:"RangeAudio",install:function(eA){Object.defineProperty(eA.prototype,"createRangeAudioInstance",{value:function(){return this.rangeAudio||(this.rangeAudio=eo.ZegoExpressRangeAudio.getInstance(this,this.logger)),this.rangeAudio},writable:!1})}}},6218:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.AudioElPool=void 0;var ei=function(){function eA(){}return eA.generateEls=function(eA){if(void 0===eA&&(eA=30),this.elements.length>=eA)this.elements.forEach(function(eA){eA.dom.play().catch(function(eA){})});else{var er=Array(eA-this.elements.length).fill(0).map(function(eA,er){var ei=document.createElement("audio");return ei.muted=!0,ei.setAttribute("autoplay","autoplay"),ei.setAttribute("playsInline","playsInline"),ei.id="audio"+er,{dom:ei,id:er,used:!1}});this.elements=this.elements.concat(er)}},eA.useAudioEl=function(){0===this.elements.length&&this.generateEls();var eA=this.elements.find(function(eA){return!eA.used});return eA&&(eA.used=!0),eA},eA.stopUsingAudioEl=function(eA){var er=this.elements[eA];er&&(er.dom.onpause=null,er.dom.onerror=null,er.dom.muted=!0,er.used=!1)},eA.elements=[],eA}();er.AudioElPool=ei},6889:function(eA,er,ei){"use strict";var eo,en=this&&this.__extends||(eo=function(eA,er){return(eo=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(eA,er){eA.__proto__=er}||function(eA,er){for(var ei in er)Object.prototype.hasOwnProperty.call(er,ei)&&(eA[ei]=er[ei])})(eA,er)},function(eA,er){if("function"!=typeof er&&null!==er)throw TypeError("Class extends value "+String(er)+" is not a constructor or null");function ei(){this.constructor=eA}eo(eA,er),eA.prototype=null===er?Object.create(er):(ei.prototype=er.prototype,new ei)}),es=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},ea=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}};Object.defineProperty(er,"__esModule",{value:!0}),er.RANGE_AUDIO=void 0;var eg=ei(694),ec=ei(6218),eu=ei(2423);er.RANGE_AUDIO="zc.ra.1";var el=function(eA){function ei(er,ei,eo){var en=eA.call(this,er,eo)||this;return en.logger=er,en.audioTrack=null,en.zegoRTC=eo.zegoRTC,en.userID=ei.userID,en.teamID=ei.teamID,en.raMode=void 0!==ei.raMode?ei.raMode:eg.ZegoRangeAudioMode.World,ei.position&&(en.position=ei.position),en}return en(ei,eA),Object.defineProperty(ei.prototype,"sendMode",{get:function(){return void 0!==this._sendMode?this._sendMode:this.raMode===eg.ZegoRangeAudioMode.World?eg.ZegoRangeAudioSpeakMode.All:eg.ZegoRangeAudioSpeakMode.Team},set:function(eA){this._sendMode=eA},enumerable:!1,configurable:!0}),ei.prototype.checkTrackChanged=function(){var eA;if(this.stream){var ei=this.stream.getAudioTracks()[0];ei&&ei!==this.audioTrack&&(this.logger.info(er.RANGE_AUDIO+" retry play success, render stream."),null===(eA=this.sourceNode)||void 0===eA||eA.disconnect(),this.sourceNode=this.audioCtx.createMediaStreamSource(this.stream),this.changeRenderConfig(this.isSpatial,!0),this.audioTrack=ei)}},ei.prototype.startPlayingAudio=function(eA){var ei,eo;return es(this,void 0,void 0,function(){var en,es,eg;return ea(this,function(ea){switch(ea.label){case 0:if(!this.streamID)return[2];ea.label=1;case 1:return ea.trys.push([1,3,,4]),eA&&this.logger.info(er.RANGE_AUDIO+" ".concat(this.streamID," ")+eA),this.isPlaying=!0,en=this,[4,this.zegoRTC.startPlayingStream(this.streamID)];case 2:return en.stream=ea.sent(),this.audioTrack=this.stream.getAudioTracks()[0],[3,4];case 3:if(es=ea.sent(),this.isPlaying=!1,1103049===es.code)return[2];throw es;case 4:return this.audioEl=this.audioEl||ec.AudioElPool.useAudioEl()||null,this.logger.info(er.RANGE_AUDIO+" ".concat(this.streamID," start using audio el ").concat(null===(ei=this.audioEl)||void 0===ei?void 0:ei.id)),(eg=null===(eo=this.audioEl)||void 0===eo?void 0:eo.dom)||(this.logger.error(er.RANGE_AUDIO+" not enough audio elements"),eg=document.createElement("audio"),this.audioEl={id:-1,dom:eg,used:!0},eg.setAttribute("autoplay","autoplay")),eg.muted=!0,this.stream&&(this.sourceNode=this.audioCtx.createMediaStreamSource(this.stream)),this.sourceNode?[4,this.changeRenderConfig(this.isSpatial,!0)]:[3,6];case 5:ea.sent(),ea.label=6;case 6:return"suspended"===this.audioCtx.state&&this.audioCtx.resume(),[2]}})})},ei.prototype.stopPlayingAudio=function(eA){this.isPlaying&&this.streamID?(this.logger.info(er.RANGE_AUDIO+" ".concat(this.streamID," ")+eA),this.zegoRTC.stopPlayingStream(this.streamID),this.isPlaying=!1):this.streamID&&this.logger.info(er.RANGE_AUDIO+" ".concat(this.streamID," not playing, ")+eA),this.stream=void 0,this.sourceNode&&(this.sourceNode.disconnect(),this.sourceNode=null);var ei=this.audioEl,eo=null==ei?void 0:ei.dom;eo&&(eo.srcObject=null,eo.parentNode&&eo.parentNode.removeChild(eo));var en=(null==ei?void 0:ei.id)||-1;ei&&en>=0&&(ec.AudioElPool.stopUsingAudioEl(en),this.logger.info(er.RANGE_AUDIO+" ".concat(this.streamID," stop using audio el ").concat(en))),this.audioEl=null,this.loopbackConn&&(this.loopbackConn.close(),this.loopbackConn.onError=null)},ei.prototype.isSpeakInTeam=function(eA){var er=![this.teamID,eA].includes(void 0)&&""!==this.teamID&&this.teamID===eA,ei=[eg.ZegoRangeAudioSpeakMode.Team,eg.ZegoRangeAudioSpeakMode.All].includes(this.sendMode);return er&&ei},ei}(eu.BaseAudioSource);er.default=el},2423:function(eA,er,ei){"use strict";var eo=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},en=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}},es=this&&this.__importDefault||function(eA){return eA&&eA.__esModule?eA:{default:eA}};Object.defineProperty(er,"__esModule",{value:!0}),er.BaseAudioSource=er.calculateDistance=er.isMobile=er.RANGE_AUDIO=void 0;var ea=es(ei(5159)),eg=ei(1301),ec=ei(6609);function eu(eA,er){if(!er||!eA)return null;var ei=[eA[0]-er[0],eA[1]-er[1],eA[2]-er[2]];return Math.sqrt(Math.pow(ei[0],2)+Math.pow(ei[1],2)+Math.pow(ei[2],2))}er.RANGE_AUDIO="zc.ra.5",er.isMobile=function(){return!!navigator.userAgent.toLowerCase().includes("mobile")},er.calculateDistance=eu;var el=function(){function eA(eA,er){this.logger=eA,this.userID="base"+(new Date).getTime(),this.isHide=!1,this.distance=null,this.maxDistance=1e3,this.position=null,this.speaker="",this.audioEl=null,this.sourceNode=null,this.isPlaying=!1,this.config={needLoopback:!0,useGain:!0,playOnAudioContext:!1,useWebAudio:!0},this.volume=1,this.gainNode=null,this.isSpatial=!1,this.panner=null,this.audioCtx=er.audioCtx,this.isSpatial=er.isSpatial,this.setMaxDistance("number"==typeof er.maxDistance?er.maxDistance:1e5),this.destNode=this.audioCtx.createMediaStreamDestination(),this.setVolume(er.volume),this.setSpeaker(er.speaker).catch(function(eA){}),this.inBackground(er.isHide)}return eA.prototype.setPosition=function(eA){this.logger.info(er.RANGE_AUDIO+" ".concat(this.userID," set position: ")+eA),this.position=eA,this.panner&&(void 0!==this.panner.positionX?(this.panner.positionX.value=eA[1],this.panner.positionY.value=eA[2],this.panner.positionZ.value=-eA[0]):this.panner.setPosition(eA[1],eA[2],-eA[0]))},eA.prototype.getDistanceFromListener=function(eA){return this.distance=eu(this.position,eA.position),this.distance},eA.prototype.setMaxDistance=function(eA){this.maxDistance=eA,this.panner&&(eA<10&&(eA=10),this.panner.maxDistance=2.6*eA)},eA.prototype.setVolume=function(eA){isNaN(eA)||(this.volume=eA,this.gainNode&&(this.gainNode.gain.value=this.volume))},eA.prototype.setSpeaker=function(eA){var ei;return eo(this,void 0,void 0,function(){var eo,es,ea;return en(this,function(en){switch(en.label){case 0:if("string"!=typeof eA)return[2];if(this.speaker=eA,!(eo=null===(ei=this.audioEl)||void 0===ei?void 0:ei.dom))return[3,10];if(!(es=eo.setSinkId))return[3,8];en.label=1;case 1:return en.trys.push([1,6,,7]),this.config.playOnAudioContext?[3,3]:[4,es.call(eo,eA||"")];case 2:return en.sent(),[3,5];case 3:return[4,es.call(eo,"")];case 4:en.sent(),en.label=5;case 5:return this.logger.info(er.RANGE_AUDIO+" ".concat(this.userID," set speaker success. id: ").concat(eA,".")),[3,7];case 6:throw ea=en.sent(),this.logger.error(er.RANGE_AUDIO+" ".concat(this.userID," set speaker failed. id: ").concat(eA,"  error: ").concat(ea,".")),ea;case 7:return[3,9];case 8:throw"setting speaker not support.";case 9:return[3,11];case 10:this.logger.info(er.RANGE_AUDIO+" ".concat(this.userID," no element for set speaker.")),en.label=11;case 11:return[2]}})})},eA.prototype.initPanner=function(){if(!this.panner){var eA=(0,ec.createPanner)(this.audioCtx,this.maxDistance,this.position),er=eA.gainNode;this.panner=eA.panner,this.gainNode=er,er.gain.value=this.volume}},eA.prototype.changeRenderConfig=function(eA,ei,es,ec){var eu,el,ed,eE,eI;return void 0===ei&&(ei=!1),void 0===es&&(es=!1),void 0===ec&&(ec=!0),eo(this,void 0,void 0,function(){var eo,eC,eh,eB,ep,ef,em,eQ,ev,e_,ey,eS,eR=this;return en(this,function(en){switch(en.label){case 0:return ei||this.isSpatial!==eA?(this.isSpatial=eA,eC=(eo=navigator.userAgent.toLowerCase()).match(/chrome\/(\d*)/)&&eo.includes("mobile"),[4,(0,eg.getSystemInfo)()]):[2];case 1:return eB="Windows"===(eh=en.sent()).platform&&eh.majorPlatformVersion>=13,ep=this.isHide&&(eB||eC),ef="running"!==this.audioCtx.state,ec&&(ep||ef)&&(this.logger.warn("".concat(er.RANGE_AUDIO," ").concat(this.userID," stop web audio. system: ").concat(eh.platform," ").concat(eh.majorPlatformVersion)),ec=!1),this.config.useWebAudio=ec,em=eo.includes("safari")&&!eo.includes("chrome"),eQ=eo.includes("micromessenger")&&new RegExp(/(iphone|ipad|ipod|ios)/i).test(eo),ec||this.stream||(es=!0),this.config.playOnAudioContext=es,this.initPanner(),this.isPlaying&&this.sourceNode?(this.lastNode&&this.lastNode.disconnect(),ev=this.sourceNode,this.sourceNode.disconnect(),null===(eu=this.panner)||void 0===eu||eu.disconnect(),null===(el=this.gainNode)||void 0===el||el.disconnect(),this.gainNode?(ec&&(this.config.useGain&&(ev=this.sourceNode.connect(this.gainNode)),this.panner&&eA&&(ev=ev.connect(this.panner))),ev.connect(es?this.audioCtx.destination:this.destNode),this.lastNode=ev,this.position&&this.setPosition(this.position),this.logger.info(er.RANGE_AUDIO+"'".concat(this.userID,"' play ").concat(eA?"3d":"normal"," stream on ").concat(es?"audio ctx":"element")),(e_=null===(ed=this.audioEl)||void 0===ed?void 0:ed.dom)?(e_.onpause=function(){eR.logger.warn(er.RANGE_AUDIO+" ".concat(eR.streamID," audio paused"))},e_.onerror=function(eA){eR.logger.warn(er.RANGE_AUDIO+" ".concat(eR.streamID," audio error, ").concat(eA))},es?(this.stream&&e_.srcObject!==this.stream&&(e_.srcObject=this.stream,e_.muted=!0,e_.oncanplay=function(){e_.play().then(function(){eR.logger.info(er.RANGE_AUDIO+" ".concat(eR.userID," ctx autoplay success.")),eR.checkPlayStatus()}).catch(function(eA){eR.logger.warn(er.RANGE_AUDIO+" ".concat(eR.userID," ctx autoplay failed."))})}),[3,6]):[3,2]):[3,6]):[3,6]):[3,6];case 2:return ey=this.destNode.stream,(eS=this.config.needLoopback&&!eQ&&!em)&&this.loopbackConn&&(this.loopbackConn.close(),this.loopbackConn.onError=null),ec||!this.stream?[3,3]:(this.logger.info("".concat(er.RANGE_AUDIO," ").concat(this.userID," stop audio api")),this.sourceNode.disconnect(),null===(eE=this.panner)||void 0===eE||eE.disconnect(),null===(eI=this.gainNode)||void 0===eI||eI.disconnect(),ey=this.stream,[3,5]);case 3:return eS&&ey?(this.loopbackConn=this.loopbackConn||new ea.default(this.streamID||"",this.logger),this.loopbackConn.onError=function(eA){eR.logger.warn(er.RANGE_AUDIO+" ".concat(eR.userID," loopback failed! ").concat(eA)),eR.changeRenderConfig(eR.isSpatial,!0,!0)},[4,this.loopbackConn.bindStream(ey,this.streamID||void 0)]):[3,5];case 4:return ey=en.sent(),[3,5];case 5:e_.muted=!0,e_.srcObject=ey,this.setSpeaker(this.speaker).catch(function(eA){}),e_.oncanplay=function(){if(e_){e_.muted=!1;var eA=function(eA){eR.logger.error(er.RANGE_AUDIO+" ".concat(eR.userID," autoplay failed. error: ").concat(eA)),eR.changeRenderConfig(eR.isSpatial,!0,!0)};e_.play().then(function(){(null==e_?void 0:e_.paused)?eA("audio paused"):(eR.logger.info(er.RANGE_AUDIO+" ".concat(eR.userID," element autoplay success.")),eR.checkPlayStatus())}).catch(function(er){eA(er)})}},en.label=6;case 6:return[2]}})})},eA.prototype.checkPlayStatus=function(){var eA=this;setTimeout(function(){var ei;if(eA.isPlaying){var eo=null===(ei=eA.audioEl)||void 0===ei?void 0:ei.dom,en=eA.audioCtx.state;!eo||eo.paused||eo.muted&&!eA.config.playOnAudioContext||"running"!==en?(eA.logger.warn("".concat(er.RANGE_AUDIO," ").concat(eA.userID," play detection is abnormal. audio ctx:").concat(en,", paused:").concat(null==eo?void 0:eo.paused,", muted:").concat(null==eo?void 0:eo.muted)),"running"!==en&&(eA.audioCtx.resume(),setTimeout(function(){eA.logger.warn("".concat(er.RANGE_AUDIO," ").concat(eA.userID," play resume. audio ctx:").concat(en,", paused:").concat(null==eo?void 0:eo.paused,", muted:").concat(null==eo?void 0:eo.muted))},1e3))):eA.logger.info("".concat(er.RANGE_AUDIO," ").concat(eA.userID," play detection is fine"))}},2e3)},eA.prototype.inBackground=function(eA,er){void 0===eA&&(eA=!1),void 0===er&&(er=!1),this.isHide!==eA&&(this.isHide=eA,eA||this.config.useWebAudio||this.changeRenderConfig(this.isSpatial,!0))},eA}();er.BaseAudioSource=el},3976:function(eA,er,ei){"use strict";var eo,en=this&&this.__extends||(eo=function(eA,er){return(eo=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(eA,er){eA.__proto__=er}||function(eA,er){for(var ei in er)Object.prototype.hasOwnProperty.call(er,ei)&&(eA[ei]=er[ei])})(eA,er)},function(eA,er){if("function"!=typeof er&&null!==er)throw TypeError("Class extends value "+String(er)+" is not a constructor or null");function ei(){this.constructor=eA}eo(eA,er),eA.prototype=null===er?Object.create(er):(ei.prototype=er.prototype,new ei)}),es=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},ea=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}};Object.defineProperty(er,"__esModule",{value:!0}),er.RANGE_AUDIO=void 0;var eg=ei(6218),ec=ei(2423);er.RANGE_AUDIO="zc.ra.4";var eu=function(eA){function ei(er,ei,eo){var en=eA.call(this,er,eo)||this;return en.logger=er,en.media=ei.media,en.position=ei.position||null,en.createSource(),en.userID="custom"+(new Date).getTime(),en.config={needLoopback:!1,useGain:!1,playOnAudioContext:!1,useWebAudio:!0},en}return en(ei,eA),ei.prototype.createSource=function(){var eA=this;if((0,ec.isMobile)())return this.logger.info("".concat((0,ec.isMobile)()," ").concat(this.userID," not create src.")),void(this.changeRenderConfig=function(){return es(eA,void 0,void 0,function(){return ea(this,function(eA){return[2]})})});this.media&&(this.logger.info(er.RANGE_AUDIO+" create el source."),this.sourceNode||(this.sourceNode=this.audioCtx.createMediaElementSource(this.media)),null!==this.distance&&this.distance<this.maxDistance&&this.startPlayingAudio("in range"))},ei.prototype.startPlayingAudio=function(eA){var ei,eo;return es(this,void 0,void 0,function(){var en;return ea(this,function(es){switch(es.label){case 0:return this.isPlaying?(this.logger.info(er.RANGE_AUDIO+" ".concat(this.userID," is already playing")),[2]):(eA&&this.logger.info(er.RANGE_AUDIO+" vocal ".concat(this.userID," play for ").concat(eA)),this.isPlaying=!0,(0,ec.isMobile)()?(this.media.muted=!1,[2]):(this.audioEl=this.audioEl||eg.AudioElPool.useAudioEl()||null,this.logger.info(er.RANGE_AUDIO+" ".concat(this.userID," start using audio el ").concat(null===(ei=this.audioEl)||void 0===ei?void 0:ei.id)),(en=null===(eo=this.audioEl)||void 0===eo?void 0:eo.dom)||(this.logger.error(er.RANGE_AUDIO+" ".concat(this.userID," not enough audio elements")),en=document.createElement("audio"),this.audioEl={id:-1,dom:en,used:!0},en.setAttribute("autoplay","autoplay")),en.muted=!0,en.setAttribute("autoplay","autoplay"),en.setAttribute("id","zg-audio-source-"+this.userID),this.sourceNode?[4,this.changeRenderConfig(this.isSpatial,!0)]:[3,2]));case 1:es.sent(),es.label=2;case 2:return"suspended"===this.audioCtx.state&&this.audioCtx.resume(),[2]}})})},ei.prototype.stopPlayingAudio=function(eA){if(void 0===eA&&(eA=""),this.isPlaying&&(this.logger.info(er.RANGE_AUDIO+" vocal ".concat(this.userID," stop for ")+eA),this.isPlaying=!1),(0,ec.isMobile)())this.media.muted=!0;else{this.sourceNode&&this.sourceNode.disconnect();var ei=this.audioEl,eo=null==ei?void 0:ei.dom;eo&&(eo.srcObject=null,eo.parentNode&&eo.parentNode.removeChild(eo));var en=(null==ei?void 0:ei.id)||-1;ei&&en>=0&&(eg.AudioElPool.stopUsingAudioEl(en),this.logger.info(er.RANGE_AUDIO+" ".concat(this.userID," stop using audio el ").concat(en))),this.audioEl=null}},ei.prototype.checkIfCanPlay=function(eA){var er=this.distance=this.getDistanceFromListener(eA);null===er||er>this.maxDistance||0===this.maxDistance?this.stopPlayingAudio("out of range. ".concat(er," > ").concat(this.maxDistance)):this.startPlayingAudio("in range")},ei}(ec.BaseAudioSource);er.default=eu},5159:function(eA,er){"use strict";var ei=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},eo=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}};Object.defineProperty(er,"__esModule",{value:!0}),er.RANGE_AUDIO=void 0,er.RANGE_AUDIO="zc.ra.3";var en=function(){function eA(eA,er){this.streamID=eA,this.logger=er,this.rtcConn=null,this.loopbackConn=null,this.destStream=new MediaStream,this.onError=null}return eA.prototype.bindStream=function(eA,en){var es,ea;return ei(this,void 0,void 0,function(){var ei,eg,ec,eu,el,ed,eE=this;return eo(this,function(eo){switch(eo.label){case 0:return en&&(this.streamID=en),ei=["completed","connected"],this.rtcConn&&this.loopbackConn&&ei.includes(this.rtcConn.connectionState)?(eg=null===(es=this.rtcConn)||void 0===es?void 0:es.getSenders().find(function(eA){var er;return"audio"===(null===(er=eA.track)||void 0===er?void 0:er.kind)}),eA.getTracks().forEach(function(eA){"audio"===eA.kind&&(null==eg||eg.replaceTrack(eA))}),[3,10]):[3,1];case 1:this.rtcConn=new RTCPeerConnection,this.loopbackConn=new RTCPeerConnection,ec={offerVideo:!0,offerAudio:!0,offerToReceiveAudio:!1,offerToReceiveVideo:!1},this.rtcConn.onicecandidateerror=function(eA){eE.logger.warn(er.RANGE_AUDIO+" ".concat(eE.streamID," loopback in ice error: ").concat(JSON.stringify(eA)))},this.loopbackConn.onicecandidateerror=function(eA){eE.logger.warn(er.RANGE_AUDIO+" ".concat(eE.streamID," loopback out ice error: ").concat(JSON.stringify(eA)))},this.rtcConn.onicecandidate=function(eA){var ei,eo=eA.candidate;eo&&(eE.logger.info(er.RANGE_AUDIO+" ".concat(eE.streamID," loopback add out candidate: ").concat(eo)),null===(ei=eE.loopbackConn)||void 0===ei||ei.addIceCandidate(new RTCIceCandidate(eo)))},this.loopbackConn.onicecandidate=function(eA){var ei,eo=eA.candidate;eo&&(eE.logger.info(er.RANGE_AUDIO+" ".concat(eE.streamID," loopback add in candidate: ").concat(eo)),null===(ei=eE.rtcConn)||void 0===ei||ei.addIceCandidate(new RTCIceCandidate(eo)))},window.setTimeout(function(){eE.rtcConn&&eE.loopbackConn&&(ei.includes(eE.rtcConn.iceConnectionState)&&ei.includes(eE.loopbackConn.iceConnectionState)?eE.logger.info(er.RANGE_AUDIO+" ".concat(eE.streamID," loopback connect ok.")):(eE.logger.warn(er.RANGE_AUDIO+" ".concat(eE.streamID," loopback connect failed. in state: ").concat(eE.rtcConn.iceConnectionState,", out state: ").concat(eE.loopbackConn.iceConnectionState)),eE.close(),eE.onError&&eE.onError("time out")))},2e3),this.loopbackConn.ontrack=function(eA){var ei=eA.track;eE.logger.info(er.RANGE_AUDIO+" ".concat(eE.streamID," loopback receive track")),eE.replaceTrack(ei)},eA.getTracks().find(function(er){var ei;if("audio"===er.kind)return null===(ei=eE.rtcConn)||void 0===ei||ei.addTrack(er,eA),!0}),eo.label=2;case 2:return eo.trys.push([2,9,,10]),[4,this.rtcConn.createOffer(ec)];case 3:return eu=eo.sent(),[4,this.rtcConn.setLocalDescription(eu)];case 4:return eo.sent(),[4,this.loopbackConn.setRemoteDescription(eu)];case 5:return eo.sent(),[4,this.loopbackConn.createAnswer()];case 6:return(el=eo.sent()).sdp=null===(ea=el.sdp)||void 0===ea?void 0:ea.replace(/useinbandfec=/,"stereo=1;useinbandfec="),[4,this.loopbackConn.setLocalDescription(el)];case 7:return eo.sent(),[4,this.rtcConn.setRemoteDescription(el)];case 8:return eo.sent(),this.logger.info(er.RANGE_AUDIO+" ".concat(this.streamID," loopback set sdp completed.")),[3,10];case 9:return ed=eo.sent(),this.logger.error(er.RANGE_AUDIO+" ".concat(this.streamID," loopback connect failed.").concat(ed)),this.close(),this.onError&&this.onError("connect failed"),this.onError=null,[3,10];case 10:return[2,this.destStream]}})})},eA.prototype.replaceTrack=function(eA){var er=this;"audio"===eA.kind&&(this.destStream.getTracks().forEach(function(eA){er.destStream.removeTrack(eA)}),this.destStream.addTrack(eA))},eA.prototype.close=function(){var eA=this,er=this.rtcConn,ei=this.loopbackConn;this.destStream.getTracks().forEach(function(er){eA.destStream.removeTrack(er)}),null==er||er.close(),null==ei||ei.close(),this.rtcConn=null,this.loopbackConn=null},eA}();er.default=en},9123:function(eA,er,ei){"use strict";var eo=this&&this.__spreadArray||function(eA,er,ei){if(ei||2==arguments.length)for(var eo,en=0,es=er.length;en<es;en++)!eo&&en in er||(eo||(eo=Array.prototype.slice.call(er,0,en)),eo[en]=er[en]);return eA.concat(eo||Array.prototype.slice.call(er))};Object.defineProperty(er,"__esModule",{value:!0}),er.RANGE_AUDIO=void 0;var en=ei(694);er.RANGE_AUDIO="zc.ra.2";var es=function(){function eA(eA,er){this.logger=eA,this.isEnable=!1,this.interval=100,this.timer=null,this.audioSourceList=[],this.hasChanged=!1,this.userChanged=!1,this.updateUserInterval=1e3,this.updateUserTimer=null,this.audioSourceUpdate=!1,this.maxPlayingQuantity=20,this.allAudioSourceList=[],this.audioSourceWithinRangeList=[],this.localUserList=[],this.rangeListener=er}return eA.getInstance=function(er,ei){return eA.instance||(eA.instance=new eA(er,ei)),eA.instance},eA.prototype.setAudioSourceUpdate=function(eA){this.audioSourceUpdate=eA},eA.prototype.setListener=function(eA){this.rangeListener=eA,this.hasChanged=!0,this.userChanged=!0},eA.prototype.setAudioSourceList=function(eA){this.audioSourceList=eA,this.logger.info("".concat(er.RANGE_AUDIO," set src list: [").concat(eA.map(function(eA){return eA.userID}).join(","),"]")),this.hasChanged=!0},eA.prototype.setAllAudioSourceList=function(eA){eA&&(this.allAudioSourceList=eA),this.userChanged=!0},eA.prototype.startPlayingAudioStream=function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.hasChanged=!0,this.playAudioTask()},eA.prototype.playAudioTask=function(){var eA=this;this.hasChanged&&(this.hasChanged=!1,this.handlePlayAudioTask()),this.timer=window.setTimeout(function(){eA.playAudioTask()},this.interval)},eA.prototype.handlePlayAudioTask=function(){var eA=this;if(this.isEnable){this.logger.info("".concat(er.RANGE_AUDIO," handler task start"));var ei=eo([],this.audioSourceList,!0),es=0,ea=this.rangeListener.recvMode;if([en.ZegoRangeAudioListenMode.Team,en.ZegoRangeAudioListenMode.All].includes(ea)){var eg=this.getTeamAudioSourceGroup();ei=eg.otherList,eg.teamList.forEach(function(er){es<eA.maxPlayingQuantity&&(er.isPlaying||er.startPlayingAudio("play for team"),es++)})}var ec=[en.ZegoRangeAudioListenMode.World,en.ZegoRangeAudioListenMode.All].includes(ea);ec&&(ei.forEach(function(er){er.distance=er.getDistanceFromListener(eA.rangeListener)}),ei.sort(function(eA,er){return null===eA.distance?1:null===er.distance||eA.distance<er.distance?-1:eA.distance>er.distance?1:0})),ei.forEach(function(er){var ei=[en.ZegoRangeAudioSpeakMode.All,en.ZegoRangeAudioSpeakMode.World].includes(er.sendMode)&&null!==er.distance&&(null===eA.rangeListener.recvRange||er.distance<=eA.rangeListener.recvRange);if(ec&&es<eA.maxPlayingQuantity&&ei)er.isPlaying||er.startPlayingAudio("play for range"),es++;else{var eo="stop for mode or range. mode: ".concat(er.sendMode,", range: ").concat(er.distance," > ").concat(eA.rangeListener.recvRange);er.stopPlayingAudio(eo)}}),this.logger.info(er.RANGE_AUDIO+" playing quantity: ".concat(es,"."))}else this.stopPlayingAudioStream()},eA.prototype.startCheckUserInRange=function(){this.logger.info(er.RANGE_AUDIO+" start user check"),this.updateUserTimer&&(clearTimeout(this.updateUserTimer),this.updateUserTimer=null),this.userChanged=!0,this.userCheckTask()},eA.prototype.stopCheckUserInRange=function(){this.logger.info(er.RANGE_AUDIO+" stop user check"),this.updateUserTimer&&(clearTimeout(this.updateUserTimer),this.updateUserTimer=null)},eA.prototype.userCheckTask=function(){var eA=this;this.userChanged&&(this.userChanged=!1,this.handleUserCheckTask()),this.updateUserTimer=window.setTimeout(function(){eA.userCheckTask()},this.updateUserInterval)},eA.prototype.handleUserCheckTask=function(){var eA=this;if(this.audioSourceUpdate){var er=[];this.allAudioSourceList.forEach(function(ei){ei.distance=ei.getDistanceFromListener(eA.rangeListener);var eo=null!==ei.distance&&(null===eA.rangeListener.recvRange||ei.distance<=eA.rangeListener.recvRange),en=!!eA.localUserList.find(function(eA){return eA.userID===ei.userID});eo&&en&&er.push({userID:ei.userID,position:ei.position})}),this.checkAudioSourceListDiff(er,this.audioSourceWithinRangeList)&&this.rangeListener.eventHandler.emit("audioSourceWithinRangeUpdate",er),this.audioSourceWithinRangeList=er}},eA.prototype.getTeamAudioSourceGroup=function(){var eA=this,er=[],ei=[];return this.audioSourceList.forEach(function(eo){eo.isSpeakInTeam(eA.rangeListener.teamID)?er.push(eo):ei.push(eo)}),{teamList:er,otherList:ei}},eA.prototype.stopPlayingAudioStream=function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.audioSourceList.forEach(function(eA){eA.stopPlayingAudio("stop for all stream")})},eA.prototype.setLocalUserList=function(eA){this.localUserList=eA,this.userChanged=!0},eA.prototype.checkAudioSourceListDiff=function(eA,er){for(var ei,eo=0;eo<eA.length;eo++){ei=!1;for(var en=0;en<er.length;en++)if(eA[eo].userID===er[en].userID){ei=!0;break}if(!ei)return!0}for(var es=0;es<er.length;es++){ei=!1;for(var ea=0;ea<eA.length;ea++)if(er[es].userID===eA[ea].userID){ei=!0;break}if(!ei)return!0}return!1},eA}();er.default=es},6219:function(eA,er,ei){"use strict";var eo=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},en=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}},es=this&&this.__importDefault||function(eA){return eA&&eA.__esModule?eA:{default:eA}};Object.defineProperty(er,"__esModule",{value:!0});var ea=ei(694),eg=ei(6889),ec=es(ei(9585)),eu=function(){function eA(eA,er){var ei=this;this.raMode=ea.ZegoRangeAudioMode.World,this.recvRange=null,this.position=null,this.forwardAxis=[1,0,0],this.upAxis=[0,0,1],this.audioStream=null,this.enableMic=!1,this.isPublishing=!1,this.streamID=null,this.isDenoise=!1,this.voiceChanger=null,this.isUpdated=!0,this.zegoRTC=er,this.audioCtx=eA,this.audioListener=this.audioCtx.listener,this.eventHandler=ec.default.getInstance(),this.zegoRTC.on("publisherStateUpdate",function(eA){var er=eA.state,eo=eA.errorCode,en=eA.extendedData,es=eA.streamID.match(/(.*)_(.*)/);if(3===(null==es?void 0:es.length)){if(ei.userID!==es[1])return;"NO_PUBLISH"===er?(ei.isPublishing=!1,ei.stopPublishingStream()):(ei.isPublishing=!0,ei.isUpdated||(ei.logger.info(eg.RANGE_AUDIO+" resend stream info"),ei.updateSteamExtraInfo())),ei.eventHandler.emit("microphoneStateUpdate",{NO_PUBLISH:ea.ZegoRangeAudioMicrophoneState.Off,PUBLISH_REQUESTING:ea.ZegoRangeAudioMicrophoneState.TurningOn,PUBLISHING:ea.ZegoRangeAudioMicrophoneState.On}[er],eo,en)}})}return Object.defineProperty(eA.prototype,"recvMode",{get:function(){return void 0!==this._recvMode?this._recvMode:[ea.ZegoRangeAudioMode.World,ea.ZegoRangeAudioMode.SecretTeam].includes(this.raMode)?ea.ZegoRangeAudioListenMode.All:ea.ZegoRangeAudioListenMode.Team},set:function(eA){this._recvMode=eA},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"sendMode",{get:function(){return void 0!==this._sendMode?this._sendMode:this.raMode===ea.ZegoRangeAudioMode.World?ea.ZegoRangeAudioSpeakMode.All:ea.ZegoRangeAudioSpeakMode.Team},set:function(eA){this._sendMode=eA},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"logger",{get:function(){return this.zegoRTC.logger},enumerable:!1,configurable:!0}),eA.getInstance=function(er,ei){return eA.instance||(eA.instance=new eA(er,ei)),eA.instance},eA.prototype.updateSelfPosition=function(eA,er,ei){this.position=eA,this.forwardAxis=er,Array.isArray(ei)&&(this.upAxis=ei),this.updateListenerEffect()},eA.prototype.updateListenerEffect=function(){this.position&&(this.audioListener.positionX?(this.audioListener.positionX.value=this.position[1],this.audioListener.positionY.value=this.position[2],this.audioListener.positionZ.value=-this.position[0]):this.audioListener.setPosition(this.position[1],this.position[2],-this.position[0]),this.audioListener.forwardX?(this.audioListener.forwardX.value=this.forwardAxis[1],this.audioListener.forwardY.value=this.forwardAxis[2],this.audioListener.forwardZ.value=-this.forwardAxis[0],this.audioListener.upX.value=this.upAxis[1],this.audioListener.upY.value=this.upAxis[2],this.audioListener.upZ.value=-this.upAxis[0]):this.audioListener.setOrientation(this.forwardAxis[1],this.forwardAxis[2],-this.forwardAxis[0],this.upAxis[1],this.upAxis[2],-this.upAxis[0]))},eA.prototype.startPublishingStream=function(){var eA=this;this.enableMic?this.logger.warn(eg.RANGE_AUDIO+" mic is already enabled"):(this.enableMic=!0,this.zegoRTC.createStream({camera:{video:!1,audio:!0,audioInput:this.micID||void 0,audioBitrate:30}}).then(function(er){return eo(eA,void 0,void 0,function(){return en(this,function(eA){if(!this.userID)throw this.zegoRTC.destroyStream(er),this.enableMic=!1,Error("Enable mic failed. Please log in room first.");return this.audioStream&&this.audioStream!==er&&this.zegoRTC.destroyStream(this.audioStream),this.audioStream=er,this.isDenoise&&this.enableDenoise(this.isDenoise),null!==this.voiceChanger&&this.setVoiceChangerPreset(this.voiceChanger),this.streamID=this.userID+"_"+Date.now(),this.zegoRTC.startPublishingStream(this.streamID,er,{extraInfo:JSON.stringify(this.getExtraInfo())}),[2]})})}).catch(function(er){throw eA.audioStream=null,eA.enableMic=!1,er}))},eA.prototype.stopPublishingStream=function(){this.isPublishing&&this.streamID&&this.zegoRTC.stopPublishingStream(this.streamID),this.isPublishing=!1,this.audioStream&&(this.zegoRTC.destroyStream(this.audioStream),this.audioStream=null),this.enableMic=!1},eA.prototype.setCustomMode=function(eA,er){var ei=!1,eo=!1,en=!1;return er!==this.recvMode&&(this.recvMode=er,en=!0),eA!==this.sendMode&&(this.sendMode=eA,ei=!0,eo=!0),ei&&this.updateSteamExtraInfo(),{sendChange:eo,recvChange:en}},eA.prototype.setNormalMode=function(eA){this.raMode=eA,this.updateSteamExtraInfo()},eA.prototype.setTeamID=function(eA){this.teamID=eA,this.updateSteamExtraInfo()},eA.prototype.updateSteamExtraInfo=function(){var eA=this;this.streamID&&this.isPublishing&&(this.isUpdated=!1,this.logger.info(eg.RANGE_AUDIO+" update stream info"),this.zegoRTC.setStreamExtraInfo(this.streamID,JSON.stringify(this.getExtraInfo())).then(function(er){0===er.errorCode&&(eA.logger.info(eg.RANGE_AUDIO+" update stream info success"),eA.isUpdated=!0)}))},eA.prototype.getExtraInfo=function(){var eA={range_audio_team_id:this.teamID||"",range_audio_mode:{0:1,1:2,2:3}[this.raMode],r_a_s_flag:1};return void 0===this._sendMode&&this.raMode!==ea.ZegoRangeAudioMode.World||(eA.r_a_speak=this.sendMode),eA},eA.prototype.reset=function(){this.audioStream&&this.stopPublishingStream(),this.userID=void 0,this.streamID=null},eA.prototype.enableDenoise=function(eA){var er=this;return this.audioStream&&this.zegoRTC.enableAiDenoise(this.audioStream,eA).catch(function(eA){er.isDenoise=!1;var ei=eA||{};er.eventHandler.emit("aiDenoiseError",ei.errorCode,ei.extendedData)}),this.isDenoise=eA,!0},eA.prototype.setVoiceChangerPreset=function(eA){var er=this;return this.audioStream&&this.zegoRTC.setVoiceChangerPreset(eA,this.audioStream).catch(function(eA){er.voiceChanger=null;var ei=eA||{};er.eventHandler.emit("voiceChangerError",ei.errorCode,ei.extendedData)}),this.voiceChanger=eA,!0},eA}();er.default=eu},2747:function(eA,er,ei){"use strict";var eo,en=this&&this.__extends||(eo=function(eA,er){return(eo=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(eA,er){eA.__proto__=er}||function(eA,er){for(var ei in er)Object.prototype.hasOwnProperty.call(er,ei)&&(eA[ei]=er[ei])})(eA,er)},function(eA,er){if("function"!=typeof er&&null!==er)throw TypeError("Class extends value "+String(er)+" is not a constructor or null");function ei(){this.constructor=eA}eo(eA,er),eA.prototype=null===er?Object.create(er):(ei.prototype=er.prototype,new ei)}),es=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},ea=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}};Object.defineProperty(er,"__esModule",{value:!0}),er.RANGE_AUDIO=void 0;var eg=ei(6218),ec=ei(2423);er.RANGE_AUDIO="zc.ra.4";var eu=function(eA){function ei(ei,eo,en){var es=eA.call(this,ei,en)||this;return es.logger=ei,es.streamView=eo.streamView,es.position=eo.position||null,es.createSource(),es.userID="stream"+(new Date).getTime(),es.config={needLoopback:!1,useGain:!1,playOnAudioContext:!1,useWebAudio:!0},es.streamView.on("_trackChange",function(eA,ei){"audio"===eA&&(ei?es.createSource(!0):es.logger.error("".concat(er.RANGE_AUDIO," ").concat(es.userID," audio track lost")))}),es}return en(ei,eA),ei.prototype.createSource=function(eA){var ei=this;if(void 0===eA&&(eA=!1),(0,ec.isMobile)())return this.logger.info("".concat(er.RANGE_AUDIO," ").concat(this.userID," not create src.")),this.changeRenderConfig=function(){return es(ei,void 0,void 0,function(){return ea(this,function(eA){return[2]})})},!1;if(!this.streamView)return!1;if(this.logger.info(er.RANGE_AUDIO+" create el source. trackChanged: "+eA),!this.sourceNode||eA){var eo=this.streamView.v.getAudioElement();if(!eo||!eo.srcObject)return this.logger.error(er.RANGE_AUDIO+" create el source. trackChanged: "+eA),!1;eo.muted=!0;var en=eo.srcObject;this.sourceNode&&this.sourceNode.disconnect(),this.sourceNode=this.audioCtx.createMediaStreamSource(en),this.changeRenderConfig(this.isSpatial,!0)}return null!==this.distance&&this.distance<this.maxDistance&&this.startPlayingAudio("in range"),!0},ei.prototype.startPlayingAudio=function(eA){var ei,eo;return es(this,void 0,void 0,function(){var en;return ea(this,function(es){switch(es.label){case 0:return this.isPlaying?(this.logger.info(er.RANGE_AUDIO+" ".concat(this.userID," is already playing")),[2]):(eA&&this.logger.info(er.RANGE_AUDIO+" vocal ".concat(this.userID," play for ").concat(eA)),this.isPlaying=!0,(0,ec.isMobile)()?(this.streamView.setAudioMuted(!1),[2]):(this.audioEl=this.audioEl||eg.AudioElPool.useAudioEl()||null,this.logger.info(er.RANGE_AUDIO+" ".concat(this.userID," start using audio el ").concat(null===(ei=this.audioEl)||void 0===ei?void 0:ei.id)),(en=null===(eo=this.audioEl)||void 0===eo?void 0:eo.dom)||(this.logger.error(er.RANGE_AUDIO+" ".concat(this.userID," not enough audio elements")),en=document.createElement("audio"),this.audioEl={id:-1,dom:en,used:!0},en.setAttribute("autoplay","autoplay")),en.muted=!0,en.setAttribute("autoplay","autoplay"),en.setAttribute("id","zg-audio-source-"+this.userID),this.sourceNode?[4,this.changeRenderConfig(this.isSpatial,!0)]:[3,2]));case 1:es.sent(),es.label=2;case 2:return"suspended"===this.audioCtx.state&&this.audioCtx.resume(),[2]}})})},ei.prototype.stopPlayingAudio=function(eA){if(void 0===eA&&(eA=""),this.isPlaying&&(this.logger.info(er.RANGE_AUDIO+" vocal ".concat(this.userID," stop for ")+eA),this.isPlaying=!1),(0,ec.isMobile)())this.streamView.setAudioMuted(!0);else{this.sourceNode&&this.sourceNode.disconnect();var ei=this.audioEl,eo=null==ei?void 0:ei.dom;eo&&(eo.srcObject=null,eo.parentNode&&eo.parentNode.removeChild(eo));var en=(null==ei?void 0:ei.id)||-1;ei&&en>=0&&(eg.AudioElPool.stopUsingAudioEl(en),this.logger.info(er.RANGE_AUDIO+" ".concat(this.userID," stop using audio el ").concat(en))),this.audioEl=null}},ei.prototype.checkIfCanPlay=function(eA){var er=this.distance=this.getDistanceFromListener(eA);null===er||er>this.maxDistance||0===this.maxDistance?this.stopPlayingAudio("out of range. ".concat(er," > ").concat(this.maxDistance)):this.startPlayingAudio("in range")},ei}(ec.BaseAudioSource);er.default=eu},6609:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.createPanner=void 0,er.createPanner=function(eA,er,ei){var eo=ei||[0,0,0],en=eA.createPanner(),es=eA.createGain();return en.panningModel="HRTF",en.distanceModel="linear",en.refDistance=1,en.maxDistance=2.6*er||1,en.rolloffFactor=1,en.coneOuterGain=.4,void 0!==en.positionX?(en.positionX.value=eo[1],en.positionY.value=eo[2],en.positionZ.value=-eo[0]):en.setPosition(eo[1],eo[2],-eo[0]),{panner:en,gainNode:es}}},9304:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.RAModeType=void 0,function(eA){eA[eA.Normal=0]="Normal",eA[eA.Custom=1]="Custom"}(er.RAModeType||(er.RAModeType={}))},6664:function(eA,er){"use strict";function ei(eA){return!isNaN(Number(eA))&&""!==eA&&Number.MAX_SAFE_INTEGER>=Number(eA)&&Number(eA)>=-Number.MAX_SAFE_INTEGER}Object.defineProperty(er,"__esModule",{value:!0}),er.checkCoordinate=er.checkBoolean=er.checkNumber=void 0,er.checkNumber=ei,er.checkBoolean=function(eA){return!1},er.checkCoordinate=function(eA){if(Array.isArray(eA)){for(var er=0;er<3;er++)if(!ei(eA[er]))return!1;return!0}return!1}},2504:function(eA,er,ei){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.AdvancedModule=void 0;var eo=ei(4601),en=ei(4522),es=ei(6721),ea=function(){function eA(eA,er,ei,eo){this.logger=eA,this.dataReport=er,this.streamCenter=ei,this.stateCenter=eo,this.screenShotReady=!1}return eA.prototype.publishTarget=function(eA){var er=this,ei="";switch(eA.type){case"addpush":ei=es.ZegoRTCLogEvent.kZegoTaskAddPublishCdnUrl.event;break;case"delpush":case"clearpush":ei=es.ZegoRTCLogEvent.kZegoTaskRemovePublishCdnUrl.event}var ea=this.stateCenter.reporter.createSpan(eo.TRACER_LEVEL.H,{key:es.ZegoRTCLogEvent.kZegoTaskPublishStart.event,par:eA.streamID},{key:""},ei);return ea.setAttributes({url:es.ZegoRTCLogEvent.kZegoTaskRemovePublishCdnUrl.url(eA.pushUrl)}),new Promise(function(ei,eo){var eg=function(eA,ei){er.logger.error("zb.pt"+(ei||eA.message)),er.stateCenter.reporter.setError(ea,eA,ei),eo({errorCode:eA.code,extendedData:eA.message+(ei?" "+ei:"")})};if(-1==["addpush","delpush","clearpush"].indexOf(eA.type))return er.logger.error("zb.sh.pt cdn push type error"),void eg(en.errorCodeList.PUBLISHER_CDN_PUSH_ERROR,"type error");if(eA.streamID&&"string"==typeof eA.streamID){if(eA.pushUrl&&"string"==typeof eA.pushUrl){if(er.stateCenter.publishStreamList[eA.streamID]){var ec=er.streamCenter.getRoomByStreamID(eA.streamID);ec?ec.streamHandler._publishTarget(eA,function(eA){ea.end(),ei(eA)},eg):eg(es.ZegoRTCLogEvent.kZegoTaskPublishTarget.error.kNoLoginError)}else eg(es.ZegoRTCLogEvent.kZegoTaskPublishTarget.error.kPublishStreamNoFoundError)}else eg(es.ZegoRTCLogEvent.kZegoTaskPublishTarget.error.kParamError,"push url error")}else eg(es.ZegoRTCLogEvent.kZegoTaskPublishTarget.error.kParamError,"stream id type error")})},eA}();er.AdvancedModule=ea},4601:function(eA,er,ei){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.streamHandler=er.zegoWebRTC=er.ENUM_PUBLISH_STREAM_STATE=er.ENUM_STREAM_CMD_PRI=er.ENUM_STREAM_SUB_CMD=er.TRACER_LEVEL=er.PROTO_VERSION=void 0;var eo,en=ei(4522),es=ei(6721);er.PROTO_VERSION="2.24.5",function(eA){eA[eA.I=0]="I",eA[eA.H=10]="H",eA[eA.M=100]="M",eA[eA.L=1e3]="L"}(eo=er.TRACER_LEVEL||(er.TRACER_LEVEL={})),er.ENUM_STREAM_SUB_CMD={liveNone:0,liveBegin:2001,liveEnd:2002,liveUpdate:2003},er.ENUM_STREAM_CMD_PRI={liveBegin:"zegochat_js.room_stream_create_req",liveEnd:"zegochat_js.room_stream_delete_req",liveUpdate:"zegochat_js.room_stream_update_req"},er.ENUM_PUBLISH_STREAM_STATE={waiting_url:1,tryPublish:2,update_info:3,publishing:4,stop:5,retryPublish:6},er.zegoWebRTC={setStreamExtraInfo:function(eA,er){var ei=this;return new Promise(function(en,ea){var eg=ei.streamCenter.getRoomByStreamID(eA),ec=es.ZegoRTCLogEvent.kZegoTaskLiveRoomSendStreamExtraInfo,eu=ei.stateCenter.reporter.createSpan(eo.H,eg?{key:es.ZegoRTCLogEvent.kZMLoginRoom.event,par:null==eg?void 0:eg.roomID}:{key:es.ZegoRTCLogEvent.kZegoTaskInitSetting.event},{key:""},ec.event);eu.setAttributes({stream_id:ec.stream_id(eA),stream_extra_info:ec.stream_extra_info(er)});var el=function(eA,er){ei.logger.error("zb.ssei "+er),ei.stateCenter.reporter.setError(eu,eA,er),ea({errorCode:eA.code,extendedData:eA.message+" "+er})};"string"==typeof eA&&""!=eA?"string"==typeof er&&""!=er?ei.RTM.isDisConnect()?el(ec.error.kNoLoginError,"not login"):ei.stateCenter.publishStreamList[eA]?eg?eg.streamHandler.setStreamExtraInfo(eA,er,function(eA,er){var eo,es,eg,el;if(0===(null===(eo=null==eA?void 0:eA.body)||void 0===eo?void 0:eo.err_code)||0===(null==eA?void 0:eA.errorCode))eu.setAttributes({send_seq:ec.send_seq(er)}),eu.end(),en({errorCode:0===(null===(es=null==eA?void 0:eA.body)||void 0===es?void 0:es.err_code)?null===(eg=null==eA?void 0:eA.body)||void 0===eg?void 0:eg.err_code:null==eA?void 0:eA.errorCode});else{var ed={errorCode:(null===(el=null==eA?void 0:eA.body)||void 0===el?void 0:el.err_code)||(null==eA?void 0:eA.code)};ei.stateCenter.reporter.setError(eu,ed),ea(ed)}},el):el(ec.error.kNoLoginError,"not login"):el(ec.error.kPublishStreamNoFoundError):el(ec.error.kParamError,"extraInfo must be string and no empty"):el(ec.error.kParamError,"streamID must be string and not empty")})}},er.streamHandler={_publishTarget:function(eA,ei,eo){var ea=this;this.logger.info("zb.sh.ptcall");var eg=Math.ceil((new Date).getTime()/1e3),ec=eA.streamID;this.stateCenter.testEnvironment&&(ec="zegotest-"+this.stateCenter.appid+"-"+eA.streamID);var eu={appid:this.stateCenter.appid,biz_type:0,timestamp:eg,seq:this.stateCenter.cdnSeq++,version:1*er.PROTO_VERSION,stream_id:ec,pushurl:eA.pushUrl};if(this.logger.debug("zb.sh.pt send command"),this.stateCenter.useNetAgent)this.sendBizChannelRequestV2({server:1,location:"/liveroomcmd/push",cmd:eA.type},eu,function(er){ea.logger.info("zb.sh.pt receive message");var es=er||{},eg=es.code,ec=es.message;eg&&0!=eg?(ea.logger.error("zb.sh.pt "+eA.type+" error code: "+eg+" "+ec),eo(en.errorCodeList.UNKNOWN_SERVER_ERROR," cmd: ".concat(eA.type," ").concat(eg," ").concat(ec))):(ea.logger.info("zb.sh.pt "+eA.type+" success"),ei&&ei({errorCode:0,extendedData:""}))},function(er,ei,en,eg){var ec="";eg||(eg=es.ZegoRTCLogEvent.kZegoTaskPublishTarget.error.kUnknownServerError,200===er?(ea.logger.info("zb.sh.pt error: "+ei),eg=es.ZegoRTCLogEvent.kZegoTaskPublishTarget.error.kUnknownServerError,2001==ei?eg=es.ZegoRTCLogEvent.kZegoTaskPublishTarget.error.kInvalidChannelError:2002==ei&&(eg=es.ZegoRTCLogEvent.kZegoTaskPublishTarget.error.kBizChannelError),ec="cmd: ".concat(eA.type,", biz_code: ").concat(ei)):ec="request media server fail, error: "+er,ea.logger.error("zb.sh.pt "+ec)),eo&&eo(eg,ec)});else{var el={channel:"media",cmd:eA.type,req_body:JSON.stringify(eu)};this.sendBizChannelRequest(el,function(er,eg,ec){if(ea.logger.info("zb.sh.pt receive message"),0!=ec.length){var eu=JSON.parse(ec),el=eu.code,ed=eu.message;el&&0!=el?(ea.logger.error("zb.sh.pt "+eA.type+" error code: "+el+" "+ed),eo(en.errorCodeList.UNKNOWN_SERVER_ERROR," cmd: ".concat(eA.type," ").concat(el," ").concat(ed))):(ea.logger.info("zb.sh.pt "+eA.type+" success"),ei&&ei({errorCode:0,extendedData:""}))}else eo(es.ZegoRTCLogEvent.kZegoTaskPublishTarget.error.kNoResponseError)},function(er,ei,en){ea.logger.info("zb.sh.pt error: "+er);var eg=es.ZegoRTCLogEvent.kZegoTaskPublishTarget.error.kUnknownServerError;2001==er?eg=es.ZegoRTCLogEvent.kZegoTaskPublishTarget.error.kInvalidChannelError:2002==er&&(eg=es.ZegoRTCLogEvent.kZegoTaskPublishTarget.error.kBizChannelError),ea.logger.error("zb.sh.pt "),eo(eg," cmd: ".concat(eA.type," ").concat(er," ").concat("","  "))})}},updateStreamExtraInfo:function(eA,ei,eo,en){this.logger.info("zb.sh.usei call");var es=er.ENUM_STREAM_SUB_CMD.liveUpdate;this.stateCenter.publishStreamList[eA]&&this.stateCenter.publishStreamList[eA].state>=er.ENUM_PUBLISH_STREAM_STATE.update_info?(this.stateCenter.publishStreamList[eA].extra_info=ei,this.updateStreamInfo(eA,es,ei,eo,en)):this.stateCenter.publishStreamList[eA]&&this.stateCenter.publishStreamList[eA].state===er.ENUM_PUBLISH_STREAM_STATE.tryPublish?(this.stateCenter.publishStreamList[eA].extra_info=ei,eo({errorCode:0})):en(streamExtraInfoKey.error.kUpdateStreamInfoFailError)},setStreamExtraInfo:function(eA,er,ei,eo){this.updateStreamExtraInfo(eA,er,ei,eo)}}},4522:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.errorCodeList=void 0,er.errorCodeList={NOT_LOGIN:{code:1000002,message:"not login room"},INPUT_PARAM:{code:1100001,message:"input param error."},PUBLISH_NOT_PUBLISH:{code:1103040,message:"publisher not found"},PUBLISH_NO_PREVIEW:{code:1103044,message:"stream is not from zego"},TRACK_NOT_FOUND:{code:1103047,message:"track is not found"},DEVICE_NOT_FOUND:{code:1103048,message:"device is not found"},PUBLISHER_CONSTRAINTS_ERROR:{code:1103029,message:"constraint error"},PUBLISHER_CDN_PUSH_ERROR:{code:1103052,message:"publisher cdn push error"},VIDEO_DEVICE_FALSE:{code:1103045,message:"video is false"},AUDIO_DEVICE_FALSE:{code:1103046,message:"audio is false"},UNKNOWN_SERVER_ERROR:{code:1100999,message:"unknown server error"},LOCALSTREAM_WRONG:{code:1000018,message:"local stream wrong"},PUBLISHER_STREAM_NO_FOUND:{code:1103055,message:"publish stream no found"},PUBLISH_TARGET_NO_RESPONSE:{code:1103063,message:"publish target no response"},BIZ_CHANNEL_ERROR:{code:1102021,message:"biz channel error."},INVALID_CHANNEL:{code:1102024,message:"invalid channel"},PUBLISHER_EXTRA_INFO_NULL:{code:1003050,message:"extra info of publishing stream is null"},PUBLISHER_UPDATE_STREAM_INFO_FAIL:{code:1103062,message:"update stream info fail"},TRACK_CAN_NOT_ADD:{code:1103063,message:"only stream which have one track and kind no exist can add track"},TRACK_CAN_NOT_REMOVE:{code:1103064,message:"stream which only has one track can not remove "},PUBLISHER_UPDATE_SDP_FAIL:{code:1103068,message:"update sdp fail"},PUBLISHER_STATE_WRONG:{code:1103069,message:"publisher state wrong"},HANDLE_TRACK_NOT_SUPPORTED:{code:1103070,message:"not support remove track"},VIDEO_EFFECT_IS_RUNNING:{code:1103071,message:"video effect processor is running"}}},563:function(eA,er,ei){"use strict";Object.defineProperty(er,"__esModule",{value:!0});var eo=ei(2504),en=ei(4601);er.default={type:"StreamCommon",install:function(eA,er,ei){for(var es in Object.defineProperty(er.prototype,"initStreamCommon",{value:function(){this.streamCommonModule=new eo.AdvancedModule(this.logger,this.dataReport,this.streamCenter,this.stateCenter)},writable:!1}),en.zegoWebRTC)Object.defineProperty(eA.prototype,es,{value:en.zegoWebRTC[es],writable:!1});for(var es in en.streamHandler)Object.defineProperty(ei.prototype,es,{value:en.streamHandler[es],writable:!1})}}},6721:function(eA,er,ei){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.ZegoRTCLogEvent=void 0;var eo=ei(4522),en=ei(9268);er.ZegoRTCLogEvent={kZegoTaskInitSetting:{event:"/sdk/init"},kZMLoginRoom:{event:"/sdk/login"},kZegoTaskPublishStart:{event:"/sdk/start_publish"},kZegoTaskPublishTarget:{event:"/sdk/publish_target",error:{kParamError:eo.errorCodeList.INPUT_PARAM,kPublishStreamNoFoundError:eo.errorCodeList.PUBLISHER_STREAM_NO_FOUND,kNoLoginError:eo.errorCodeList.NOT_LOGIN,kNoResponseError:eo.errorCodeList.PUBLISH_TARGET_NO_RESPONSE,kBizChannelError:eo.errorCodeList.BIZ_CHANNEL_ERROR,kInvalidChannelError:eo.errorCodeList.INVALID_CHANNEL,kUnknownServerError:eo.errorCodeList.UNKNOWN_SERVER_ERROR}},kZegoTaskAddPublishCdnUrl:{event:"/mss/pushadd",error:{kParamError:eo.errorCodeList.INPUT_PARAM},stream_id:en.getItemString,url:en.getItemString},kZegoTaskRemovePublishCdnUrl:{event:"/mss/pushdel",error:{kParamError:eo.errorCodeList.INPUT_PARAM},stream_id:en.getItemString,url:en.getItemString},kZegoTaskClearPublishCdnUrl:{event:"/sdk/clear_publish_cdn_url",error:{kParamError:eo.errorCodeList.INPUT_PARAM}},kZegoTaskLiveRoomSendStreamExtraInfo:{event:"/liveroom/send_stream_extra_info",error:{kParamError:eo.errorCodeList.INPUT_PARAM,kExtraInfoNullError:eo.errorCodeList.PUBLISHER_EXTRA_INFO_NULL,kNoLoginError:eo.errorCodeList.NOT_LOGIN,kPublishStreamNoFoundError:eo.errorCodeList.PUBLISHER_STREAM_NO_FOUND,kUpdateStreamInfoFailError:eo.errorCodeList.PUBLISHER_UPDATE_STREAM_INFO_FAIL},stream_id:en.getItemString,stream_extra_info:en.getItemString,room_sid_string:en.getItemString,room_id:en.getItemString,send_seq:en.getItemNumber}}},4802:function(eA,er,ei){"use strict";var eo=this&&this.__assign||function(){return(eo=Object.assign||function(eA){for(var er,ei=1,eo=arguments.length;ei<eo;ei++)for(var en in er=arguments[ei])Object.prototype.hasOwnProperty.call(er,en)&&(eA[en]=er[en]);return eA}).apply(this,arguments)},en=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},es=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}},ea=this&&this.__importDefault||function(eA){return eA&&eA.__esModule?eA:{default:eA}};Object.defineProperty(er,"__esModule",{value:!0}),er.preview=er.zegoWebRTC=void 0;var eg=ea(ei(2742)),ec="zc.p.0.sbe.0",eu=ei(8933);er.zegoWebRTC={setBeautyEffect:function(eA,er,ei,en){var es=this;return void 0===en&&(en=!0),new Promise(function(ea,eg){if(!(eA instanceof MediaStream))return es.logger.error(ec+" localStream not found"),void eg({errorCode:1100001,extendedData:" localStream no found"});var el,ed,eE=function(eA){ea(eA)},eI=es.streamCenter.checkPreview(eA);if(!eI)return es.logger.error("zc.sbe.0 preview no found"),void eE({errorCode:eu.errorCodeList.PUBLISH_NO_PREVIEW.code,extendedData:eu.errorCodeList.PUBLISH_NO_PREVIEW.message});var eC=(null===(el=eI.videoEffect)||void 0===el?void 0:el.stateFlag)||{base:!1,lowLight:!1};if(en)(er=!!er)||!eC.lowLight?er&&(ei=eo({lowlightEnhancement:eC.lowLight?1:0},ei)):ei={sharpenIntensity:0,whitenIntensity:0,rosyIntensity:0,smoothIntensity:0,lowlightEnhancement:eC.lowLight?1:0},eC.base=er;else{var eh=ei.lowlightEnhancement;ei=(null===(ed=eI.videoEffect)||void 0===ed?void 0:ed.enabled)||1!==eh?{lowlightEnhancement:eh}:{sharpenIntensity:0,whitenIntensity:0,rosyIntensity:0,smoothIntensity:0,lowlightEnhancement:eh},eC.lowLight=1===eh}eI.setBeautyEffect(eC.base||eC.lowLight,ei,eC).then(function(){eE({errorCode:0,extendedData:""})}).catch(function(eA){eg({errorCode:eA.errorCode||-1,extendedData:eA.extendedData||eA.toString()})})})},setLowlightEnhance:function(eA,er){return this.setBeautyEffect(eA,!0,{lowlightEnhancement:er},!1)}},er.preview={setBeautyEffect:function(eA,er,ei){return en(this,void 0,void 0,function(){var eo,en=this;return es(this,function(es){switch(es.label){case 0:if(!this.videoTrack)return this.logger.error(ec+" video track no found"),[2];if(!("undefined"!=typeof WebGLRenderingContext))throw{errorCode:(eo=eu.errorCodeList.VIDEO_EFFECT_NOT_SUPPORT).code,extendedData:eo.message};return eg.default?this.videoEffect&&this.videoNodeQueue.isConnected(this.videoEffect)?this.videoTrack===this.videoNodeQueue.getSourceTrack()?[3,2]:[4,this.videoNodeQueue.replaceNewSourceByTrack(this.videoTrack)]:[3,4]:[3,7];case 1:es.sent(),es.label=2;case 2:return[4,this.videoEffect.setBeautyEffectOptions(eA,er)];case 3:return es.sent(),this.videoEffect.stateFlag=ei,[3,6];case 4:return this.videoEffect=new eg.default(this.logger,this.videoTrack),this.videoEffect.onError=function(eA,er){en.stateCenter.actionListener("beautyEffectError",en.localStream,eA.errorCode,eA.extendedData,er)},this.videoNodeQueue.pushBack(this.videoEffect),[4,this.videoEffect.setBeautyEffectOptions(eA,er)];case 5:es.sent(),this.videoEffect.stateFlag=ei,es.label=6;case 6:return[3,8];case 7:this.logger.error(ec+" beauty effect module no found"),es.label=8;case 8:return[2]}})})}}},3802:function(eA,er,ei){"use strict";var eo=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},en=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}},es=this&&this.__importDefault||function(eA){return eA&&eA.__esModule?eA:{default:eA}};Object.defineProperty(er,"__esModule",{value:!0}),er.PUBLISH_SET_BEAUTY_EFFECT=void 0;var ea=es(ei(7651)),eg=es(ei(2306)),ec=es(ei(4123)),eu=es(ei(5647));er.PUBLISH_SET_BEAUTY_EFFECT="zc.p.0.sbe.2";var el=ei(8933).errorCodeList.VIDEO_EFFECT_NOT_SUPPORT,ed={errorCode:el.code,extendedData:el.message},eE=function(){function eA(eA){this.logger=eA,this.gl=null,this.effectConfig={sharpenIntensity:.5,whitenIntensity:.5,rosyIntensity:.5,smoothIntensity:.5,lowlightEnhancement:0},this.originResolution={width:0,height:0},this.shaderList=[],this.frameBufferList=[],this.outputTextureList=[],this.inputTexture=null,this.failedTimes=0,this.onRenderError=function(eA){},this.enableBeauty=!1}return eA.prototype.setEnableBeauty=function(eA){this.enableBeauty=!!eA},eA.prototype.handleInitError=function(){this.failedTimes++,this.failedTimes>30&&(this.failedTimes=0,this.logger.error(er.PUBLISH_SET_BEAUTY_EFFECT+" get webgl context failed"),this.onRenderError(ed))},eA.prototype.init=function(eA,ei,es){return eo(this,void 0,void 0,function(){var eo,el,eE,eI;return en(this,function(en){switch(en.label){case 0:return void 0!==window.WebGLRenderingContext?(this.canvasEl=es,this.gl=es.getContext("webgl"),this.gl?(this.initGL(eA,ei),this.inputTexture?[4,(eo=new ec.default(this.gl,eA,ei)).setConstUniforms()]:(this.logger.error(er.PUBLISH_SET_BEAUTY_EFFECT+" input texture not found"),this.handleInitError(),[2])):(this.handleInitError(),[2])):(this.logger.error(er.PUBLISH_SET_BEAUTY_EFFECT+" not support webgl!"),this.onRenderError(ed),[2]);case 1:return en.sent(),(el=new ea.default(this.gl,eA,ei)).setConstUniforms(),(eE=new eg.default(this.gl,eA,ei)).setConstUniforms(),(eI=new eu.default(this.gl,eA,ei)).setConstUniforms(),this.shaderList=[eo,el,eE,eI],this.setEffectConfig(this.effectConfig),[2]}})})},eA.prototype.render=function(eA){return eo(this,void 0,void 0,function(){var ei,eo,es,ea,eg=this;return en(this,function(en){switch(en.label){case 0:return(ei=this.gl)&&this.canvasEl&&!ei.isContextLost()?[3,4]:this.canvasEl?(this.logger.warn(er.PUBLISH_SET_BEAUTY_EFFECT+" gl lost, restart effect"),this.release(),[4,this.init(eA.videoWidth,eA.videoHeight,this.canvasEl)]):[3,2];case 1:return en.sent(),[3,3];case 2:this.logger.error(er.PUBLISH_SET_BEAUTY_EFFECT+" canvas lost"),this.onRenderError(ed),en.label=3;case 3:return[2];case 4:return(this.originResolution.height!==eA.videoHeight||this.originResolution.width!==eA.videoWidth)&&(Math.abs(this.originResolution.height-eA.videoHeight)>2||Math.abs(this.originResolution.width-eA.videoWidth)>2)?0===eA.videoHeight||0===eA.videoWidth?[2]:(this.canvasEl.width=eA.videoWidth,this.canvasEl.height=eA.videoHeight,eA.setAttribute("width",eA.videoWidth.toString()),eA.setAttribute("height",eA.videoHeight.toString()),!this.gl||this.gl.isContextLost()?[3,5]:(this.logger.info(er.PUBLISH_SET_BEAUTY_EFFECT+" resolution changed to ".concat(eA.videoWidth,"x").concat(eA.videoHeight,", reset resolution.")),this.resetResolution(eA.videoWidth,eA.videoHeight),this.shaderList.forEach(function(er){er.resetResolution(eA.videoWidth,eA.videoHeight)}),[3,7])):[3,7];case 5:return this.logger.warn(er.PUBLISH_SET_BEAUTY_EFFECT+" resolution changed and gl context lost, restart effect"),this.release(),[4,this.init(eA.videoWidth,eA.videoHeight,this.canvasEl)];case 6:en.sent(),en.label=7;case 7:return eo=[-1,-1,0,1,-1,0,1,1,0,-1,1,0],es=[0,1,2,0,2,3],ea=[0,0,1,0,1,1,0,1],ei.viewport(0,0,eA.width,eA.height),ei.activeTexture(ei.TEXTURE0),ei.bindTexture(ei.TEXTURE_2D,this.inputTexture),ei.texImage2D(ei.TEXTURE_2D,0,ei.RGBA,ei.RGBA,ei.UNSIGNED_BYTE,eA),this.shaderList.forEach(function(eA,er){var en=eA.program;if(en){eA.renderPreTextures&&eA.renderPreTextures(eo,es,ea),ei.useProgram(en),eA.render();var ec=ei.getUniformLocation(en,"uTexture"),eu=ei.createBuffer();ei.bindBuffer(ei.ARRAY_BUFFER,eu),ei.bufferData(ei.ARRAY_BUFFER,new Float32Array(eo),ei.STATIC_DRAW);var el=ei.createBuffer();ei.bindBuffer(ei.ELEMENT_ARRAY_BUFFER,el),ei.bufferData(ei.ELEMENT_ARRAY_BUFFER,new Uint16Array(es),ei.STATIC_DRAW);var ed=ei.getAttribLocation(en,"aPosition");ei.enableVertexAttribArray(ed),ei.vertexAttribPointer(ed,3,ei.FLOAT,!1,0,0);var eE=ei.createBuffer();ei.bindBuffer(ei.ARRAY_BUFFER,eE),ei.bufferData(ei.ARRAY_BUFFER,new Float32Array(ea),ei.STATIC_DRAW);var eI=ei.getAttribLocation(en,"aTexCoordinate");ei.enableVertexAttribArray(eI),ei.vertexAttribPointer(eI,2,ei.FLOAT,!1,0,0);var eC=er===eg.shaderList.length-1?null:eg.outputTextureList[er];ei.bindFramebuffer(ei.FRAMEBUFFER,er===eg.shaderList.length-1?null:eg.frameBufferList[er]),ei.clearColor(0,0,0,1),ei.clear(ei.COLOR_BUFFER_BIT),ei.drawElements(ei.TRIANGLES,6,ei.UNSIGNED_SHORT,0),ei.activeTexture(ei.TEXTURE0),eC&&ei.bindTexture(ei.TEXTURE_2D,eC),ei.uniform1i(ec,0)}}),[2]}})})},eA.prototype.setEffectConfig=function(eA){var er=this;isNaN(eA.sharpenIntensity)||(this.effectConfig.sharpenIntensity=eA.sharpenIntensity),isNaN(eA.whitenIntensity)||(this.effectConfig.whitenIntensity=eA.whitenIntensity),isNaN(eA.rosyIntensity)||(this.effectConfig.rosyIntensity=eA.rosyIntensity),isNaN(eA.smoothIntensity)||(this.effectConfig.smoothIntensity=eA.smoothIntensity),isNaN(eA.lowlightEnhancement)||(this.effectConfig.lowlightEnhancement=eA.lowlightEnhancement),this.shaderList.forEach(function(eA){eA.setEffectConfig(er.effectConfig)})},eA.prototype.release=function(){var eA,er=this;this.shaderList.forEach(function(eA){var ei;eA.program&&(null===(ei=er.gl)||void 0===ei||ei.deleteProgram(eA.program))}),this.outputTextureList.forEach(function(eA){var ei;eA&&(null===(ei=er.gl)||void 0===ei||ei.deleteTexture(eA))}),this.frameBufferList.forEach(function(eA){var ei;eA&&(null===(ei=er.gl)||void 0===ei||ei.deleteFramebuffer(eA))}),this.inputTexture&&(null===(eA=this.gl)||void 0===eA||eA.deleteTexture(this.inputTexture)),this.inputTexture=this.gl=null,this.shaderList.forEach(function(eA){eA.release()}),this.shaderList=[],this.outputTextureList=[],this.frameBufferList=[]},eA.prototype.initGL=function(eA,ei){var eo=this.gl;if(!eo)return this.logger.error(er.PUBLISH_SET_BEAUTY_EFFECT+" webgl context not found");this.inputTexture=eo.createTexture(),eo.bindTexture(eo.TEXTURE_2D,this.inputTexture),eo.texParameteri(eo.TEXTURE_2D,eo.TEXTURE_WRAP_S,eo.CLAMP_TO_EDGE),eo.texParameteri(eo.TEXTURE_2D,eo.TEXTURE_WRAP_T,eo.CLAMP_TO_EDGE),eo.texParameteri(eo.TEXTURE_2D,eo.TEXTURE_MIN_FILTER,eo.LINEAR),eo.texParameteri(eo.TEXTURE_2D,eo.TEXTURE_MAG_FILTER,eo.LINEAR);for(var en=0;4>en;en++){var es=eo.createTexture();if(!es)return this.logger.warn(er.PUBLISH_SET_BEAUTY_EFFECT+" create texture failed");eo.bindTexture(eo.TEXTURE_2D,es),eo.texParameteri(eo.TEXTURE_2D,eo.TEXTURE_WRAP_S,eo.CLAMP_TO_EDGE),eo.texParameteri(eo.TEXTURE_2D,eo.TEXTURE_WRAP_T,eo.CLAMP_TO_EDGE),eo.texParameteri(eo.TEXTURE_2D,eo.TEXTURE_MIN_FILTER,eo.LINEAR),eo.texImage2D(eo.TEXTURE_2D,0,eo.RGBA,eA,ei,0,eo.RGBA,eo.UNSIGNED_BYTE,null);var ea=eo.createFramebuffer();if(!ea)return this.logger.warn(er.PUBLISH_SET_BEAUTY_EFFECT+" create frame buffer failed");eo.bindFramebuffer(eo.FRAMEBUFFER,ea),eo.framebufferTexture2D(eo.FRAMEBUFFER,eo.COLOR_ATTACHMENT0,eo.TEXTURE_2D,es,0),this.outputTextureList.push(es),this.frameBufferList.push(ea)}eo.viewport(0,0,eA,ei),this.originResolution.width=eA,this.originResolution.height=ei},eA.prototype.resetResolution=function(eA,ei){var eo=this.gl;if(!eo)return this.logger.warn(er.PUBLISH_SET_BEAUTY_EFFECT+" can not find webgl context");for(var en=0;en<this.outputTextureList.length;en++)eo.bindTexture(eo.TEXTURE_2D,this.outputTextureList[en]),eo.texImage2D(eo.TEXTURE_2D,0,eo.RGBA,eA,ei,0,eo.RGBA,eo.UNSIGNED_BYTE,null);eo.viewport(0,0,eA,ei),this.originResolution.width=eA,this.originResolution.height=ei},eA}();er.default=eE},8933:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.errorCodeList=void 0,er.errorCodeList={VIDEO_EFFECT_NOT_SUPPORT:{code:1103072,message:"not support beauty effect"},VIDEO_TRACK_NOT_READABLE:{code:1103074,message:"video track is not readable"},VIDEO_TRACK_OVERLOAD:{code:1103075,message:"beauty effect overload"},PUBLISH_NO_PREVIEW:{code:1103044,message:"stream is not from zego"}}},9045:function(eA,er,ei){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.BeautyEffect=void 0;var eo=ei(4802);er.BeautyEffect={type:"BeautyEffect",install:function(eA,er){for(var ei in eo.preview)Object.defineProperty(er.prototype,ei,{value:eo.preview[ei],writable:!1});for(var ei in eo.zegoWebRTC)Object.defineProperty(eA.prototype,ei,{value:eo.zegoWebRTC[ei],writable:!1})}}},7415:function(eA,er){"use strict";var ei=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},eo=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}};Object.defineProperty(er,"__esModule",{value:!0});var en="zc.p.0.sbe.3",es=function(){function eA(eA){this.logger=eA,this.recordedFrameCount=0,this.targetFrameRate=0,this.recordingDuration=0}return eA.prototype.startRecordBeautyEffectOutput=function(eA){return ei(this,void 0,void 0,function(){var er,ei,es,ea=this;return eo(this,function(eo){switch(eo.label){case 0:return er=6,this.recordID?(this.logger.warn(en+" detector is already recording"),[2,{result:!0}]):(ei=(new Date).getTime(),this.recordID=ei,this.targetFrameRate=eA,this.recordedFrameCount=0,this.recordingDuration=er,[4,new Promise(function(eA){window.setTimeout(eA,1e3*ea.recordingDuration)})]);case 1:return eo.sent(),this.recordID!==ei?(this.recordID=void 0,[2,{result:!0}]):(this.recordID=void 0,es=this.recordedFrameCount/er,this.recordedFrameCount<this.targetFrameRate*this.recordingDuration/2?(this.logger.warn(en+" detect effect overload: current fps: "+es),[2,{result:!1,targetFPS:this.targetFrameRate,currentFPS:es}]):(this.logger.info(en+" detect effect current fps: "+es),[2,{result:!0}]))}})})},eA.prototype.stopRecordBeautyEffectOutput=function(){this.recordedFrameCount=this.targetFrameRate=0,this.recordID=void 0},eA.prototype.addFrame=function(){this.recordID&&(this.recordedFrameCount+=1)},eA}();er.default=es},289:function(eA,er){"use strict";function ei(eA){for(var er=eA,ei="",eo=0;eo<er.length;eo++){var en=er.charCodeAt(eo),es=en;en>=65&&en<=90&&(es=(en-65-13+26)%26+65),en>=97&&en<=122&&(es=(en-97-13+26)%26+97),ei+=String.fromCharCode(es)}return ei}Object.defineProperty(er,"__esModule",{value:!0});var eo=function(){function eA(eA,er,ei){this.gl=eA,this.width=er,this.height=ei,this.type="baseShader",this.program=null,this.program=null}return eA.prototype.setEffectConfig=function(eA){},eA.prototype.setConstUniforms=function(){},eA.prototype.resetResolution=function(eA,er){this.width=eA||this.width,this.height=er||this.height},eA.prototype.render=function(){},eA.prototype.renderPreTextures=function(eA,er,ei){},eA.prototype.makeProgram=function(eA,er){var eo=this.gl,en=ei(eA),es=ei(er),ea=this.makeShader(en,eo.VERTEX_SHADER),eg=this.makeShader(es,eo.FRAGMENT_SHADER),ec=eo.createProgram();return eo.attachShader(ec,ea),eo.attachShader(ec,eg),eo.linkProgram(ec),eo.getProgramParameter(ec,eo.LINK_STATUS),ec},eA.prototype.release=function(){},eA.prototype.makeShader=function(eA,er){var ei=this.gl,eo=ei.createShader(er);return ei.shaderSource(eo,eA),ei.compileShader(eo),ei.getShaderParameter(eo,ei.COMPILE_STATUS),eo},eA}();er.default=eo},7651:function(eA,er,ei){"use strict";var eo,en=this&&this.__extends||(eo=function(eA,er){return(eo=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(eA,er){eA.__proto__=er}||function(eA,er){for(var ei in er)Object.prototype.hasOwnProperty.call(er,ei)&&(eA[ei]=er[ei])})(eA,er)},function(eA,er){if("function"!=typeof er&&null!==er)throw TypeError("Class extends value "+String(er)+" is not a constructor or null");function ei(){this.constructor=eA}eo(eA,er),eA.prototype=null===er?Object.create(er):(ei.prototype=er.prototype,new ei)}),es=this&&this.__importDefault||function(eA){return eA&&eA.__esModule?eA:{default:eA}};Object.defineProperty(er,"__esModule",{value:!0});var ea=es(ei(289)),eg=ei(8451),ec=function(eA){function er(er,ei,eo){var en=eA.call(this,er,ei,eo)||this;return en.width=ei,en.height=eo,en.type="BlurShader",en.blurXProgram=null,en.blurYProgram=null,en.diffProgram=null,en.uIntensity=null,en.smoothIntensity=.5,en.blurTextureList=[],en.blurBufferList=[],en.blurXProgram=en.makeProgram(eg.borderBlurVS,eg.borderBlurFS),en.setBorderBlurProgram(en.blurXProgram,1/(ei||1),0),en.blurYProgram=en.makeProgram(eg.borderBlurVS,eg.borderBlurFS),en.setBorderBlurProgram(en.blurYProgram,0,1/(eo||1)),en.diffProgram=en.makeProgram(eg.diffBlurVS,eg.diffBlurFS),en.setDiffBlurProgram(en.diffProgram),en.program=en.makeProgram(eg.mixBlurVS,eg.mixBlurFS),en.initBlurBuffer(),en}return en(er,eA),er.prototype.setEffectConfig=function(eA){isNaN(eA.smoothIntensity)||(this.smoothIntensity=eA.smoothIntensity/100)},er.prototype.render=function(){this.gl.uniform1f(this.uIntensity,this.smoothIntensity)},er.prototype.initBlurBuffer=function(){var eA=this,er=this.gl;this.blurTextureList.forEach(function(er){var ei;er&&(null===(ei=eA.gl)||void 0===ei||ei.deleteTexture(er))}),this.blurBufferList.forEach(function(er){var ei;er&&(null===(ei=eA.gl)||void 0===ei||ei.deleteFramebuffer(er))}),this.blurTextureList=[],this.blurBufferList=[];for(var ei=0;ei<3;ei++){var eo=er.createTexture();if(!eo)return;er.bindTexture(er.TEXTURE_2D,eo),er.texParameteri(er.TEXTURE_2D,er.TEXTURE_WRAP_S,er.CLAMP_TO_EDGE),er.texParameteri(er.TEXTURE_2D,er.TEXTURE_WRAP_T,er.CLAMP_TO_EDGE),er.texParameteri(er.TEXTURE_2D,er.TEXTURE_MIN_FILTER,er.LINEAR),er.pixelStorei(er.UNPACK_FLIP_Y_WEBGL,!0),er.texImage2D(er.TEXTURE_2D,0,er.RGBA,this.width,this.height,0,er.RGBA,er.UNSIGNED_BYTE,null);var en=er.createFramebuffer();if(!en)return;er.bindFramebuffer(er.FRAMEBUFFER,en),er.framebufferTexture2D(er.FRAMEBUFFER,er.COLOR_ATTACHMENT0,er.TEXTURE_2D,eo,0),this.blurTextureList.push(eo),this.blurBufferList.push(en)}},er.prototype.renderPreTextures=function(eA,er,ei){var eo=this,en=this.gl,es=[0,1,0],ea=[1,1,2];[this.blurXProgram,this.blurYProgram,this.diffProgram].forEach(function(eg,ec){if(eg){en.useProgram(eg);var eu=en.getUniformLocation(eg,"uTexture");en.uniform1i(eu,es[ec]);var el=en.createBuffer();en.bindBuffer(en.ARRAY_BUFFER,el),en.bufferData(en.ARRAY_BUFFER,new Float32Array(eA),en.STATIC_DRAW);var ed=en.createBuffer();en.bindBuffer(en.ELEMENT_ARRAY_BUFFER,ed),en.bufferData(en.ELEMENT_ARRAY_BUFFER,new Uint16Array(er),en.STATIC_DRAW);var eE=en.getAttribLocation(eg,"aPosition");en.enableVertexAttribArray(eE),en.vertexAttribPointer(eE,3,en.FLOAT,!1,0,0);var eI=en.createBuffer();en.bindBuffer(en.ARRAY_BUFFER,eI),en.bufferData(en.ARRAY_BUFFER,new Float32Array(ei),en.STATIC_DRAW);var eC=en.getAttribLocation(eg,"aTexCoordinate");en.enableVertexAttribArray(eC),en.vertexAttribPointer(eC,2,en.FLOAT,!1,0,0),en.bindFramebuffer(en.FRAMEBUFFER,eo.blurBufferList[ec]),en.clearColor(0,0,0,1),en.clear(en.COLOR_BUFFER_BIT),en.drawElements(en.TRIANGLES,6,en.UNSIGNED_SHORT,0),en.activeTexture(en.TEXTURE0+ea[ec]),en.bindTexture(en.TEXTURE_2D,eo.blurTextureList[ec])}})},er.prototype.setConstUniforms=function(){var eA=this.width,er=this.height,ei=this.program;if(ei){var eo=this.gl;eo.useProgram(ei);var en=eo.getUniformLocation(ei,"widthOffset");eo.uniform1f(en,1/eA);var es=eo.getUniformLocation(ei,"heightOffset");eo.uniform1f(es,1/er),this.uIntensity=eo.getUniformLocation(ei,"blurAlpha"),eo.uniform1f(this.uIntensity,this.smoothIntensity);var ea=eo.getUniformLocation(ei,"blurTexture");eo.uniform1i(ea,1);var eg=eo.getUniformLocation(ei,"blurDiffTexture");eo.uniform1i(eg,2)}},er.prototype.resetResolution=function(eA,er){this.width=eA||this.width,this.height=er||this.height},er.prototype.setBorderBlurProgram=function(eA,er,ei){var eo=this.gl;eo.useProgram(eA);var en=eo.getUniformLocation(eA,"texBlurWidthOffset");eo.uniform1f(en,er);var es=eo.getUniformLocation(eA,"texBlurHeightOffset");eo.uniform1f(es,ei)},er.prototype.setDiffBlurProgram=function(eA){var er=this.gl;er.useProgram(eA);var ei=er.getUniformLocation(eA,"blurTexture");er.uniform1i(ei,1)},er}(ea.default);er.default=ec},6736:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.lightLut=void 0,er.lightLut="\ndata:image/png;base64,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"},2306:function(eA,er,ei){"use strict";var eo,en=this&&this.__extends||(eo=function(eA,er){return(eo=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(eA,er){eA.__proto__=er}||function(eA,er){for(var ei in er)Object.prototype.hasOwnProperty.call(er,ei)&&(eA[ei]=er[ei])})(eA,er)},function(eA,er){if("function"!=typeof er&&null!==er)throw TypeError("Class extends value "+String(er)+" is not a constructor or null");function ei(){this.constructor=eA}eo(eA,er),eA.prototype=null===er?Object.create(er):(ei.prototype=er.prototype,new ei)}),es=this&&this.__importDefault||function(eA){return eA&&eA.__esModule?eA:{default:eA}};Object.defineProperty(er,"__esModule",{value:!0});var ea=es(ei(289)),eg=ei(8451),ec=function(eA){function er(er,ei,eo){var en=eA.call(this,er,ei,eo)||this;return en.width=ei,en.height=eo,en.type="LightShader",en.uLightIntensity=null,en.uRedIntensity=null,en.whitenIntensity=.5,en.rosyIntensity=.5,en.program=en.makeProgram(eg.lightVS,eg.lightFS),en}return en(er,eA),er.prototype.setEffectConfig=function(eA){isNaN(eA.whitenIntensity)||(this.whitenIntensity=eA.whitenIntensity/100),isNaN(eA.rosyIntensity)||(this.rosyIntensity=eA.rosyIntensity/100)},er.prototype.render=function(){var eA=this.gl;eA.uniform1f(this.uLightIntensity,this.whitenIntensity),eA.uniform1f(this.uRedIntensity,this.rosyIntensity)},er.prototype.setConstUniforms=function(){var eA=this.program;if(eA){var er=this.gl;er.useProgram(eA),this.uLightIntensity=er.getUniformLocation(eA,"intensity"),er.uniform1f(this.uLightIntensity,this.whitenIntensity),this.uRedIntensity=er.getUniformLocation(eA,"rosyIntensity"),er.uniform1f(this.uRedIntensity,this.rosyIntensity);var ei=er.getUniformLocation(eA,"uPMVMatrix");er.uniformMatrix4fv(ei,!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}},er}(ea.default);er.default=ec},4123:function(eA,er,ei){"use strict";var eo,en=this&&this.__extends||(eo=function(eA,er){return(eo=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(eA,er){eA.__proto__=er}||function(eA,er){for(var ei in er)Object.prototype.hasOwnProperty.call(er,ei)&&(eA[ei]=er[ei])})(eA,er)},function(eA,er){if("function"!=typeof er&&null!==er)throw TypeError("Class extends value "+String(er)+" is not a constructor or null");function ei(){this.constructor=eA}eo(eA,er),eA.prototype=null===er?Object.create(er):(ei.prototype=er.prototype,new ei)}),es=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},ea=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}},eg=this&&this.__importDefault||function(eA){return eA&&eA.__esModule?eA:{default:eA}};Object.defineProperty(er,"__esModule",{value:!0});var ec=eg(ei(289)),eu=ei(8451),el=ei(6736),ed=function(eA){function er(er,ei,eo){var en=eA.call(this,er,ei,eo)||this;return en.width=ei,en.height=eo,en.type="LowLightShader",en.uIntensity=null,en.lowlightEnhancement=!1,en.lutTex=null,en.lutImg=null,en.lutTexIdx=10,en.uLutTex=null,en.program=en.makeProgram(eu.lightEnhanceVS,eu.lightEnhanceFS),en}return en(er,eA),er.prototype.setEffectConfig=function(eA){this.lowlightEnhancement=1===eA.lowlightEnhancement},er.prototype.release=function(){this.gl.deleteTexture(this.lutTex)},er.prototype.render=function(){var eA=this.gl;eA.uniform1f(this.uIntensity,this.lowlightEnhancement?.6:0);var er=this,ei=er.program,eo=er.width,en=er.height,es=er.lutTex;if(ei){var ea=eA.getUniformLocation(ei,"texelWidth");eA.uniform1f(ea,1/eo);var eg=eA.getUniformLocation(ei,"texelHeight");eA.uniform1f(eg,1/en),eA.activeTexture(eA.TEXTURE0+this.lutTexIdx),eA.bindTexture(eA.TEXTURE_2D,es)}},er.prototype.setConstUniforms=function(){return es(this,void 0,void 0,function(){var eA,er,ei,eo,en,es,eg,ec,eu,ed,eE=this;return ea(this,function(ea){switch(ea.label){case 0:return eA=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],er=[1,1,1,0,-.344,1.772,1.402,-.714,0],ei=[.298973,-.168721,.500019,.58706,-.331298,-.41873,.113967,.500019,-.081289],(eo=this.program)?((en=this.gl).useProgram(eo),this.uIntensity=en.getUniformLocation(eo,"uIntensity"),es=en.getUniformLocation(eo,"matYUVtoRGB"),en.uniformMatrix3fv(es,!1,er),eg=en.getUniformLocation(eo,"matRGBtoYUV"),en.uniformMatrix3fv(eg,!1,ei),ec=en.getUniformLocation(eo,"uPMVMatrix"),en.uniformMatrix4fv(ec,!1,eA),eu=en.getUniformLocation(eo,"inputImageTexture2"),ed=this,[4,new Promise(function(eA){var er=en.createTexture(),ei=eE.lutTexIdx,eo=eE.lutImg;eo||(eo=new Image),eo.onload=function(){eE.lutImg=eo,en.activeTexture(en.TEXTURE0+ei),en.bindTexture(en.TEXTURE_2D,er),en.pixelStorei(en.UNPACK_FLIP_Y_WEBGL,!1),en.texImage2D(en.TEXTURE_2D,0,en.LUMINANCE,en.LUMINANCE,en.UNSIGNED_BYTE,eo),en.texParameteri(en.TEXTURE_2D,en.TEXTURE_WRAP_S,en.CLAMP_TO_EDGE),en.texParameteri(en.TEXTURE_2D,en.TEXTURE_WRAP_T,en.CLAMP_TO_EDGE),en.texParameteri(en.TEXTURE_2D,en.TEXTURE_MIN_FILTER,en.NEAREST),en.texParameteri(en.TEXTURE_2D,en.TEXTURE_MAG_FILTER,en.NEAREST),en.uniform1i(eu,ei),er&&eA(er)},eo.src=el.lightLut})]):[2];case 1:return ed.lutTex=ea.sent(),[2]}})})},er}(ec.default);er.default=ed},8451:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.lightEnhanceFS=er.lightEnhanceVS=er.mixBlurFS=er.mixBlurVS=er.diffBlurFS=er.diffBlurVS=er.borderBlurFS=er.borderBlurVS=er.sharpnessFS=er.sharpnessVS=er.lightFS=er.lightVS=void 0,er.lightVS="cerpvfvba uvtuc sybng;\nnggevohgr irp2 nGrkPbbeqvangr;\nnggevohgr irp4 nCbfvgvba;\nhavsbez zng4 hCZIZngevk;\ninelvat irp2 iGrkPbbeq;\nibvq znva() {\n    ty_Cbfvgvba = hCZIZngevk * nCbfvgvba;\n    iGrkPbbeq = nGrkPbbeqvangr;\n}",er.lightFS="cerpvfvba uvtuc sybng;\ninelvat irp2 iGrkPbbeq;\nhavsbez fnzcyre2Q hGrkgher;\nhavsbez sybng vagrafvgl;\nhavsbez sybng ebflVagrafvgl;\nirp3 oevtugarffNaqPbagenfg(irp3 pbybe){\n  sybng v = vagrafvgl * 1.0;\n  sybng CV = 3.1415926;\n  sybng O = 0.12 * v;\n  sybng p = 0.1 * v;\n  sybng x = gna((45. + 44. * p) / 180.0 * CV);\n  pbybe = ((pbybe*255.0 - 127.5 * (1.0 - O)) * x + 127.5 * (1.0 + O)) / 255.0;\n  erghea pbybe;\n}\nibvq znva() {\n  irp4 grkgherPbybe = grkgher2Q(hGrkgher, iGrkPbbeq);\n  grkgherPbybe = irp4(oevtugarffNaqPbagenfg(grkgherPbybe.eto), grkgherPbybe.j);\n  grkgherPbybe.e = zva(grkgherPbybe.e + 0.06 * ebflVagrafvgl, 1.0);\n  ty_SentPbybe = grkgherPbybe;\n}",er.sharpnessVS="\nnggevohgr irp4 nCbfvgvba;\nnggevohgr irp4 nGrkPbbeqvangr;\nhavsbez sybng vzntrJvqguSnpgbe;\nhavsbez sybng vzntrUrvtugSnpgbe;\nhavsbez sybng funecarff; \ninelvat irp2 iGrkPbbeq;\ninelvat irp2 yrsgGrkgherPbbeqvangr;\ninelvat irp2 evtugGrkgherPbbeqvangr;\ninelvat irp2 gbcGrkgherPbbeqvangr;\ninelvat irp2 obggbzGrkgherPbbeqvangr;\ninelvat sybng pragreZhygvcyvre;\ninelvat sybng rqtrZhygvcyvre;\nibvq znva() {\n  ty_Cbfvgvba = nCbfvgvba;\n  irp2 jvqguFgrc = irp2(vzntrJvqguSnpgbe, 0.0);\n  irp2 urvtugFgrc = irp2(0.0, vzntrUrvtugSnpgbe);\n  iGrkPbbeq = nGrkPbbeqvangr.kl;\n  yrsgGrkgherPbbeqvangr = nGrkPbbeqvangr.kl - jvqguFgrc;\n  evtugGrkgherPbbeqvangr = nGrkPbbeqvangr.kl + jvqguFgrc;\n  gbcGrkgherPbbeqvangr = nGrkPbbeqvangr.kl + urvtugFgrc;\n  obggbzGrkgherPbbeqvangr = nGrkPbbeqvangr.kl - urvtugFgrc;\n  pragreZhygvcyvre = 1.0 + 4.0 * funecarff;\n  rqtrZhygvcyvre = funecarff;\n}\n",er.sharpnessFS="\ncerpvfvba uvtuc sybng;\ninelvat uvtuc irp2 iGrkPbbeq;\ninelvat uvtuc irp2 yrsgGrkgherPbbeqvangr;\ninelvat uvtuc irp2 evtugGrkgherPbbeqvangr;\ninelvat uvtuc irp2 gbcGrkgherPbbeqvangr;\ninelvat uvtuc irp2 obggbzGrkgherPbbeqvangr;\ninelvat uvtuc sybng pragreZhygvcyvre;\ninelvat uvtuc sybng rqtrZhygvcyvre;\nhavsbez fnzcyre2Q hGrkgher;\nibvq znva() {\n  zrqvhzc irp4 nPbybe = grkgher2Q(hGrkgher, iGrkPbbeq);\n  zrqvhzc irp3 grkgherPbybe = nPbybe.eto;\n  zrqvhzc irp3 yrsgGrkgherPbybe = grkgher2Q(hGrkgher, yrsgGrkgherPbbeqvangr).eto;\n  zrqvhzc irp3 evtugGrkgherPbybe = grkgher2Q(hGrkgher, evtugGrkgherPbbeqvangr).eto;\n  zrqvhzc irp3 gbcGrkgherPbybe = grkgher2Q(hGrkgher, gbcGrkgherPbbeqvangr).eto;\n  zrqvhzc irp3 obggbzGrkgherPbybe = grkgher2Q(hGrkgher, obggbzGrkgherPbbeqvangr).eto;\n  ty_SentPbybe = irp4((grkgherPbybe * pragreZhygvcyvre - (yrsgGrkgherPbybe * rqtrZhygvcyvre + evtugGrkgherPbybe * rqtrZhygvcyvre + gbcGrkgherPbybe * rqtrZhygvcyvre + obggbzGrkgherPbybe * rqtrZhygvcyvre)), nPbybe.n);\n}",er.borderBlurVS="nggevohgr irp4 nCbfvgvba;\nnggevohgr irp4 nGrkPbbeqvangr;\nhavsbez uvtuc sybng grkOyheJvqguBssfrg;\nhavsbez uvtuc sybng grkOyheUrvtugBssfrg;\ninelvat irp2 i_grkpbbeq0;\ninelvat irp4 grkgherFuvsg_1;\ninelvat irp4 grkgherFuvsg_2;\ninelvat irp4 grkgherFuvsg_3;\ninelvat irp4 grkgherFuvsg_4;\nibvq znva()\n{\n  ty_Cbfvgvba = nCbfvgvba;\n  i_grkpbbeq0 = nGrkPbbeqvangr.kl;\n\n  irp2 fvatyrFgrcBssfrg = irp2(grkOyheJvqguBssfrg, grkOyheUrvtugBssfrg)*2.5;\n\n  grkgherFuvsg_1 = irp4(nGrkPbbeqvangr.kl - fvatyrFgrcBssfrg, nGrkPbbeqvangr.kl + fvatyrFgrcBssfrg);\n  grkgherFuvsg_2 = irp4(nGrkPbbeqvangr.kl - 2.0 * fvatyrFgrcBssfrg, nGrkPbbeqvangr.kl + 2.0 * fvatyrFgrcBssfrg);\n  grkgherFuvsg_3 = irp4(nGrkPbbeqvangr.kl - 3.0 * fvatyrFgrcBssfrg, nGrkPbbeqvangr.kl + 3.0 * fvatyrFgrcBssfrg);\n  grkgherFuvsg_4 = irp4(nGrkPbbeqvangr.kl - 4.0 * fvatyrFgrcBssfrg, nGrkPbbeqvangr.kl + 4.0 * fvatyrFgrcBssfrg);\n}",er.borderBlurFS="cerpvfvba zrqvhzc sybng;\nhavsbez fnzcyre2Q hGrkgher;\ninelvat irp2 i_grkpbbeq0;\ninelvat uvtuc irp4 grkgherFuvsg_1;\ninelvat uvtuc irp4 grkgherFuvsg_2;\ninelvat uvtuc irp4 grkgherFuvsg_3;\ninelvat uvtuc irp4 grkgherFuvsg_4;\nibvq znva(ibvq) { \n  zrqvhzc irp3 fhz = grkgher2Q(hGrkgher, i_grkpbbeq0).eto;\n  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_1.kl).eto;\n  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_1.mj).eto;\n  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_2.kl).eto;\n  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_2.mj).eto;\n  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_3.kl).eto;\n  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_3.mj).eto;\n  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_4.kl).eto;\n  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_4.mj).eto;\n  ty_SentPbybe = irp4(fhz * 0.1111, 1.0); \n}",er.diffBlurVS="nggevohgr irp4 nCbfvgvba;\nnggevohgr irp4 nGrkPbbeqvangr;\nhavsbez zng4 hCZIZngevk;\ninelvat irp2 i_grkpbbeq0;\nibvq znva()\n{\n  // ty_Cbfvgvba = hCZIZngevk * nCbfvgvba;\n  ty_Cbfvgvba = nCbfvgvba;\n  i_grkpbbeq0 = nGrkPbbeqvangr.kl;\n}",er.diffBlurFS="cerpvfvba zrqvhzc sybng;\nhavsbez fnzcyre2Q hGrkgher;\ninelvat irp2 i_grkpbbeq0;\nhavsbez fnzcyre2Q oyheGrkgher;\nibvq znva(ibvq) {\n  irp4 vPbybe = grkgher2Q(oyheGrkgher, i_grkpbbeq0);\n  irp4 zrnaPbybe = grkgher2Q(hGrkgher, i_grkpbbeq0);\n  irp4 qvssPbybe = vPbybe - zrnaPbybe;\n  qvssPbybe.e = zva(qvssPbybe.e * 50.0 * qvssPbybe.e, 1.0);\n  qvssPbybe.t = zva(qvssPbybe.t * 50.0 * qvssPbybe.t, 1.0);\n  qvssPbybe.o = zva(qvssPbybe.o * 50.0 * qvssPbybe.o, 1.0);\n  ty_SentPbybe = irp4(qvssPbybe.eto, 1.0);\n}",er.mixBlurVS="\nnggevohgr irp4 nCbfvgvba;\nnggevohgr irp4 nGrkPbbeqvangr;\ninelvat irp2 i_grkpbbeq0;\nhavsbez sybng jvqguBssfrg;\nhavsbez sybng urvtugBssfrg;\ninelvat irp2 grkgherFuvsg_1;\ninelvat irp2 grkgherFuvsg_2;\ninelvat irp2 grkgherFuvsg_3;\ninelvat irp2 grkgherFuvsg_4;\nibvq znva()\n{\n  ty_Cbfvgvba = nCbfvgvba;\n  i_grkpbbeq0 = nGrkPbbeqvangr.kl;\n  grkgherFuvsg_1 = irp2(i_grkpbbeq0 + 0.5 * irp2(jvqguBssfrg,urvtugBssfrg));\n  grkgherFuvsg_2 = irp2(i_grkpbbeq0 + 0.5 * irp2(-jvqguBssfrg,-urvtugBssfrg));\n  grkgherFuvsg_3 = irp2(i_grkpbbeq0 + 0.5 * irp2(-jvqguBssfrg,urvtugBssfrg));\n  grkgherFuvsg_4 = irp2(i_grkpbbeq0 + 0.5 * irp2(jvqguBssfrg,-urvtugBssfrg));\n}\n",er.mixBlurFS="\ncerpvfvba zrqvhzc sybng;\nhavsbez fnzcyre2Q hGrkgher;\ninelvat irp2 i_grkpbbeq0;\nhavsbez fnzcyre2Q oyheGrkgher;\nhavsbez fnzcyre2Q oyheQvssGrkgher;\nhavsbez ybjc sybng oyheNycun;\nibvq znva(ibvq) {\n  ybjc irp4 vPbybe = grkgher2Q(hGrkgher, i_grkpbbeq0);\n  ybjc irp4 zrnaPbybe = grkgher2Q(oyheGrkgher, i_grkpbbeq0);\n  ybjc irp4 inePbybe = grkgher2Q(oyheQvssGrkgher, i_grkpbbeq0);\n  ybjc sybng nycun = oyheNycun * 1.0;\n  ybjc sybng gurgn = 0.1;\n  zrqvhzc sybng c = pynzc((zva(vPbybe.e, zrnaPbybe.e - 0.1) - 0.2) * 4.0, 0.0, 1.0);\n  zrqvhzc sybng zrnaIne = znk(znk(inePbybe.e, inePbybe.t), inePbybe.o);\n  zrqvhzc sybng xZva = 0.1;\n  ybjc irp3 erfhygPbybe;\n  xZva = (1.0 - zrnaIne / (zrnaIne + gurgn)) * c * nycun;\n  erfhygPbybe = zvk(vPbybe.eto, zrnaPbybe.eto, xZva);\n  erfhygPbybe = zvk(vPbybe.eto, erfhygPbybe, zva(1.0,nycun));\n  ty_SentPbybe = irp4(erfhygPbybe,1.0);\n}",er.lightEnhanceVS="\nnggevohgr irp4 nCbfvgvba;\nnggevohgr irp4 nGrkPbbeqvangr;\nhavsbez sybng grkryJvqgu;\nhavsbez sybng grkryUrvtug;\ninelvat irp2 grkgherPbbeqvangr[9];\ninelvat irp2 grkgherPbbeqvangr2;\nhavsbez zng4 hCZIZngevk;\nibvq znva(){\n    ty_Cbfvgvba = hCZIZngevk * nCbfvgvba;\n    grkgherPbbeqvangr2 = nGrkPbbeqvangr.kl;\n    grkgherPbbeqvangr[0] = nGrkPbbeqvangr.kl;\n    irp2 jvqguFgrc = irp2(grkryJvqgu, 0.0);\n    irp2 urvtugFgrc = irp2(0.0, grkryUrvtug);\n    irp2 jvqguUrvtugFgrc = irp2(grkryJvqgu, grkryUrvtug);\n    irp2 jvqguArtngvirUrvtugFgrc = irp2(grkryJvqgu, -grkryUrvtug);\n    \n    grkgherPbbeqvangr[0] = nGrkPbbeqvangr.kl;\n    grkgherPbbeqvangr[1] = nGrkPbbeqvangr.kl - jvqguFgrc;\n    grkgherPbbeqvangr[2] = nGrkPbbeqvangr.kl + jvqguFgrc;\n    \n    grkgherPbbeqvangr[3] = nGrkPbbeqvangr.kl - urvtugFgrc;\n    grkgherPbbeqvangr[4] = nGrkPbbeqvangr.kl - jvqguUrvtugFgrc;\n    grkgherPbbeqvangr[5] = nGrkPbbeqvangr.kl + jvqguArtngvirUrvtugFgrc;\n    \n    grkgherPbbeqvangr[6] = nGrkPbbeqvangr.kl + urvtugFgrc;\n    grkgherPbbeqvangr[7] = nGrkPbbeqvangr.kl - jvqguArtngvirUrvtugFgrc;\n    grkgherPbbeqvangr[8] = nGrkPbbeqvangr.kl + jvqguUrvtugFgrc;\n}\n",er.lightEnhanceFS="cerpvfvba uvtuc sybng;\ninelvat uvtuc irp2 grkgherPbbeqvangr[9];\ninelvat uvtuc irp2 grkgherPbbeqvangr2;\nhavsbez fnzcyre2Q hGrkgher;\nhavsbez fnzcyre2Q vachgVzntrGrkgher2;\nhavsbez uvtuc zng3 zngLHIgbETO;\nhavsbez uvtuc zng3 zngETOgbLHI;\nhavsbez sybng hVagrafvgl;\npbafg irp3 pbzcIrp = irp3(-0.0/255.0, -128.0/255.0, -128.0/255.0);\nirp4 eto2lhi(irp4 vachgETO) {\n    irp3 bhgchgLHI;\n    bhgchgLHI = zngETOgbLHI * vachgETO.eto;\n    bhgchgLHI -= pbzcIrp;\n    erghea irp4(pynzc(bhgchgLHI,\n                        irp3(0.0, 0.0, 0.0),\n                        irp3(1.0, 1.0, 1.0)),\n                        vachgETO.n);\n}\nirp2 fnghengvba(irp2 bet, sybng snpgbe) {\n    irp2 zbq = irp2((bet.k - 128.0/255.0) * snpgbe + 128.0/255.0,\n                    (bet.l - 128.0/255.0) * snpgbe + 128.0/255.0);\n    erghea pynzc(zbq, irp2(0.0, 0.0), irp2(1.0, 1.0));\n}\nirp4 lhi2eto(irp4 vachgLHI) {\n    irp3 bhgchgETO;\n    vachgLHI.eto += pbzcIrp;\n    bhgchgETO = zngLHIgbETO * vachgLHI.eto;\n    erghea irp4(pynzc(bhgchgETO,\n                        irp3(0.0, 0.0, 0.0),\n                        irp3(1.0, 1.0, 1.0)),\n                        vachgLHI.n);\n}\nibvq znva(){\n    irp4 lhi[9];\n    sbe(vag v = 0; v < 9; v++){\n        lhi[v] = eto2lhi(grkgher2Q(hGrkgher, grkgherPbbeqvangr[v]));\n    }\n    sybng fzbbguL = 0.0;\n    fzbbguL += 1.0*lhi[4].e + 2.0*lhi[3].e + 1.0*lhi[5].e;\n    fzbbguL += 2.0*lhi[1].e + 4.0*lhi[0].e + 2.0*lhi[2].e;\n    fzbbguL += 1.0*lhi[7].e + 2.0*lhi[6].e + 1.0*lhi[8].e;\n    fzbbguL = fzbbguL / 16.0;\n    sybng bhgchgL = grkgher2Q(vachgVzntrGrkgher2, irp2(fzbbguL, lhi[0].e)).e;\n    irp3 arjLHI = irp3(zvk(fzbbguL, bhgchgL, hVagrafvgl), lhi[0].to);\n    ty_SentPbybe = lhi2eto(irp4(arjLHI.eto, lhi[0].n));\n}\n"},5647:function(eA,er,ei){"use strict";var eo,en=this&&this.__extends||(eo=function(eA,er){return(eo=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(eA,er){eA.__proto__=er}||function(eA,er){for(var ei in er)Object.prototype.hasOwnProperty.call(er,ei)&&(eA[ei]=er[ei])})(eA,er)},function(eA,er){if("function"!=typeof er&&null!==er)throw TypeError("Class extends value "+String(er)+" is not a constructor or null");function ei(){this.constructor=eA}eo(eA,er),eA.prototype=null===er?Object.create(er):(ei.prototype=er.prototype,new ei)}),es=this&&this.__importDefault||function(eA){return eA&&eA.__esModule?eA:{default:eA}};Object.defineProperty(er,"__esModule",{value:!0});var ea=es(ei(289)),eg=ei(8451),ec=function(eA){function er(er,ei,eo){var en=eA.call(this,er,ei,eo)||this;return en.width=ei,en.height=eo,en.type="SharpnessShader",en.uIntensity=null,en.sharpenIntensity=.5,en.program=en.makeProgram(eg.sharpnessVS,eg.sharpnessFS),en}return en(er,eA),er.prototype.setEffectConfig=function(eA){isNaN(eA.sharpenIntensity)||(this.sharpenIntensity=eA.sharpenIntensity/100)},er.prototype.render=function(){this.gl.uniform1f(this.uIntensity,.5*this.sharpenIntensity)},er.prototype.resetResolution=function(eA,er){this.width=eA||this.width,this.height=er||this.height,this.setConstUniforms()},er.prototype.setConstUniforms=function(){var eA=this.width,er=this.height,ei=this.program;if(ei){var eo=this.gl;eo.useProgram(ei);var en=eo.getUniformLocation(ei,"imageWidthFactor");eo.uniform1f(en,1/eA);var es=eo.getUniformLocation(ei,"imageHeightFactor");eo.uniform1f(es,1/er),this.uIntensity=eo.getUniformLocation(ei,"sharpness"),eo.uniform1f(this.uIntensity,.5*this.sharpenIntensity)}},er}(ea.default);er.default=ec},2742:function(eA,er,ei){"use strict";var eo,en=this&&this.__extends||(eo=function(eA,er){return(eo=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(eA,er){eA.__proto__=er}||function(eA,er){for(var ei in er)Object.prototype.hasOwnProperty.call(er,ei)&&(eA[ei]=er[ei])})(eA,er)},function(eA,er){if("function"!=typeof er&&null!==er)throw TypeError("Class extends value "+String(er)+" is not a constructor or null");function ei(){this.constructor=eA}eo(eA,er),eA.prototype=null===er?Object.create(er):(ei.prototype=er.prototype,new ei)}),es=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},ea=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}},eg=this&&this.__importDefault||function(eA){return eA&&eA.__esModule?eA:{default:eA}};Object.defineProperty(er,"__esModule",{value:!0}),er.PUBLISH_SET_BEAUTY_EFFECT=void 0;var ec=eg(ei(7415)),eu=eg(ei(3802)),el=ei(8933),ed=ei(8250),eE=el.errorCodeList.VIDEO_TRACK_NOT_READABLE,eI=el.errorCodeList.VIDEO_TRACK_OVERLOAD,eC={errorCode:eE.code,extendedData:eE.message},eh={errorCode:eI.code,extendedData:eI.message};er.PUBLISH_SET_BEAUTY_EFFECT="zc.p.0.sbe.1";var eB=function(eA){function ei(er,ei){var eo=eA.call(this)||this;return eo.logger=er,eo.kind="video",eo._enabled=!1,eo.lastRenderTime=0,eo.stateFlag={base:!1,lowLight:!1},eo.isStarting=!1,eo.animationFrameId=0,eo.backgroundLoop=null,eo.eventHandler={visibilitychange:function(){if(document.hidden){var eA=function(){return es(eo,void 0,void 0,function(){return ea(this,function(er){switch(er.label){case 0:return this.backgroundLoop=window.setTimeout(eA,Math.floor(1e3/this.fps)),!document.hidden&&this.backgroundLoop?(clearTimeout(this.backgroundLoop),this.backgroundLoop=null,[2]):[4,this.renderAFrame()];case 1:return er.sent(),[2]}})})};eA()}else eo.backgroundLoop&&(clearTimeout(eo.backgroundLoop),eo.backgroundLoop=null)}},eo.setInput(ei,!0),eo.fps=15,eo.detector=new ec.default(er),eo.backgroundLoop&&clearTimeout(eo.backgroundLoop),eo.backgroundLoop=null,eo.lastRenderTime=0,eo.manager=new eu.default(er),eo.manager.onRenderError=function(eA){1103072===eA.errorCode&&eo.stopEffect(),eo.onError(eA)},eo}return en(ei,eA),Object.defineProperty(ei.prototype,"enabled",{get:function(){return this._enabled},set:function(eA){this._enabled=eA},enumerable:!1,configurable:!0}),Object.defineProperty(ei.prototype,"output",{get:function(){return this._output||this.input||null},enumerable:!1,configurable:!0}),Object.defineProperty(ei.prototype,"options",{get:function(){return this.manager.effectConfig||{}},enumerable:!1,configurable:!0}),ei.prototype.setBeautyEffectOptions=function(eA,ei){return void 0===ei&&(ei={}),es(this,void 0,void 0,function(){var eo;return ea(this,function(en){switch(en.label){case 0:return eA&&this.manager.setEffectConfig(ei),this.enabled===eA?[3,6]:(this.manager.setEnableBeauty(eA),this.enabled!==eA&&this.logger.info(er.PUBLISH_SET_BEAUTY_EFFECT+" effect enabled "+eA+"; options: "+JSON.stringify(ei)),this.enabled=eA,eA?(eo=this.input)?[4,this.startEffect()]:[3,2]:[3,3]);case 1:eo=en.sent(),en.label=2;case 2:return[3,5];case 3:return[4,this.stopEffect()];case 4:en.sent(),en.label=5;case 5:en.label=6;case 6:return[2]}})})},ei.prototype.startEffect=function(){return es(this,void 0,void 0,function(){var eA,ei,eo=this;return ea(this,function(en){switch(en.label){case 0:return this.isStarting=!0,this.logger.info(er.PUBLISH_SET_BEAUTY_EFFECT+" call start effect"),this.input?this.input&&this._output&&this.input!==this._output?(this.logger.warn(er.PUBLISH_SET_BEAUTY_EFFECT+" video effect is already enabled"),[2]):[4,this.startWebGLProcessor().catch(function(eA){throw eo.stopEffect(),eA})]:(this.logger.error(er.PUBLISH_SET_BEAUTY_EFFECT+" start effect failed, input track is null"),[2]);case 1:return eA=en.sent(),[4,this.updateOutput(eA)];case 2:return en.sent(),this.enabled=!0,this.logger.info(er.PUBLISH_SET_BEAUTY_EFFECT+" start effect success"),this.detector.startRecordBeautyEffectOutput(this.fps).then(function(eA){!eA.result&&eo.onError&&eo.onError(eh,{targetFPS:eA.targetFPS,currentFPS:eA.currentFPS})}),ei=function(){return es(eo,void 0,void 0,function(){return ea(this,function(eA){switch(eA.label){case 0:return this.enabled&&(this.animationFrameId=requestAnimationFrame(ei)),[4,this.renderAFrame()];case 1:return eA.sent(),[2]}})})},this.animationFrameId=requestAnimationFrame(ei),document.addEventListener("visibilitychange",this.eventHandler.visibilitychange,!1),this.isStarting=!1,[2]}})})},ei.prototype.renderAFrame=function(){return es(this,void 0,void 0,function(){var eA,er,ei;return ea(this,function(eo){switch(eo.label){case 0:return eA=Date.now(),er=1e3/this.fps,(ei=this.lastRenderTime?eA-this.lastRenderTime:er)>=er?(this.lastRenderTime=eA-(ei-er),this.videoEl&&this.videoEl.paused&&this.videoEl.play(),this.enabled&&this.videoEl?this.videoEl.videoWidth>6&&this.videoEl.videoHeight>6?[4,this.manager.render(this.videoEl)]:[3,2]:[3,3]):[3,3];case 1:eo.sent(),eo.label=2;case 2:this._output&&this._output.requestFrame&&this._output.requestFrame(),this.detector.addFrame(),eo.label=3;case 3:return[2]}})})},ei.prototype.stopEffect=function(){return es(this,void 0,void 0,function(){var eA=this;return ea(this,function(ei){switch(ei.label){case 0:return this.enabled=!1,this.logger.info(er.PUBLISH_SET_BEAUTY_EFFECT+" call stop effect"),this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=0),this.detector.stopRecordBeautyEffectOutput(),this.manager.release(),[4,this.updateOutput()];case 1:return ei.sent(),void 0===this.removeDomTimer&&(this.removeDomTimer=window.setTimeout(function(){!1===eA.enabled&&eA.destroy()},18e4)),document.removeEventListener("visibilitychange",this.eventHandler.visibilitychange),[2]}})})},ei.prototype.destroy=function(){this.logger.info(er.PUBLISH_SET_BEAUTY_EFFECT+" destroy hidden elements"),this.canvasEl&&this.canvasEl.remove(),this.videoEl&&this.videoEl.remove(),this.videoEl=this.canvasEl=void 0,this.removeDomTimer&&(clearTimeout(this.removeDomTimer),this.removeDomTimer=void 0)},ei.prototype.startWebGLProcessor=function(){return es(this,void 0,void 0,function(){var eA,ei,eo,en,es=this;return ea(this,function(ea){switch(ea.label){case 0:return this.input?(this.logger.info(er.PUBLISH_SET_BEAUTY_EFFECT+" start webgl processor"),this.removeDomTimer&&(clearTimeout(this.removeDomTimer),this.removeDomTimer=void 0),this.canvasEl&&this.videoEl?[3,2]:(this.logger.info(er.PUBLISH_SET_BEAUTY_EFFECT+" create elements"),this.canvasEl&&(this.canvasEl.remove(),this.canvasEl=void 0),this.videoEl&&(this.videoEl.remove(),this.videoEl=void 0),this.canvasEl=document.createElement("canvas"),this.videoEl=document.createElement("video"),this.videoEl.setAttribute("autoplay",""),this.videoEl.setAttribute("muted",""),this.videoEl.muted=!0,this.videoEl.setAttribute("playsinline",""),this.videoEl.setAttribute("style","display:none"),eA=new Promise(function(eA,ei){var eo=null,en=function(){eo&&clearTimeout(eo),es.videoEl&&es.videoEl.removeEventListener("playing",en),eA(void 0)};es.videoEl&&es.videoEl.addEventListener("playing",en),eo=window.setTimeout(function(){es.logger.warn(er.PUBLISH_SET_BEAUTY_EFFECT+" video track error"),ei(eC)},1e3)}),this.videoEl.srcObject=new MediaStream([this.input]),this.videoEl.play(),[4,eA])):(this.logger.error(er.PUBLISH_SET_BEAUTY_EFFECT+" input track is null"),[2]);case 1:ea.sent(),ea.label=2;case 2:if(eo=(ei=this.input.getSettings()).width||this.videoEl.videoWidth,en=ei.height||this.videoEl.videoHeight,ei.frameRate&&this.fps!==ei.frameRate&&(this.fps=ei.frameRate,this.logger.info(er.PUBLISH_SET_BEAUTY_EFFECT+" set target fps: "+this.fps)),this.logger.info(er.PUBLISH_SET_BEAUTY_EFFECT+" beauty video processor: width "+ei.width+" height "+ei.height),!eo||!en)throw this.logger.error(er.PUBLISH_SET_BEAUTY_EFFECT+" resolution of track is wrong"),eC;return this.canvasEl.width=eo,this.canvasEl.height=en,this.videoEl.setAttribute("width",eo.toString()),this.videoEl.setAttribute("height",en.toString()),this.manager.init(eo,en,this.canvasEl),[2,this.canvasEl.captureStream().getVideoTracks()[0]]}})})},ei.prototype.setInput=function(eA,ei){return void 0===ei&&(ei=!1),es(this,void 0,void 0,function(){var eo,en;return ea(this,function(es){switch(es.label){case 0:return eA&&eA!==this.input?eA.kind!==this.kind?(this.logger.error(er.PUBLISH_SET_BEAUTY_EFFECT+" kind of track is not video"),[2]):(this._output&&this.input===this._output&&this.logger.error(er.PUBLISH_SET_BEAUTY_EFFECT+" input track is same as effect track"),this.logger.info(er.PUBLISH_SET_BEAUTY_EFFECT+" change input track"),ei?this.input?[4,this.removeInput()]:[3,2]:[3,5]):[3,7];case 1:es.sent(),es.label=2;case 2:return this.input=eA,this.enabled&&!this.videoEl?[4,this.startEffect()]:[3,4];case 3:es.sent(),es.label=4;case 4:return[3,7];case 5:return this.input=eA,(eo=this.videoEl)&&(eo.srcObject?((en=eo.srcObject).getTracks().forEach(function(eA){return en.removeTrack(eA)}),en.addTrack(this.input)):eo.srcObject=new MediaStream([this.input]),eo.play()),this._output?[3,7]:[4,this.onOutputChange()];case 6:es.sent(),es.label=7;case 7:return[2]}})})},ei.prototype.removeInput=function(){return es(this,void 0,void 0,function(){return ea(this,function(eA){switch(eA.label){case 0:return this.input=void 0,[4,this.stopEffect()];case 1:return eA.sent(),[2]}})})},ei.prototype.updateOutput=function(eA){return es(this,void 0,void 0,function(){return ea(this,function(er){switch(er.label){case 0:return this._output===eA?[3,3]:(this._output=eA,this.onOutputChange?[4,this.onOutputChange(this._output)]:[3,2]);case 1:er.sent(),er.label=2;case 2:er.label=3;case 3:return[2]}})})},ei.prototype.onOutputChange=function(eA){var er;return es(this,void 0,void 0,function(){return ea(this,function(ei){switch(ei.label){case 0:return[4,null===(er=this.next)||void 0===er?void 0:er.setInput(eA||this.input||null)];case 1:return ei.sent(),[2]}})})},ei.prototype.onError=function(eA,er){},ei}(ed.VideoNode);er.default=eB},4259:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.AudioNodeQueue=void 0;var ei=function(){function eA(eA,er){this.source=eA,this.destination=er,this.audioNodeList=[],this.source.disconnect(),this.source.connect(this.destination)}return Object.defineProperty(eA.prototype,"destinationNode",{get:function(){return this.destination},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"lastNode",{get:function(){return this.isEmpty()?null:this.audioNodeList[this.audioNodeList.length-1]},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"secondToLastNode",{get:function(){return this.audioNodeList.length<2?null:this.audioNodeList[this.audioNodeList.length-2]},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"firstNode",{get:function(){return this.isEmpty()?null:this.audioNodeList[0]},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"secondNode",{get:function(){return this.audioNodeList.length<2?null:this.audioNodeList[1]},enumerable:!1,configurable:!0}),eA.prototype.pushBack=function(eA){this.lastNode?(this.lastNode.disconnect(),this.lastNode.connect(eA)):(this.source.disconnect(),this.source.connect(eA)),eA.connect(this.destination),this.audioNodeList.push(eA)},eA.prototype.popBack=function(){this.lastNode&&(this.lastNode.disconnect(),this.secondToLastNode?(this.secondToLastNode.disconnect(),this.secondToLastNode.connect(this.destination)):(this.source.disconnect(),this.source.connect(this.destination))),this.audioNodeList.pop()},eA.prototype.pushFront=function(eA){this.source.disconnect(),this.source.connect(eA),eA.connect(this.firstNode?this.firstNode:this.destination),this.audioNodeList.unshift(eA)},eA.prototype.popFront=function(){this.source.disconnect(),this.firstNode&&(this.firstNode.disconnect(),this.source.connect(this.secondNode?this.secondNode:this.destination)),this.audioNodeList.shift()},eA.prototype.remove=function(eA){var er=this.audioNodeList.indexOf(eA);if(-1!==er){if(eA.disconnect(),er-1>=0){var ei=this.audioNodeList[er-1];ei.disconnect(),ei.connect(this.lastNode!=eA?this.audioNodeList[er+1]:this.destination)}else this.source.disconnect(),this.source.connect(this.lastNode!=eA?this.audioNodeList[er+1]:this.destination);this.audioNodeList.splice(er,1)}},eA.prototype.isConnected=function(eA){return -1!==this.audioNodeList.indexOf(eA)},eA.prototype.isEmpty=function(){return 0===this.audioNodeList.length},eA.prototype.replaceSource=function(eA){this.source.disconnect(),eA.connect(this.firstNode?this.firstNode:this.destination),this.source=eA},eA.prototype.replaceDestination=function(eA){this.lastNode?(this.lastNode.disconnect(),this.lastNode.connect(eA)):(this.source.disconnect(),this.source.connect(eA)),this.destination=eA},eA}();er.AudioNodeQueue=ei},4028:function(eA,er,ei){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.getBrowserAndVersion=er.getBitCode=er.getChromeVer=er.getPlaySourceType=er.generaStreamSid=er.ClientUtil=void 0;var eo=ei(5123),en=ei(1586),es=ei(120),ea=function(){function eA(){}return eA.checkIllegalCharacters=function(eA){return/^([0-9a-zA-Z#!$%&()`'+-;<=.>@^_~,\\*])+$/.test(eA)&&/^[^:/]*$/g.test(eA)},eA.isUrl=function(eA){return!!(eA.startsWith("rtmp://")||eA.startsWith("avertp://")||eA.startsWith("https://")&&eA.endsWith(".flv")||eA.startsWith("https://")&&eA.endsWith(".m3u8"))},eA.registerCallback=function(eA,er,ei){er.success&&(ei[eA+"SuccessCallback"]=er.success),er.error&&(ei[eA+"ErrorCallback"]=er.error)},eA.actionErrorCallback=function(eA,er){return er[eA+"ErrorCallback"]},eA.actionSuccessCallback=function(eA,er){return er[eA+"SuccessCallback"]},eA.logReportCallback=function(er,ei,eo,en){eA.registerCallback(er,{success:function(er,en){for(var es=[],ea=2;ea<arguments.length;ea++)es[ea-2]=arguments[ea];eA.dataReportEvent(ei,eo,er,en,es)}},en)},eA.actionLogReportCallback=function(er,ei,eo,en,es){eA.actionSuccessCallback(er,ei)&&eA.actionSuccessCallback(er,ei)(eo,en)},eA.getServerError=function(eA,er,ei){if(er)return{code:eA,message:ei||"liveroom error"};var eo={1:"parse json error.",1001:"login is processing.",1002:"liveroom request error.",1003:"zpush connect fail.",1004:"zpush handshake fail.",1005:"zpush login fail.",1006:"user login state is wrong.",1007:"got no zpush addr",1008:"token error",1009:"dispatch error",1010:"token expired",1011:"token format error",1013:"token03 format error",2002:"biz channel error",1e9:"liveroom cmd error, code:",1000002001:"need relogin",1000002002:"third token auth error",1000002003:"token nonce type should be int64",1000002004:"token appid type  should be uint32",1000002005:"token timeout type should be int64",1000002006:"token user_id type should be string",1000002007:"token room_id type should be string",1000002008:"token format error",1000002009:"token privilege type should be map",1000002010:"token expire_time type should be int64",1000002011:"token user_id type should be string",1000002012:"token not exist",1000002013:"token update error",1000002014:"token not need to check"};if(0===eA)return{code:0,message:""};var en={code:0,message:"liveroom cmd error"};if(en.code=eA,eA>1e9){var es=eo[eA];en.message=es?"liveroom cmd error, code: "+eA+", message: "+es:eo[1e9]+eA}else en.message=eo[eA]?eo[eA]+" code:"+eA:"unknown error code:"+eA;return en},eA.unregisterCallback=function(eA,er){delete er[eA+"SuccessCallback"],delete er[eA+"ErrorCallback"]},eA.decodeServerError=function(eA,er){var ei={code:-1,message:"server error"};return eA>1e9&&(ei.code=eA-1e9+52e6),er&&(ei.message=er),ei},eA.getLiveRoomError=function(eA,er){var ei={1016:"MULTI_ROOM_UNABLE",1105:"ROOM_MAX_USER_COUNT",1012:"PUBLISHER_ERROR_REPETITIVE_PUBLISH_STREAM",2002:"TOKEN_ERROR",2003:"ROOM_ERROR_LOGIN_TIMEOUT",2010:"TOKEN_ERROR",5022:"ROOM_COUNT_EXCEED"};return er?eA>2e5&&eA<3e5?ei[eA-2e5]:eA<2e5?({50116:"TOKEN_ERROR",50117:"TOKEN_EXPIRED",50118:"TOKEN_ERROR",50119:"TOKEN_ERROR",50120:"TOKEN_ERROR",50121:"TOKEN_ERROR",50122:"TOKEN_ERROR",50123:"TOKEN_EXPIRED",50124:"TOKEN_ERROR",50125:"TOKEN_ERROR",50126:"TOKEN_ERROR",50127:"TOKEN_ERROR",50128:"TOKEN_ERROR"})[eA]||ei[eA]||"ROOM_INNER_ERROR":ei[eA]||"ROOM_INNER_ERROR":eA>1e9?ei[eA-1e9]||"":({1:"PARSE_JSON_ERROR",1001:"LOGIN_PROCESSING",1002:"LIVEROMM_REQUEST_ERROR",1003:"ZPUSH_REQUEST_FAIL",1004:"ZPUSH_REQUEST_FAIL",1005:"ZPUSH_REQUEST_FAIL",1006:"LOGIN_STATE_WRONG",1007:"ZPUSH_REQUEST_FAIL",1008:"TOKEN_ERROR",1009:"DIAPATCH_ERROR",1010:"TOKEN_EXPIRED",1011:"TOKEN_ERROR",1012:"SUBCMD_ERROR",1101:"ZEGO_AUTH_ERROR",2001:"BIZ_CHANNEL_ERROR",2002:"BIZ_CHANNEL_ERROR"})[eA]||"ROOM_INNER_ERROR"},eA.getKickoutError=function(eA){var er={};switch(eA){case 1:er.code=63000001,er.message="zpush multiple login kickout",er.name="MULTIPLE_LOGIN_KICKOUT";break;case 2:er.code=63000002,er.message="zpush manual kickout",er.name="MANUAL_KICKOUT";break;case 3:er.code=63000003,er.message="kickout reason = "+eA;break;case 4:er.code=63000004,er.message="zpush multiple login kickout",er.name="MULTIPLE_LOGIN_KICKOUT";break;case 5:er.code=63000005,er.message="zpush token expired",er.name="TOKEN_EXPIRED";break;default:er.code=eA,er.message="kickout reason = "+eA}return er},eA.dataReportEvent=function(eA,er,ei,eo,en){switch(ei){case"eventStart":eA.eventStart(er,eo);break;case"eventEndWithMsgInfo":eA.eventEndWithMsgInfo(er,eo,en[0]);break;case"addEventMsg":eA.addEventMsg(er,eo,en[0],en[1]);break;case"addEvent":eA.addEvent(er,eo);break;case"eventEnd":eA.eventEnd(er,eo);break;case"addMsgInfo":eA.addMsgInfo(er,en[0])}},eA.isKeepTryLogin=function(eA){switch(eA){case 1002:case 1003:return!0;default:return!1}},eA.mergeStreamList=function(eA,er,ei,eo){var en,es=[],ea=[],eg=[];ei||(ei=[]);for(var ec=0;ec<ei.length;ec++)if(ei[ec].anchor_id_name!=eA&&ei[ec].id_name!=eA&&ei[ec].user_id!=eA){en=!1;for(var eu=0;eu<er.length;eu++)if(ei[ec].stream_id===er[eu].stream_id){ei[ec].extra_info!==er[eu].extra_info&&eg.push(ei[ec]),en=!0;break}en||es.push(ei[ec])}for(var el=0;el<er.length;el++)if(er[el].anchor_id_name!=eA&&er[el].id_name!=eA&&er[el].user_id!=eA){en=!1;for(var ed=0;ed<ei.length;ed++)if(er[el].stream_id===ei[ed].stream_id){en=!0;break}en||ea.push(er[el])}for(er.splice(0),ec=0;ec<ei.length;ec++)er.push(ei[ec]);eo(es,ea,eg)},eA.checkInteger=function(eA,er){return 0==er?"number"==typeof eA&&eA%1==0&&eA>=0:"number"==typeof eA&&eA%1==0&&eA>0},eA.checkValidNumber=function(eA,er,ei){return er=null!=er?er:1,ei=null!=ei?ei:1e4,"number"==typeof eA&&eA%1==0&&eA>=er&&eA<=ei},eA.uuid=function(eA,er){var ei,eo="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),en=[];if(er=er||eo.length,eA)for(ei=0;ei<eA;ei++)en[ei]=eo[0|Math.random()*er];else{var es=void 0;for(en[8]=en[13]=en[18]=en[23]="-",en[14]="4",ei=0;ei<36;ei++)en[ei]||(es=0|16*Math.random(),en[ei]=eo[19==ei?3&es|8:es])}return en.join("")},eA.getDevices=function(eA,er){void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then(function(er){for(var ei=[],eo=[],en=[],es=0;es<er.length;es++){var ea=er[es];"audioinput"===ea.kind&&ei.push({deviceName:ea.label,deviceID:ea.deviceId}),"audiooutput"===ea.kind&&eo.push({deviceName:ea.label,deviceID:ea.deviceId}),"videoinput"===ea.kind&&en.push({deviceName:ea.label,deviceID:ea.deviceId})}eA&&eA({microphones:ei,speakers:eo,cameras:en})}).catch(function(eA){console.error("enumerate devices wrong "+eA),er&&er(en.ZegoRTCLogEvent.kZegoTaskEnumDevices.error.kEnumDevicesError)}):er&&er(en.ZegoRTCLogEvent.kZegoTaskEnumDevices.error.kBrowserNotSupportError)},eA.getPublisherStateType=function(eA){return 0==eA||1==eA?0==eA?"PUBLISHING":"NO_PUBLISH":"PUBLISH_REQUESTING"},eA.getPlayerStateType=function(eA){return 0==eA||1==eA?0==eA?"PLAYING":"NO_PLAY":"PLAY_REQUESTING"},eA.getSteamUpdateType=function(eA){return 0==eA?"DELETE":"ADD"},eA.getNetQuality=function(eA,er,ei){return void 0!==ei?.15*this.calcQualityOfJitter(ei)+.85*Math.min(this.calcQualityOfRtt(eA),this.calcQualityOfLostRate(er,!1)):Math.min(this.calcQualityOfRtt(eA),this.calcQualityOfLostRate(er,!0))},eA.isIos=function(){return null!==navigator.platform.match("iPhone")},eA.isMacOs=function(){return null!==navigator.platform.match("Mac")},eA.isAndroid=function(){return null!==navigator.userAgent.match("Android")},eA.isWindows=function(){return null!==navigator.platform.match("Windows")},eA.isWin32=function(){return null!==navigator.platform.match("Win32")&&null===navigator.userAgent.match("WOW64")},eA.isLinux=function(){return null!==navigator.platform.match("Linux")},eA.getOsType=function(){return this.isIos()?es.OSType.IOS:this.isAndroid()?es.OSType.ANDROID:this.isMacOs()?es.OSType.MAC:this.isWin32()?es.OSType.WIN32:es.OSType.UNKNOWN},eA.checkScreenParams=function(er,ei){return"object"!=typeof er||void 0===er.videoQuality||eA.checkInteger(er.videoQuality)?"object"==typeof er&&void 0!==er.sourceID&&"string"!=typeof er.sourceID?(ei(en.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," sourceID must be string"),!1):!!("object"!=typeof er||4!==er.videoQuality||eA.checkCameraOrScreenBitRate(er.bitRate,ei)&&eA.checkParamsWithConstraintExtend(er,ei)):(ei(en.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," videoQuality must be integer number"),!1)},eA.checkParamsWithConstraintExtend=function(er,ei){for(var eo=0,es=["frameRate","width","height"];eo<es.length;eo++){var ea=es[eo],eg=er[ea];if(void 0===eg)return ei&&ei(en.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," ".concat(ea," is required when videoQuality is 4")),!1;if("number"==typeof eg&&!eA.checkInteger(eg,!1))return ei&&ei(en.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," ".concat(ea," must be integer number")),!1;if("number"==typeof eg&&("width"===ea||"height"===ea)&&eg<0)return ei&&ei(en.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," ".concat(ea," must greater than 0.")),!1;if("number"==typeof eg&&"width"===ea&&eg>7680)ei&&ei(en.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," ".concat(ea," cannot greater than 7680."));else if("number"==typeof eg&&"height"===ea&&eg>4320)ei&&ei(en.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," ".concat(ea," cannot greater than 4320."));else if("object"==typeof eg){if("width"===ea&&!eA.checkConstraintExtend(eg,ea,ei,0,7680)||"height"===ea&&!eA.checkConstraintExtend(eg,ea,ei,0,4320)||"frameRate"===ea&&!eA.checkConstraintExtend(eg,ea,ei))return!1}else if("number"!=typeof eg&&"object"!=typeof eg)return ei&&ei(en.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," ".concat(ea," must be number or object")),!1}return!0},eA.checkConstraintExtendWithMessage=function(er,ei,eo,en){if("object"!=typeof er)return{result:!1,message:"Invalid constraint. Constraint Extend must be a object"};if(0===Object.keys(er).length)return{result:!1,message:"".concat(ei," can not be a empty object")};for(var es=0,ea=["exact","ideal","max","min"];es<ea.length;es++){var eg=ea[es],ec=er[eg];if("number"==typeof ec&&!eA.checkInteger(ec,!1))return{result:!1,message:" ".concat(eg," of ").concat(ei," must be integer number")};if("number"==typeof eo&&"number"==typeof ec&&ec<eo)return{result:!1,message:" ".concat(eg," of ").concat(ei," must greater than ").concat(eo)};if("number"==typeof en&&"number"==typeof ec&&ec>en)return{result:!1,message:" ".concat(eg," of ").concat(ei," cannot greater than ").concat(en)}}return{result:!0,message:"Constraint Extend OK."}},eA.checkConstraintExtend=function(er,ei,eo,es,ea){var eg=eA.checkConstraintExtendWithMessage(er,ei,es,ea);return eg.result||eo&&eo(en.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError,eg.message),eg.result},eA.checkBitRateLimit=function(eA,er){return!(eA>10240)||(er(en.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," bitrate cannot greater than 10 Mbps"),!1)},eA.checkCameraOrScreenBitRate=function(er,ei){if(void 0===er)return ei(en.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," bitrate is required when videoQuality is 4"),!1;if("number"==typeof er){if(!eA.checkValidNumber(er,0,10240))return ei(en.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," bitrate must be integer number"),!1;if(!eA.checkBitRateLimit(er,ei))return!1}else ei(en.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," bitrate must be number");return!0},eA.checkCameraParams=function(er,ei){return!!eA.checkParamsWithConstraintExtend(er,ei)&&!!eA.checkCameraOrScreenBitRate(er.bitRate,ei)},eA.isParamEmpty=function(eA){return null!=eA&&""!==eA},eA.isTypeString=function(eA){return"string"==typeof eA},eA.isTooLong=function(eA,er){return!(eA.length>=er)},eA.isReDispatch=function(eA){var er=eA.message.match(/action:(\d+)/),ei=er?Number(er[1]):NaN;return[en.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kTTLOverTimeError,en.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kClientIPChangedError,en.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kTTLOverTimeError,en.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kClientIPChangedError].includes(eA)||[6].includes(ei)},eA.arrAvg=function(eA,er,ei){return eA.push(er),eA.length>ei&&eA.shift(),eA.reduce(function(eA,er){return eA+er})/eA.length},eA.calcQualityOfRtt=function(eA){return eA<600?97-Math.pow(.09*eA,1.1):18*Math.exp(.002*(600-eA))},eA.calcQualityOfJitter=function(eA){return eA<=50?98-Math.pow(eA,1.15):eo.QUALITY_CONSTANT.PoorMinQuality},eA.calcQualityOfLostRate=function(eA,er){if(er)return eA<=55?99-Math.pow(.8*eA,1.18):eo.QUALITY_CONSTANT.PoorMinQuality;var ei=100*eA;return ei<=40?96-Math.pow(ei,1.22):eo.QUALITY_CONSTANT.PoorMinQuality},eA.quality2QualityGrade=function(eA){return eA>=eo.QUALITY_CONSTANT.ExcellentMinQuality?eo.QualityGrade.Excellent:eA>=eo.QUALITY_CONSTANT.GoodMinQuality?eo.QualityGrade.Good:eA>=eo.QUALITY_CONSTANT.MiddleMinQuality?eo.QualityGrade.Middle:eA>=eo.QUALITY_CONSTANT.PoorMinQuality?eo.QualityGrade.Poor:eo.QualityGrade.Die},eA.checkAudioTrackIsActive=function(eA){return!!eA.enabled},eA.checkVideoTrackIsActive=function(eA){return!!eA.enabled},eA.isSupportEncodedTransforms=function(){var eA=!!window.RTCRtpScriptTransform;if(!eA){var er=!!RTCRtpSender.prototype.createEncodedStreams,ei=!1;try{new ReadableStream,ei=!0}catch(eA){console.error("Transferable streams are not supported.")}eA=er&&ei}return eA},eA.uint8arrayToBase64=function(eA){for(var er,ei=0,eo=eA.length,en="";ei<eo;)er=eA.subarray(ei,Math.min(ei+32768,eo)),en+=String.fromCharCode.apply(null,Array.from(er)),ei+=32768;return btoa(en)},eA.isMobile=function(){return!!(navigator.userAgent.match(/Mobi/i)||navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/iPhone/i))},eA}();er.ClientUtil=ea,er.generaStreamSid=function(eA,er,ei){var en=(new Date).getTime(),es=(0,eo.getReportSeq)();return function(eA){var er=0;if(0==eA.length)return er;for(var ei=0;ei<eA.length;ei++)er=(er<<5)-er+eA.charCodeAt(ei),er&=er;return er>>>0}("".concat(eA,"_").concat(er,"_").concat(ei,"_").concat(en,"_").concat(es))},er.getPlaySourceType=function(eA){var er="rtc";switch(eA){case 0:case 3:default:er="rtc";break;case 1:er="cdn";break;case 2:er="l3"}return er},er.getChromeVer=function(){var eA=0,er=(navigator.userAgent.toLowerCase().match(/chrome\/([\d.]+)/)||[])[1];return er&&(eA=parseInt(er.split(",")[0])),eA},er.getBitCode=function(eA,er){return(eA&1<<er)>>er},er.getBrowserAndVersion=function(){var eA,er=navigator.userAgent,ei=er.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*([\d\.]+)/i)||[];return/trident/i.test(ei[1])?{name:"IE",version:(eA=/\brv[ :]+([\d\.]+)/g.exec(er)||[])[1]||""}:"Chrome"===ei[1]&&null!=(eA=er.match(/\bOPR|Edge\/([\d\.]+)/))?{name:"Opera",version:eA[1]}:(ei=ei[2]?[ei[1],ei[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(eA=er.match(/version\/([\d+\.]+)/i))&&ei.splice(1,1,eA[1]),{name:ei[0],version:ei[1]})}},1807:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.ErrorUtil=void 0;var ei=function(){function eA(){}return eA.createError=function(eA,er){return{code:eA.code,message:eA.message+(er?" "+er:"")}},eA}();er.ErrorUtil=ei},3774:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0});var ei=function(){function eA(){this.handlerListMap={}}return eA.prototype.addEventHandler=function(eA,er){if(this.handlerListMap[eA]||(this.handlerListMap[eA]=[]),"function"!=typeof er)throw Error("Params callBack is not a Function");return -1==this.handlerListMap[eA].indexOf(er)&&this.handlerListMap[eA].push(er),!0},eA.prototype.removeEventHandler=function(eA,er){return!!this.handlerListMap[eA]&&(this.handlerListMap[eA]=er?this.handlerListMap[eA].filter(function(eA){return eA!==er}):[],!0)},eA.prototype.emit=function(eA){for(var er=[],ei=1;ei<arguments.length;ei++)er[ei-1]=arguments[ei];this.handlerListMap[eA]&&this.handlerListMap[eA].forEach(function(ei){try{setTimeout(function(){ei.apply(void 0,er)},0)}catch(er){console.error('Fail to execute callback of event "'.concat(eA,'" : ').concat(er))}})},eA}();er.default=ei},3171:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.H264Parser=void 0;var ei=function(){function eA(eA){this.view=eA,this.offset=0,this.current_start_code_size=0,this.current_nalu_start=0,this.current_nalu_size=0,this.start_code_size=0,this.nalu_start=0,this.left_size=0,this.nalu_size=0,this.left_size=eA.byteLength}return eA.prototype.FindStartCode=function(){var eA=this.view.byteLength-this.offset;for(this.current_start_code_size=0,this.current_nalu_start=-1;eA>=3;){if(0==this.view.getUint8(this.offset)&&0==this.view.getUint8(this.offset+1)&&1==this.view.getUint8(this.offset+2))return this.current_start_code_size=3,this.current_nalu_start=this.offset,this.offset-1>=0&&0==this.view.getUint8(this.offset-1)&&(++this.current_start_code_size,--this.current_nalu_start),this.offset+=3,!0;--eA,++this.offset}return!1},eA.prototype.FindNalu=function(){return this.start_code_size=0,this.nalu_start=0,this.nalu_size=0,!(this.offset>=this.view.byteLength)&&!!this.FindStartCode()&&(this.start_code_size=this.current_start_code_size,this.nalu_start=this.current_nalu_start,!0)},eA.prototype.NextNalu=function(eA){return this.start_code_size=0,this.nalu_start=0,this.nalu_size=0,!(this.offset>=this.view.byteLength)&&!!this.FindStartCode()&&(this.start_code_size=this.current_start_code_size,this.nalu_start=this.current_nalu_start,!!eA&&6!=(31&this.view.getUint8(this.nalu_start+this.start_code_size))||(this.FindStartCode()?(this.offset=this.current_nalu_start,this.nalu_size=this.current_nalu_start-this.nalu_start):this.nalu_size=this.view.byteLength-this.nalu_start,!0))},eA}();er.H264Parser=ei},120:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.OSType=void 0,function(eA){eA.WIN32="WIN32",eA.MAC="Mac",eA.ANDROID="Android",eA.LINUX="Linux",eA.IOS="iOS",eA.UNKNOWN="WTF"}(er.OSType||(er.OSType={}))},2790:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.RetryHandler=void 0;var ei=function(){function eA(){this.RETRY_MAX_TIME=300,this.RETRY_START_TIME_INTERVAL=4,this.RETRY_CONTINUE_COUNT=2,this.RETRY_MAX_TIME_INTERVAL=32,this.retryStartTime=0,this.retryActiveCount=1,this.retryNetCount=0,this.retryNetMaxTimes=3,this.isOverTime=!1}return eA.prototype.init=function(eA,er,ei,eo){this.invalid(),this.stopMaxTime(),this.isOverTime=!1,"number"==typeof eA&&eA<3600&&(this.RETRY_MAX_TIME=eA),"number"==typeof er&&(this.RETRY_START_TIME_INTERVAL=er),"number"==typeof ei&&(this.RETRY_CONTINUE_COUNT=ei),"number"==typeof eo&&(this.RETRY_MAX_TIME_INTERVAL=eo)},eA.prototype.invalid=function(){this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=null,this.startRetryTimer&&clearTimeout(this.startRetryTimer),this.startRetryTimer=null,this.retryStartTime=0,this.retryActiveCount=1,this.retryNetCount=0},eA.prototype.isRetrying=function(){return null!==this.retryTimer||null!==this.startRetryTimer||null!==this.maxTimer},eA}();er.RetryHandler=ei},3332:function(eA,er,ei){"use strict";var eo=this&&this.__spreadArray||function(eA,er,ei){if(ei||2==arguments.length)for(var eo,en=0,es=er.length;en<es;en++)!eo&&en in er||(eo||(eo=Array.prototype.slice.call(er,0,en)),eo[en]=er[en]);return eA.concat(eo||Array.prototype.slice.call(er))};Object.defineProperty(er,"__esModule",{value:!0}),er.SdpUtil=void 0;var en=ei(5123),es=ei(5123),ea=function(){function eA(){}return eA.zegoSdp=function(eA){var er=eA.split("\r\n"),ei=[],en=[];er.forEach(function(eA){var er=eA.match(/a=rtpmap:(\d+)\s+((H264\/90000)|(opus\/48000\/2))/);er&&er[1]&&er[2]&&("H264/90000"===er[2]&&ei.push(er[1]),"opus/48000/2"===er[2]&&en.push(er[1]))});var es=[];return er.map(function(eA){var er=!0,ea=eA.match(/((a=rtcp-fb:)|(a=rtpmap:)|(a=fmtp:))(\d+)/);if(ea&&ea[5]&&(eo(eo([],ei,!0),en,!0).some(function(eA){return eA==ea[5]})||(er=!1)),eA.indexOf("m=video")>-1){var eg=eA.split(" ");eA=eo([eg[0],eg[1],eg[2]],ei,!0).join(" ")}else eA.indexOf("m=audio")>-1&&(eg=eA.split(" "),eA=eo([eg[0],eg[1],eg[2]],en,!0).join(" "));er&&es.push(eA)}),es.join("\r\n")},eA.getSDPByVideDecodeType=function(eA,er,ei,ea){var eg={str:"",arr:[],obj:{H264:[],H265:[],VP8:[],VP9:[],OTHER:[]}};if(!eA.includes("m=video"))return eA;var ec=/m=video.+/.exec(eA)[0];ec=ec.match(/[\s|\d]+/g)[1].replace(" ",""),eg.str=ec,eg.arr=eg.str.split(" "),eg.arr.forEach(function(er){var ei=RegExp("a=rtpmap:"+er+".+").exec(eA)[0];ei.includes("H264")?eg.obj.H264.push(er):ei.includes("H265")?eg.obj.H265.push(er):ei.includes("VP8")?eg.obj.VP8.push(er):ei.includes("VP9")?eg.obj.VP9.push(er):eg.obj.OTHER.push(er)}),eg.obj.OTHER.forEach(function(er){var ei=RegExp("a=fmtp:"+er+".+apt=(\\d+)").exec(eA),eo=ei&&ei[1];eo&&(eg.obj.H264.includes(eo)?eg.obj.H264.push(er):eg.obj.H265.includes(eo)?eg.obj.H265.push(er):eg.obj.VP8.includes(eo)?eg.obj.VP8.push(er):eg.obj.VP9.includes(eo)&&eg.obj.VP9.push(er))});var eu=[];if("VP9"===er?eu=eo(eo(eo([],eg.obj.H265,!0),eg.obj.H264,!0),eg.obj.VP8,!0):"VP8"===er?eu=eo(eo(eo([],eg.obj.H265,!0),eg.obj.H264,!0),eg.obj.VP9,!0):"H264"===er?eu=eo(eo(eo([],eg.obj.H265,!0),eg.obj.VP8,!0),eg.obj.VP9,!0):"H265"===er&&(eu=eo(eo(eo([],eg.obj.VP8,!0),eg.obj.H264,!0),eg.obj.VP9,!0)),"H264"==er&&"boolean"==typeof ei){var el=function(eA){return function(er){return!!er.includes("profile-level-id=")&&(eA?!er.includes("profile-level-id=42e01f"):er.includes("profile-level-id=42e01f"))}},ed=function(eA){return function(er){if(!er.includes("profile-level-id="))return!1;switch(eA){case es.H264ProfileType.BASE_LINE:return!er.includes("profile-level-id=42");case es.H264ProfileType.MAIN:return!er.includes("profile-level-id=4d");case es.H264ProfileType.HIGH:return!er.includes("profile-level-id=64");default:return!1}}},eE=function(er){return function(){var ei=[];return eg.obj.H264.forEach(function(eo){for(var en=RegExp("a=fmtp:"+eo+".+\\s\\n","g").exec(eA)||[],es=0,ea=er;es<ea.length;es++)0!==en.filter(ea[es]).length&&ei.push(eo);var eg=RegExp("a=fmtp:"+eo+".+apt=(\\d+)").exec(eA),ec=eg&&eg[1];ec&&ei.includes(ec)&&ei.push(eo)}),ei}};eu=eu.concat(function(){for(var eA=[],er=0,eo=void 0!==ea&&ea===en.EncodecSelectionModeType.HARD_SOFT_ENCODEC_FIRST?[eE([el(ei),ed(es.H264ProfileType.BASE_LINE)]),eE([el(ei)]),eE([el(!ei),ed(es.H264ProfileType.BASE_LINE)]),eE([el(!ei)])]:void 0!==ea&&ea===en.EncodecSelectionModeType.HIGH_PROFILE_FIRST?[eE([ed(es.H264ProfileType.HIGH),el(ei)]),eE([ed(es.H264ProfileType.HIGH),el(!ei)]),eE([el(ei)]),eE([el(!ei)])]:[eE([ed(es.H264ProfileType.BASE_LINE),el(ei)]),eE([ed(es.H264ProfileType.BASE_LINE),el(!ei)]),eE([el(ei)]),eE([el(!ei)])];er<eo.length&&(eA=(0,eo[er])(),new Set(eA).size===eg.obj.H264.length);er++)eA=[];return eA}())}return eu.forEach(function(er){var ei=eg.arr.indexOf(er);ei>=0&&eg.arr.splice(ei,1);var eo=RegExp("a=rtpmap:"+er+".+\\s\\n","g"),en=RegExp("a=rtcp-fb:"+er+".+\\s\\n","g"),es=RegExp("a=fmtp:"+er+".+\\s\\n","g");eA=(eA=(eA=eA.replace(eo,"")).replace(en,"")).replace(es,"")}),eA=eA.replace(ec,eg.arr.join(" "))},eA}();er.SdpUtil=ea},1018:function(eA,er,ei){"use strict";var eo=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},en=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}};Object.defineProperty(er,"__esModule",{value:!0}),er.WebRTCUtil=void 0;var es=ei(1586),ea=ei(4651),eg=ei(4028),ec=function(){function eA(){}return eA.supportDetection=function(eA,er,ei,es){return eo(this,void 0,void 0,function(){var eo,ea,eg,ec,eu,el,ed,eE;return en(this,function(en){switch(en.label){case 0:return eo={webRTC:!1,customCapture:!1,camera:!1,microphone:!1,videoCodec:{H264:!1,H265:!1,VP8:!1,VP9:!1},screenSharing:eA,errInfo:{}},es&&"screenSharing"===es?(er({result:eA,errInfo:eo.errInfo}),[2]):es&&"customCapture"!==es||(((ea=document.createElement("video")).captureStream||ea.mozCaptureStream)&&(eo.customCapture=!0),"customCapture"!==es)?(eg=navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,ec=function(){var eA="https:"!==window.location.protocol&&"file:"!==window.location.protocol&&-1==window.location.hostname.indexOf("127.0.0.1")&&-1==window.location.hostname.indexOf("localhost");if(eA)throw console.error("webrtc requires https or localhost"),Error("webrtc requires https or localhost");return!eA}(),es&&"camera"!==es&&"microphone"!==es?[3,9]:eg?ec?[3,1]:(eo.camera=!1,eo.microphone=!1,console.error("webrtc requires https or localhost"),[3,9]):[3,9]):(er({result:eo.customCapture,errInfo:eo.errInfo}),[2]);case 1:if(es&&"camera"!==es)return[3,5];en.label=2;case 2:return en.trys.push([2,4,,5]),[4,navigator.mediaDevices.getUserMedia({video:!0})];case 3:return(eu=en.sent())&&(eo.camera=!0)&&eu.getTracks().forEach(function(eA){return eA.stop()}),[3,5];case 4:return el=en.sent(),eo.errInfo.camera={name:el.name,message:el.message},console.error("camera devices detect error: ",el.name,el.message),[3,5];case 5:if(es&&"microphone"!==es)return[3,9];en.label=6;case 6:return en.trys.push([6,8,,9]),[4,navigator.mediaDevices.getUserMedia({audio:!0})];case 7:return(ed=en.sent())&&(eo.microphone=!0)&&ed.getTracks().forEach(function(eA){return eA.stop()}),[3,9];case 8:return eE=en.sent(),eo.errInfo.microphone={name:eE.name,message:eE.message},console.error("microphone devices detect error: ",eE.name,eE.message),[3,9];case 9:return"camera"===es||"microphone"===es?er({result:eo[es],errInfo:eo.errInfo}):this.supportVideoCodeType(function(eA,ei){es||(eo.videoCodec.H264=eA.H264,eo.videoCodec.H265=eA.H265,eo.videoCodec.VP8=eA.VP8,eo.videoCodec.VP9=eA.VP9,eo.webRTC=eA.webRTC),ei&&("string"==typeof ei?eo.errInfo.extendedDate=ei:eo.errInfo.webRTC={name:ei.name,message:ei.message},console.error("videoCodec detect error: "+ei)),er&&er(es?{result:eA[es],errInfo:eo.errInfo}:eo)},ei,es),[2]}})})},eA.supportVideoCodeType=function(eA,er,ei){return eo(this,void 0,void 0,function(){var eo,es,eg,ec,eu,el,ed,eE,eI,eC;return en(this,function(en){switch(en.label){case 0:return eo={webRTC:!1,H264:!1,VP8:!1,VP9:!1,H265:!1},ei?1!==er||"VP8"!==ei&&"H264"!==ei?[3,2]:[4,(eC=new ea.CheckModule).checkSupportByType(ei)]:[3,2];case 1:return"boolean"==typeof(es=en.sent())?(eo[ei]=es,[2,eA(eo)]):(eo[ei]=!1,[2,eA(eo,es)]);case 2:if("webRTC"!==ei&&1!==er)return[3,7];en.label=3;case 3:return en.trys.push([3,5,,6]),[4,(new RTCPeerConnection).createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0})];case 4:return en.sent(),eo.webRTC=!0,[3,6];case 5:return eg=en.sent(),eA&&eA(eo,eg),[3,6];case 6:if("webRTC"===ei)return[2,eA(eo)];en.label=7;case 7:if(1===er){for(ec="",el=[],ed=0,eE=eu=["VP8","H264"];ed<eE.length;ed++)eI=eE[ed],eC=new ea.CheckModule,el.push(eC.checkSupportByType(eI));return Promise.all(el).then(function(er){er.forEach(function(eA,er){"boolean"==typeof eA?eo[eu[er]]=!0:(eo[eu[er]]=!1,ec=eA)}),ec?eA(eo,ec):eA(eo)}),[2]}try{(new RTCPeerConnection).createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}).then(function(er){if(eo.webRTC=!0,er&&er.sdp){var en=er.sdp.split("\r\n");if(eo.H264=en.some(function(eA){return eA.startsWith("a=rtpmap:")&&eA.indexOf("H264/")>-1}),"H264"===ei||(eo.VP8=en.some(function(eA){return eA.startsWith("a=rtpmap:")&&eA.indexOf("VP8/")>-1}),"VP8"===ei))return eA(eo);eo.VP9=en.some(function(eA){return eA.startsWith("a=rtpmap:")&&eA.indexOf("VP9/")>-1}),eo.H265=en.some(function(eA){return eA.startsWith("a=rtpmap:")&&eA.indexOf("H265/")>-1}),eA&&eA(eo)}})}catch(er){eA&&eA(eo,er)}return[2]}})})},eA.checkScreenParams=function(eA,er){return"object"!=typeof eA||void 0===eA.videoQuality||eg.ClientUtil.checkInteger(eA.videoQuality)?"object"==typeof eA&&void 0!==eA.sourceID&&"string"!=typeof eA.sourceID?(er(es.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," sourceID must be string"),!1):!!("object"!=typeof eA||4!==eA.videoQuality||eg.ClientUtil.checkCameraOrScreenBitRate(eA.bitRate,er)&&eg.ClientUtil.checkParamsWithConstraintExtend(eA,er)):(er(es.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," videoQuality must be integer number"),!1)},eA.checkCameraParams=function(eA,er){return!!eg.ClientUtil.checkParamsWithConstraintExtend(eA,er)&&!!eg.ClientUtil.checkCameraOrScreenBitRate(eA.bitRate,er)},eA.base64ToUint8Array=function(eA){for(var er=(eA+"=".repeat((4-eA.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ei=window.atob(er),eo=new Uint8Array(ei.length),en=0;en<ei.length;++en)eo[en]=ei.charCodeAt(en);return eo},eA.decodeString=function(eA){return decodeURIComponent(escape(String.fromCharCode.apply(String,Array.from(eA))))},eA.encodeString=function(eA){return Uint8Array.from(Array.from(unescape(encodeURIComponent(eA))).map(function(eA){return eA.charCodeAt(0)}))},eA}();er.WebRTCUtil=ec},1916:function(eA,er,ei){"use strict";var eo=this&&this.__assign||function(){return(eo=Object.assign||function(eA){for(var er,ei=1,eo=arguments.length;ei<eo;ei++)for(var en in er=arguments[ei])Object.prototype.hasOwnProperty.call(er,en)&&(eA[en]=er[en]);return eA}).apply(this,arguments)},en=this&&this.__createBinding||(Object.create?function(eA,er,ei,eo){void 0===eo&&(eo=ei);var en=Object.getOwnPropertyDescriptor(er,ei);en&&!("get"in en?!er.__esModule:en.writable||en.configurable)||(en={enumerable:!0,get:function(){return er[ei]}}),Object.defineProperty(eA,eo,en)}:function(eA,er,ei,eo){void 0===eo&&(eo=ei),eA[eo]=er[ei]}),es=this&&this.__setModuleDefault||(Object.create?function(eA,er){Object.defineProperty(eA,"default",{enumerable:!0,value:er})}:function(eA,er){eA.default=er}),ea=this&&this.__importStar||function(eA){if(eA&&eA.__esModule)return eA;var er={};if(null!=eA)for(var ei in eA)"default"!==ei&&Object.prototype.hasOwnProperty.call(eA,ei)&&en(er,eA,ei);return es(er,eA),er},eg=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},ec=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}};Object.defineProperty(er,"__esModule",{value:!0}),er.ZegoWebRTC=void 0;var eu=ei(5123),el=ei(4028),ed=ei(1018),eE=ei(7437),eI=ei(93),eC=ei(1586),eh=ei(3304),eB=ei(9723),ep=ei(4202),ef=ei(9987),em=ea(ei(5515)),eQ=ei(7436),ev=ei(2388),e_=ei(4147),ey=ei(3074),eS=ei(8913),eR=ei(1264),eT=ei(1264),eD=ei(2532),eb=ei(9770),eN=function(){function eA(eA,er,ei,eo,en,es){void 0===en&&(en=0),void 0===es&&(es=eu.ZegoScenario.Default);var ea=this;this.mediaEleSources=[],this.logger=eA,this.dataReport=er,this.ac=new("undefined"!=typeof webkitAudioContext?webkitAudioContext:AudioContext),this.ac.addEventListener("statechange",function(){var eA=ea.ac.state;ea.logger.info("zc.acsc ".concat(eA)),"running"!==eA&&ea.ac.resume()}),this.checkAudioContext(),this.stateCenter=new eE.StateCenter(this.logger,this.dataReport),this.stateCenter.clientType="webrtc",this.stateCenter.settingConfig=new eT.ZegoSettingConfig,this.RTM=eo,this.stateCenter.appid=eo.getAppID(),this.streamCenter=new eB.ZegoStreamCenterWeb(this.logger,this.stateCenter,this.dataReport,this.RTM,this.ac,this.mediaEleSources),this.stateCenter.browser=em.browserDetails.browser,this.stateCenter.browserInfo=(0,el.getBrowserAndVersion)(),this.RTM.cloudSetting.setEnvVariable("sdk_version",eu.PROTO_VERSION),this.initTracer(ei),this.rtcModules=new eh.RTCModules(this.logger,this.dataReport,this.stateCenter,this.streamCenter,this.RTM,this.ac,this),this.RTM.cloudSetting.getSettingCache(eR.RTC).then(function(eA){ea.logger.info(eI.ZEGO_WEBRTC_ACTION.CONSTRUCTOR+" streamConfig "+JSON.stringify(eA));var er=ea.stateCenter.reporter.createSpan(eu.TRACER_LEVEL.H,{key:eC.ZegoRTCLogEvent.kZegoTaskInitSetting.event},{key:""},eC.ZegoRTCLogEvent.kZegoTaskCloudSettingCache.event);er.setAttributes({files:eC.ZegoRTCLogEvent.kZegoTaskCloudSettingCache.files([{name:eR.RTC,content:JSON.stringify(null==eA?void 0:eA.setting),versions:JSON.stringify(null==eA?void 0:eA.versions),code:0,message:""}])}),er.end(),ea.stateCenter.settingConfig.setSetting(null==eA?void 0:eA.setting)}).catch(function(eA){ea.logger.warn(eI.ZEGO_WEBRTC_ACTION.CONSTRUCTOR+" streamConfig "+JSON.stringify(eA))}),this.stateCenter.rtm=this.RTM,this.stateCenter.streamCenter=this.streamCenter,this.stateCenter.chargeInfosSaver.checkAndReport(),[3,4,5,6,7,8].includes(es)?(this.stateCenter.scenario=es,[4,5,8].includes(es)?this.enableVideoHardwareEncoder(!0):this.enableVideoHardwareEncoder(!1),this.logger.info(eI.ZEGO_WEBRTC_ACTION.INIT_ROOM_SCENARIO+" "+es+"  success")):(this.stateCenter.scenario=eu.ZegoScenario.Default,this.logger.error(eI.ZEGO_WEBRTC_ACTION.INIT_ROOM_SCENARIO+" "+es+"  please use valid scenario"))}return eA.prototype.checkAudioContext=function(){var eA=this;if(this.ac&&"suspended"===this.ac.state){var er=function(){"running"!==eA.ac.state?eA.ac.resume():(window.removeEventListener("click",er),window.removeEventListener("touchstart",er))};window.addEventListener("click",er),window.addEventListener("touchstart",er)}},eA.prototype.mutePublishStreamVideo=function(eA,er,ei){return!1},eA.prototype.mutePublishStreamAudio=function(eA,er){return!1},eA.prototype.mutePlayStreamVideo=function(eA,er){return new Promise(function(eA,er){console.error("should install advanced module"),eA(!1)})},eA.prototype.mutePlayStreamAudio=function(eA,er){return new Promise(function(eA,er){console.error("should install advanced module"),eA(!1)})},eA.prototype.muteMicrophone=function(eA){return!1},eA.prototype.isMicrophoneMuted=function(){return!this.streamCenter.isMicEnabled},eA.prototype.setAudioOutput=function(eA,er){return this.logger.info(eI.ZEGO_WEBRTC_ACTION.SET_AUDIO_OUTPUT+" call"),"string"!=typeof er?(this.logger.error("audiooutput is not string"),!1):this.rtcModules.playModule.setStreamAudioOutput(eA,er)},eA.prototype.setCustomSignalUrl=function(eA){if(this.logger.info(eI.ZEGO_WEBRTC_ACTION.SET_CUSTOM_SIGNAL_URL+" call: "+eA),eA&&0!=eA.length){var er=!0;eA.forEach(function(eA){return 0!=eA.indexOf("wss://")&&(er=!1)}),er?this.stateCenter.customUrl=eA:this.logger.error(eI.ZEGO_WEBRTC_ACTION.SET_CUSTOM_SIGNAL_URL+" url is not correct")}else this.logger.error(eI.ZEGO_WEBRTC_ACTION.SET_CUSTOM_SIGNAL_URL+" param error")},eA.prototype.setGWNode=function(eA){"string"==typeof eA&&eA.length>0&&(this.streamCenter.gwNode=eA)},eA.prototype.setQualityMonitorCycle=function(eA){return"number"==typeof eA&&eA>=1e3?(this.streamCenter.setQualityMonitorCycle(eA),!0):(this.logger.error("zc.sqmc.0 time must be number and bigger than 1000"),!1)},eA.prototype.startPlayingStream=function(eA,er,ei){return this.logger.info(eI.ZEGO_WEBRTC_ACTION.START_PLAYING_STREAM+" call by user"),this.rtcModules.playModule.startPlayingStream(eA,er,ei)},eA.prototype.stopPlayingStream=function(eA){this.logger.info(eI.ZEGO_WEBRTC_ACTION.STOP_PLAYING_STREAM+" call by user"),this.rtcModules.playModule.stopPlayingStream(eA)},eA.prototype.setPlayAccelerate=function(eA){this.stateCenter.playAccelerate=eA},eA.prototype.setTurnOverTcpOnly=function(eA){this.logger.info(eI.ZEGO_WEBRTC_ACTION.SET_TURN_OVER_TCP_ONLY+" call "+eA),"boolean"==typeof eA?this.stateCenter.turnOverTcpOnly=eA:this.logger.error("zc.p.stoto.0 param must be param")},eA.prototype.createStream=function(eA){return this.rtcModules.publishModule.createStream(eA)},eA.prototype.setRoomScenario=function(eA){return[3,4,5,6,7,8].includes(eA)?(this.logger.info(eI.ZEGO_WEBRTC_ACTION.SET_ROOM_SCENARIO+" "+eA+" called"),this.stateCenter.roomList.length?(this.logger.error(eI.ZEGO_WEBRTC_ACTION.SET_ROOM_SCENARIO+" "+JSON.stringify(eD.errorCodeList.SET_ROOM_SCENARIO)),!1):([eu.ZegoScenario.StandardVideoCall,eu.ZegoScenario.HighVideoCall,eu.ZegoScenario.Broadcast].includes(eA)?this.enableVideoHardwareEncoder(!0):this.enableVideoHardwareEncoder(!1),this.stateCenter.scenario=eA,this.logger.info(eI.ZEGO_WEBRTC_ACTION.SET_ROOM_SCENARIO+" "+eA+" called success"),!0)):(this.logger.error(eI.ZEGO_WEBRTC_ACTION.SET_ROOM_SCENARIO+" "+eA+" please use valid scenario"),!1)},eA.prototype.destroyStream=function(eA){this.rtcModules.publishModule.destroyStream(eA)},eA.prototype.startPublishingStream=function(eA,er,ei,eo){return this.logger.info(eI.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+" call by user"),this.rtcModules.publishModule.startPublishingStream(eA,er,ei,eo)},eA.prototype.activateSEIInsert=function(eA){return console.error("should install advanced module"),!1},eA.prototype.setSEIConfig=function(eA){this.logger.info("zc.ssc "+JSON.stringify(eA)),this.stateCenter.seiConfig=eo(eo({},this.stateCenter.seiConfig),eA)},eA.prototype.sendSEI=function(eA,er){return this.rtcModules.publishModule.sendSEI(eA,er)},eA.prototype.stopPublishingStream=function(eA){return this.logger.info(eI.ZEGO_WEBRTC_ACTION.STOP_PUBLISHING_STREAM+" call by user"),this.rtcModules.publishModule.stopPublishingStream(eA,void 0,!0)},eA.prototype.setVideoConfig=function(eA,er){return this.rtcModules.advancedModule?this.rtcModules.advancedModule.setVideoConfig(eA,er):new Promise(function(eA,er){console.error("should install advanced module"),eA({errorCode:-1,extendedData:"should install advanced module"})})},eA.prototype.setAudioConfig=function(eA,er){return this.rtcModules.advancedModule?this.rtcModules.advancedModule.setAudioConfig(eA,er):new Promise(function(eA,er){console.error("should install advanced module"),eA({errorCode:-1,extendedData:"should install advanced module"})})},eA.prototype.replaceTrack=function(eA,er,ei){return this.rtcModules.advancedModule?this.rtcModules.advancedModule.replaceTrack(eA,er,ei):new Promise(function(eA,er){console.error("should install advanced module"),eA({errorCode:-1,extendedData:"should install advanced module"})})},eA.prototype.preloadEffect=function(eA,er,ei){void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.preloadEffect(eA,er,ei):console.error("未引入混音模块")},eA.prototype.getEffectDuration=function(eA){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.getEffectDuration(eA):(console.error("未引入混音模块"),0)},eA.prototype.getEffectCurrentProgress=function(eA,er){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.getEffectProgress(eA,er):(console.error("未引入混音模块"),0)},eA.prototype.seekAudioEffect=function(eA,er,ei){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.seekAudioEffect(eA,er,ei):(console.error("未引入混音模块"),!1)},eA.prototype.playEffect=function(eA,er,ei){void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.playEffect(eA,er,ei):console.error("未引入混音模块")},eA.prototype.pauseEffect=function(eA,er){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.pauseEffect(eA,er):(console.error("未引入混音模块"),!1)},eA.prototype.resumeEffect=function(eA,er){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.resumeEffect(eA,er):(console.error("未引入混音模块"),!1)},eA.prototype.stopEffect=function(eA,er){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.stopEffect(eA,er):(console.error("未引入混音模块"),!1)},eA.prototype.unloadEffect=function(eA){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.unloadEffect(eA):(console.error("未引入混音模块"),!1)},eA.prototype.setEffectVolume=function(eA,er,ei,eo){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.setEffectVolume(eA,er,ei,eo):(console.error("未引入混音模块"),!1)},eA.prototype.startMixingAudio=function(eA,er){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.startMixingAudio(eA,er):(console.error("未引入混音模块"),!1)},eA.prototype.stopMixingAudio=function(eA,er){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.stopMixingAudio(eA,er):(console.error("未引入混音模块"),!1)},eA.prototype.mixingBuffer=function(eA,er,ei,eo){void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.mixingBuffer(eA,er,ei,eo):console.error("未引入混音模块")},eA.prototype.stopMixingBuffer=function(eA,er){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.stopMixingBuffer(eA,er):(console.error("未引入混音模块"),!1)},eA.prototype.setMixingAudioVolume=function(eA,er,ei){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.setMixingAudioVolume(eA,er,ei):(console.error("未引入混音模块"),!1)},eA.prototype.checkSystemRequirements=function(er,ei){var eo=this,en=navigator&&navigator.mediaDevices&&(eA.screenShotReady||"getDisplayMedia"in navigator.mediaDevices);return this.logger.info(eI.ZEGO_WEBRTC_ACTION.CHECK_SUPPORT+" call"+navigator.userAgent),new Promise(function(eA){var es=eo.stateCenter.reporter.createSpan(eu.TRACER_LEVEL.H,{key:eC.ZegoRTCLogEvent.kZegoTaskInitSetting.event},{key:""},eC.ZegoRTCLogEvent.kZegoTaskCheckSystemRequirements.event),ea=ei||"all",eg=function(er){es.setAttributes({capability:eC.ZegoRTCLogEvent.kZegoTaskCheckSystemRequirements.capability(er)}),es.end();var ei=eo.stateCenter.checkList.indexOf(ea);eo.stateCenter.checkList.splice(ei,1),eA(er)};return["webRTC","customCapture","camera","microphone","screenSharing","H264","VP8","all"].includes(ea)&&[0,1].includes(er)?eo.stateCenter.checkList.includes(ea)||eo.stateCenter.checkList.includes("all")?eg({result:!1,errInfo:{extendedDate:"The last test of the same type has not returned a result "}}):(eo.stateCenter.checkList.push(ea),void ed.WebRTCUtil.supportDetection(en,eg,er,ei)):eg({result:!1,errInfo:{extendedDate:"param error"}})})},eA.prototype.enumDevices=function(eA,er){return eg(this,void 0,void 0,function(){var ei,eo,en,es,ea,eg,el,ed,eE,eI,eh,eB,ep,ef=this;return ec(this,function(ec){switch(ec.label){case 0:return this.logger.info("zc.ed.0 call"),[4,(ei=function(){return new Promise(function(eA,ei){var eo=ef.stateCenter.reporter.createSpan(eu.TRACER_LEVEL.H,{key:eC.ZegoRTCLogEvent.kZMInitSetting.event},{key:""},eC.ZegoRTCLogEvent.kZegoTaskEnumDevices.event);ef.rtcModules.publishModule.recordDevices(function(ei){var en=[],es=!0,ea=!0;ei.cameras.forEach(function(eA){""===eA.deviceID&&(es=!1),en.push({device:eA.deviceID,device_name:eA.deviceName,type:0})}),ei.microphones.forEach(function(eA){""===eA.deviceID&&(ea=!1),en.push({device:eA.deviceID,device_name:eA.deviceName,type:1})}),ei.speakers.forEach(function(eA){return en.push({device:eA.deviceID,device_name:eA.deviceName,type:2})}),eo.setAttributes({dev_list:eC.ZegoRTCLogEvent.kZegoTaskEnumDevices.dev_list(en),dev_kind:eC.ZegoRTCLogEvent.kZegoTaskEnumDevices.dev_kind(er||"all")}),eo.end(),eA({devices:ei,enableCamera:es,enableMic:ea})},function(eA){ef.stateCenter.reporter.setError(eo,eA),ei(eA)})})})()];case 1:return en=(eo=ec.sent()).enableCamera,es=eo.enableMic,ea=eo.devices,eA?(this.logger.info("zc.ed.0 check permission"),eg={video:!0,audio:!0},"videoinput"===er?eg.audio=!1:"audioinput"!==er&&"audiooutput"!==er||(eg.video=!1),ed=eg.audio&&!es,(el=eg.video&&!en)||ed?(this.logger.info("zc.ed.0 need to get device permission. needCamera: ".concat(el,", needMic: ").concat(ed)),[4,navigator.mediaDevices.getUserMedia(eg).catch(function(){})]):[3,4]):[3,4];case 2:return(eE=ec.sent())&&eE.getTracks().forEach(function(eA){eA.stop()}),[4,ei()];case 3:eh=(eI=ec.sent()).devices,eB=eI.enableCamera,ep=eI.enableMic,eg.video&&!eB&&this.logger.warn("zc.ed.0 get video device permission failed."),eg.audio&&!ep&&this.logger.warn("zc.ed.0 get audio device permission failed."),ea=eh,ec.label=4;case 4:return[2,ea]}})})},eA.prototype.getCameras=function(){return eg(this,void 0,void 0,function(){return ec(this,function(eA){switch(eA.label){case 0:return[4,this.enumDevices(!0,"videoinput")];case 1:return[2,eA.sent().cameras]}})})},eA.prototype.getMicrophones=function(){return eg(this,void 0,void 0,function(){return ec(this,function(eA){switch(eA.label){case 0:return[4,this.enumDevices(!0,"audioinput")];case 1:return[2,eA.sent().microphones]}})})},eA.prototype.getSpeakers=function(){return eg(this,void 0,void 0,function(){return ec(this,function(eA){switch(eA.label){case 0:return[4,this.enumDevices(!0,"audiooutput")];case 1:return[2,eA.sent().speakers]}})})},eA.prototype.getAudioInfo=function(eA,er,ei){},eA.prototype.getSoundLevel=function(eA,er,ei){this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.getSoundLevel(eA,er,ei):console.error("未引入混音模块")},eA.prototype.stopSoundLevel=function(eA){this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.stopSoundLevel(eA):console.error("未引入混音模块")},eA.handleDataAvailable=function(er){er.data&&er.data.size>0&&eA.recordedBlobs.push(er.data)},eA.prototype.startRecord=function(eA){},eA.prototype.stopRecord=function(){},eA.prototype.resumeRecord=function(){},eA.prototype.pauseRecord=function(){},eA.prototype.saveRecord=function(eA){},eA.prototype.useVideoDevice=function(eA,er){return this.rtcModules.advancedModule?this.rtcModules.advancedModule.useVideoDevice(eA,er):new Promise(function(eA,er){eA({errorCode:-1,extendedData:"should install advanced module"})})},eA.prototype.useAudioDevice=function(eA,er){return this.rtcModules.advancedModule?this.rtcModules.advancedModule.useAudioDevice(eA,er):(console.error("should use advanced module first"),new Promise(function(eA,er){eA({errorCode:-1,extendedData:"should install advanced module"})}))},eA.prototype.getElectronScreenSources=function(){return this.rtcModules.publishModule.getElectronScreenSources()},eA.prototype.setSoundLevelDelegate=function(eA,er,ei){this.logger.info("zc.ssd.0 call"),"boolean"==typeof eA?er&&(!this.stateCenter.checkInteger(er)||er<100||er>3e3)?this.logger.error("zc.ssd.0 soundLevel interval must be integer number which is between 100 and 3000"):this.streamCenter.setSoundLevelDelegate(eA,er,ei):this.logger.error("zc.ssd.0 param 1 must be boolean")},eA.prototype.on=function(eA,er){return this.rtcModules.bindListener(eA,er)},eA.prototype.off=function(eA,er){return this.rtcModules.deleteListener(eA,er)},eA.prototype.getVersion=function(){return eu.PROTO_VERSION},eA.prototype.setStreamExtraInfo=function(eA,er){return new Promise(function(eA,er){console.error("should use advanced module first"),er()})},eA.prototype.addPublishCdnUrl=function(eA,er){return this.logger.info("zg.cm.apu call ",eA,er),this.rtcModules.streamCommonModule?this.rtcModules.streamCommonModule.publishTarget({type:"addpush",streamID:eA,pushUrl:er}):new Promise(function(eA,er){console.error("should install advanced module"),eA({errorCode:-1,extendedData:"should install advanced module"})})},eA.prototype.removePublishCdnUrl=function(eA,er){return this.logger.info("zg.cm.apu call ",eA,er),this.rtcModules.streamCommonModule?this.rtcModules.streamCommonModule.publishTarget({type:"delpush",streamID:eA,pushUrl:er}):new Promise(function(eA,er){console.error("should install advanced module"),eA({errorCode:-1,extendedData:"should install advanced module"})})},eA.prototype.startMixerTask=function(eA){return new Promise(function(eA,er){console.error("未引入混流模块"),er()})},eA.prototype.setMixerTaskConfig=function(eA){return new Promise(function(eA,er){console.error("未引入混流模块"),er()})},eA.prototype.stopMixerTask=function(eA){return new Promise(function(eA,er){console.error("未引入混流模块"),er()})},eA.prototype.setCaptureVolume=function(eA,er){return this.rtcModules.publishModule.setCaptureVolume(eA,er)},eA.use=function(er){switch(er.type){case"AudioMix":er.install(eh.RTCModules,ef.ZegoPublish);break;case"MixStream":er.install(eA,ep.StreamHandler,eh.RTCModules);break;case"StreamCommon":er.install(eA,eh.RTCModules,ep.StreamHandler);break;case"Advance":er.install(eA,eh.RTCModules,ep.StreamHandler,eQ.ZegoPreview,ev.PlayModule,e_.PublishModule,ef.ZegoPublish,ey.ZegoSignal);break;case"BeautyEffect":case"VoiceChanger":er.install(eA,eQ.ZegoPreview);break;case"RangeAudio":case"DataChannel":case"AiDenoise":case"BackgroundProcess":case"CopyrightedMusic":er.install(eA)}},eA.prototype.createRangeAudioInstance=function(){throw Error("should use range audio module")},eA.prototype.createCopyrightedMusic=function(){throw Error("should use copyrighted music module")},eA.prototype.destroyCopyrightedMusic=function(){throw Error("should use copyrighted music module")},eA.prototype.createRealTimeSequentialDataManager=function(eA){throw Error("should use datachannel module")},eA.prototype.destroyRealTimeSequentialDataManager=function(eA){throw Error("should use datachannel module")},eA.prototype.enableDataChannel=function(eA){"boolean"==typeof eA&&(this.streamCenter.isDataChannelEnabled=eA)},eA.prototype.addTrack=function(eA,er){return new Promise(function(eA,er){throw Error("use advanced module first")})},eA.prototype.removeTrack=function(eA,er){return new Promise(function(eA,er){throw Error("use advanced module first")})},eA.prototype.setBeautyEffect=function(eA,er,ei){return new Promise(function(eA,er){console.error("should install video effect module and advanced module"),eA({errorCode:-1,extendedData:"should install video effect module and advanced module"})})},eA.prototype.setLowlightEnhance=function(eA,er){return new Promise(function(eA,er){console.error("should install video effect module and advanced module"),eA({errorCode:-1,extendedData:"should install video effect module and advanced module"})})},eA.prototype.getPublishingStreamQuality=function(eA){return this.rtcModules.publishModule.getStreamStats(eA)},eA.prototype.getPlayingStreamQuality=function(eA){return this.rtcModules.playModule.getStreamStats(eA)},eA.prototype.checkAudioTrackIsActive=function(eA){return MediaStreamTrack instanceof eA&&"video"===eA.kind?el.ClientUtil.checkAudioTrackIsActive(eA):(this.logger.error("zc.caia.0 track type error"),!1)},eA.prototype.checkVideoTrackIsActive=function(eA){return MediaStreamTrack instanceof eA&&"audio"===eA.kind?el.ClientUtil.checkVideoTrackIsActive(eA):(this.logger.error("zc.cvia.0 track type error"),!1)},eA.prototype.setDummyCaptureImagePath=function(eA,er){return this.rtcModules.advancedModule?this.rtcModules.advancedModule.setDummyCaptureImagePath(eA,er):new Promise(function(eA,er){console.error("should install advanced module"),eA(!1)})},eA.prototype.setAccess=function(eA){this.RTM.setAccess(eA),this.stateCenter.useNetAgent=this.RTM.getSettingUnify(!0),this.RTM.setAccess(this.stateCenter.useNetAgent),this.stateCenter.useNetAgent=this.RTM.getUseNetAgent()},eA.prototype.setAudioOutputDevice=function(eA,er){return eg(this,void 0,void 0,function(){var ei;return ec(this,function(eo){switch(eo.label){case 0:return(ei=null==eA?void 0:eA.setSinkId)?(eA.setsinkid&&(eA.setsinkid.enabled=!0),[4,ei.call(eA,er)]):[3,2];case 1:return eo.sent(),[2,!0];case 2:throw Error("Browser not support set audio output.")}})})},eA.prototype.enableCameraCapturing=function(eA,er){return void 0===er&&(er=!0),eg(this,void 0,void 0,function(){return ec(this,function(eA){return console.error("should use advanced module first"),[2,!1]})})},eA.prototype.enableDualStream=function(eA){this.rtcModules.advancedModule?this.rtcModules.advancedModule.enableDualStream(eA):console.error("use advance module first")},eA.prototype.setLowStreamParameter=function(eA,er){this.rtcModules.advancedModule?this.rtcModules.advancedModule.setLowStreamParameter(eA,er):console.error("use advance module first")},eA.prototype.setRemoteDefaultVideoStreamType=function(eA){this.logger.info("zc.srdvs call"),[0,1,2].includes(eA)?this.stateCenter.streamType=eA:this.logger.error("zc.srdvs streamType must be number 0 or 1 or 2")},eA.prototype.enableVideoHardwareEncoder=function(eA){if("boolean"==typeof eA){var er=this.stateCenter.settingConfig;er.setUserValue("hardware_encode",eA),er.setUserValue("camera_hard_encode",eA),er.setUserValue("custom_hard_encode",eA)}},eA.prototype.createLocalViewer=function(eA){var er=this.streamCenter.checkPreview(eA),ei=null==er?void 0:er.getViewer();if(!ei)throw Error("create viewer failed.");return new eS.ZegoStreamView(ei)},eA.prototype.createRemoteViewer=function(eA){var er=this.streamCenter.checkPlayer(eA),ei=null==er?void 0:er.getViewer();if(!ei)throw Error("create viewer failed.");return new eS.ZegoStreamView(ei)},eA.prototype.enableAiDenoise=function(eA,er){return new Promise(function(eA,er){console.error("should install ai denoise module and advanced module"),er({errorCode:eD.errorCodeList.MODULE_NOT_IMPORTED.code,extendedData:"should install ai denoise module and advanced module"})})},eA.prototype.setVoiceChangerPreset=function(eA,er){return new Promise(function(eA,er){console.error("should install voice changer module and advanced module"),er({errorCode:eD.errorCodeList.MODULE_NOT_IMPORTED.code,extendedData:"should install voice changer module and advanced module"})})},eA.prototype.loadBackgroundBlurModule=function(){return new Promise(function(eA,er){console.error("should install blur background module and advanced module"),eA({errorCode:-1,extendedData:"should install blur background module and advanced module"})})},eA.prototype.initBackgroundModule=function(eA,er){return new Promise(function(eA,er){console.error("should install blur background module and advanced module"),eA({errorCode:-1,extendedData:"should install blur background module and advanced module"})})},eA.prototype.setBackgroundBlurOptions=function(eA,er){throw console.error("should install blur background module and advanced module"),Error("should install blur background module and advanced module")},eA.prototype.setVirtualBackgroundOptions=function(eA,er){throw console.error("should install blur background module and advanced module"),Error("should install blur background module and advanced module")},eA.prototype.enableBackgroundProcess=function(eA,er,ei){return new Promise(function(eA,er){console.error("should install blur background module and advanced module"),eA({errorCode:-1,extendedData:"should install blur background module and advanced module"})})},eA.prototype.enableAutoSwitchDevice=function(eA){if(this.rtcModules.advancedModule)return this.rtcModules.advancedModule.enableAutoSwitchDevice(eA);throw Error("should use advanced module first")},eA.prototype.initTracer=function(eA){this.stateCenter.reporter=eA;var er=new eb.CommonStates(this.RTM.stateCenter,this.stateCenter,this.streamCenter),ei=this.getReporterVersion(eu.PROTO_VERSION);this.stateCenter.reportVersion=ei,this.stateCenter.reporter.setCommonStates(er),this.stateCenter.reporter.setResource({sdk_version:eu.PROTO_VERSION,report_version:ei})},eA.prototype.getReporterVersion=function(eA){var er=eA.split(".").map(function(eA){return parseInt(eA)});return er[0]<<20|er[1]<<8|er[2]},eA.prototype.setEngineConfig=function(eA){this.stateCenter.engineConfig=eo(eo({},this.stateCenter.engineConfig),eA),this.stateCenter.actionListener("_engineConfigUpdate",this.stateCenter.engineConfig)},eA.prototype.inject=function(eA,er){var ei=this;if("ZegoExpressPlayer"!==eA)throw Error("You are not authorized to use 'inject' method!");er({appid:this.stateCenter.appid,logger:this.logger,isLogin:function(){return ei.stateCenter.rtm&&ei.stateCenter.rtm.stateCenter.roomModulesList.some(function(eA){return eA.isLogin()})}})},eA.screenShotReady=!1,eA}();er.ZegoWebRTC=eN,window.addEventListener("message",function(eA){var er=eA.data.type,ei=eA.origin;ei!==window.location.origin&&console.warn("ScreenStream: you should discard foreign event from origin:",ei),"SS_PING"===er&&(eN.screenShotReady=!0)})},7045:function(eA,er,ei){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.AnalogSocket=er.SocketState=void 0;var eo,en,es,ea=ei(5123),eg=ei(93),ec=ei(1586);!function(eA){eA[eA.Connected=0]="Connected",eA[eA.Disconnected=1]="Disconnected",eA[eA.Broken=2]="Broken"}(eo||(eo={})),function(eA){eA[eA.AUTO=0]="AUTO",eA[eA.MANUAL=1]="MANUAL"}(en||(en={})),function(eA){eA[eA.CONNECTING=0]="CONNECTING",eA[eA.OPEN=1]="OPEN",eA[eA.CLOSING=2]="CLOSING",eA[eA.CLOSED=3]="CLOSED"}(es=er.SocketState||(er.SocketState={}));var eu=function(){function eA(eA,er,ei,en,eg){var ec=this;this.server=eA,this.netAgent=er,this.signalConfig=ei,this.logger=en,this.stateCenter=eg,this.readyState=es.CLOSED,this.isActive=!1,this.accessServerState=eo.Disconnected,this.originAccessServerState=eo.Disconnected,this.mediaServerState=eo.Disconnected,this.originMediaServerState=eo.Disconnected,this.eventHandler={accessDisconnect:function(){ec.setAccessServerState(eo.Disconnected)},accessConnect:function(){ec.setAccessServerState(eo.Connected)},accessBroken:function(){ec.setAccessServerState(eo.Broken)},mediaDisconnect:function(){ec.setMediaServerState(eo.Disconnected)},mediaConnect:function(eA){ec.setMediaServerState(eo.Connected,eA)},mediaBroken:function(){ec.setMediaServerState(eo.Broken)}},this.wsHandler=er.getPCRequest("unified_rtc"===eA?ea.BusinessService.SERVICE_WEBRTC_SIGNAL:ea.BusinessService.SERVICE_L3_WEBRTC_SIGNAL,{path:ei.path,query:ei.query}),this.setAccessServerState(er.isConnect()?eo.Connected:eo.Disconnected),this.setMediaServerState(0===this.wsHandler.connectState?eo.Connected:eo.Disconnected)}return eA.prototype.updateAccessReadyState=function(){this.isActive&&this.accessServerState===eo.Connected&&this.mediaServerState!==eo.Connected?this.onreconnnecting&&this.onreconnnecting():this.accessServerState===eo.Disconnected&&this.logger.warn(eg.ZEGO_WEBRTC_ACTION.ANALOGSOCKET_UPDATE_ACCESS_READY_STATE+" access timeout")},eA.prototype.updateMediaReadyState=function(eA){return this.logger.info(eg.ZEGO_WEBRTC_ACTION.ANALOGSOCKET_UPDATE_MEDIA_READY_STATE+" "+eA),this.mediaServerState===eo.Connected?(this.originMediaServerState===eo.Broken&&eA===en.AUTO&&this.onreconnnecting&&this.onreconnnecting(),void(this.readyState!==es.OPEN&&(this.readyState=es.OPEN,this.onopen&&this.onopen()))):this.mediaServerState===eo.Disconnected?(this.wsHandler.off("connected",this.eventHandler.mediaConnect),this.wsHandler.off("disconnected",this.eventHandler.mediaDisconnect),this.wsHandler.off("broken",this.eventHandler.mediaBroken),this.wsHandler.off("downLoadMessage"),this.netAgent.off("connected",this.eventHandler.accessConnect),this.netAgent.off("disconnected",this.eventHandler.accessDisconnect),this.netAgent.off("broken",this.eventHandler.accessBroken),void(this.readyState!==es.CLOSED&&(this.readyState=es.CLOSED,this.onclose&&this.onclose()))):void(this.mediaServerState===eo.Broken&&(this.readyState=es.CONNECTING,this.onerror&&this.onerror(new Event("signal connecting"))))},eA.prototype.setMediaServerState=function(eA,er){this.logger.info(eg.ZEGO_WEBRTC_ACTION.ANALOGSOCKET_SET_MEDIA_SERVER_STATE+" "+eA+" "+er),this.mediaServerState!==eA?(this.originMediaServerState=this.mediaServerState,this.mediaServerState=eA,this.updateMediaReadyState(er)):this.logger.info(eg.ZEGO_WEBRTC_ACTION.ANALOGSOCKET_SET_MEDIA_SERVER_STATE+" same state")},eA.prototype.setAccessServerState=function(eA){this.logger.info(eg.ZEGO_WEBRTC_ACTION.ANALOGSOCKET_SET_ACCESS_SERVER_STATE+" "+eA),this.accessServerState!==eA?(this.originAccessServerState=this.accessServerState,this.accessServerState=eA,this.updateAccessReadyState()):this.logger.info(eg.ZEGO_WEBRTC_ACTION.ANALOGSOCKET_SET_ACCESS_SERVER_STATE+" same state")},eA.prototype.open=function(){var eA=this;this.isActive=!0,this.logger.info(eg.ZEGO_WEBRTC_ACTION.ANALOGSOCKET_OPEN+" state "+this.mediaServerState),this.mediaServerState===eo.Disconnected&&(this.wsHandler.on("connected",this.eventHandler.mediaConnect),this.wsHandler.on("disconnected",this.eventHandler.mediaDisconnect),this.wsHandler.on("broken",this.eventHandler.mediaBroken),this.netAgent.on("connected",this.eventHandler.accessConnect),this.netAgent.on("disconnected",this.eventHandler.accessDisconnect),this.netAgent.on("broken",this.eventHandler.accessBroken),this.wsHandler.on("downLoadMessage",function(er){eA.onmessage({data:er})}),this.wsHandler.off("pcBrokenEvent"),this.wsHandler.on("pcBrokenEvent",function(er){var ei=ec.ZegoRTCLogEvent.kZegoSDKProxyBroken,eo=eA.stateCenter.reporter.createSpan(ea.TRACER_LEVEL.H,{key:ec.ZegoRTCLogEvent.kZegoConnConnect.event},{key:""},ei.event);eo.setAttributes({service_no:ei.service_no(null==er?void 0:er.service_no)}),eo.end()}),this.wsHandler.off("pcDisconnectedEvent"),this.wsHandler.on("pcDisconnectedEvent",function(er){var ei=ec.ZegoRTCLogEvent.kZegoSDKProxyDisconnect,eo=eA.stateCenter.reporter.createSpan(ea.TRACER_LEVEL.H,{key:ec.ZegoRTCLogEvent.kZegoConnConnect.event},{key:""},ei.event);eo.setAttributes({service_no:ei.service_no(null==er?void 0:er.service_no)}),eo.end()}),this.wsHandler.off("pcConnectedEvent"),this.wsHandler.on("pcConnectedEvent",function(er){var ei=ec.ZegoRTCLogEvent.kZegoSDKProxyConnect,eo=eA.stateCenter.reporter.createSpan(ea.TRACER_LEVEL.H,{key:ec.ZegoRTCLogEvent.kZegoConnConnect.event},{key:""},ei.event);eo.setAttributes({service_no:ei.service_no(er.service_no),recv_time:ei.recv_time((new Date).getTime()),proxy_link_sources:ei.proxy_link_sources(er.proxy_link_sources),connect_stream:ei.connect_stream(er.connect_stream)}),eo.end()}))},eA.prototype.close=function(){this.isActive=!1,this.wsHandler.off("connected",this.eventHandler.mediaConnect),this.wsHandler.off("disconnected",this.eventHandler.mediaDisconnect),this.wsHandler.off("broken",this.eventHandler.mediaBroken),this.wsHandler.off("downLoadMessage"),this.netAgent.off("connected",this.eventHandler.accessConnect),this.netAgent.off("disconnected",this.eventHandler.accessDisconnect),this.netAgent.off("broken",this.eventHandler.accessBroken),this.wsHandler.closeRequest()},eA.prototype.send=function(eA,er,ei){var eo=this;this.wsHandler.sendRequest({payload:eA,ack:er,isInSendMap:ei},function(eA){eo.logger.info(eg.ZEGO_WEBRTC_ACTION.ANALOGSOCKET_SEND+" fail "+eA),eo.onerror&&eo.onerror(eA)},function(eA){eo.logger.info(eg.ZEGO_WEBRTC_ACTION.ANALOGSOCKET_SEND+" suc "+eA)})},eA.prototype.onopen=function(){},eA.prototype.onclose=function(eA){},eA.prototype.onerror=function(eA){},eA.prototype.onmessage=function(eA){},eA.prototype.onreconnnecting=function(){},eA}();er.AnalogSocket=eu},8738:function(eA,er,ei){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.BillingTimer=void 0;var eo=ei(5123),en=ei(4367),es=function(){function eA(eA,er){this.logger=eA,this.stateCenter=er,this.chargeInfosInterval=6e4,this.reporting=!1}return Object.defineProperty(eA.prototype,"chargeInfosSaver",{get:function(){return this.stateCenter.chargeInfosSaver},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"streamCenter",{get:function(){return this.stateCenter.streamCenter},enumerable:!1,configurable:!0}),eA.prototype.isAllPlayingCdnAndL3=function(){var eA=0,er=0,ei=this.streamCenter.playerList;for(var en in ei){var es=ei[en];es.player.state==eo.ENUM_PLAY_STATE.playing&&(eA++,0!==es.player.resourceMode&&er++)}return eA==er&&0!==eA},Object.defineProperty(eA.prototype,"roomChargeInfos",{get:function(){return this._roomChargeInfos||(this._roomChargeInfos={itemtype:"ChargeInfos",timestamp_begin:0,timestamp_end:0,timestamp_diff_flag:0,timestamp_diff:0,infos:[]}),this._roomChargeInfos.timestamp_begin=(new Date).getTime(),0!==this._roomChargeInfos.timestamp_end?(this._roomChargeInfos.timestamp_diff=this._roomChargeInfos.timestamp_begin-this._roomChargeInfos.timestamp_end,this._roomChargeInfos.timestamp_diff_flag=1):(this._roomChargeInfos.timestamp_diff=0,this._roomChargeInfos.timestamp_diff_flag=0),this._roomChargeInfos.timestamp_end=(new Date).getTime(),this._roomChargeInfos.infos=[{is_publishing:0,play_max_audio_bitrate:0,play_stream_resolution_infos:[],no_playing:1}],this._roomChargeInfos},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"chargeInfos",{get:function(){return this.streamCenter?this.streamCenter.getChargeInfos():this.roomChargeInfos},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"shouldEnd",{get:function(){var eA,er;return!!this.reporting&&(this.shouldReportRoomTime?(null===(eA=this.stateCenter.rtm)||void 0===eA||eA.stateCenter.roomModulesList.filter(function(eA){eA.isLogout()||eA.isDisConnect()}),0===(null===(er=this.stateCenter.rtm)||void 0===er?void 0:er.stateCenter.roomModulesList.filter(function(eA){return!eA.isLogout()||!eA.isDisConnect()}).length)):!this.streamCenter||!this.streamCenter.signalList||0===Object.keys(this.streamCenter.signalList).length)},enumerable:!1,configurable:!0}),eA.prototype.report=function(){this.isAllPlayingCdnAndL3()?this.logger.info("zc.bill.tm.r.0 not report"):this.logger.report(this.chargeInfos)},Object.defineProperty(eA.prototype,"shouldReportRoomTime",{get:function(){var eA,er,ei;return!(!(null===(eA=this.stateCenter.rtm)||void 0===eA?void 0:eA.stateCenter.appConfig)||!(null===(er=this.stateCenter.rtm)||void 0===er?void 0:er.stateCenter.appConfig.speedlog_config)||1!==(null===(ei=this.stateCenter.rtm)||void 0===ei?void 0:ei.stateCenter.appConfig.speedlog_config.charge_info_report_no_playing))},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"isReporting",{get:function(){return this.reporting},enumerable:!1,configurable:!0}),eA.prototype.startChargeInfoTimer=function(){var eA=this;if(this.chargeInfosTimer&&(clearTimeout(Number(this.chargeInfosTimer)),this.chargeInfosTimer=null,this.shouldEnd))return this.logger.info(en.ZEGO_BILLING_ACTION.START_CHARGE_INFO_TIMER+" chargeinfos timer report ended"),void(this.reporting=!1);this.chargeInfosTimer=setTimeout(function(){eA.report(),eA.startChargeInfoTimer()},this.chargeInfosInterval)},eA.prototype.startChargeInfosUpload=function(){this.reporting||(this.reporting=!0,this.shouldReportRoomTime&&this.report(),this.startChargeInfoTimer(),this.logger.info("zsc.sciu.0 call"))},eA.prototype.stopChargeInfosUpload=function(){this.logger.info("zsc.sciu.1 call"),this.chargeInfosTimer&&this.shouldEnd&&(this.logger.info("zsc.sciu.1 stop"),clearTimeout(Number(this.chargeInfosTimer)),this.chargeInfosTimer=null,this.shouldReportRoomTime&&this.report(),this.reporting=!1,this.logger.info("zsc.sciu.1 chargeinfos timer report ended"))},eA.prototype.samplingChargeInfos=function(){return this.chargeInfos},eA}();er.BillingTimer=es},9645:function(eA,er,ei){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.ChargeInfosSaverWeb=void 0;var eo=ei(4367),en=function(){function eA(eA,er){this.logger=eA,this.stateCenter=er,this.bindListener()}return Object.defineProperty(eA.prototype,"billingTimer",{get:function(){return this.stateCenter.billingTimer},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"KEY",{get:function(){var eA;return"z_cginfos_cache_".concat(null===(eA=this.stateCenter.rtm)||void 0===eA?void 0:eA.stateCenter.appid)},enumerable:!1,configurable:!0}),eA.prototype.bindListener=function(){var eA=this;window.addEventListener("beforeunload",function(){if(eA.billingTimer.isReporting){var er=eA.billingTimer.samplingChargeInfos();eA.saveChargeInfosByLocalStorage(er)}})},eA.prototype.saveChargeInfosByLocalStorage=function(eA){return this.logger.info(eo.ZEGO_BILLING_ACTION.CHARGEINFO_SAVING_LOCALSTORAGE+" call"),localStorage.setItem(this.KEY,JSON.stringify(eA))},eA.prototype.getAndRemoveChargeInfosFromLocalStorage=function(){this.logger.info(eo.ZEGO_BILLING_ACTION.CHARGEINFO_GET_AND_REMOVE_LOCALSTORAGE+" call");var eA=localStorage.getItem(this.KEY);return localStorage.removeItem(this.KEY),eA},eA.prototype.report=function(eA){this.logger.report(eA)},eA.prototype.checkAndReport=function(){this.logger.info(eo.ZEGO_BILLING_ACTION.SAVED_CHARGEINFO_REPORT+" call");var eA=this.getAndRemoveChargeInfosFromLocalStorage();if(null!=eA){var er=JSON.parse(eA);this.report(er),this.logger.info(eo.ZEGO_BILLING_ACTION.SAVED_CHARGEINFO_REPORT+" reported")}},eA}();er.ChargeInfosSaverWeb=en},4367:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.ZEGO_BILLING_ACTION=void 0,function(eA){eA.SAVED_CHARGEINFO_REPORT="zc.bill.scir",eA.CHARGEINFO_SAVING_LOCALSTORAGE="zc.bill.cisl",eA.CHARGEINFO_GET_AND_REMOVE_LOCALSTORAGE="zc.bill.cigrl",eA.START_CHARGE_INFO_TIMER="zc.bill.tm.scit"}(er.ZEGO_BILLING_ACTION||(er.ZEGO_BILLING_ACTION={}))},4864:function(eA,er,ei){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.receiveNormal=er.sendNormal=er.captureNormal=er.receive=er.send=er.capture=void 0;var eo=ei(5123);er.capture={FPS:{code:eo.ExceptionCode.captureFpsToLow,message:"The video capture frame rate is too low."},VOLUME:{code:eo.ExceptionCode.captureVolumeToLow,message:"The capture volume is too low."}},er.send={V_BITRATE:{code:eo.ExceptionCode.sendVideoBitrateToLow,message:"The video bit rate sent is too low."},FPS:{code:eo.ExceptionCode.sendFpsToLow,message:"The video frame rate sent is too low."},A_BITRATE:{code:eo.ExceptionCode.sendAudioBitrateToLow,message:"The audio bit rate sent is too low."}},er.receive={A_VOLUME:{code:eo.ExceptionCode.receiveVolumeToLow,message:"The volume of audio received is too low."},A_DECODE:{code:eo.ExceptionCode.receiveAudioDecodedFail,message:"The received audio failed to be decoded."},V_DECODE:{code:eo.ExceptionCode.receiveVideoDecodedFail,message:"The received video failed to be decoded."},V_DECODED_FPS:{code:eo.ExceptionCode.receiveVideoFpsDecodedToLow,message:"Received video decode frame rate is too low."},RENDER_VIDEO_FPS:{code:eo.ExceptionCode.renderVideoFpsToLow,message:"The rendered video frame rate is too low."}},er.captureNormal={FPS:{code:eo.ExceptionCode.captureFpsNormal,message:"The video capture frame rate is normal."},VOLUME:{code:eo.ExceptionCode.captureVolumeNormal,message:"The capture volume is normal."}},er.sendNormal={V_BITRATE:{code:eo.ExceptionCode.sendVideoBitrateNormal,message:"The video bit rate sent is normal."},FPS:{code:eo.ExceptionCode.sendFpsNormal,message:"The video frame rate sent is normal."},A_BITRATE:{code:eo.ExceptionCode.sendAudioBitrateNormal,message:"The audio bit rate sent is normal."}},er.receiveNormal={A_VOLUME:{code:eo.ExceptionCode.receiveVolumeNormal,message:"The volume of audio received is normal."},A_DECODE:{code:eo.ExceptionCode.receiveAudioDecodedNormal,message:"The received audio successed to be decoded."},V_DECODE:{code:eo.ExceptionCode.receiveVideoDecodedNormal,message:"The received video successed to be decoded."},V_DECODED_FPS:{code:eo.ExceptionCode.receiveVideoFpsDecodedNormal,message:"Received video decode frame rate is normal."},RENDER_VIDEO_FPS:{code:eo.ExceptionCode.renderVideoFpsNormal,message:"The rendered video frame rate is normal."}}},5601:function(eA,er,ei){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.Exception=void 0;var eo=ei(4864),en=ei(5123),es=ei(1586),ea=function(){function eA(eA,er,ei,en){this.stateCenter=eA,this.parentEvent=en,this.results={},this.preTime=Date.now(),this.preTotalFps=0,this.preIsNormal={},this.logger=er,this.streamId=ei,this.initPreIsNormal(eo.capture),this.initPreIsNormal(eo.send),this.initPreIsNormal(eo.receive)}return eA.prototype.initPreIsNormal=function(eA){for(var er in eA)this.preIsNormal[eA[er].code]=!0},eA.prototype.recordData=function(eA,er,ei){var eo=eA.code,en=this.results[eo]||[];if(en.push(ei),en.length>=5){var es=en.includes(!1);this.preIsNormal[eo]&&!es&&(this.uploadEventData(eA),this.stateCenter.actionListener("exceptionUpdate",this.streamId,eA)),!this.preIsNormal[eo]&&es&&(this.uploadEventData(er),this.stateCenter.actionListener("exceptionUpdate",this.streamId,er)),this.preIsNormal[eo]=es,en=[]}this.results[eo]=en},eA.prototype.uploadEventData=function(eA){var er=this.stateCenter.reporter.createSpan(en.TRACER_LEVEL.I,{key:this.parentEvent,par:this.streamId},{key:""},es.ZegoRTCLogEvent.kZegoExceptionUpdate.event);er.setAttributes({code:es.ZegoRTCLogEvent.kZegoExceptionUpdate.code(eA.code),message:es.ZegoRTCLogEvent.kZegoExceptionUpdate.message(eA.message)}),er.end()},eA.prototype.checkRemoteStats=function(eA,er){this.recordData(eo.receive.A_VOLUME,eo.receiveNormal.A_VOLUME,this.recvAudioVolume(eA)),this.recordData(eo.receive.A_DECODE,eo.receiveNormal.A_DECODE,this.recvAudioDecode(eA)),this.recordData(eo.receive.V_DECODE,eo.receiveNormal.V_DECODE,this.recvVideoDecode(eA)),this.recordData(eo.receive.V_DECODED_FPS,eo.receiveNormal.V_DECODED_FPS,this.recvVideoDecodedFrameRate(eA)),this.recordData(eo.receive.RENDER_VIDEO_FPS,eo.receiveNormal.RENDER_VIDEO_FPS,this.renderVideoFrameRate(eA,er))},eA.prototype.checkLocalStats=function(eA){this.recordData(eo.capture.FPS,eo.captureNormal.FPS,this.captureVideoFrameRate(eA)),this.recordData(eo.send.FPS,eo.sendNormal.FPS,this.sendVideoFrameRate(eA)),this.recordData(eo.capture.VOLUME,eo.captureNormal.VOLUME,this.sendAudioVolume(eA)),this.recordData(eo.send.V_BITRATE,eo.sendNormal.V_BITRATE,this.sendVideoBitrate(eA)),this.recordData(eo.send.A_BITRATE,eo.sendNormal.A_BITRATE,this.sendAudioBitrate(eA))},eA.prototype.sendVideoBitrate=function(eA){return!("1"===eA.videoMuteState||eA.videoQuality>2)&&0===eA.videoBitrate},eA.prototype.sendVideoFrameRate=function(eA){var er=eA.videoTransferFPS,ei=eA.videoFPS;return"1"!==eA.videoMuteState&&(ei>=10&&er<5||ei<10&&ei>=5&&er<=1)},eA.prototype.captureVideoFrameRate=function(eA){var er=eA.videoTargetFPS,ei=eA.videoFPS;return"1"!==eA.videoMuteState&&(er>=10&&ei<5||er<10&&er>=5&&ei<=1)},eA.prototype.sendAudioVolume=function(eA){return"1"!==eA.audioMuteState&&Math.floor(32767*eA.audioLevel)<Math.floor(327.67)},eA.prototype.sendAudioBitrate=function(eA){var er=eA.audioBitrate;return!("1"===eA.audioMuteState||eA.audioQuality>2)&&(0===er||eA.audioTargetBitrate>=48&&er<22)},eA.prototype.recvAudioVolume=function(eA){return!("1"===eA.audioMuteState||eA.audioQuality>2)&&eA.audioBitrate>0&&Math.floor(32767*eA.audioLevel)<Math.floor(327.67)},eA.prototype.recvAudioDecode=function(eA){return!("1"===eA.audioMuteState||eA.audioQuality>2)&&eA.audioBitrate>0&&0===eA.audioFPS},eA.prototype.recvVideoDecode=function(eA){return!("1"===eA.videoMuteState||eA.videoQuality>2)&&eA.videoBitrate>0&&0===eA.videoTransferFPS},eA.prototype.recvVideoDecodedFrameRate=function(eA){var er=eA.videoFPS,ei=eA.videoTransferFPS;return"1"!==eA.videoMuteState&&(er>=10&&ei<5||er<10&&er>=5&&ei<=1)},eA.prototype.renderVideoFrameRate=function(eA,er){var ei,eo=eA.videoTransferFPS;if("1"===eA.videoMuteState)return!1;for(var en=document.querySelectorAll("video")||[],es=0;es<en.length;es++){var ea=en[es];try{if((ea.srcObject===er||(null===(ei=ea.srcObject)||void 0===ei?void 0:ei.getVideoTracks()[0])===(null==er?void 0:er.getVideoTracks()[0]))&&ea.getVideoPlaybackQuality){var eg=ea.getVideoPlaybackQuality().totalVideoFrames,ec=Date.now(),eu=(eg-this.preTotalFps)/(ec-this.preTime)*1e3;return this.preTotalFps=eg,this.preTime=ec,eo>10&&eu<5||eo<=10&&eo>=5&&eu<=1}}catch(eA){}}return!1},eA}();er.Exception=ea},4651:function(eA,er,ei){"use strict";var eo=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},en=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}};Object.defineProperty(er,"__esModule",{value:!0}),er.CheckModule=void 0;var es=ei(3332),ea=function(){function eA(){var eA=this;this.iceconnectionstatechangeTimes=0,this.isCheckAll=!1;var er=document.createElement("canvas");er.getContext("2d").fillStyle="rgba(255, 255, 255, 0)";try{this.localStream=er.captureStream()}catch(eA){console.error("canvas captureStream error",eA)}this.timer=setTimeout(function(){eA.resolve("Detection timeout"),eA.hangup()},5e3)}return eA.prototype.checkSupportByType=function(eA){return eo(this,void 0,void 0,function(){var er,ei,eo=this;return en(this,function(en){switch(en.label){case 0:return this.checkType=eA,er={},this.localPc=new RTCPeerConnection(er),this.remotePc=new RTCPeerConnection(er),ei=new Promise(function(eA){return eo.resolve=eA}),this.localPc.addEventListener("icecandidate",function(eA){return eo.onIceCandidate(eo.localPc,eA)}),this.remotePc.addEventListener("icecandidate",function(eA){return eo.onIceCandidate(eo.remotePc,eA)}),this.remotePc.addEventListener("iceconnectionstatechange",function(er){"connected"===eo.remotePc.iceConnectionState&&(eo.iceconnectionstatechangeResult=!0),2==++eo.iceconnectionstatechangeTimes&&eo.iceCandidate&&(clearTimeout(eo.timer),eo.resolve("connected"===eo.remotePc.iceConnectionState||"The browser does not support ".concat(eA," format")),eo.hangup())}),this.localStream.getTracks().forEach(function(eA){return eo.localPc.addTrack(eA,eo.localStream)}),[4,this.check(eA)];case 1:return en.sent(),[4,ei];case 2:return[2,en.sent()]}})})},eA.prototype.check=function(eA){return eo(this,void 0,void 0,function(){var er,ei;return en(this,function(eo){switch(eo.label){case 0:return eo.trys.push([0,2,,3]),[4,this.localPc.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0})];case 1:return(er=eo.sent()).sdp=es.SdpUtil.getSDPByVideDecodeType(er.sdp,eA),this.onCreateOfferSuccess(er),[3,3];case 2:return ei=eo.sent(),this.onCreateSessionDescriptionError(ei),[3,3];case 3:return[2]}})})},eA.prototype.onCreateOfferSuccess=function(eA){return eo(this,void 0,void 0,function(){var er,ei,eo,es;return en(this,function(en){switch(en.label){case 0:return en.trys.push([0,2,,3]),[4,this.localPc.setLocalDescription(eA)];case 1:return en.sent(),[3,3];case 2:return er=en.sent(),this.onSetSessionDescriptionError(er),[2];case 3:return en.trys.push([3,5,,6]),[4,this.remotePc.setRemoteDescription(eA)];case 4:return en.sent(),[3,6];case 5:return ei=en.sent(),this.onSetSessionDescriptionError(ei),[2];case 6:return en.trys.push([6,9,,10]),[4,this.remotePc.createAnswer()];case 7:return eo=en.sent(),[4,this.onCreateAnswerSuccess(eo)];case 8:return en.sent(),[3,10];case 9:return es=en.sent(),this.onCreateSessionDescriptionError(es),[2];case 10:return[2]}})})},eA.prototype.onCreateAnswerSuccess=function(eA){return eo(this,void 0,void 0,function(){var er,ei;return en(this,function(eo){switch(eo.label){case 0:return eo.trys.push([0,2,,3]),[4,this.remotePc.setLocalDescription(eA)];case 1:return eo.sent(),[3,3];case 2:return er=eo.sent(),this.onSetSessionDescriptionError(er),[2];case 3:return eo.trys.push([3,5,,6]),[4,this.localPc.setRemoteDescription(eA)];case 4:return eo.sent(),[3,6];case 5:return ei=eo.sent(),this.onSetSessionDescriptionError(ei),[2];case 6:return[2]}})})},eA.prototype.onIceCandidate=function(eA,er){return eo(this,void 0,void 0,function(){var ei;return en(this,function(eo){switch(eo.label){case 0:return eo.trys.push([0,2,,3]),[4,this.getOtherPc(eA).addIceCandidate(er.candidate)];case 1:return eo.sent(),[3,3];case 2:return ei=eo.sent(),console.error(this.checkType,"".concat(this.getPcName(eA)," addIceCandidate error"),ei),clearTimeout(this.timer),this.hangup(),this.resolve(ei),[3,3];case 3:return"remotePc"===this.getPcName(eA)&&er.candidate&&(this.iceCandidate=!0),this.iceconnectionstatechangeResult&&"localPc"===this.getPcName(eA)&&(clearTimeout(this.timer),this.hangup(),this.resolve(!0)),[2]}})})},eA.prototype.getOtherPc=function(eA){return eA===this.localPc?this.remotePc:this.localPc},eA.prototype.getPcName=function(eA){return eA===this.localPc?"localPc":"remotePc"},eA.prototype.onCreateSessionDescriptionError=function(eA){console.error("Failed to create session description: ".concat(eA.toString())),clearTimeout(this.timer),this.hangup(),this.resolve(eA)},eA.prototype.onSetSessionDescriptionError=function(eA){console.error("Failed to set session description: ".concat(eA.toString())),clearTimeout(this.timer),this.hangup(),this.resolve(eA)},eA.prototype.hangup=function(){this.localPc.close(),this.remotePc.close(),this.iceconnectionstatechangeTimes=0,this.localStream.getTracks().forEach(function(eA){return eA.stop()})},eA}();er.CheckModule=ea},4140:function(eA,er,ei){"use strict";var eo,en=this&&this.__extends||(eo=function(eA,er){return(eo=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(eA,er){eA.__proto__=er}||function(eA,er){for(var ei in er)Object.prototype.hasOwnProperty.call(er,ei)&&(eA[ei]=er[ei])})(eA,er)},function(eA,er){if("function"!=typeof er&&null!==er)throw TypeError("Class extends value "+String(er)+" is not a constructor or null");function ei(){this.constructor=eA}eo(eA,er),eA.prototype=null===er?Object.create(er):(ei.prototype=er.prototype,new ei)});Object.defineProperty(er,"__esModule",{value:!0}),er.RetryDispatchHandler=void 0;var es=ei(2790),ea=ei(5123),eg=ei(5123),ec=ei(93),eu=ei(1586),el=ei(2532),ed=eu.ZegoRTCLogEvent.kZegoPublishStreamResource,eE=eu.ZegoRTCLogEvent.kZegoPlayStreamResource,eI=function(eA){function er(er,ei,eo,en){var es=eA.call(this)||this;return es.retryActiveCount=1,es.RETRY_MAX_TIME=90,es.logger=er,es.stateCenter=ei,es.rtm=eo,es.streamCenter=en,es}return en(er,eA),er.prototype.initStream=function(eA,er,ei){this.streamID=eA,this.playOption=er,this.isPublish=ei},er.prototype.active=function(eA){var er,ei,eo,en,es,ed,eE=this;if(this.logger.info(ec.ZEGO_WEBRTC_ACTION.RDH_ACTIVE+" retry call "+this.streamID),this.isPublish){var eI=null===(ei=null===(er=this.streamCenter)||void 0===er?void 0:er.publisherList[this.streamID])||void 0===ei?void 0:ei.publisher;es=(null==eI?void 0:eI.isRePublish)?eu.ZegoRTCLogEvent.kZegoRePublish:eu.ZegoRTCLogEvent.kZegoStartPublish,ed=eu.ZegoRTCLogEvent.kZegoPublishStreamResource}else{var eC=null===(en=null===(eo=this.streamCenter)||void 0===eo?void 0:eo.playerList[this.streamID])||void 0===en?void 0:en.player;es=(null==eC?void 0:eC.isRePlay)?eu.ZegoRTCLogEvent.kZegoRePlay:eu.ZegoRTCLogEvent.kZegoStartPlay,ed=eu.ZegoRTCLogEvent.kZegoPlayStreamResource}var eh=this.stateCenter.reporter.createSpan(ea.TRACER_LEVEL.H,{key:es.event,par:this.streamID},{key:""},ed.event);if(this.retryTimer)return this.logger.info(ec.ZEGO_WEBRTC_ACTION.RDH_ACTIVE+" has active, ignore"),this.stateCenter.reporter.setError(eh,el.errorCodeList.DISPATCH_ERROR,"has active, ignore"),!1;var eB=this.rtm.isDisConnect()&&this.stateCenter.networkState==eg.ENUM_NETWORK_STATE.offline;if(eB){if(this.logger.info(ec.ZEGO_WEBRTC_ACTION.RDH_ACTIVE+" check if really offline"),this.retryNetCount>=this.retryNetMaxTimes)return this.logger.warn(ec.ZEGO_WEBRTC_ACTION.RDH_ACTIVE+" network is broken, stop retry"),!1}else this.retryNetCount=0;if(this.isOverTime)return this.logger.warn(ec.ZEGO_WEBRTC_ACTION.RDH_ACTIVE+" retry over time, stop retry"),this.stateCenter.reporter.setError(eh,el.errorCodeList.DISPATCH_ERROR,"retry over time, stop retry"),!1;if(!this.rtm.isLogin()){this.stopMaxTime(),this.invalid();var ep=this.isPublish?this.streamCenter.publisherList[this.streamID]:this.streamCenter.playerList[this.streamID];ep&&(ep.isReDispatch=!0)}var ef=this.retryActiveCount-1;this.retryDispatchSpan||(this.retryDispatchSpan=eh,this.stateCenter.reporter.setSpanInMap(eh,{key:ed.event,par:this.streamID}));var em=this.playOption&&2==this.playOption.resourceMode?1:0,eQ={stream_id:this.streamID,ptype:this.isPublish?"push":"pull",signals:this.streamCenter.getAllInUseUrl(),header_kvs:[{key:"grpc-metadata-push",value:this.playOption&&this.playOption.cdnUrl||""}],retry:ef,center_ability:!0,dispatch_type:em};return this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=setTimeout(function(){eE.retryTimer=null,eB?eE.retryNetCount++:eE.retryActiveCount++;var eA=eE.streamCenter.getRoomByStreamID(eE.streamID),er=eE.rtm.service.sendMessage("webrtc_url",eQ,function(eA,er){eE.handleFetchWebRtcUrlRsp(eA)},function(eA,er){eE.handleFetchWebRtcUrlRsp(eA)},void 0,{sessionID:null==eA?void 0:eA.sessionID,roomID:null==eA?void 0:eA.roomID,roomSessionID:null==eA?void 0:eA.roomSessionID});eE.isPublish&&er?eE.streamCenter.publisherList[eE.streamID]&&(eE.streamCenter.publisherList[eE.streamID].seq=er):er&&eE.streamCenter.playerList[eE.streamID]&&(eE.streamCenter.playerList[eE.streamID].seq=er)},"number"==typeof eA?eA:1e3*this.retryActiveInterval),this.logger.info(ec.ZEGO_WEBRTC_ACTION.RDH_ACTIVE+" call success"),!0},er.prototype.startMaxTime=function(){var eA=this;this.logger.info("zc.tdh.smt ".concat(this.streamID," call")),this.maxTimer||(this.maxTimer=setTimeout(function(){eA.logger.warn("".concat(ec.ZEGO_WEBRTC_ACTION.RDH_MAX_TIME," ").concat(eA.streamID," dispatch over max time ").concat(eA.RETRY_MAX_TIME,"s stop retry")),eA.isOverTime=!0,eA.invalid();var er=eu.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayDispatchError;er.message=er.message+" try max limit",eA.isPublish?eA.streamCenter.onPublishStateUpdate(eg.ENUM_PUBLISH_STATE_UPDATE.error,eA.streamID,er):eA.streamCenter.onPlayStateUpdate(eg.ENUM_PLAY_STATE_UPDATE.error,eA.streamID,er)},1e3*this.RETRY_MAX_TIME),this.logger.info("zc.tdh.smt ".concat(this.streamID," maxTimer=").concat(this.maxTimer)))},er.prototype.stopMaxTime=function(){this.logger.info("zc.tdh.stmt ".concat(this.streamID," maxTimer=").concat(this.maxTimer)),this.maxTimer&&clearTimeout(this.maxTimer),this.maxTimer=null},er.prototype.onactive=function(){for(var eA=[],er=0;er<arguments.length;er++)eA[er]=arguments[er]},er.prototype.handleFetchWebRtcUrlRsp=function(eA){var er,ei,eo,en,es,ea,eI,eC,eh,eB,ep;if(eA.code&&[el.errorCodeList.TIMEOUT.code].includes(eA.code))this.active();else{if(eA.code&&[el.errorCodeList.SOCKET_CLOSE.code].includes(eA.code))return this.stopMaxTime(),this.invalid(),void(this.isPublish?this.streamCenter.publisherList[this.streamID].isReDispatch=!0:this.streamCenter.playerList[this.streamID].isReDispatch=!0);var ef=eA,em=ef.body.stream_id,eQ=!1,ev=eu.ZegoRTCLogEvent.kZegoTaskPlayStart.error;if(this.isPublish&&(!this.streamCenter.publisherList[em]||ef.header.seq!==this.streamCenter.publisherList[this.streamID].seq)||!(this.isPublish||this.streamCenter.playerList[this.streamID]&&ef.header.seq===this.streamCenter.playerList[this.streamID].seq))return this.logger.warn(ec.ZEGO_WEBRTC_ACTION.RDH_WEBRTC_URL_RSP+" seq is not match, ignore "+this.streamID),this.stopMaxTime(),void this.invalid();if(this.stateCenter.clientIP=ef.body.clientip||"",0===ef.body.err_code||2!=ef.body.need_action){if(0===ef.body.err_code||1===ef.body.need_action||[3102].includes(ef.body.err_code)){if(this.stopMaxTime(),this.invalid(),ef.body.urls&&Array.isArray(ef.body.urls)&&ef.body.urls.length>0?eQ=!0:this.logger.error(ec.ZEGO_WEBRTC_ACTION.RDH_WEBRTC_URL_RSP+" signal url is empty"),"push"===ef.body.ptype&&this.streamCenter.publisherList[em]){if(!eQ)return null===(es=this.retryDispatchSpan)||void 0===es||es.setAttributes({try_cnt:ed.try_cnt(this.retryActiveCount)}),this.stateCenter.reporter.setError(this.retryDispatchSpan,eu.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishDispatchError),this.retryDispatchSpan=null,void this.streamCenter.onPublishStateUpdate(eg.ENUM_PUBLISH_STATE_UPDATE.error,em,eu.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishDispatchError);var e_=this.streamCenter.publisherList[em];this.stateCenter.publishStreamList[em]?(e_.ttl=ef.body.hosts_ttl?(new Date).getTime()+1e3*ef.body.hosts_ttl:0,e_.isCenterNode="boolean"==typeof ef.body.is_center_node&&ef.body.is_center_node,e_.serverUrls=ef.body.urls,null===(ea=this.retryDispatchSpan)||void 0===ea||ea.setAttributes({urls:ed.urls(e_.serverUrls),is_center:ed.is_center(e_.isCenterNode),try_cnt:ed.try_cnt(this.retryActiveCount)}),null===(eI=this.retryDispatchSpan)||void 0===eI||eI.end(),this.retryDispatchSpan=null,this.streamCenter.startPublishingStream(em)):this.logger.error(ec.ZEGO_WEBRTC_ACTION.RDH_WEBRTC_URL_RSP+" no streamid to publish")}else if("pull"==ef.body.ptype&&this.streamCenter.playerList[em]){if(!eQ)return(ey=JSON.parse(JSON.stringify(1900001004===(null===(eC=ef.body)||void 0===eC?void 0:eC.err_code)?ev.kPlayStreamNotFound:ev.kPlayDispatchError))).message=ey.message+(ef.body.err_code?" server error:"+ef.body.err_code:""),3102===ef.body.err_code&&(ey=eu.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayUnsupportedResourceMode),null===(eh=this.retryDispatchSpan)||void 0===eh||eh.setAttributes({try_cnt:eE.try_cnt(this.retryActiveCount)}),this.stateCenter.reporter.setError(this.retryDispatchSpan,ey),void this.streamCenter.onPlayStateUpdate(eg.ENUM_PLAY_STATE_UPDATE.error,em,ey);var ey,eS=this.streamCenter.playerList[em];eS.ttl=ef.body.hosts_ttl?(new Date).getTime()+1e3*ef.body.hosts_ttl:0,eS.isCenterNode="boolean"==typeof ef.body.is_center_node&&ef.body.is_center_node,eS.serverUrls=ef.body.urls,null===(eB=this.retryDispatchSpan)||void 0===eB||eB.setAttributes({urls:eE.urls(eS.serverUrls),is_center:eE.is_center(eS.isCenterNode),try_cnt:eE.try_cnt(this.retryActiveCount)}),null===(ep=this.retryDispatchSpan)||void 0===ep||ep.end(),this.retryDispatchSpan=null,this.streamCenter.startPlayingStream(em,this.stateCenter.useNetAgent,this.streamCenter.playSuccessCallBackList[em])}}else this.retryActiveInterval=Math.floor(3*Math.random())+3,2==this.retryActiveCount&&((ey=JSON.parse(JSON.stringify("pull"===(null===(eo=ef.body)||void 0===eo?void 0:eo.ptype)&&1900001004===(null===(en=ef.body)||void 0===en?void 0:en.err_code)?ev.kPlayStreamNotFound:ev.kPlayDispatchError))).message=ey.message+(ef.body.err_code?" server error:"+ef.body.err_code:""),"push"===ef.body.ptype?this.streamCenter.onPublishStateUpdate(eg.ENUM_PUBLISH_STATE_UPDATE.retry,em,ey):this.streamCenter.onPlayStateUpdate(eg.ENUM_PLAY_STATE_UPDATE.retry,em,ey)),this.active()}else this.retryActiveInterval=ef.body.action_delay/1e3||Math.floor(3*Math.random())+3,2==this.retryActiveCount&&((ey=JSON.parse(JSON.stringify("pull"===(null===(er=ef.body)||void 0===er?void 0:er.ptype)&&1900001004===(null===(ei=ef.body)||void 0===ei?void 0:ei.err_code)?ev.kPlayStreamNotFound:ev.kPlayDispatchError))).message=ey.message+(ef.body.err_code?" server error:"+ef.body.err_code:""),"push"===ef.body.ptype?this.streamCenter.onPublishStateUpdate(eg.ENUM_PUBLISH_STATE_UPDATE.retry,em,ey):this.streamCenter.onPlayStateUpdate(eg.ENUM_PLAY_STATE_UPDATE.retry,em,ey)),this.active()}},er}(es.RetryHandler);er.RetryDispatchHandler=eI},3525:function(eA,er,ei){"use strict";var eo,en=this&&this.__extends||(eo=function(eA,er){return(eo=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(eA,er){eA.__proto__=er}||function(eA,er){for(var ei in er)Object.prototype.hasOwnProperty.call(er,ei)&&(eA[ei]=er[ei])})(eA,er)},function(eA,er){if("function"!=typeof er&&null!==er)throw TypeError("Class extends value "+String(er)+" is not a constructor or null");function ei(){this.constructor=eA}eo(eA,er),eA.prototype=null===er?Object.create(er):(ei.prototype=er.prototype,new ei)});Object.defineProperty(er,"__esModule",{value:!0}),er.RetryStreamHandler=void 0;var es=ei(5123),ea=ei(2790),eg=ei(1586),ec=ei(93),eu=ei(4028),el=ei(7045),ed=eg.ZegoRTCLogEvent.kZegoTaskSDKPublishStream,eE=eg.ZegoRTCLogEvent.kZegoTaskSDKPlayStream,eI=function(eA){function er(er,ei,eo,en){var es=eA.call(this)||this;return es.logger=er,es.stateCenter=ei,es.streamCenter=eo,es.isPublish=en,es.serverUrls=[],es}return en(er,eA),er.prototype.initStream=function(eA,er){this.streamID=eA,this.serverUrls=er},er.prototype.activePublish=function(eA){var er=this;if(this.logger.info("zc.tsh.a retry call "+this.streamID),this.retryTimer)return this.logger.info("zc.tsh.a has active, ignore"),!1;var ei=this.stateCenter.networkState==es.ENUM_NETWORK_STATE.offline;if(ei){if(this.logger.info("zc.tsh.a check if really offline. "+this.retryNetCount),this.retryNetCount>=this.retryNetMaxTimes)return this.logger.warn("zc.tsh.a network is broken, stop retry"),!1}else this.retryNetCount=0;if(this.isOverTime)return this.logger.warn("zc.tsh.a retry over time, stop retry"),!1;if(1==this.retryActiveCount)this.retryActiveInterval=Math.floor(Math.random()*(1-this.RETRY_START_TIME_INTERVAL)+this.RETRY_START_TIME_INTERVAL);else{var eo=Math.pow(2,Math.floor(this.retryActiveCount/this.RETRY_CONTINUE_COUNT+1)-1);this.retryActiveInterval=eo>this.RETRY_MAX_TIME_INTERVAL?this.RETRY_MAX_TIME_INTERVAL:eo}var en=this.streamCenter.publisherList[this.streamID].publisher,ea=this.serverUrls[0],ec=["unified_rtc","unified_l3"].includes(ea);if(!ec){var eu=this.serverUrls,el=en.signal?en.signal.server:"";eu.forEach(function(eA,ei){return ei<=eu.indexOf(el)&&er.serverUrls.push(eA)}),eu.splice(0,eu.indexOf(el)+1),ea=this.serverUrls[this.retryActiveCount%this.serverUrls.length==0?this.serverUrls.length-1:this.retryActiveCount%this.serverUrls.length-1]}var ed="number"==typeof eA?eA:1e3*this.retryActiveInterval;return this.stateCenter.reporter.spanSetAttributes({key:en.parentSpanKey,par:this.streamID},{wait_consume:eg.ZegoRTCLogEvent.kZegoStartPublish.wait_consume(ed)}),this.retryTimer=setTimeout(function(){er.logger.info("zc.tsh.a stream ".concat(er.streamID," : connect to ").concat(ec?"unified signal server":"signal server "+ea)),er.retryTimer&&clearTimeout(er.retryTimer),er.retryTimer=null,ei?er.retryNetCount++:er.retryActiveCount++,er.streamCenter.connectPublishServer(er.streamID,ea)},ed),this.logger.info("zc.tsh.a call success. delay: "+ed),!0},er.prototype.activePull=function(eA,er){var ei=this;if(this.logger.info("zc.tsh.a retry call "+this.streamID),er&&(this.playStreamSuccess=er),this.retryTimer)return this.logger.info("zc.tsh.a has active, ignore"),!1;var eo=this.stateCenter.networkState==es.ENUM_NETWORK_STATE.offline;if(eo){if(this.logger.info("zc.tsh.a check if really offline. "+this.retryNetCount),this.retryNetCount>=this.retryNetMaxTimes)return this.logger.warn("zc.tsh.a network is broken, stop retry"),!1}else this.retryNetCount=0;if(this.isOverTime)return this.logger.warn("zc.tsh.a retry over time, stop retry"),!1;if(1==this.retryActiveCount)this.retryActiveInterval=Math.floor(Math.random()*(1-this.RETRY_START_TIME_INTERVAL)+this.RETRY_START_TIME_INTERVAL);else{var en=Math.pow(2,Math.floor(this.retryActiveCount/this.RETRY_CONTINUE_COUNT+1)-1);this.retryActiveInterval=en>this.RETRY_MAX_TIME_INTERVAL?this.RETRY_MAX_TIME_INTERVAL:en}var ea=this.streamCenter.playerList[this.streamID].player,ec=this.serverUrls,eu=ea.signal?ea.signal.server:"",el=this.serverUrls[0],ed=["unified_rtc","unified_l3"].includes(el);ed||(ec.forEach(function(eA,er){return er<=ec.indexOf(eu)&&ei.serverUrls.push(eA)}),ec.splice(0,ec.indexOf(eu)+1),el=this.serverUrls[this.retryActiveCount%this.serverUrls.length==0?this.serverUrls.length-1:this.retryActiveCount%this.serverUrls.length-1]);var eE="number"==typeof eA?eA:1e3*this.retryActiveInterval;return this.stateCenter.reporter.spanSetAttributes({key:ea.parentSpanKey,par:this.streamID},{wait_consume:eg.ZegoRTCLogEvent.kZegoStartPlay.wait_consume(eE)}),this.retryTimer=setTimeout(function(){ei.logger.warn("zc.tsh.a stream ".concat(ei.streamID," : connect to ").concat(ed?"unified signal server":"signal server "+el)),ei.retryTimer&&clearTimeout(ei.retryTimer),ei.retryTimer=null,eo?ei.retryNetCount++:ei.retryActiveCount++,ei.streamCenter.connectPlayServer(ei.streamID,ei.playStreamSuccess,el)},eE),this.logger.info("zc.tsh.a call success. delay: "+eE),!0},er.prototype.startMaxTime=function(){var eA=this;this.logger.info("zc.tsh.smt ".concat(this.streamID," call")),this.maxTimer?this.logger.warn("zc.tsh.smt max timer"):(this.maxTimer=setTimeout(function(){if(eA.logger.warn("zc.tsh.smt ".concat(eA.streamID," over max time ").concat(eA.RETRY_MAX_TIME,"s, stop retry")),eA.isOverTime=!0,eA.invalid(),eA.isPublish){if(!eA.streamCenter.publisherList[eA.streamID])return void eA.logger.info("zc.tsh.smt streamID "+eA.streamID+" publish no found");eA.publishStateHandle(es.ENUM_PUBLISH_STATE_UPDATE.error,eA.streamID,eg.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishRetryTimeoutError,!0)}else{if(!eA.streamCenter.playerList[eA.streamID])return void eA.logger.info("zc.tsh.smt streamID "+eA.streamID+" play no found");eA.playStateHandle(es.ENUM_PLAY_STATE_UPDATE.error,eA.streamID,eg.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayRetryTimeoutError,!0)}},1e3*this.RETRY_MAX_TIME),this.logger.info("zc.tsh.smt maxTimer=".concat(this.maxTimer)))},er.prototype.stopMaxTime=function(){this.logger.info("zc.tsh.stmt streamID "+this.streamID+" maxTimer="+this.maxTimer),this.maxTimer&&clearTimeout(this.maxTimer),this.maxTimer=null},er.prototype.onactive=function(){for(var eA=[],er=0;er<arguments.length;er++)eA[er]=arguments[er]},er.prototype.retryNextSignal=function(eA){if(this.stateCenter.networkState==es.ENUM_NETWORK_STATE.offline)return!0;if(this.isPublish){var er,ei,eo=this.streamCenter.publisherList[this.streamID];if(eo.publisher.state==es.ENUM_PUBLISH_STATE.stop&&[eg.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kSessionTimeoutError.code,eg.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishNegoTimeoutError.code].includes(eA.code))return!0;if(eo.isCenterNode&&(null===(er=eo.publisher.signal)||void 0===er?void 0:er.wsReadyState)==el.SocketState.OPEN)return!1;if(!eo.isCenterNode&&[eg.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishSessionClosedError.code].includes(eA.code)){var en=eA.message.match(/reason:(\d+)/);return!["26"].includes(en?en[1]:"")}return!0}var ea=this.streamCenter.playerList[this.streamID];return!!(ea.player.state==es.ENUM_PLAY_STATE.stop&&[eg.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kSessionTimeoutError.code,eg.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayNegoTimeoutError.code].includes(eA.code))||(!ea.isCenterNode||(null===(ei=ea.player.signal)||void 0===ei?void 0:ei.wsReadyState)!=el.SocketState.OPEN)&&(!(!ea.isCenterNode&&[eg.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlaySessionClosedError.code].includes(eA.code))||!["24","26","28"].includes((en=eA.message.match(/reason:(\d+)/))?en[1]:""))},er.prototype.publishStateHandle=function(eA,er,ei,eo,en,ea){this.logger.info(ec.ZEGO_WEBRTC_ACTION.PUBLISH_STATE_HANDLE+" call "+er+" "+(ei?ei.code+"":"")+" "+eo+" "+JSON.stringify(en)+" "+ea);var eg=eo||this.RETRY_MAX_TIME<3;if(!eg&&ei&&(eu.ClientUtil.isReDispatch(ei)||0==this.serverUrls.length))return this.logger.info(ec.ZEGO_WEBRTC_ACTION.PUBLISH_STATE_HANDLE+" stop "+eg+" "+JSON.stringify(this.serverUrls)),this.stopMaxTime(),this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=null,void this.streamCenter.onPublishStateUpdate(eA,er,ei);var el=this.streamCenter.publisherList[er],ed=el.publisher;if(!eg&&ei&&0!==ei.code){this.maxTimer||eg||this.startMaxTime(),this.stateCenter.publishStreamList[er].state=es.ENUM_PUBLISH_STREAM_STATE.retryPublish;var eE=ed.localStream,eI=ed.videoInfo,eC=ed.mediaStreamConfig,eh=ed.publishOption;if(0!=ed.sessionId&&ed.signal&&ed.shouldSendCloseSession()&&(ed.signal.sendCloseSession((0,es.getSeq)(),ed.sessionId,1),ed.signal.removeSession(ed.sessionId),ed.closeSessionSignal=!0),ed.resetPublish(),!eg&&!this.retryNextSignal(ei)){if(this.logger.info(ec.ZEGO_WEBRTC_ACTION.PUBLISH_STATE_HANDLE+" retry current signal "),this.rePublishSpan(er,ei,ed),el.isCenterNode){this.logger.info(ec.ZEGO_WEBRTC_ACTION.PUBLISH_STATE_HANDLE+" current node "+ed.gwNode+" failed "+JSON.stringify(ed.retryFailGwNodes));var eB=ed.retryFailGwNodes.findIndex(function(eA){return eA===ed.gwNode});eB>=0&&ed.retryFailGwNodes.splice(eB,1),ed.retryFailGwNodes.push(ed.gwNode),this.retryNewGwNode(ed,ei,en,ea)}return this.startRetryTimer&&clearTimeout(this.startRetryTimer),this.startRetryTimer=null,this.startRetryTimer=setTimeout(function(){ed.state==es.ENUM_PUBLISH_STATE.stop&&ed.startPublish(er,eE,eI,eC,eh)},1e3),void(ei&&0!==ei.code&&this.streamCenter.onPublishStateUpdate(2,er,ei))}this.streamCenter.removeStreamFromSignal(!0,er)}if(eg)return this.stopMaxTime(),this.invalid(),1===eA&&ed.resetPublish(),(null==ei?void 0:ei.code)&&this.stateCenter.reporter.spanSetAttributes({key:ed.parentSpanKey,par:er},ei),void this.streamCenter.onPublishStateUpdate(eA,er,ei);ei&&0!==ei.code&&this.activePublish(void 0)&&(ed&&(ed.isExternal=!1),this.rePublishSpan(er,ei,ed),this.streamCenter.onPublishStateUpdate(2,er,ei)),this.logger.info(ec.ZEGO_WEBRTC_ACTION.PUBLISH_STATE_HANDLE+" end "+er)},er.prototype.needReDispatchError=function(eA){return[eg.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishNetProbePoor.code,eg.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayNetProbePoor.code].includes(eA.code)},er.prototype.playStateHandle=function(eA,er,ei,eo,en,ea){var eg=this;this.logger.info(ec.ZEGO_WEBRTC_ACTION.PLAY_STATE_HANDLE+" call "+er+" "+(ei?ei.code+"":"")+" "+eo+" "+JSON.stringify(en)+" "+ea);var el=eo||this.RETRY_MAX_TIME<3;if(!el&&ei&&(eu.ClientUtil.isReDispatch(ei)||0==this.serverUrls.length))return this.logger.info(ec.ZEGO_WEBRTC_ACTION.PLAY_STATE_HANDLE+" stop "+el+" "+JSON.stringify(this.serverUrls)),this.stopMaxTime(),this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=null,void this.streamCenter.onPlayStateUpdate(eA,er,ei);var ed=this.streamCenter.playerList[er],eE=ed.player;if(!el&&ei&&0!==ei.code){this.maxTimer||el||this.startMaxTime();var eI=eE.playOption;if(0!=eE.sessionId&&eE.signal&&eE.shouldSendCloseSession()&&(eE.signal.sendCloseSession((0,es.getSeq)(),eE.sessionId,1),eE.signal.removeSession(eE.sessionId),eE.closeSessionSignal=!0),eE.resetPlay(),!el&&!this.retryNextSignal(ei)){if(this.logger.info(ec.ZEGO_WEBRTC_ACTION.PLAY_STATE_HANDLE+" retry current signal "),ed.isCenterNode){this.logger.info(ec.ZEGO_WEBRTC_ACTION.PLAY_STATE_HANDLE+" current node "+eE.gwNode+" "+JSON.stringify(eE.retryFailGwNodes));var eC=eE.retryFailGwNodes.findIndex(function(eA){return eA===eE.gwNode});eC>=0&&eE.retryFailGwNodes.splice(eC,1),eE.retryFailGwNodes.push(eE.gwNode),this.retryNewGwNode(eE,ei,en,ea)}return this.rePlaySpan(er,ei,eE),this.startRetryTimer=setTimeout(function(){eg.startRetryTimer&&clearTimeout(eg.startRetryTimer),eg.startRetryTimer=null,eE.startPlay(er,eE.getRemoteStreamSuc,eI)},1e3),void(ei&&0!==ei.code&&this.streamCenter.onPlayStateUpdate(2,er,ei))}this.streamCenter.removeStreamFromSignal(!1,er)}if(el)return this.stopMaxTime(),this.invalid(),(null==ei?void 0:ei.code)&&this.stateCenter.reporter.spanSetAttributes({key:eE.parentSpanKey,par:er},{error:null==ei?void 0:ei.code}),void this.streamCenter.onPlayStateUpdate(eA,er,ei);ei&&0!==ei.code&&this.activePull(void 0)&&(eE&&(eE.isExternal=!1),(0,es.getReportSeq)(),this.rePlaySpan(er,ei,eE),this.streamCenter.onPlayStateUpdate(2,er,ei)),this.logger.info(ec.ZEGO_WEBRTC_ACTION.PLAY_STATE_HANDLE+" end "+er)},er.prototype.retryNewGwNode=function(eA,er,ei,eo){var en,es,ea,eg;if(this.logger.info(ec.ZEGO_WEBRTC_ACTION.RETRYSTREAMHANDLER_RETRY_NEW_GW_NODE+" call "+eA.streamId),er&&er.code&&this.needReDispatchError(er))this.retryNextGwNode(eA,!0,eo);else if(null==ei?void 0:ei.action)switch(null==ei?void 0:ei.action){case 1:case 5:break;case 2:default:this.retryNextGwNode(eA,!1,eo);break;case 3:var eu=null==ei?void 0:ei.ins;eu&&eu.length>0&&(eA.gwNode=((null===(en=eu[0])||void 0===en?void 0:en.IP)||(null===(es=eu[0])||void 0===es?void 0:es.ip))+":"+((null===(ea=eu[0])||void 0===ea?void 0:ea.Port)||(null===(eg=eu[0])||void 0===eg?void 0:eg.port)));break;case 4:eA.resetGwNodes(),this.streamCenter.clearCachedGwNodesList(eA,this.isPublish)}else this.retryNextGwNode(eA,!1,eo);this.logger.info(ec.ZEGO_WEBRTC_ACTION.RETRYSTREAMHANDLER_RETRY_NEW_GW_NODE+" "+eA.streamId+" new node "+eA.gwNode)},er.prototype.retryNextGwNode=function(eA,er,ei){var eo;if(this.logger.info(ec.ZEGO_WEBRTC_ACTION.RETRYSTREAMHANDLER_RETRY_NEXT_GW_NODE+" call "+eA.streamId+" "+eA.gwNode),0!==(null===(eo=eA.gwNodeList)||void 0===eo?void 0:eo.length)||eA.gwNode){var en=eA.gwNodesTTL<(new Date).getTime(),es=eA.iceStateDisConnect&&this.stateCenter.isMultiOuter,ea=eA.gwNodeList.findIndex(function(er){return er==eA.gwNode}),eg=ea===eA.gwNodeList.length-1;this.logger.info(ec.ZEGO_WEBRTC_ACTION.RETRYSTREAMHANDLER_RETRY_NEXT_GW_NODE+" "+eA.streamId+" ttl: "+en+" ice: "+es+" last: "+eg),er||en||eA.isLastConnected&&es||eg?eA.resetGwNodes():eA.gwNode=ei?eA.gwNodeList[0]:eA.gwNodeList[++ea%eA.gwNodeList.length]}else this.logger.info(ec.ZEGO_WEBRTC_ACTION.RETRYSTREAMHANDLER_RETRY_NEXT_GW_NODE+" call "+eA.streamId+" gwNodeList is empty")},er.prototype.rePublishSpan=function(eA,er,ei){null==ei||ei.uploadRTCPublishStats(),this.stateCenter.reporter.spanEnd({key:eg.ZegoRTCLogEvent.kZegoTaskRTCPublish.event,par:eA},{error:null==er?void 0:er.code,message:null==er?void 0:er.message}),this.stateCenter.reporter.createSpan(es.TRACER_LEVEL.H,{key:eg.ZegoRTCLogEvent.kZegoTaskPublishStart.event,par:eA},{key:eg.ZegoRTCLogEvent.kZegoRePublish.event,par:eA},eg.ZegoRTCLogEvent.kZegoRePublish.event,!0),!1===(null==ei?void 0:ei.isRePublish)&&this.stateCenter.reporter.spanSetAttributes({key:ed.event,par:eA},{retry_btime:ed.retry_btime((new Date).getTime())}),ei&&(ei.isRePublish=!0,ei.parentSpanKey=eg.ZegoRTCLogEvent.kZegoRePublish.event)},er.prototype.rePlaySpan=function(eA,er,ei){null==ei||ei.uploadRTCPlayStats(),this.stateCenter.reporter.spanEnd({key:eg.ZegoRTCLogEvent.kZegoTaskStreamPlay.event,par:eA},{error:null==er?void 0:er.code,message:null==er?void 0:er.message}),this.stateCenter.reporter.createSpan(es.TRACER_LEVEL.H,{key:eg.ZegoRTCLogEvent.kZegoTaskPlayStart.event,par:eA},{key:eg.ZegoRTCLogEvent.kZegoRePlay.event,par:eA},eg.ZegoRTCLogEvent.kZegoRePlay.event,!0),!1===(null==ei?void 0:ei.isRePlay)&&this.stateCenter.reporter.spanSetAttributes({key:eE.event,par:eA},{retry_btime:eE.retry_btime((new Date).getTime())}),ei&&(ei.isRePlay=!0,ei.parentSpanKey=eg.ZegoRTCLogEvent.kZegoRePlay.event)},er}(ea.RetryHandler);er.RetryStreamHandler=eI},5634:function(eA,er,ei){"use strict";var eo=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},en=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}};Object.defineProperty(er,"__esModule",{value:!0}),er.GatewaySignal=void 0;var es=ei(6348),ea=ei(4028),eg=ei(1018),ec=ei(93),eu=function(){function eA(eA,er){this.logger=eA,this.streamSignal=er,this.callbackMap={},this.pushCmdSeqs={}}return eA.prototype.mediaStreamSEIUUIDReq=function(eA,er,ei,ec){return eo(this,void 0,void 0,function(){var eo=this;return en(this,function(en){return[2,new Promise(function(en,eu){var el=es.webrtc_cmd.WebrtcCmdReqMsg.encode({usr_sei_filter:{sei_filter:ec}}).finish(),ed=ea.ClientUtil.uint8arrayToBase64(el);eo.streamSignal.sendGWCmd(eA,er,{peer_id:ei,cmd_id:5,body:ed},function(eA,er,ei){var eo=eg.WebRTCUtil.base64ToUint8Array(ei.body);en(es.webrtc_cmd.WebrtcCmdRspMsg.decode(eo))},function(eA){eu(eA)})})]})})},eA.prototype.metadataAck=function(eA,er,ei){return eo(this,void 0,void 0,function(){var eo,eg;return en(this,function(en){return eo=es.webrtc_cmd.WebrtcCmdRspMsg.encode({meta_data_ack:{result:1}}).finish(),eg=ea.ClientUtil.uint8arrayToBase64(eo),this.streamSignal.sendGWAck(eA,er,{peer_id:ei,cmd_id:1,body:eg}),[2]})})},eA.prototype.registerPushCallback=function(eA,er,ei){var eo,en=this,ea=this.callbackMap[er];ea?ea[eA]=ei:(this.callbackMap[er]=((eo={})[eA]=ei,eo),this.pushCmdSeqs[er]={},this.streamSignal.registerPushCallback("CmdPush",er,function(er,ei,eo){var ea=performance.now();if(en.pushCmdSeqs[ei][eo.cmd_id]){var eu=en.pushCmdSeqs[ei][eo.cmd_id],el=eu.seq;if(void 0!==el&&el>=er&&ea-eu.time<6e3)return void en.logger.warn(ec.ZEGO_WEBRTC_ACTION.GS_REGISTER_PUSH_CALLBACK+" ".concat(ei," CdmPush order ").concat(eA," ").concat(eo.cmd_id," local: ").concat(el," seq ").concat(er))}en.pushCmdSeqs[ei][eo.cmd_id]={seq:er,time:ea};var ed=eg.WebRTCUtil.base64ToUint8Array(eo.body),eE=Object.keys(es.webrtc_cmd.WebrtcCmdReqMsg.decode(ed))[0];eE=eE||"meta_data_push";var eI=en.callbackMap[ei];if(eI){var eC=eI[eE];eC&&eC(er,ei,eo.body)}}))},eA.prototype.unregisterPushCallback=function(eA,er){var ei=this.callbackMap[er];ei&&(delete ei[eA],0===Object.keys(ei).length&&(this.streamSignal.unregisterPushCallback("CmdPush",er),delete this.callbackMap[er],delete this.pushCmdSeqs[er]))},eA}();er.GatewaySignal=eu},3420:function(eA,er,ei){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.translate=void 0;var eo=ei(6410);er.translate=function(eA,er,ei){if(0===eA)return"";var en=1,es="  Here are some explanations about the error code: ".concat(en++,". reason=").concat(eA,": ").concat(function(eA){switch(eA){case eo.CloseReason.PEER_CLOSE_REASON_NORMAL:return"Client voluntarily exits.";case eo.CloseReason.PEER_CLOSE_REASON_STATE_ERROR:return"Status error; Reason: Repeatedly received offer/answer, etc.";case eo.CloseReason.PEER_CLOSE_REASON_VRS_PUBLISH_DENIED:return"Refuse to push the stream; Reason: The client retweeted the stream and was kicked or the agent's pubstart timed out, etc.";case eo.CloseReason.PEER_CLOSE_REASON_VRS_PLAY_DENIED:return"Refuse to pull stream; Reason: may pull empty stream, etc., refer to 'err' error code for details.";case eo.CloseReason.PEER_CLOSE_REASON_AUDIO_CODEC_NOT_MATCH:return"No matching audio codec; Reason: Client (Web) does not support OPUS, etc.";case eo.CloseReason.PEER_CLOSE_REASON_VIDEO_CODEC_NOT_MATCH:return"No matching video codec; Reason: Client (Web) does not support h264 and vp8 etc.";case eo.CloseReason.PEER_CLOSE_REASON_SDP_INVALID:return"SDP parsing error; Reason: SDP format error.";default:return"unknown"}}(eA));return er&&(es+=" ".concat(en++,". action=").concat(er,": ").concat(function(eA){switch(eA){case eo.DeniedAction.DENIED_ACTION_STOP:return"cancel pushing stream.";case eo.DeniedAction.DENIED_ACTION_RETRY_NEXT_IP:return"Try the next ip, if there is no next ip, re-request the route.";case eo.DeniedAction.DENIED_ACTION_REDIRECT:return"Redirect to the ip address specified by data.";case eo.DeniedAction.DENIED_ACTION_REDISPATCH:return"re-request route.";case eo.DeniedAction.DENIED_ACTION_RETRY:return"retry current gateway node.";default:return"unknown"}}(er))),ei&&(es+=" ".concat(en++,". err=").concat(ei,": ").concat(function(eA){switch(eA){case eo.DeniedError.DENIED_ERROR_DISPATCH_FAILED:return"media scheduling failed.";case eo.DeniedError.DENIED_ERROR_EMPTY_PUBLISH_IPS:return"empty publish ips error.";case eo.DeniedError.DENIED_ERROR_EMPTY_PLAY_IPS:return"empty play ips error.";case eo.DeniedError.DENIED_ERROR_STREAM_NOT_EXSIT:return"stream does not exist.";case eo.DeniedError.DENIED_ERROR_APP_NOT_ONLINE:return"APP has been removed.";case eo.DeniedError.DENIED_ERROR_INVALID_PARAMETERS:return"invalid parameter.";case eo.DeniedError.DENIED_ERROR_NO_CLIENTIP_SET:return"client ip is not set.";case eo.DeniedError.DENIED_ERROR_PERMISSION_DENIED:return"No permission, access denied.";case eo.DeniedError.DENIED_ERROR_SET_STREAM_INFO_FAILED:return"Failed to set stream information.";case eo.DeniedError.DENIED_ERROR_INTERNAL_ERROR:return"internal error / server busy.";case eo.DeniedError.DENIED_ERROR_PUBLISH_FORBIDDEN:return"Streaming is banned.";case eo.DeniedError.DENIED_ERROR_NEW_PUBLISH:return"new publish error.";case eo.DeniedError.DENIED_ERROR_INNER_ERROR:return"inner error.";case eo.DeniedError.DENIED_ERROR_MANAGER_STOP:return"manager stop error.";case eo.DeniedError.DENIED_ERROR_PUBLISH_AUTH_FAILED:return"Stream push authentication failed.";case eo.DeniedError.DENIED_ERROR_PLAY_AUTH_FAILED:return"Stream pull authentication failed.";case eo.DeniedError.DENIED_ERROR_SERVER_STOP:return"server stoped error.";case eo.DeniedError.DENIED_ERROR_SESSION_ID:return"session id error.";case eo.DeniedError.DENIED_ERROR_MANAGER_TIMEOUT:return"manager timeout.";case eo.DeniedError.DENIED_ERROR_NEW_PUBLISH_SRC:return"new publish src.";case eo.DeniedError.DENIED_ERROR_PLAY_SESSION_LIMIT:return"Pull session limit.";case eo.DeniedError.DENIED_ERROR_DISABLE_IP_PORT_FLEXIBLE:return"disable ip port flexible.";case eo.DeniedError.DENIED_ERROR_PACKET_ILLEGAL_TS:return"packet illegal ts.";case eo.DeniedError.DENIED_ERROR_PACKET_ILLEGAL_ADDR:return"packet illegal address.";case eo.DeniedError.DENIED_ERROR_PACKET_ILLEGAL_FORMAT:return"packet illegal format.";case eo.DeniedError.DENIED_ERROR_CHECK_ADDR_TIMEOUT:return"Check address timed out.";case eo.DeniedError.DENIED_ERROR_CHECK_ADDR_ILLEGAL_SIGNATURE:return"Check Address Illegal Signature.";case eo.DeniedError.DENIED_ERROR_CHECK_ADDR_INCONSTANT:return"Check for address changes.";case eo.DeniedError.DENIED_ERROR_WEBRTC_NEGOTIATE_TIMEOUT:return"SDP negotiation timed out, check whether the SDP is sent successfully.";case eo.DeniedError.DENIED_ERROR_WEBRTC_CANDIDATE_TIMEOUT:return"Address negotiation timed out, check whether the Candidate is sent successfully.";case eo.DeniedError.DENIED_ERROR_WEBRTC_CONNECTIVITY_CHECK_FAILED:return"The connectivity check failed, probably due to firewall restrictions (protocol or port) that caused the network between the browser and the gateway to fail.";case eo.DeniedError.DENIED_ERROR_WEBRTC_DTLS_HS_FAILED:return"The DTLS handshake fails, the verification of the certificate may fail, and the background checks whether the certificate has expired.";case eo.DeniedError.DENIED_ERROR_WEBRTC_DTLS_HS_TIMEOUT:return"The DTLS handshake timed out, this mainly due to network link packet loss and other situations that caused the timeout. Please check your network status and try again.";case eo.DeniedError.DENIED_ERROR_WEBRTC_SRTP_PROTECT_FAILED:return"Streaming encryption failed";case eo.DeniedError.DENIED_ERROR_WEBRTC_HB_TIMEOUT:return"The heartbeat timed out, this mainly due to network link packet loss and other conditions that caused the timeout. Please check your network status and try again.";case eo.DeniedError.DENIED_ERROR_WEBRTC_CONNECTION_LOST:return"The link is disconnected. In turn mode, if the turn link times out or has been released, the gateway will fail to send, and the gateway will think that the link has been lost.";case eo.DeniedError.DENIED_ERROR_WEBRTC_NEW_SRC:return"After the stream pushing end pushes the stream again, the stream pulling end will receive this message.";default:return"unknown"}}(ei))),es}},6410:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.DeniedError=er.DeniedAction=er.CloseReason=void 0,function(eA){eA[eA.PEER_CLOSE_REASON_NORMAL=0]="PEER_CLOSE_REASON_NORMAL",eA[eA.PEER_CLOSE_REASON_STATE_ERROR=5]="PEER_CLOSE_REASON_STATE_ERROR",eA[eA.PEER_CLOSE_REASON_VRS_PUBLISH_DENIED=15]="PEER_CLOSE_REASON_VRS_PUBLISH_DENIED",eA[eA.PEER_CLOSE_REASON_VRS_PLAY_DENIED=18]="PEER_CLOSE_REASON_VRS_PLAY_DENIED",eA[eA.PEER_CLOSE_REASON_AUDIO_CODEC_NOT_MATCH=21]="PEER_CLOSE_REASON_AUDIO_CODEC_NOT_MATCH",eA[eA.PEER_CLOSE_REASON_VIDEO_CODEC_NOT_MATCH=22]="PEER_CLOSE_REASON_VIDEO_CODEC_NOT_MATCH",eA[eA.PEER_CLOSE_REASON_SDP_INVALID=23]="PEER_CLOSE_REASON_SDP_INVALID"}(er.CloseReason||(er.CloseReason={})),function(eA){eA[eA.DENIED_ACTION_STOP=1]="DENIED_ACTION_STOP",eA[eA.DENIED_ACTION_RETRY_NEXT_IP=2]="DENIED_ACTION_RETRY_NEXT_IP",eA[eA.DENIED_ACTION_REDIRECT=3]="DENIED_ACTION_REDIRECT",eA[eA.DENIED_ACTION_REDISPATCH=4]="DENIED_ACTION_REDISPATCH",eA[eA.DENIED_ACTION_RETRY=5]="DENIED_ACTION_RETRY"}(er.DeniedAction||(er.DeniedAction={})),function(eA){eA[eA.DENIED_ERROR_DISPATCH_FAILED=1001]="DENIED_ERROR_DISPATCH_FAILED",eA[eA.DENIED_ERROR_EMPTY_PUBLISH_IPS=1002]="DENIED_ERROR_EMPTY_PUBLISH_IPS",eA[eA.DENIED_ERROR_EMPTY_PLAY_IPS=1003]="DENIED_ERROR_EMPTY_PLAY_IPS",eA[eA.DENIED_ERROR_STREAM_NOT_EXSIT=1004]="DENIED_ERROR_STREAM_NOT_EXSIT",eA[eA.DENIED_ERROR_APP_NOT_ONLINE=1005]="DENIED_ERROR_APP_NOT_ONLINE",eA[eA.DENIED_ERROR_INVALID_PARAMETERS=1006]="DENIED_ERROR_INVALID_PARAMETERS",eA[eA.DENIED_ERROR_NO_CLIENTIP_SET=1007]="DENIED_ERROR_NO_CLIENTIP_SET",eA[eA.DENIED_ERROR_PERMISSION_DENIED=1008]="DENIED_ERROR_PERMISSION_DENIED",eA[eA.DENIED_ERROR_SET_STREAM_INFO_FAILED=1009]="DENIED_ERROR_SET_STREAM_INFO_FAILED",eA[eA.DENIED_ERROR_INTERNAL_ERROR=1010]="DENIED_ERROR_INTERNAL_ERROR",eA[eA.DENIED_ERROR_PUBLISH_FORBIDDEN=1011]="DENIED_ERROR_PUBLISH_FORBIDDEN",eA[eA.DENIED_ERROR_NEW_PUBLISH=1012]="DENIED_ERROR_NEW_PUBLISH",eA[eA.DENIED_ERROR_INNER_ERROR=1013]="DENIED_ERROR_INNER_ERROR",eA[eA.DENIED_ERROR_MANAGER_STOP=1014]="DENIED_ERROR_MANAGER_STOP",eA[eA.DENIED_ERROR_PUBLISH_AUTH_FAILED=1015]="DENIED_ERROR_PUBLISH_AUTH_FAILED",eA[eA.DENIED_ERROR_PLAY_AUTH_FAILED=1016]="DENIED_ERROR_PLAY_AUTH_FAILED",eA[eA.DENIED_ERROR_SERVER_STOP=2001]="DENIED_ERROR_SERVER_STOP",eA[eA.DENIED_ERROR_SESSION_ID=2002]="DENIED_ERROR_SESSION_ID",eA[eA.DENIED_ERROR_MANAGER_TIMEOUT=2003]="DENIED_ERROR_MANAGER_TIMEOUT",eA[eA.DENIED_ERROR_NEW_PUBLISH_SRC=2004]="DENIED_ERROR_NEW_PUBLISH_SRC",eA[eA.DENIED_ERROR_PLAY_SESSION_LIMIT=2005]="DENIED_ERROR_PLAY_SESSION_LIMIT",eA[eA.DENIED_ERROR_DISABLE_IP_PORT_FLEXIBLE=2006]="DENIED_ERROR_DISABLE_IP_PORT_FLEXIBLE",eA[eA.DENIED_ERROR_PACKET_ILLEGAL_TS=2007]="DENIED_ERROR_PACKET_ILLEGAL_TS",eA[eA.DENIED_ERROR_PACKET_ILLEGAL_ADDR=2008]="DENIED_ERROR_PACKET_ILLEGAL_ADDR",eA[eA.DENIED_ERROR_PACKET_ILLEGAL_FORMAT=2009]="DENIED_ERROR_PACKET_ILLEGAL_FORMAT",eA[eA.DENIED_ERROR_CHECK_ADDR_TIMEOUT=2010]="DENIED_ERROR_CHECK_ADDR_TIMEOUT",eA[eA.DENIED_ERROR_CHECK_ADDR_ILLEGAL_SIGNATURE=2011]="DENIED_ERROR_CHECK_ADDR_ILLEGAL_SIGNATURE",eA[eA.DENIED_ERROR_CHECK_ADDR_INCONSTANT=2012]="DENIED_ERROR_CHECK_ADDR_INCONSTANT",eA[eA.DENIED_ERROR_WEBRTC_NEGOTIATE_TIMEOUT=3e3]="DENIED_ERROR_WEBRTC_NEGOTIATE_TIMEOUT",eA[eA.DENIED_ERROR_WEBRTC_CANDIDATE_TIMEOUT=3001]="DENIED_ERROR_WEBRTC_CANDIDATE_TIMEOUT",eA[eA.DENIED_ERROR_WEBRTC_CONNECTIVITY_CHECK_FAILED=3002]="DENIED_ERROR_WEBRTC_CONNECTIVITY_CHECK_FAILED",eA[eA.DENIED_ERROR_WEBRTC_DTLS_HS_FAILED=3003]="DENIED_ERROR_WEBRTC_DTLS_HS_FAILED",eA[eA.DENIED_ERROR_WEBRTC_DTLS_HS_TIMEOUT=3004]="DENIED_ERROR_WEBRTC_DTLS_HS_TIMEOUT",eA[eA.DENIED_ERROR_WEBRTC_SRTP_PROTECT_FAILED=3005]="DENIED_ERROR_WEBRTC_SRTP_PROTECT_FAILED",eA[eA.DENIED_ERROR_WEBRTC_HB_TIMEOUT=3006]="DENIED_ERROR_WEBRTC_HB_TIMEOUT",eA[eA.DENIED_ERROR_WEBRTC_CONNECTION_LOST=3007]="DENIED_ERROR_WEBRTC_CONNECTION_LOST",eA[eA.DENIED_ERROR_WEBRTC_NEW_SRC=3008]="DENIED_ERROR_WEBRTC_NEW_SRC"}(er.DeniedError||(er.DeniedError={}))},3304:function(eA,er,ei){"use strict";var eo=this&&this.__assign||function(){return(eo=Object.assign||function(eA){for(var er,ei=1,eo=arguments.length;ei<eo;ei++)for(var en in er=arguments[ei])Object.prototype.hasOwnProperty.call(er,en)&&(eA[en]=er[en]);return eA}).apply(this,arguments)},en=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},es=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}};Object.defineProperty(er,"__esModule",{value:!0}),er.RTCModules=void 0;var ea=ei(5123),eg=ei(5123),ec=ei(5123),eu=ei(1586),el=ei(4028),ed=ei(4202),eE=ei(4147),eI=ei(2388),eC=ei(93),eh=ei(2532),eB=ei(1264),ep=eu.ZegoRTCLogEvent.kZegoStartPlay,ef=function(){function eA(eA,er,ei,eo,en,es,ea){this.logger=eA,this.dataReport=er,this.stateCenter=ei,this.streamCenter=eo,this.rtm=en,this.ac=es,this.zegoWebRtc=ea,this.mediaEleSources=[],this.publishModule=new eE.PublishModule(this.logger,this.dataReport,this.stateCenter,this.streamCenter,this.rtm,this.zegoWebRtc),this.playModule=new eI.PlayModule(this.logger,this.dataReport,this.stateCenter,this.streamCenter,this.rtm),this.initAdvance(),this.initStreamCommon(),this.initAudioMix(),this.init()}return eA.prototype.init=function(){this.bindWindowListener(),this.bindRTMListener(),this.bindStreamCenterHandler()},eA.prototype.initAudioMix=function(){},eA.prototype.initAdvance=function(){},eA.prototype.initStreamCommon=function(){},eA.prototype.bindWindowListener=function(){var eA=this,er=navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i)?"pagehide":"firefox"===this.stateCenter.browser?"beforeunload":"unload";window.addEventListener("beforeunload",function(){for(var er=0;er<eA.streamCenter.previewStreamList.length;er++)eA.streamCenter.previewStreamList[er].stopPreview();eA.streamCenter.previewStreamList=[]}),window.addEventListener(er,function(){for(var er in window.event&&(window.event.cancelBubble=!0),eA.streamCenter.publisherList)eA.publishModule.stopPublishingStream(er);for(var er in eA.streamCenter.playerList)eA.playModule.stopPlayingStream(er)}),window.addEventListener("message",function(er){var ei=er.data,eo=ei.type;"SS_DIALOG_SUCCESS"===eo&&eA.screenStreamFrom(ei.streamId,ei.canRequestAudioTrack,el.ClientUtil.actionSuccessCallback("screenShare",eA.stateCenter.callbackList)),"SS_DIALOG_CANCEL"===eo&&el.ClientUtil.actionSuccessCallback("screenShare",eA.stateCenter.callbackList)(!1,null,eo)}),window.addEventListener("offline",function(){if(eA.logger.info("zc.off.0 network is broken"),eA.stateCenter.networkState=ec.ENUM_NETWORK_STATE.offline,eA.stateCenter.useNetAgent)eA.logger.info("zc.off.0 use netAgent");else{for(var er in eA.streamCenter.publisherList)(eo=eA.streamCenter.publisherList[er].retryStreamHandler).startMaxTime(),eo.invalid();for(var er in eA.streamCenter.playerList){var ei=eA.streamCenter.playerList[er],eo=ei.retryStreamHandler;ei.playMode==ea.PlayMode.CDN&&ei.cdnPlayer&&(ei.cdnPlayer.canRetry=!1),eo.startMaxTime(),eo.invalid()}}}),window.addEventListener("online",function(er){for(var ei in eA.logger.info("zc.on.0 network is online"),eA.stateCenter.networkState=ec.ENUM_NETWORK_STATE.online,eA.streamCenter.publisherList){var eo=eA.streamCenter.publisherList[ei].publisher,en=eA.streamCenter.publisherList[ei].retryStreamHandler;eo.state==ec.ENUM_PUBLISH_STATE.stop||eo.stateNego!==ec.ENUM_PUBLISH_STATE_NEGO.iceConnected?en.isOverTime||en.publishStateHandle(ec.ENUM_PUBLISH_STATE_UPDATE.error,ei,eu.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishNetworkBrokenError):eo.state==ec.ENUM_PUBLISH_STATE.publishing&&en.stopMaxTime()}for(var ei in eA.streamCenter.playerList){var es=eA.streamCenter.playerList[ei].player,eg=eA.streamCenter.playerList[ei].playMode,el=(en=eA.streamCenter.playerList[ei].retryStreamHandler,eA.streamCenter.playerList[ei].cdnPlayer);eg==ea.PlayMode.CDN&&el&&(el.canRetry=!1),es.state==ec.ENUM_PLAY_STATE.stop||eg!==ea.PlayMode.CDN&&es.stateNego!==ec.ENUM_PLAY_STATE_NEGO.iceConnected?en.isOverTime||en.playStateHandle(ec.ENUM_PLAY_STATE_UPDATE.error,ei,eu.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayNetworkBrokenError):es.state==ec.ENUM_PLAY_STATE.playing&&en.stopMaxTime()}}),document.addEventListener("visibilitychange",function(er){var ei="";ei="visible"===document.visibilityState?"foreground":"background";var eo=eA.stateCenter.reporter.createSpan(eg.TRACER_LEVEL.H,{key:eu.ZegoRTCLogEvent.kZMInitSetting.event},{key:""},eu.ZegoRTCLogEvent.kZegoAppLifeCycle.event);eo.setAttribute("state",eu.ZegoRTCLogEvent.kZegoAppLifeCycle.state(ei)),eo.end()}),"safari"==this.stateCenter.browser&&(window.addEventListener("pagehide",function(er){var ei=eA.stateCenter.reporter.createSpan(eg.TRACER_LEVEL.H,{key:eu.ZegoRTCLogEvent.kZMInitSetting.event},{key:""},eu.ZegoRTCLogEvent.kZegoAppLifeCycle.event);ei.setAttribute("state",eu.ZegoRTCLogEvent.kZegoAppLifeCycle.state("background")),ei.end()}),window.addEventListener("pageshow",function(er){var ei=eA.stateCenter.reporter.createSpan(eg.TRACER_LEVEL.H,{key:eu.ZegoRTCLogEvent.kZMInitSetting.event},{key:""},eu.ZegoRTCLogEvent.kZegoAppLifeCycle.event);ei.setAttribute("state",eu.ZegoRTCLogEvent.kZegoAppLifeCycle.state("foreground")),ei.end()}))},eA.prototype.bindRTMListener=function(){var eA,er,ei=this;this.rtm._on("_settingCanFetch",function(eA){return en(ei,void 0,void 0,function(){var eA=this;return es(this,function(er){return this.rtm.cloudSetting.fetchSetting(eB.RTC).then(function(er){eA.logger.info("zc.scf stream config "+JSON.stringify(er)),er&&eA.stateCenter.settingConfig.setSetting(er.setting,["auto_to_tcp","udp_max_fail_num","probe_started_num","hardware_encode","camera_hard_encode","custom_hard_encode","camera_width","camera_height","camera_framerate","camera_audio_bitrate","camera_video_bitrate"]),eA.rtm._on("_cloudSettingNotify",function(eA,er){})}),[2]})})}),this.rtm._on("_appConfigRsp",function(){ei.stateCenter.appConfig=ei.rtm.getAppConfig(),ei.publishModule.startWaitPublish(),ei.playModule.startWaitPlay()}),this.rtm._on("_netAppConfigRsp",function(eA){ei.stateCenter.netAppConfigDelay>0?setTimeout(function(){ei.stateCenter.netAppConfig=eA,ei.stateCenter.supportBg=ei.checkBackgroundCapacity()},ei.stateCenter.netAppConfigDelay):(ei.stateCenter.netAppConfig=eA,ei.stateCenter.supportBg=ei.checkBackgroundCapacity())}),this.rtm._on("_roomLogin",function(eA,er){ei.stateCenter.appid=ei.rtm.getAppID(),ei.stateCenter.idName=ei.rtm.getUserID(),ei.stateCenter.nickName=ei.rtm.getUserName(),ei.stateCenter.testEnvironment=ei.rtm.isTestEnvironment(),ei.stateCenter.isMultiRoom=ei.rtm.getMultiRoom(),ei.stateCenter.useNetAgent=ei.rtm.getUseNetAgent(),ei.streamCenter.setSessionInfo(ei.stateCenter.appid,ei.stateCenter.idName,ei.stateCenter.testEnvironment);var eo=ei.stateCenter.getRoomByRoomID(eA);if(!eo){var en=new ed.StreamHandler(ei.logger,ei.stateCenter,ei.rtm,ei.streamCenter,eA);ei.bindStreamHandler(en),ei.stateCenter.roomList.push(eo={roomID:eA,streamHandler:en,sessionID:"",roomSessionID:"",token:er,isResetRoom:!1,streamList:[],streamInfoList:[]})}}),this.rtm._on("roomLoginResponse",function(eA){ei.logger.info("zc.rlr call "+JSON.stringify(eA));var er=eA.header.room_id||eA.body.room_id;ei.stateCenter.appConfig=ei.rtm.getAppConfig();var eo=ei.rtm.getToken(er),en=ei.rtm.getSessionId(er),es=ei.rtm.getRoomSessionID(er),ea=ei.stateCenter.getRoomByRoomID(er);if(!ea){var eg=new ed.StreamHandler(ei.logger,ei.stateCenter,ei.rtm,ei.streamCenter,er);ei.bindStreamHandler(eg),ei.stateCenter.roomList.push(ea={roomID:er,streamHandler:eg,sessionID:en,roomSessionID:es,token:eo,isResetRoom:!1,streamList:[],streamInfoList:[]})}if(ea.sessionID=en,ea.roomSessionID=es,ei.stateCenter.tempRoomList.length>0)for(var ec=function(eA){var er=ei.stateCenter.tempRoomList[eA],eo=er.roomID,en=er.streamList,es=ei.stateCenter.roomList.find(function(eA){return eA.roomID===eo});es&&(es.streamList=en.filter(function(eA){var er=ei.streamCenter.stopedPlayerList[null==eA?void 0:eA.stream_id];return!!(er&&er.state<=6)}),ei.stateCenter.tempRoomList[eA].streamList=[])},eu=0;eu<ei.stateCenter.tempRoomList.length;eu++)ec(eu);if(1===eA.body.stream_fetch_flag)return ei.logger.info("zc.rlr stream fetch "+er),ea.streamHandler.room=ea,void ea.streamHandler.fetchStreamList();ea.streamHandler.handleStreamStart(eA,ea),ei.streamCenter.checkStreamReport(),ei.logger.info("zc.rlr end "+er)}),this.rtm._on("_connectChanged",function(eA,er){ei.logger.info("zc.cc.0 "+eA+" "+JSON.stringify(er)),"connecting"===eA?ei.stateCenter.connectChanged=!0:"connected"===eA&&(ei.stateCenter.connectChanged=!1,ei.stateCenter.useNetAgent=ei.rtm.getUseNetAgent(),ei.handleWaitPublishAndPlays(er))}),this.rtm._on("HBResponse",function(eA,er){var eo,en=null===(eo=null==eA?void 0:eA.header)||void 0===eo?void 0:eo.room_id,es=ei.stateCenter.getRoomByRoomID(en||er);null==es||es.streamHandler.patchStreamList(eA)}),this.rtm._on("_roomStateUpdate",function(eA,er,eo,en,es){if("CONNECTED"===er&&ei.stateCenter.billingTimer.shouldReportRoomTime&&ei.stateCenter.billingTimer.startChargeInfosUpload(),"DISCONNECTED"==er){ei.logger.info("zc.rsu "+eA+" disconnected "+(eo?eo+" ":"")+(en||"")+es),ei.stateCenter.billingTimer.stopChargeInfosUpload();var ea=ei.stateCenter.getRoomByRoomID(eA);if(ea){var eg=ei.stateCenter.roomList.findIndex(function(er){return er.roomID==eA});ea.isResetRoom=!0,ea.streamHandler.reset(),ei.streamCenter.reset(eA,eo,es),ei.stateCenter.roomList.splice(eg,1),es?ei.stateCenter.tempRoomList.push(ea):ei.stateCenter.tempRoomList=ei.stateCenter.tempRoomList.filter(function(er){return er.roomID!==eA})}}else ei.logger.info("zc.rsu "+eA+" state: "+er)}),this.rtm._on("_tokenRenewed",function(eA,er){ei.logger.info("zc.tr roomID:"+er+" "+eA);var eo=ei.stateCenter.getRoomByRoomID(er);eo&&(eo.token=eA)}),this.rtm._on("_tokenExpired",function(eA){var er,eo;((null===(eo=null===(er=null==eA?void 0:eA.body)||void 0===er?void 0:er.stop_stream)||void 0===eo?void 0:eo.stream_id_list)||[]).forEach(function(eA){ei.publishModule.stopPublishingStream(eA,eh.errorCodeList.TOKEN_EXPIRED)})}),this.rtm.liveRoomHandler.handlePushStreamMsg=function(eA){eA.body.stream_cmd=eg.streamMap[eA.header.sub_cmd],ei.handlePushStreamMsg(eA)},null===(eA=this.rtm.service)||void 0===eA||eA.on("push_stream_update",function(eA){ei.handlePushStreamMsg(eA)}),null===(er=this.rtm.service)||void 0===er||er.on("zegochat_js.push_room_stream_update_req",function(eA){var er,eo=(null===(er=null==eA?void 0:eA.header)||void 0===er?void 0:er.room_id)||"",en=ei.stateCenter.getRoomByRoomID(eo);en?en.streamHandler.handlePriPushStreamUpdateMsg(eA):ei.logger.error(eC.ZEGO_WEBRTC_ACTION.ON_STREAM+" room no found")})},eA.prototype.handleWaitPublishAndPlays=function(eA){for(var er=Object.keys(this.stateCenter.waitPublishStreamList),ei=0;ei<er.length;ei++){var eo=er[ei],en=this.stateCenter.waitPublishStreamList[eo],es=en.localStream,ea=en.publishOption,eg=en.isDataChannel;if(en.retryStart){if(ea.roomID&&ea.roomID!==(null==eA?void 0:eA.roomID)){this.logger.info("zc.hwpap.0 room not connect");continue}this.publishModule.startPublishingStream(eo,es,ea,eg),delete this.stateCenter.waitPublishStreamList[eo]}}},eA.prototype.handlePushStreamMsg=function(eA){var er,ei=(null===(er=null==eA?void 0:eA.header)||void 0===er?void 0:er.room_id)||"",eo=this.stateCenter.getRoomByRoomID(ei),en=this.rtm.getMsgSpan(eu.ZegoRTCLogEvent.kZegoTaskLiveRoomRecvStreamUpdateInfo.event,ei);if(!eo)return this.stateCenter.reporter.setError(en,eu.ZegoRTCLogEvent.kZegoTaskLiveRoomRecvStreamUpdateInfo.error.ROOM_NOT_EXIST),void this.logger.error(eC.ZEGO_WEBRTC_ACTION.ON_PUSH_STREAM_UPDATE+" room no found");var es="";switch(eA.body.stream_cmd){case eg.ENUM_STREAM_UPDATE_CMD.added:es="add";break;case eg.ENUM_STREAM_UPDATE_CMD.deleted:es="delete";break;case eg.ENUM_STREAM_UPDATE_CMD.updated:es="update"}var ea=eA.body.stream_info.map(function(eA){return{stream_id:eA.stream_id,stream_extra_info:eA.extra_info,id_name:eA.id_name||eA.anchor_id_name}});en.setAttributes({stream_update_type:eu.ZegoRTCLogEvent.kZegoTaskLiveRoomRecvStreamUpdateInfo.stream_update_type(es),stream_seq:eA.body.stream_seq,stream_list:eu.ZegoRTCLogEvent.kZegoTaskLiveRoomRecvStreamUpdateInfo.stream_list(ea)}),en.end(),eo.streamHandler.handlePushStreamUpdateMsg(eA)},eA.prototype.bindStreamCenterHandler=function(){var eA=this;this.streamCenter.onPlayStateUpdate=function(er,ei,eo,en){var es,ea,ec,ed,eE,eI,eC,eh,eB,ef,em,eQ,ev,e_,ey,eS,eR,eT,eD=eA.streamCenter.playerList[ei];if(1==er&&eD&&el.ClientUtil.isReDispatch(eo)){var eb=eD.player,eN=eD.retryDispatchHandler,ek=eD.playOption;return 0!=eb.sessionId&&eb.signal&&eb.shouldSendCloseSession()&&(eb.signal.sendCloseSession(eA.stateCenter.getSeq(),eb.sessionId,1),eb.signal.removeSession(eb.sessionId),eb.closeSessionSignal=!0),eb.resetPlay(),eN.stopMaxTime(),eN.invalid(),eN.initStream(ei,ek,!1),void(eA.rtm.isLogin()?(eN.startMaxTime(),eN.active(0)):eA.streamCenter.playerList[ei].isReDispatch=!0)}if(eD&&eD.player&&(0==er||1==er)){var eL=eD.player.isRePlay?eu.ZegoRTCLogEvent.kZegoRePlay:eu.ZegoRTCLogEvent.kZegoStartPlay;1==er&&eo&&eA.stateCenter.reporter.spanSetAttributes({key:eL.event,par:ei},{error:eo.code,message:eo.message}),eA.stateCenter.reporter.spanEnd({key:eL.event,par:ei},{url:ep.url(null===(ea=null===(es=null==eD?void 0:eD.player)||void 0===es?void 0:es.signal)||void 0===ea?void 0:ea.server),ip:ep.ip(null===(ec=null==eD?void 0:eD.player)||void 0===ec?void 0:ec.ip),peer_id:ep.peer_id(null===(ed=null==eD?void 0:eD.player)||void 0===ed?void 0:ed.peerID),source_type:ep.source_type((0,el.getPlaySourceType)(null===(eE=null==eD?void 0:eD.player)||void 0===eE?void 0:eE.resourceMode)),net_protocol:ep.net_protocol(null===(eI=null==eD?void 0:eD.player)||void 0===eI?void 0:eI.netProtocol),signal_consume:ep.signal_consume(null===(eC=null==eD?void 0:eD.player)||void 0===eC?void 0:eC.signalTime),is_center:ep.is_center(null==eD?void 0:eD.isCenterNode)}),eA.stateCenter.reporter.spanEnd({key:eu.ZegoRTCLogEvent.kZegoTaskPlayStart.event,par:ei},{error:eo.code,message:eo.message},!0)}if(0!=er||(null==en?void 0:en.isCDN))1!=er||(null==en?void 0:en.isCDN)||(null===(eS=null==eD?void 0:eD.player)||void 0===eS||eS.uploadRTCPlayStats(),eA.stateCenter.reporter.spanEnd({key:eu.ZegoRTCLogEvent.kZegoTaskStreamPlay.event,par:ei},{stop_reason:eu.ZegoRTCLogEvent.kZegoTaskStreamPlay.stop_reason(null===(eR=null==eD?void 0:eD.player)||void 0===eR?void 0:eR.stopReason),error:eo.code,message:eo.message}),eD&&eD.player&&(eD.player.stopReason=""));else{var ew=eu.ZegoRTCLogEvent.kZegoTaskStreamPlay,eM=eA.stateCenter.reporter.createSpan(eg.TRACER_LEVEL.I,{key:eu.ZegoRTCLogEvent.kZegoTaskPlayStart.event,par:ei},{key:eu.ZegoRTCLogEvent.kZegoTaskStreamPlay.event,par:ei},0===(null===(eh=null==eD?void 0:eD.player)||void 0===eh?void 0:eh.resourceMode)?eu.ZegoRTCLogEvent.kZegoTaskStreamPlay.event:eu.ZegoRTCLogEvent.kZegoTaskL3Play.event,!0);eD.player.rtcPlayCount++,eM.setAttributes({tryidx:ew.tryidx(eD.player.rtcPlayCount),url:ew.url(null===(ef=null===(eB=null==eD?void 0:eD.player)||void 0===eB?void 0:eB.signal)||void 0===ef?void 0:ef.server),ip:ew.ip(null===(em=null==eD?void 0:eD.player)||void 0===em?void 0:em.ip),net_protocol:ew.net_protocol(null===(eQ=null==eD?void 0:eD.player)||void 0===eQ?void 0:eQ.netProtocol),room_id:ew.room_id(null===(ev=null==eD?void 0:eD.room)||void 0===ev?void 0:ev.roomID),room_sid_string:ew.room_sid_string(null===(e_=null==eD?void 0:eD.room)||void 0===e_?void 0:e_.roomSessionID),env:ew.env(eA.stateCenter.testEnvironment?3:1),resource_type:ew.resource_type((0,el.getPlaySourceType)(null===(ey=null==eD?void 0:eD.player)||void 0===ey?void 0:ey.resourceMode)),protocol:ew.protocol("webrtc"),dispatch_external_ip:ew.dispatch_external_ip(eA.stateCenter.clientIP),stream_id:ew.stream_id(ei)})}if(1===er&&eA.streamCenter.playErrorCallBackList[ei])eA.stateCenter.connectChanged||(eA.logger.info("zc.opsu.1 connect changed"),eA.streamCenter.playErrorCallBackList[ei]({errorCode:eo&&eo.code,extendedData:eo&&eo.message}),delete eA.streamCenter.playErrorCallBackList[ei]),eA.logger.info("zc.opsu.1 stop play called by sdk"),eA.playModule.stopPlayingStream(ei,eo);else{var eO=el.ClientUtil.getPlayerStateType(er);(1===er||(null===(eT=null==eD?void 0:eD.player)||void 0===eT?void 0:eT.updateCBState({state:eO,code:eo.code})))&&eA.stateCenter.actionListener("playerStateUpdate",{state:eO,streamID:ei,errorCode:eo&&eo.code,extendedData:eo&&eo.message})}},this.streamCenter.onPublishStateUpdate=function(er,ei,eo){eA.onPublishStateUpdateHandle(er,ei,eo)},this.streamCenter.onPublishQualityUpdate=function(er,ei){eA.stateCenter.actionListener("publishQualityUpdate",er,ei)},this.streamCenter.onPlayQualityUpdate=function(er,ei){eA.stateCenter.actionListener("playQualityUpdate",er,ei)},this.streamCenter.onRemoteCameraStatusUpdate=function(er,ei,eo){var en=eA.stateCenter.reporter.createSpan(eg.TRACER_LEVEL.H,{key:eu.ZegoRTCLogEvent.kZegoTaskPlayStart.event,par:er},{key:""},eu.ZegoRTCLogEvent.kZegoTaskRemoteCameraUpdate.event);en.setAttributes({stream_id:eu.ZegoRTCLogEvent.kZegoTaskRemoteCameraUpdate.stream_id(er),camera_status:eu.ZegoRTCLogEvent.kZegoTaskRemoteCameraUpdate.camera_status(ei),status_code:eu.ZegoRTCLogEvent.kZegoTaskRemoteCameraUpdate.status_code(eo)}),en.end(),eA.stateCenter.actionListener("remoteCameraStatusUpdate",er,ei),eA.stateCenter.actionListener("_remoteCameraStatusUpdate",er,eo)},this.streamCenter.onRemoteMicStatusUpdate=function(er,ei,eo){var en=eA.stateCenter.reporter.createSpan(eg.TRACER_LEVEL.H,{key:eu.ZegoRTCLogEvent.kZegoTaskPlayStart.event,par:er},{key:""},eu.ZegoRTCLogEvent.kZegoTaskRemoteMicUpdate.event);en.setAttributes({stream_id:eu.ZegoRTCLogEvent.kZegoTaskRemoteMicUpdate.stream_id(er),mic_status:eu.ZegoRTCLogEvent.kZegoTaskRemoteMicUpdate.mic_status(ei),status_code:eu.ZegoRTCLogEvent.kZegoTaskRemoteMicUpdate.status_code(eo)}),en.end(),eA.stateCenter.actionListener("remoteMicStatusUpdate",er,ei),eA.stateCenter.actionListener("_remoteMicStatusUpdate",er,eo)},this.streamCenter.onSoundLevelUpdate=function(er){eA.stateCenter.actionListener("soundLevelUpdate",er)},this.streamCenter.onMicSoundLevelUpdate=function(er){eA.stateCenter.actionListener("capturedSoundLevelUpdate",er)}},eA.prototype.bindStreamHandler=function(eA){var er=this;eA.onStreamUpdated=function(eA,ei,eo){var en=eo.map(function(eA){return{streamID:eA.streamID,user:eA.user,extraInfo:eA.extraInfo,urlsFLV:eA.urlFlv,urlsRTMP:eA.urlRtmp,urlsHLS:eA.urlHls,urlsHttpsFLV:eA.urlHttpsFlv,urlsHttpsHLS:eA.urlHttpsHls}}),es={};if(0===ei){var ea=eo.map(function(eA){return{stream_id:eA.streamID,code:ec.STREAM_DELETE_REASON[eA.closeType]&&ec.STREAM_DELETE_REASON[eA.closeType].code||0,description:ec.STREAM_DELETE_REASON[eA.closeType]&&ec.STREAM_DELETE_REASON[eA.closeType].description||"unknown"}});es.stream_delete_reason=ea}if(0===ei&&(en=en.filter(function(eA){return!er.stateCenter.publishStreamList[eA.streamID]})),en.length>0&&er.stateCenter.actionListener("roomStreamUpdate",eA,el.ClientUtil.getSteamUpdateType(ei),en,Object.keys(es).length>0?JSON.stringify(es):""),eo.length>0&&er.stateCenter.actionListener("_streamUpdated",ei,eo),1===ei){var eg=[];en.forEach(function(eA){eA.extraInfo&&eg.push({streamID:eA.streamID,user:eA.user,extraInfo:eA.extraInfo})}),eg.length>0&&er.stateCenter.actionListener("streamExtraInfoUpdate",eA,eg)}},eA.onPublishStateUpdate=function(eA,ei,en){er.logger.info("zb.opsu ",ei);var es,ea,ec,ed,eE,eI,eC,eB,ep,ef,em,eQ,ev,e_,ey,eS,eR=er.streamCenter.publisherList[ei];if(eR&&eR.publisher&&(0==eA||1==eA)){var eT=eu.ZegoRTCLogEvent.kZegoStartPublish;er.stateCenter.reporter.spanEnd({key:(eR.publisher.isRePublish?eu.ZegoRTCLogEvent.kZegoRePublish:eu.ZegoRTCLogEvent.kZegoStartPublish).event,par:ei},{error:en.code,message:en.message,url:eT.url(null===(ea=null===(es=null==eR?void 0:eR.publisher)||void 0===es?void 0:es.signal)||void 0===ea?void 0:ea.server),ip:eT.ip(null===(ec=null==eR?void 0:eR.publisher)||void 0===ec?void 0:ec.ip),peer_id:eT.peer_id(null===(ed=null==eR?void 0:eR.publisher)||void 0===ed?void 0:ed.peerID),source_type:eT.source_type("rtc"),net_protocol:eT.net_protocol(null===(eE=null==eR?void 0:eR.publisher)||void 0===eE?void 0:eE.netProtocol),is_center:eT.is_center(null==eR?void 0:eR.isCenterNode)}),er.stateCenter.reporter.spanEnd({key:eu.ZegoRTCLogEvent.kZegoTaskPublishStart.event,par:ei},eo({},en),!0)}var eD=eu.ZegoRTCLogEvent.kZegoTaskRTCPublish;if(eR&&eR.publisher){if(0==eA){var eb=er.stateCenter.reporter.createSpan(eg.TRACER_LEVEL.I,{key:eu.ZegoRTCLogEvent.kZegoTaskPublishStart.event,par:ei},{key:eD.event,par:ei},eD.event,!0);eR.publisher.rtcPublishCount++,eb.setAttributes({tryidx:eD.tryidx(null==eR?void 0:eR.publisher.rtcPublishCount),url:eD.url(null===(eC=null===(eI=null==eR?void 0:eR.publisher)||void 0===eI?void 0:eI.signal)||void 0===eC?void 0:eC.server),ip:eD.ip(null===(ef=null===(ep=null===(eB=null==eR?void 0:eR.publisher)||void 0===eB?void 0:eB.gwNode)||void 0===ep?void 0:ep.split(":"))||void 0===ef?void 0:ef[0]),net_protocol:eD.net_protocol(null===(em=null==eR?void 0:eR.publisher)||void 0===em?void 0:em.netProtocol),dispatch_external_ip:eD.dispatch_external_ip(er.stateCenter.clientIP),room_id:eD.room_id(null===(eQ=null==eR?void 0:eR.room)||void 0===eQ?void 0:eQ.roomID),room_sid_string:eD.room_sid_string(null===(ev=null==eR?void 0:eR.room)||void 0===ev?void 0:ev.roomSessionID),resource_type:eD.resource_type("rtc"),protocol:eD.protocol("webrtc")})}else 1==eA&&(1012===en.code?er.streamCenter.stopPublishingStream(ei,en):2002===en.code&&(er.streamCenter.stopPublishingStream(ei,en),en.code=eh.errorCodeList.TOKEN_ERROR.code),null===(e_=null==eR?void 0:eR.publisher)||void 0===e_||e_.uploadRTCPublishStats(),er.stateCenter.reporter.spanEnd({key:eD.event,par:ei},{stop_reason:eD.stop_reason(null===(ey=null==eR?void 0:eR.publisher)||void 0===ey?void 0:ey.stopReason),error:en.code,message:en.message}),eR&&eR.publisher&&(eR.publisher.stopReason=""))}var eN=el.ClientUtil.getPublisherStateType(eA);(1===eA||(null===(eS=null==eR?void 0:eR.publisher)||void 0===eS?void 0:eS.updateCBState({state:eN,code:en.code})))&&er.stateCenter.actionListener("publisherStateUpdate",{state:eN,streamID:ei,errorCode:en.code,extendedData:en.message})},eA.onStreamExtraInfoUpdated=function(eA,ei){var eo=ei.map(function(eA){return{streamID:eA.streamID,user:eA.user,extraInfo:eA.extraInfo}});er.stateCenter.actionListener("streamExtraInfoUpdate",eA,eo)}},eA.prototype.screenStreamFrom=function(eA,er,ei){var eo={};eo.audio={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:eA}},eo.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:eA,maxWidth:window.screen.width,maxHeight:window.screen.height}},er||(eo.audio=!1),navigator.mediaDevices.getUserMedia(eo).then(function(eA){ei(!0,eA)}).catch(function(eA){ei(!1,null,eA)})},eA.prototype.onPublishStateUpdateHandle=function(eA,er,ei){var eo=this;this.logger.info("zc.opsuh.0 call");var en=this.streamCenter.publisherList[er],es=en.room;if(es){if(0==eA){if(this.stateCenter.publishStreamList[er]){var ea=!es.streamList.find(function(eA){return eA.stream_id==er&&(eA.anchor_id_name==eo.stateCenter.idName||eA.id_name==eo.stateCenter.idName||eA.user_id===eo.stateCenter.idName)});(this.logger.info("zc.opsuh.0 room stream"+er+" "+ea),[ec.ENUM_PUBLISH_STREAM_STATE.tryPublish,ec.ENUM_PUBLISH_STREAM_STATE.retryPublish].includes(this.stateCenter.publishStreamList[er].state)&&ea)?(this.stateCenter.publishStreamList[er].state=ec.ENUM_PUBLISH_STREAM_STATE.update_info,es.streamHandler.updateStreamInfo(er,ec.ENUM_STREAM_SUB_CMD.liveBegin,this.stateCenter.publishStreamList[er].extra_info,function(eA){})):(this.logger.info("zc.opsuh.0 stream update "+er),this.stateCenter.publishStreamList[er].state=ec.ENUM_PUBLISH_STREAM_STATE.publishing,this.WebrtcOnPublishStateUpdateHandle(eA,er,ei))}}else{if(1==eA&&en&&el.ClientUtil.isReDispatch(ei)){var eg=en.publisher,eu=en.retryDispatchHandler,ed=en.publishOption;return 0!=eg.sessionId&&eg.signal&&eg.shouldSendCloseSession()&&(eg.signal.sendCloseSession(this.stateCenter.getSeq(),eg.sessionId,1),eg.signal.removeSession(eg.sessionId),eg.closeSessionSignal=!0),eg.resetPublish(),eu.stopMaxTime(),eu.invalid(),eu.initStream(er,ed,!0),void(this.rtm.isLogin()?(eu.startMaxTime(),eu.active(0)):this.streamCenter.publisherList[er].isReDispatch=!0)}es.streamHandler.onPublishStateUpdate(eA,er,ei),1==eA&&(this.logger.info("zc.opsuh.0 stop publish called by sdk"),this.publishModule.stopPublishingStream(er,ei))}}else this.logger.error("zc.opsuh.0 room not exist")},eA.prototype.WebrtcOnPublishStateUpdateHandle=function(eA,er,ei){if(this.stateCenter.publishStreamList[er].state==ec.ENUM_PUBLISH_STREAM_STATE.publishing){var eo=this.streamCenter.getRoomByStreamID(er);eo&&eo.streamHandler.onPublishStateUpdate(eA,er,ei)}},eA.prototype.bindListener=function(eA,er){var ei=this.stateCenter.reporter.createSpan(eg.TRACER_LEVEL.H,{key:eu.ZegoRTCLogEvent.kZegoTaskListener.event},{key:""},eu.ZegoRTCLogEvent.kZegoTaskOnListener.event);return ei.setAttributes({listener:eA}),this.stateCenter.listenerList[eA]?"function"!=typeof er?(this.logger.error("zc.o.0 listener callBack must be funciton"),this.stateCenter.reporter.setError(ei,eu.ZegoRTCLogEvent.kZegoTaskOnListener.error.INPUT_PARAM," listener callBack must be function"),!1):(-1==this.stateCenter.listenerList[eA].indexOf(er)&&this.stateCenter.listenerList[eA].push(er),ei.end(),!0):(this.logger.error("zc.o.0 event "+eA+" no found"),this.stateCenter.reporter.setError(ei,eu.ZegoRTCLogEvent.kZegoTaskOnListener.error.INPUT_PARAM," event "+event+" no found"),!1)},eA.prototype.deleteListener=function(eA,er){var ei=this.stateCenter.reporter.createSpan(eg.TRACER_LEVEL.H,{key:eu.ZegoRTCLogEvent.kZegoTaskListener.event},{key:""},eu.ZegoRTCLogEvent.kZegoTaskOffListener.event);if(ei.setAttributes({listener:eA}),!this.stateCenter.listenerList[eA])return this.logger.error("zc.o.1 listener no found"),this.stateCenter.reporter.setError(ei,eu.ZegoRTCLogEvent.kZegoTaskOffListener.error.INPUT_PARAM," event "+event+" no found"),!1;this.logger.info("dc.o.1 "+"".concat(eA," cb:")+typeof er);var eo=this.stateCenter.listenerList[eA];return er?eo.splice(eo.indexOf(er),1):this.stateCenter.listenerList[eA]=[],ei.end(),!0},eA.prototype.checkBackgroundCapacity=function(){if(this.stateCenter.netAppConfig){var eA=this.stateCenter.netAppConfig.media_config.publish_config.object_segmentation_platform;return!!eA&&!!(0,el.getBitCode)(eA,0)}return!0},eA}();er.RTCModules=ef},1429:function(eA,er,ei){"use strict";var eo=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},en=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}},es=this&&this.__importDefault||function(eA){return eA&&eA.__esModule?eA:{default:eA}};Object.defineProperty(er,"__esModule",{value:!0}),er.MiniSdpWorker=void 0;var ea=es(ei(5527)),eg=es(ei(741)),ec=ei(2532),eu=function(){function eA(){var eA=this;this.msgSuccessCallBack={};var er=eg.default.toString().trim().match(/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1],ei=URL.createObjectURL(new window.Blob([er],{type:"text/javascript"}));this.worker=new Worker(ei);var eo=URL.createObjectURL(new window.Blob([ea.default+";this._ModuleFn=Module;"],{type:"text/javascript"}));this.worker.postMessage({command:"init",val:eo}),this.worker.onmessage=function(er){var ei=er.data;ei.eventId&&eA.msgSuccessCallBack[ei.eventId]instanceof Function&&(eA.msgSuccessCallBack[ei.eventId]({code:ei.code,data:ei.data}),delete eA.msgSuccessCallBack[ei.eventId])},this.worker.onmessageerror=function(eA){console.error("Error receiving message from worker: ".concat(eA))},this.worker.onerror=function(eA){console.error(eA)}}return eA.prototype.messageHandler=function(eA){var er=this;return new Promise(function(ei){var eo=Math.floor(10*Math.random());eA.eventId="".concat(eA.command,"_ \n        ").concat(Date.now().toString(16).slice(eo,eo+6)),er.worker.postMessage(eA),er.msgSuccessCallBack[eA.eventId]=function(eA){ei(eA)}})},eA.prototype.parseToMiniSdp=function(eA){return eo(this,void 0,void 0,function(){var er=this;return en(this,function(ei){return[2,new Promise(function(ei,es){return eo(er,void 0,void 0,function(){var er,eo;return en(this,function(en){switch(en.label){case 0:return"string"==typeof eA&&eA?[4,this.messageHandler({command:"parseToMiniSdp",val:eA})]:(es(ec.errorCodeList.INPUT_PARAM),[2]);case 1:if(0===(er=en.sent()).code)ei(er.data);else{switch(eo=void 0,er.code){case -1:eo=ec.errorCodeList.WRONG_FORMAT;break;case -2:eo=ec.errorCodeList.SIZE_EXCEEDED;break;case -3:eo=ec.errorCodeList.URL_EXCEEDED}es(eo)}return[2]}})})})]})})},eA.prototype.loadMiniSdpToOriginSdp=function(eA){return eo(this,void 0,void 0,function(){var er=this;return en(this,function(ei){return[2,new Promise(function(ei,es){return eo(er,void 0,void 0,function(){var er;return en(this,function(eo){switch(eo.label){case 0:return eA instanceof Uint8Array?[4,this.messageHandler({command:"loadMiniSdpToOriginSdp",val:eA})]:(es(ec.errorCodeList.INPUT_PARAM),[2]);case 1:return 0==(er=eo.sent()).code&&ei(er.data),[2]}})})})]})})},eA}();er.MiniSdpWorker=eu},741:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.default=function(){var eA={},er=this,ei={init:function(ei){importScripts(ei),er._ModuleFn(eA)},parseToMiniSdp:function(ei,eo){var en=eA._parseToMiniSdp,es=eA._getBuffer,ea=eA.HEAPU8,eg=eA._free,ec=(0,eA.allocateUTF8)(ei),eu=en(ec);if(eu<0)return er.postMessage({code:eu,eventId:eo});var el=es(),ed=new Uint8Array(ea.subarray(el,el+eu-1));er.postMessage({code:0,data:ed,eventId:eo});try{eg(ec),eg(eu),eg(el)}catch(eA){console.error(eA)}},loadMiniSdpToOriginSdp:function(ei,eo){var en,es,ea,eg=eA._loadMiniSdpToSdp,ec=eA.UTF8ToString,eu=eA.HEAPU8,el=eA._free,ed=(0,eA._malloc)(ei.length);eu.set(ei,ed);for(var eE=ec(eg(ed,ei.byteLength))||"",eI=eE.split("\r\n")||[],eC=["ice-ufrag","ice-pwd","ice-options","fingerprint","setup","mid","extmap","sendrecv","sendonly","recvonly","inactive","rtpmap","rtcp-fb","fmtp","ssrc","candidate","msid"];eI.length;){var eh=eI.length,eB=null===(es=null===(en=eI[eh-1])||void 0===en?void 0:en.split("=")[1])||void 0===es?void 0:es.split(":")[0];if(-1!=(null===(ea=eI[eh-1])||void 0===ea?void 0:ea.indexOf("="))&&eC.includes(eB))break;eI.pop()}eE=eI.join("\r\n"),er.postMessage({code:0,data:eE+="\r\n",eventId:eo});try{el(ed)}catch(eA){console.error(eA)}}};onmessage=function(eA){ei[eA.data.command]?ei[eA.data.command](eA.data.val,eA.data.eventId):console.error("the command is invalid")}}},5803:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.calculateCumulativeDuration=er.recordBreakDuration=er.onBreakEnd=void 0,er.onBreakEnd=function(eA,er,ei,eo,en){if(void 0===en&&(en="video"),er.breakStartTime){var es=eA-er.breakStartTime;es>=eo&&(er.cumulativeBreakDuration+=es,ei.breakDuration+=es),er.breakStartTime=void 0}},er.recordBreakDuration=function(eA,ei,eo,en,es,ea,eg,ec,eu,el){if(void 0===eu&&(eu=ec),void 0===el&&(el="video"),es>1e3&&(es=1e3),en.breakStartTime){if(eo)0===ei?(eA-en.breakStartTime>=22e3&&(0,er.onBreakEnd)(eA,en,eg,es,el),ea.breakDuration+=1e3):ec>=es?ec<500?ec+eu<1e3?((0,er.onBreakEnd)(eA-(1e3-eu),en,eg,es,el),en.breakStartTime=eA-ec,ea.breakDuration+=eu+ec,ea.decodeTime+=1e3-(eu+ec)):((0,er.onBreakEnd)(eA-1e3+eu,en,eg,es,el),en.breakStartTime=eA-1e3+eu,ea.breakDuration+=1e3):ec>=500&&((0,er.onBreakEnd)(eA-ec,en,eg,es,el),en.breakStartTime=eA-ec,ea.breakDuration+=1e3):eu<=es?((0,er.onBreakEnd)(eA-1e3+eu,en,eg,es,el),en.breakStartTime=void 0,ea.breakDuration+=eu,ea.decodeTime+=1e3-eu,eg.decodeDuration+=1e3-eu):ea.breakDuration+=1e3;else{en.resumeRecv=!1;var ed=eA-1e3-en.breakStartTime;ed<=0&&(ed=0),en.breakStartTime=void 0,en.noBreakNoDecodeDuration+=ed,ea.breakCancelDuration+=ed,eg.blankDuration+=ed}}else eo?0===ei?en.resumeRecv?(en.breakStartTime=eA-1e3,ea.breakDuration+=1e3):(en.noBreakNoDecodeDuration+=1e3,eg.blankDuration+=1e3):eu>es?en.resumeRecv?(en.breakStartTime=eA-eu,en.cumulativeBreakDuration+=eu,ea.breakDuration+=eu,ea.decodeTime+=1e3-eu,eg.breakDuration+=eu,eg.decodeDuration+=1e3-eu):(en.noBreakNoDecodeDuration+=1e3,eg.blankDuration+=1e3):(ea.decodeTime+=1e3,eg.decodeDuration+=1e3):en.decodeStartTime&&(0===ei?(en.resumeRecv=!1,en.noBreakNoDecodeDuration+=1e3,eg.blankDuration+=1e3):(ea.decodeTime+=1e3,eg.decodeDuration+=1e3));eo&&ei&&(en.resumeRecv=!0)},er.calculateCumulativeDuration=function(eA,er,ei,eo,en,es,ea){if(void 0===ea&&(ea="video"),eo=eo>1e3?1e3:eo,er.breakDuration=0,er.breakCancelDuration=0,er.decodeTime=0,ei.decodeDuration=0,ei.breakDuration=0,ei.blankDuration=0,eA.decodeStartTime){var eg=es,ec=eg-eA.decodeStartTime;if(eA.decodeStartTime=void 0,eA.totalDuration+=ec,eA.breakStartTime){var eu=eg-eA.breakStartTime;eA.breakStartTime=void 0,en?eu>eo&&(eA.cumulativeBreakDuration+=eu):eA.noBreakNoDecodeDuration+=eu}var el=eA.cumulativeBreakDuration,ed=eA.totalDuration-eA.cumulativeBreakDuration-eA.noBreakNoDecodeDuration;return eA.cumulativeDecodeDuration=ed,{cumulativeBreakDuration:el,cumulativeDecodeDuration:ed}}return{cumulativeBreakDuration:0,cumulativeDecodeDuration:0}}},2388:function(eA,er,ei){"use strict";var eo=this&&this.__assign||function(){return(eo=Object.assign||function(eA){for(var er,ei=1,eo=arguments.length;ei<eo;ei++)for(var en in er=arguments[ei])Object.prototype.hasOwnProperty.call(er,en)&&(eA[en]=er[en]);return eA}).apply(this,arguments)};Object.defineProperty(er,"__esModule",{value:!0}),er.PlayModule=void 0;var en=ei(5123),es=ei(93),ea=ei(5123),eg=ei(1586),ec=ei(4028),eu=eg.ZegoRTCLogEvent.kZegoTaskPlayStart,el=function(){function eA(eA,er,ei,eo,en){this.logger=eA,this.dataReport=er,this.stateCenter=ei,this.streamCenter=eo,this.rtm=en}return eA.prototype.startPlayingStream=function(eA,er,ei){var eo=this;return this.logger.info(es.ZEGO_WEBRTC_ACTION.START_PLAYING_STREAM+" call ",eA),new Promise(function(en,es){return eo._handlePlayStream(eA,er,en,es,ei)})},eA.prototype._handlePlayStream=function(eA,er,ei,el,ed){var eE,eI=this,eC=eu,eh=this.stateCenter.reporter.createSpan(en.TRACER_LEVEL.I,{key:eg.ZegoRTCLogEvent.kZMInitSetting.event},{key:eu.event,par:eA},eu.event,!0),eB=function(eA,er){eI.logger.error(es.ZEGO_WEBRTC_ACTION.START_PLAYING_STREAM+" "+(er||eA.message)),eI.stateCenter.reporter.setError(eh,eA),el&&el(eo(eo({},eA),{errorCode:eA.code,extendedData:eA.message+(er?" "+er:"")}))};if(void 0===eA||"string"!=typeof eA||""===eA)return eB(eC.error.kPlayParamError,"stream id type error"),!1;if(eA.length>ea.MAX_STREAM_ID_LENGTH)return eB(eC.error.kPlayStreamIDToLongError,"stream id length limit "+ea.MAX_STREAM_ID_LENGTH),!1;if(!ec.ClientUtil.checkIllegalCharacters(eA))return eB(eC.error.kPlayStreamIDInvalidCharacterError),!1;if(void 0!==er&&"object"!=typeof er)return eB(eC.error.kPlayParamError,"playOption must be object"),!1;var ep=(0,ec.generaStreamSid)(this.stateCenter.appid,this.stateCenter.idName,eA),ef=((eE={})["_play_"+eA]={stream_sid:ep},eE);this.stateCenter.reporter.setPublicPros(ef);var em,eQ=eo(eo({},er),{CDNVideo:void 0,CDNPlayer:void 0});if(eh.setAttributes({stream_id:eu.stream_id(eA),stream_sid:eu.stream_sid(ep),play_option:eu.play_option(eQ),video_codec_id:eu.video_codec_id(null==er?void 0:er.videoCodec),use_na:eu.use_na(this.stateCenter.useNetAgent?1:0),biz_product:(null==er?void 0:er.resourceMode)==en.ResourceMode.DG?1:0}),this.stateCenter.customUrl&&0!=this.stateCenter.customUrl.length)this.logger.info("zc.p.sps.1 customUrl "+JSON.stringify(this.stateCenter.customUrl)),em=this.stateCenter.customUrl;else{var ev=this.stateCenter.settingConfig.getSetting("signal_nodes",!0);ev&&ev instanceof Array&&ev.length>0&&(em=ev,this.logger.info("zc.p.sps.1 setting config signal_nodes "+JSON.stringify(ev)))}if(em){var e_=this.streamCenter.setPlayStateStart(eA,er,ep,ed);return!0!==e_?(eB(JSON.parse(JSON.stringify(e_)),"cannot start play"),!1):(this.streamCenter.onPlayStateUpdate(ea.ENUM_PLAY_STATE_UPDATE.retry,eA,{code:0,message:""}),this.streamCenter.playerList[eA].serverUrls=em,this.streamCenter.startPlayingStream(eA,!1,function(eA){ei&&ei(eA)}))}if(this.stateCenter.useNetAgent&&this.stateCenter.playAccelerate&&this.stateCenter.roomList.length>0)this.logger.info(es.ZEGO_WEBRTC_ACTION.START_PLAYING_STREAM+" play accelerate");else if(this.rtm.isDisConnect())return eB(eC.error.kPlayNoLoginError),!1;this.stateCenter.pullLimited||(eA=NaN+eA),er&&er.videoCodec&&(er.videoCodec=er.videoCodec.toUpperCase());var ey=this.stateCenter.settingConfig.getSetting("resource_mode",!0);void 0!==ey&&(this.logger.info(es.ZEGO_WEBRTC_ACTION.START_PLAYING_STREAM," setting resource_mode "+ey),er||(er={}),er.resourceMode=ey);var eS=this.streamCenter.setPlayStateStart(eA,er,ep,ed);if(!0!==eS)return eB(JSON.parse(JSON.stringify(eS)),"cannot start play"),!1;if(this.streamCenter.onPlayStateUpdate(ea.ENUM_PLAY_STATE_UPDATE.retry,eA,{code:0,message:""}),this.streamCenter.playSuccessCallBackList[eA]=function(eA){ei&&ei(eA)},el&&(this.streamCenter.playErrorCallBackList[eA]=el),er&&er.resourceMode&&[1,3].includes(er.resourceMode)&&this.streamCenter.playerList[eA].playMode==en.PlayMode.CDN)return this.streamCenter.startPlayingStream(eA,this.stateCenter.useNetAgent,this.streamCenter.playSuccessCallBackList[eA],!0);var eR=eg.ZegoRTCLogEvent.kZegoStartPlay;this.stateCenter.reporter.createSpan(en.TRACER_LEVEL.H,{key:eu.event,par:eA},{key:eR.event,par:eA},eR.event,!0).setAttributes({reason:eR.reason("StartPlay")});var eT=this.stateCenter.useNetAgent;if(eT)return this.stateCenter.appConfig?(this.streamCenter.playerList[eA].serverUrls=2===(null==er?void 0:er.resourceMode)?["unified_l3"]:["unified_rtc"],this.streamCenter.startPlayingStream(eA,eT,this.streamCenter.playSuccessCallBackList[eA])):this.streamCenter.waitPlayList.push(eA),!0;var eD=this.streamCenter.playerList[eA].retryDispatchHandler;return eD.stopMaxTime(),eD.invalid(),eD.initStream(eA,er,!1),eD.startMaxTime(),eD.active(0)},eA.prototype.stopPlayingStream=function(eA,er){this.logger.info(es.ZEGO_WEBRTC_ACTION.STOP_PLAYING_STREAM+" call",eA);var ei,eo,ec,eu,el=this.stateCenter.reporter.createSpan(en.TRACER_LEVEL.I,{key:eg.ZegoRTCLogEvent.kZMInitSetting.event},{key:""},eg.ZegoRTCLogEvent.kZegoTaskPlayStop.event);if("string"!=typeof eA||""===eA)return this.logger.error(es.ZEGO_WEBRTC_ACTION.STOP_PLAYING_STREAM+" streamid must be string and not empty"),this.stateCenter.reporter.setError(el,eg.ZegoRTCLogEvent.kZegoTaskPlayStop.error.kParamError,"stream id type error"),void delete this.stateCenter.reportSeqList.stopPlay[eA];var ed=this.streamCenter.playerList[eA];el.setAttributes({stream_id:eg.ZegoRTCLogEvent.kZegoTaskPlayStop.stream_id(eA),room_id:eg.ZegoRTCLogEvent.kZegoTaskPlayStop.room_id(null===(ei=this.streamCenter.playerList[eA])||void 0===ei?void 0:ei.room.roomID),webrtc_sid:eg.ZegoRTCLogEvent.kZegoTaskPlayStop.webrtc_sid(null===(eo=null==ed?void 0:ed.player)||void 0===eo?void 0:eo.sessionId),stream_sid:eg.ZegoRTCLogEvent.kZegoTaskPlayStop.stream_sid(null==ed?void 0:ed.streamSid),biz_product:ed&&(null===(ec=ed.playOption)||void 0===ec?void 0:ec.resourceMode)==en.ResourceMode.DG?1:0});var eE=ed&&ed.player&&ed.player.state!==ea.ENUM_PLAY_STATE.stop||(null===(eu=null==ed?void 0:ed.retryStreamHandler)||void 0===eu?void 0:eu.isRetrying()),eI=[1,3].includes(null==ed?void 0:ed.player.resourceMode)&&(null==ed?void 0:ed.playMode)===en.PlayMode.CDN;for(var eC in this.streamCenter.stopPlayingStream(eA,er),this.stateCenter.streamUrlMap)if(this.stateCenter.streamUrlMap[eC]===eA){delete this.stateCenter.streamUrlMap[eC];break}er?this.stateCenter.reporter.setError(el,er):el.end(),eE&&this.streamCenter.onPlayStateUpdate(ea.ENUM_PLAY_STATE_UPDATE.error,eA,er||{code:0,message:""},{isCDN:eI}),this.logger.debug(es.ZEGO_WEBRTC_ACTION.STOP_PLAYING_STREAM+" call success")},eA.prototype.mutePlayStream=function(eA,er,ei){return new Promise(function(eA,er){eA(!1)})},eA.prototype.setStreamAudioOutput=function(eA,er){return!1},eA.prototype.startWaitPlay=function(){var eA=this;this.streamCenter.waitPlayList.forEach(function(er){eA.streamCenter.startPlayingStream(er,eA.stateCenter.useNetAgent,eA.streamCenter.playSuccessCallBackList[er])}),this.streamCenter.waitPlayList=[]},eA.prototype.getStreamStats=function(eA){var er,ei,eo;return this.logger.info(es.ZEGO_WEBRTC_ACTION.DESTROY_STREAM+" call"),"string"==typeof eA&&(eo=null===(er=this.streamCenter.playerList[eA])||void 0===er?void 0:er.player),eo&&(null===(ei=null==eo?void 0:eo.qualityHandler)||void 0===ei?void 0:ei.currentQuality)?eo.qualityHandler.currentQuality||null:(this.logger.error("zsc.sp.0 stream is not playing"),null)},eA}();er.PlayModule=el},7384:function(eA,er,ei){"use strict";var eo=this&&this.__assign||function(){return(eo=Object.assign||function(eA){for(var er,ei=1,eo=arguments.length;ei<eo;ei++)for(var en in er=arguments[ei])Object.prototype.hasOwnProperty.call(er,en)&&(eA[en]=er[en]);return eA}).apply(this,arguments)};Object.defineProperty(er,"__esModule",{value:!0}),er.PlayStreamQuality=void 0;var en=ei(5123),es=ei(93),ea=ei(1586),eg=ei(4028),ec=ei(5803),eu=ei(5601),el=function(){function eA(eA,er,ei,eo,es){this.player=er,this.logger=ei,this.dataReport=eo,this.stateCenter=es,this.playQualityList=[],this.maxQualityListCount=10,this.qualityTimer=null,this.lastPlayStats={audioPacketsLost:0,videoPacketsLost:0,time:0,audioTime:0,videoTime:0,audioBytesReceived:0,videoBytesReceived:0,audioPacketsReceived:0,videoPacketsReceived:0,framesDecoded:0,framesReceived:0,framesDropped:0,audioBitrate:0},this.currentQuality={video:{videoBitrate:0,videoFPS:0,videoTransferFPS:0,frameHeight:0,frameWidth:0,muteState:"1",videoQuality:-1,googCodecName:"",videoPacketsLost:0,videoPacketsLostRate:0,videoFramesDecoded:0,videoFramesDropped:0,videoCumulativeDecodeTime:0,videoCumulativeBreakTime:0,videoCumulativeBreakRate:0},audio:{audioBitrate:0,audioCodec:"opus",muteState:"1",audioQuality:-1,audioFPS:0,audioJitter:0,audioLevel:0,audioPacketsLost:0,audioPacketsLostRate:0,audioSamplingRate:0,audioSendLevel:0,googCodecName:"",audioCumulativeDecodeTime:0,audioCumulativeBreakTime:0,audioCumulativeBreakRate:0},peerToPeerDelay:0,peerToPeerPacketLostRate:0},this.decodeStartTime=0,this.netQuality=0,this.probeTime=0,this.probeInterval=6e4,this.probeState=en.ENUM_PROBE_STATE.probed,this.probeTimer=null,this.probeTimeoutInterval=3e4,this.qualityUpload=!1,this.qualityUploadInterval=3e4,this.qualityUploadLastTime=0,this.playStat={},this.cumulativeQuality={},this.audioBreakThreshold=200,this.videoBreakThreshold=500,this.videoBreak={breakStartTime:void 0,cumulativeBreakDuration:0,cumulativeDecodeDuration:0,decodeStartTime:void 0,decodeEndTime:void 0,totalDuration:0,noBreakNoDecodeDuration:0,resumeRecv:!0},this.audioBreak={breakStartTime:void 0,cumulativeBreakDuration:0,cumulativeDecodeDuration:0,decodeStartTime:void 0,decodeEndTime:void 0,totalDuration:0,noBreakNoDecodeDuration:0,resumeRecv:!0},this.lastSampleTime=0,this.videoBreakReport={breakDuration:0,breakCancelDuration:0,decodeTime:0},this.audioBreakReport={breakDuration:0,breakCancelDuration:0,decodeTime:0},this.videoReliableBreak={decodeDuration:0,breakDuration:0,blankDuration:0},this.audioReliableBreak={decodeDuration:0,breakDuration:0,blankDuration:0},this.totalQuality={totalSquaredInterFrameDelay:0,totalInterFrameDelay:0,framesDecode:0,totalSamplesReceived:0,concealedSamples:0,audioBytesReceived:0},this.currentSecondQuality={totalSquaredInterFrameDelay:0,totalInterFrameDelay:0,framesDecode:0,totalSamplesReceived:0,concealedSamples:0},this.poorQualityNum=0,this.p2pNetStats={p2pLostRate:0,p2pRTT:0},this.sampleTimes=0,this.qualitySampleInterval=1e3,this.qualityTimeInterval=eA,this.currentQuality.video.muteState=this.player.videoMuteState,this.currentQuality.audio.muteState=this.player.audioMuteState,this.exception=new eu.Exception(this.stateCenter,this.logger,this.streamId,ea.ZegoRTCLogEvent.kZegoTaskPlayStart.event)}return Object.defineProperty(eA.prototype,"streamId",{get:function(){return this.player.streamId},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"sessionId",{get:function(){return this.player.sessionId},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"peerID",{get:function(){return this.player.peerID},enumerable:!1,configurable:!0}),eA.prototype.getPlayStats=function(eA,er){var ei,eo,eu,el=this;if(null!=eA){var ed=this.sampleTimes%parseInt((this.qualityTimeInterval/this.qualitySampleInterval).toString())==0;parseInt((this.qualityTimeInterval/this.qualitySampleInterval).toString()),ed&&this.getP2PNetStats();for(var eE,eI=document.querySelectorAll("video, audio"),eC=0;eC<eI.length;eC++)eI[eC].srcObject===this.player.playStream&&(eE=eI[eC]);var eh={sampleTimeWindow:this.qualityTimeInterval,audioFractionLost:0,audioPacketsLost:0,audioPacketsLostRate:0,audioBitrate:0,audioLevel:0,audioSendLevel:0,audioSamplingRate:0,audioCodec:"opus",audioQuality:0,audioFPS:0,videoQuality:0,videoPacketsLost:0,videoPacketsLostRate:0,videoBitrate:0,videoFPS:0,nackCount:0,pliCount:0,audioJitter:0,videoJitter:0,videoFractionLost:0,videoFramesDecoded:0,frameHeight:0,frameWidth:0,videoTransferFPS:0,videoFramesDropped:0,totalRoundTripTime:0,currentRoundTripTime:0,googBandwidthLimitedResolution:void 0,videoCodecName:"",audioCodecName:"",googCpuLimitedResolution:void 0,googAvailableSendBandwidth:0,audioMuteState:this.player.audioMuteState,videoMuteState:this.player.videoMuteState,soundLevel:this.player.soundLevel,muted:eE?eE.muted:void 0,paused:eE?eE.paused:void 0,volume:eE?eE.volume:void 0,sinkId:eE?eE.sinkId:void 0},eB=this.lastPlayStats.time,ep=0,ef=0,em=0,eQ=0,ev=0,e_=0,ey=0,eS=null,eR=null;eA.forEach(function(eA){["ssrc","inbound-rtp"].includes(eA.type)&&("video"==eA.mediaType||eA.id.indexOf("VideoStream")>=0)&&(eS=eA),("inbound-rtp"==eA.type||"ssrc"==eA.type&&null!=eA.bytesReceived)&&("audio"==eA.mediaType||eA.id.indexOf("AudioStream")>=0)&&(eR=eA)});var eT=(new Date).getTime(),eD=function(eA,er){return eA>er?eA-er:0};if(this.lastSampleTime||(this.lastSampleTime=eT-1e3),eS){var eb=eS.totalInterFrameDelay,eN=eS.framesDecoded,ek=eS.totalSquaredInterFrameDelay,eL=eD(eN,this.totalQuality.framesDecode);this.totalQuality.framesDecode=eN;var ew=eD(eb,this.totalQuality.totalInterFrameDelay);this.totalQuality.totalInterFrameDelay=eb;var eM=eD(ek,this.totalQuality.totalSquaredInterFrameDelay);this.totalQuality.totalSquaredInterFrameDelay=ek;var eO=(eM-Math.pow(ew,2)/(eL||1))/(eL||1);eO=eO>0?eO:-eO;var eP=parseInt((1e3/(eL+1)).toString()),eU=1e3*Math.sqrt(eO),eG=ew/(eL||1)*1e3||eP,eF=(eG=parseInt((eG>1e3?1e3:eG).toString()))+eU;eF=parseInt((eF>1e3?1e3:eF).toString()),eL>0&&0===this.player.cameraStatus&&!this.videoBreak.decodeStartTime&&(this.videoBreak.decodeStartTime=eT-1e3),this.videoBreak.decodeStartTime&&(0,ec.recordBreakDuration)(eT,eL,0===this.player.cameraStatus&&this.player.playMediaStatus.video,this.videoBreak,this.videoBreakThreshold,this.videoBreakReport,this.videoReliableBreak,eG,eF)}if(eR){var eH=eR.totalSamplesReceived,ex=eR.concealedSamples,eY=eR.bytesReceived,eZ=eD(eH,this.totalQuality.totalSamplesReceived);this.totalQuality.totalSamplesReceived=eH;var eq=eD(ex,this.totalQuality.concealedSamples);this.totalQuality.concealedSamples=ex;var eJ=eD(eY,this.totalQuality.audioBytesReceived);this.totalQuality.audioBytesReceived=eY;var eW=parseInt((1e3*(eq/(eZ||1))).toString());eJ>0&&0===this.player.micStatus&&!this.audioBreak.decodeStartTime&&(this.audioBreak.decodeStartTime=eT-1e3),this.audioBreak.decodeStartTime&&(0,ec.recordBreakDuration)(eT,eJ,0===this.player.micStatus&&this.player.playMediaStatus.audio,this.audioBreak,this.audioBreakThreshold,this.audioBreakReport,this.audioReliableBreak,eW,eW,"audio")}if(er&&er.result().forEach(function(eA){ed&&("ssrc"==eA.type&&(eA.names().indexOf("googBandwidthLimitedResolution")>=0&&(eh.googBandwidthLimitedResolution=eA.stat("googBandwidthLimitedResolution")),eA.names().indexOf("codecImplementationName")>=0&&(eh.codecImplementationName=eA.stat("codecImplementationName")),"video"==eA.stat("mediaType")&&(eA.names().indexOf("googCodecName")>=0&&(eh.videoCodecName=eA.stat("googCodecName")),eA.names().indexOf("googCurrentDelayMs")>=0&&(ey=eA.stat("googCurrentDelayMs"))),"audio"==eA.stat("mediaType")&&(eA.names().indexOf("googCodecName")>=0&&(eh.audioCodecName=eA.stat("googCodecName")),eA.names().indexOf("googCurrentDelayMs")>=0&&(e_=eA.stat("googCurrentDelayMs"))),eA.names().indexOf("googCpuLimitedResolution")>=0&&(eh.googCpuLimitedResolution=eA.stat("googCpuLimitedResolution"))),"VideoBwe"==eA.type&&eA.names().indexOf("googAvailableSendBandwidth")>=0&&(eh.googAvailableSendBandwidth=eA.stat("googAvailableSendBandwidth")))}),ed){eA.forEach(function(eA){if(("inbound-rtp"==eA.type||"ssrc"==eA.type&&null!=eA.bytesReceived)&&("audio"==eA.mediaType||eA.id.indexOf("AudioStream")>=0)){0!=eB&&(eh.audioBitrate=8*(eA.bytesReceived-el.lastPlayStats.audioBytesReceived)/(eA.timestamp-eB),(er=eA.packetsLost-el.lastPlayStats.audioPacketsLost)>0&&(ef=er/(er+eA.packetsReceived-el.lastPlayStats.audioPacketsReceived))),eh.audioBitrate<0&&(eh.audioBitrate=0),eh.audioJitter=eA.jitter,eA.packetsLost>0&&(eh.audioPacketsLost=eA.packetsLost),eh.audioFractionLost=eA.fractionLost;var er,ei=eA.packetsLost-el.lastPlayStats.audioPacketsLost;eh.audioFPS=(eA.packetsReceived-el.lastPlayStats.audioPacketsReceived)/(eA.timestamp-eB)*1e3,eh.audioPacketsLostRate=ei>0?ei/(eA.packetsReceived-el.lastPlayStats.audioPacketsReceived+ei):0,el.lastPlayStats.audioBytesReceived=eA.bytesReceived,eA.packetsLost>0&&(el.lastPlayStats.audioPacketsLost=eA.packetsLost),el.lastPlayStats.audioPacketsReceived=eA.packetsReceived,el.lastPlayStats.audioTime=eA.timestamp,el.lastPlayStats.time=eA.timestamp,el.lastPlayStats.audioBitrate=eh.audioBitrate,eQ=eA.jitter}else if(("inbound-rtp"==eA.type||"ssrc"==eA.type&&null!=eA.bytesReceived)&&("video"==eA.mediaType||eA.id.indexOf("VideoStream")>=0))0!=eB?(eh.videoBitrate=8*(eA.bytesReceived-el.lastPlayStats.videoBytesReceived)/(eA.timestamp-eB),eh.videoFPS=1e3*(eA.framesDecoded-el.lastPlayStats.framesDecoded)/(eA.timestamp-eB),(er=eA.packetsLost-el.lastPlayStats.videoPacketsLost)>0&&(em=er/(er+eA.packetsReceived-el.lastPlayStats.videoPacketsReceived))):"number"==typeof eA.framesPerSecond&&(eh.videoFPS=eA.framesPerSecond),eh.videoBitrate<0&&(eh.videoBitrate=0),eh.videoFPS<0&&(eh.videoFPS=0),eh.videoJitter=eA.jitter,eh.nackCount=eA.nackCount,eh.pliCount=eA.pliCount,eh.videoFractionLost=eA.fractionLost,eh.videoFramesDecoded=eA.framesDecoded,eA.packetsLost>0&&(eh.videoPacketsLost=eA.packetsLost),eh.videoPacketsLostRate=(ei=eA.packetsLost-el.lastPlayStats.videoPacketsLost)>0?ei/(eA.packetsReceived-el.lastPlayStats.videoPacketsReceived+ei):0,el.lastPlayStats.videoBytesReceived=eA.bytesReceived,el.lastPlayStats.framesDecoded=eA.framesDecoded,eA.packetsLost>0&&(el.lastPlayStats.videoPacketsLost=eA.packetsLost),el.lastPlayStats.videoPacketsReceived=eA.packetsReceived,el.lastPlayStats.videoTime=eA.timestamp,el.lastPlayStats.time=eA.timestamp,ev=eA.jitter;else if("track"==eA.type&&("video"==eA.kind||eA.id.indexOf("video")>=0)||eA.frameWidth){if(eh.frameHeight=eA.frameHeight,eh.frameWidth=eA.frameWidth,0===eB||el.lastPlayStats.frameHeight===eA.frameHeight&&el.lastPlayStats.frameWidth===eA.frameWidth)0===eB&&(el.lastPlayStats.frameHeight=eA.frameHeight,el.lastPlayStats.frameWidth=eA.frameWidth,el.player.isProbe||(el.stateCenter.reporter.spanAppendAttribute({key:ea.ZegoRTCLogEvent.kZegoTaskStreamPlay.event,par:el.streamId},"vinfo",{h:eA.frameHeight,fft:Date.now(),w:eA.frameWidth}),el.stateCenter.reporter.spanAppendAttribute({key:ea.ZegoRTCLogEvent.kZegoTaskSDKPlayStream.event,par:el.streamId},"vinfo",{h:eA.frameHeight,fft:Date.now(),w:eA.frameWidth})));else{if(!el.player.isProbe){var eo=el.stateCenter.reporter.createSpan(en.TRACER_LEVEL.H,{key:ea.ZegoRTCLogEvent.kZegoTaskPlayStart.event,par:el.streamId},{key:""},ea.ZegoRTCLogEvent.kZegoTaskVideoPlaySize.event);eo.setAttributes({webrtc_sid:ea.ZegoRTCLogEvent.kZegoTaskVideoPlaySize.webrtc_sid(el.sessionId),w:ea.ZegoRTCLogEvent.kZegoTaskVideoPlaySize.w(eA.frameWidth),h:ea.ZegoRTCLogEvent.kZegoTaskVideoPlaySize.h(eA.frameHeight)}),eo.end(),el.stateCenter.reporter.spanAppendAttribute({key:ea.ZegoRTCLogEvent.kZegoTaskStreamPlay.event,par:el.streamId},"vinfo",{h:eA.frameHeight,fft:Date.now(),w:eA.frameWidth}),el.stateCenter.reporter.spanAppendAttribute({key:ea.ZegoRTCLogEvent.kZegoTaskSDKPlayStream.event,par:el.streamId},"vinfo",{h:eA.frameHeight,fft:Date.now(),w:eA.frameWidth})}el.lastPlayStats.frameHeight=eA.frameHeight,el.lastPlayStats.frameWidth=eA.frameWidth}0!=eB&&(eh.videoTransferFPS=1e3*(eA.framesReceived-el.lastPlayStats.framesReceived)/(eA.timestamp-eB),eh.videoFramesDropped=eA.framesDropped-el.lastPlayStats.framesDropped),eh.videoTransferFPS<0&&(eh.videoTransferFPS=0),eh.videoFramesDropped<0&&(eh.videoFramesDropped=0),el.lastPlayStats.framesReceived=eA.framesReceived,el.lastPlayStats.framesDropped=eA.framesDropped}else"track"==eA.type&&("audio"==eA.kind||eA.id.indexOf("audio")>=0)?(eh.audioLevel=eA.audioLevel||0,eh.audioSendLevel=eA.totalAudioEnergy,eh.audioSamplingRate=eA.totalSamplesDuration):"candidate-pair"==eA.type&&(null!=eA.totalRoundTripTime&&(eh.totalRoundTripTime=eA.totalRoundTripTime),null!=eA.currentRoundTripTime&&(eh.currentRoundTripTime=eA.currentRoundTripTime,ep=1e3*eh.currentRoundTripTime))}),this.lastPlayStats.googCurrentDelayMs=Number(e_)||Number(ey)||0,em=isNaN(em)||em<0?0:em,ev=isNaN(ev)||ev<0?0:ev,ef=isNaN(ef)||ef<0?0:ef,eQ=isNaN(eQ)||eQ<0?0:eQ;var eK=eg.ClientUtil.getNetQuality(ep,em,ev),eV=eg.ClientUtil.getNetQuality(ep,ef,eQ);eh.audioQuality=eB>0?eg.ClientUtil.quality2QualityGrade(eV):0,eh.videoQuality=eB>0?eg.ClientUtil.quality2QualityGrade(eK):0,this.player.stateCenter.networkState!==en.ENUM_NETWORK_STATE.offline&&"disconnected"!==(null===(ei=this.player.peerConnection)||void 0===ei?void 0:ei.connectionState)||(eh.videoQuality=en.QualityGrade.Die,eh.audioQuality=en.QualityGrade.Die);var ej=Math.min(eK,eV);if(this.netQuality=ej,eh.peerToPeerDelay=isNaN(this.p2pNetStats.p2pRTT)?0:parseInt((this.p2pNetStats.p2pRTT/2+this.lastPlayStats.googCurrentDelayMs).toString()),eh.peerToPeerPacketLostRate=this.p2pNetStats.p2pLostRate,ej<=en.QUALITY_CONSTANT.MiddleMinQuality?this.poorQualityNum++:this.poorQualityNum=0,ej<=this.player.streamCenter.l3BadQualityScore&&this.player.streamCenter.handleQualityBad(this.streamId,this.player.resourceMode,en.PlayMode.L3)?this.logger.info(es.ZEGO_WEBRTC_ACTION.PLAYER_SET_PLAYER_QUALITY_TIMER+"check cdn mode"):eB>0&&this.poorQualityNum>=(null===(eu=null===(eo=this.player)||void 0===eo?void 0:eo.streamCenter)||void 0===eu?void 0:eu.probeStartedNum)&&eT>this.probeTime+this.probeInterval&&(this.logger.info(es.ZEGO_WEBRTC_ACTION.PLAYER_SET_PLAYER_QUALITY_TIMER+" netQuality "+ej+" start net probe"),this.probeState=en.ENUM_PROBE_STATE.tryProbe,this.player.poorQualityRetryCnt++,this.player.streamCenter.startNetProbe(!1,this.player,this.player.gwNodeList),this.probeTime=eT),ej>this.player.streamCenter.l3BadQualityScore){var ez=this.player.streamCenter.playerList[this.streamId];ez?ez.qualityBadCount=0:this.logger.warn(es.ZEGO_WEBRTC_ACTION.PLAYER_SET_PLAYER_QUALITY_TIMER+" ".concat(this.streamId," play info not exist.")),this.player.streamCenter.l3ProtocolBadTimestamp=0,this.player.streamCenter.lastHandleL3BadTimestamp=0}this.playStat=eh,this.uploadPlayQuality(eh,eT),this.updateCurrentQualityStats(eh),0!=eB&&(this.player.onPlayQualityUpdate(this.streamId,this.currentQuality),this.exception.checkRemoteStats(eh,this.player.playStream),this.player.streamCenter.changeRxQuality(eg.ClientUtil.quality2QualityGrade(this.netQuality)))}}},eA.prototype.updateCurrentQualityStats=function(eA){var er=eA.videoBitrate,ei=eA.videoFPS,en=eA.videoTransferFPS,es=eA.frameHeight,ea=eA.frameWidth,eg=eA.videoMuteState,ec=eA.videoQuality,eu=eA.videoFramesDecoded,el=eA.videoFramesDropped,ed=eA.videoPacketsLost,eE=eA.videoPacketsLostRate,eI=eA.audioBitrate,eC=eA.audioCodec,eh=eA.audioMuteState,eB=eA.audioQuality,ep=eA.audioFPS,ef=eA.audioJitter,em=eA.audioLevel,eQ=eA.audioPacketsLost,ev=eA.audioPacketsLostRate,e_=eA.audioSamplingRate,ey=eA.audioSendLevel,eS=eA.nackCount,eR=eA.pliCount,eT=eA.totalRoundTripTime,eD=eA.currentRoundTripTime,eb=eA.peerToPeerDelay,eN=eA.peerToPeerPacketLostRate,ek=eA.sampleTimeWindow,eL={video:eo(eo({},this.currentQuality.video),{videoBitrate:er,videoFPS:ei,videoTransferFPS:en,frameHeight:es,frameWidth:ea,videoQuality:ec,videoFramesDecoded:eu,videoFramesDropped:el,videoPacketsLost:ed,videoPacketsLostRate:eE,muteState:eg,videoCumulativeDecodeTime:this.videoReliableBreak.decodeDuration,videoCumulativeBreakTime:this.videoReliableBreak.breakDuration,videoCumulativeBreakRate:this.videoReliableBreak.breakDuration/(this.videoReliableBreak.decodeDuration+this.videoReliableBreak.breakDuration||1)}),audio:eo(eo({},this.currentQuality.audio),{audioBitrate:eI,audioCodec:eC,audioQuality:eB,audioFPS:ep,audioJitter:ef,audioLevel:em,audioPacketsLost:eQ,audioPacketsLostRate:ev,audioSamplingRate:e_,audioSendLevel:ey,muteState:eh,audioCumulativeDecodeTime:this.audioReliableBreak.decodeDuration,audioCumulativeBreakTime:this.audioReliableBreak.breakDuration,audioCumulativeBreakRate:this.audioReliableBreak.breakDuration/(this.audioReliableBreak.decodeDuration+this.audioReliableBreak.breakDuration||1)}),nackCount:eS,pliCount:eR,totalRoundTripTime:eT,currentRoundTripTime:eD,peerToPeerDelay:eb,peerToPeerPacketLostRate:(eN||0)/255,sampleTimeWindow:ek};if(void 0!==eA.muted){var ew=eA.paused,eM=eA.volume,eO=eA.sinkId;eL.muted=eA.muted,eL.paused=ew,eL.volume=eM,eL.sinkId=eO}if(void 0!==eA.videoCodecName){var eP=eA.audioCodecName,eU=eA.codecImplementationName,eG=eA.googAvailableSendBandwidth;eL.video.googCodecName=eA.videoCodecName,eL.audio.googCodecName=eP,eL.codecImplementationName=eU,eL.googAvailableSendBandwidth=eG}this.currentQuality=eL},eA.prototype.uploadPlayQuality=function(eA,er){var ei,eo;if(this.qualityUpload&&this.player.signal.isServerConnected){var en=er;if(0==this.qualityUploadLastTime||en-this.qualityUploadLastTime>=2e3){if(eA.stream_type="play",eA.stream_id=this.streamId,eA.timeStamp=en,eA.video_break_duration=this.videoBreakReport.breakDuration,eA.video_break_cancel_duration=this.videoBreakReport.breakCancelDuration,eA.video_decode_time=this.videoBreakReport.decodeTime,this.videoBreakReport.breakCancelDuration=0,this.videoBreakReport.breakDuration=0,this.videoBreakReport.decodeTime=0,eA.audio_break_duration=this.audioBreakReport.breakDuration,eA.audio_break_cancel_duration=this.audioBreakReport.breakCancelDuration,eA.audio_decode_time=this.audioBreakReport.decodeTime,this.audioBreakReport.breakCancelDuration=0,this.audioBreakReport.breakDuration=0,this.audioBreakReport.decodeTime=0,eA.real_sampling_interval=en-this.lastSampleTime,!eA.frameHeight||!eA.frameWidth)for(var ea=document.querySelectorAll("video"),eg=0;eg<ea.length;eg++){var ec=ea[eg],eu=null===(ei=ec.srcObject)||void 0===ei?void 0:ei.getVideoTracks()[0];if(eu&&eu==(null===(eo=this.player.playStream)||void 0===eo?void 0:eo.getVideoTracks()[0])){eA.frameHeight=ec.videoHeight||0,eA.frameWidth=ec.videoWidth||0;break}}this.lastSampleTime=en,this.logger.info(es.ZEGO_WEBRTC_ACTION.PLAYER_UPLOAD_PLAYER_QUALITY+" "+this.streamId+" upload"+JSON.stringify(eA)),this.player.streamCenter.updateQuality(1,eA),this.qualityUploadLastTime=en}}},eA.prototype.getP2PNetStats=function(){var eA=this;this.player.signal.getP2PNetStats((0,en.getSeq)(),this.sessionId,this.peerID,function(er,ei,eo){var en=eo.p2p_rtt;eA.p2pNetStats.p2pLostRate=eo.p2p_lost_rate||0,eA.p2pNetStats.p2pRTT=en||0},function(eA){})},eA.prototype.setPlayQualityTimer=function(){var eA=this;null==this.qualityTimer&&(this.logger.info(es.ZEGO_WEBRTC_ACTION.PLAYER_SET_PLAYER_QUALITY_TIMER+" "+this.streamId+" startTimer"),this.clearPlayQualityTimer(),this.getP2PNetStats(),this.qualityTimer=setInterval(function(){eA.sampleTimes++;var er=eA.player.peerConnection;if(er){var ei=[er.getStats(null)];"chrome"==eA.player.stateCenter.browser&&ei.push(new Promise(function(eA,ei){er.getStats(function(er){return eA(er)},function(eA){return ei(eA)})})),Promise.all(ei).then(function(er){eA.getPlayStats(er[0],er[1])}).catch(function(er){eA.logger.error(es.ZEGO_WEBRTC_ACTION.PLAYER_SET_PLAYER_QUALITY_TIMER+" "+eA.streamId+" getStats error "+er.toString())})}},1e3),this.lastPlayStats={audioPacketsLost:0,videoPacketsLost:0,time:0,audioTime:0,videoTime:0,audioBytesReceived:0,videoBytesReceived:0,videoPacketsReceived:0,audioPacketsReceived:0,framesDecoded:0,framesReceived:0,framesDropped:0,audioBitrate:0})},eA.prototype.clearPlayQualityTimer=function(){if(null!=this.qualityTimer){clearInterval(this.qualityTimer),this.qualityTimer=null;var eA=(new Date).getTime();this.lastSampleTime=0,this.sampleTimes=0,this.totalQuality={totalSquaredInterFrameDelay:0,totalInterFrameDelay:0,framesDecode:0,totalSamplesReceived:0,concealedSamples:0,audioBytesReceived:0},(0,ec.calculateCumulativeDuration)(this.videoBreak,this.videoBreakReport,this.videoReliableBreak,this.videoBreakThreshold,0===this.player.cameraStatus&&this.player.playMediaStatus.video,eA),(0,ec.calculateCumulativeDuration)(this.audioBreak,this.audioBreakReport,this.audioReliableBreak,this.audioBreakThreshold,0===this.player.micStatus&&this.player.playMediaStatus.audio,eA,"audio")}this.poorQualityNum=0,this.lastPlayStats={audioPacketsLost:0,videoPacketsLost:0,time:0,audioTime:0,videoTime:0,audioBytesReceived:0,videoBytesReceived:0,videoPacketsReceived:0,audioPacketsReceived:0,framesDecoded:0,framesDropped:0,framesReceived:0,audioBitrate:0}},eA.prototype.startProbeTimeout=function(){var eA=this;this.probeTimer=setTimeout(function(){eA.logger.error(es.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+" probe timeout"),eA.player.playStateUpdateError(ea.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kProbeTimeOutError)},this.probeTimeoutInterval)},eA.prototype.stopProbeTimeout=function(){this.probeTimer&&(clearTimeout(this.probeTimer),this.probeTimer=null)},eA}();er.PlayStreamQuality=el},9746:function(eA,er,ei){"use strict";var eo=this&&this.__assign||function(){return(eo=Object.assign||function(eA){for(var er,ei=1,eo=arguments.length;ei<eo;ei++)for(var en in er=arguments[ei])Object.prototype.hasOwnProperty.call(er,en)&&(eA[en]=er[en]);return eA}).apply(this,arguments)},en=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},es=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}};Object.defineProperty(er,"__esModule",{value:!0}),er.ZegoPlayWeb=void 0;var ea=ei(5123),eg=ei(5123),ec=ei(3332),eu=ei(9723),el=ei(4028),ed=ei(1586),eE=ei(93),eI=ei(7384),eC=ei(3171),eh=ei(1018),eB=ei(6607),ep=ei(7652),ef=ei(3309),em=ei(3420),eQ=ei(6348),ev=ed.ZegoRTCLogEvent.kZegoTaskPlayStart,e_=ed.ZegoRTCLogEvent.kZegoTaskSDKPlayStream,ey=ed.ZegoRTCLogEvent.kZegoStartPlay;function eS(eA,er){void 0===er&&(er=0);for(var ei=eA.length,eo=[],en=0;en<ei;)en>=er&&ei-en>=3&&!eA[en]&&!eA[en+1]&&3==eA[en+2]?(eo.push(eA[en++]),eo.push(eA[en++]),en++):eo.push(eA[en++]);var es=new Uint8Array(eo);return{output:es,outLength:es.length}}var eR=function(){function eA(eA,er,ei,eo,en,es,ea,ec){var el,ed=this;this.curCBState={state:"NO_PLAY",code:0},this._state=eg.ENUM_PLAY_STATE.stop,this.lastState=eg.ENUM_PLAY_STATE.stop,this.candidateInfo=[],this.broadcasterStatus=eg.ENUM_BROADCASTER_STATUS.stop,this.isExternal=!1,this.playQualityList=[],this.maxQualityListCount=10,this.reportSeq=NaN,this.parentSpanKey="",this.streamReportSeq=(0,eg.getSeq)(),this.reportBeginTime=0,this.reportPlayingTime=0,this.reportPlayStateTime=0,this.streamInRoom=!0,this.playStartTime=0,this.streamRoomPushConsumed=0,this.probeIpCnt=0,this.validProbeIpCnt=0,this.poorQualityRetryCnt=0,this.probeNotRetryInfos=[],this.continuousFailCnt=0,this.playStateCount=0,this.isRePlay=!1,this.videoSizeCallback=!1,this.remoteStream=null,this.playStream=null,this.rtcViewer=null,this.playOption={},this.playMediaStatus={video:!0,audio:!0},this.closeSessionSignal=!1,this.stateNego=eg.ENUM_PLAY_STATE_NEGO.stop,this.negoTimer=null,this.negoInterval=25e3,this.cameraStatus=0,this.micStatus=0,this.hasSentStreamStatus=!1,this.playEvent=!1,this.gotStreamStatus=!1,this.soundLevel=0,this.mic=null,this.beginTime=0,this.firstFrameTime=0,this.resourceMode=0,this.gwNode="",this.gwNodeList=[],this.gwNodesTTL=0,this.isPeer=!1,this.peerFailCount=0,this.isProbe=!1,this.peerID=0,this.isRecvClientInfo=!1,this.videoCodec="",this.videoCodecTimes=0,this.answerSdpTime=0,this.streamConnectIP="",this.initPoster="",this.initVideoStyle="",this.firstPlay=!0,this.isProbeByDG=!1,this.useResourceTypes=[],this.tryidx=0,this._CDNPlayerClone=null,this.retryFailGwNodes=[],this.dispatchedGwNodes=[],this.rtcPlayCount=0,this.signalTime=0,this.stopReason="",this.isProbeDispatch=!1,this.pushCmdSeqMap=((el={}).MediaDescPush={seq:-1,time:0},el.StreamStatusNotifyPush={seq:-1,time:0},el.PlayEventPush={seq:-1,time:0},el.ClientInfoPush={seq:-1,time:0},el.NetQualityInfoPush={seq:-1,time:0},el.CandidateInfoPush={seq:-1,time:0},el),this.audioMuteState="0",this.videoMuteState="0",this.first_pkt=!0,this.next_sn=[],this.pkt_list=[],this.onDataChannelList=[],this.sideMediaConfig={isSEIStart:!1,unregisterSeiFilter:"",filterSize:0},this.cachedGwNodesMode=eu.CachedNodesUseMode.DiffReUse,this.iceDisconnectedMaxTime=15e3,this.netTimer=null,this.lostQualityTime=0,this.userID="",this._turnToTcp=!1,this.decodeVideoFrame=function(eA,er){if("VP8"===ed.videoCodec)er.terminate();else{for(var ei=new DataView(eA.data),eo=0,en=new eC.H264Parser(ei),es=0,ea=!1;en.NextNalu(ea);)if(7!=(es=31&ei.getUint8(en.nalu_start+en.start_code_size))&&8!=es&&9!=es){if(6!=es)break;var eg=new Uint8Array(eA.data).slice(en.nalu_start+en.start_code_size,en.nalu_start+en.start_code_size+en.nalu_size);ed.stateCenter.seiConfig.emulationPreventionByte&&(eg=eS(eg).output),eo=1,ea=!0;for(var ec=0;255===eg[eo];)ec+=255,eo++;if(243===(ec+=eg[eo++])||5===ec||100===ec){for(var eu=0;255===eg[eo];)eu+=255,eo++;if(eu+=eg[eo++],eA.data.byteLength-eo<eu)break;var el=new Uint8Array(4+eu);switch(el[0]=0,el[1]=0,ec){case 100:el[2]=3,el[3]=235;break;case 5:el[2]=3,el[3]=236;break;case 243:el[2]=3,el[3]=237}for(var eE=0;eE<eu;eE++)el[4+eE-0]=eg[eo++];var eI=!1;if(243===ec)eI=!0;else if(5===ec){var eB=ed.sideMediaConfig.unregisterSeiFilter;if(eB){var ep=el.slice(4,4+ed.sideMediaConfig.filterSize),ef=void 0,em=!0;if(0===(ef="string"==typeof eB?eh.WebRTCUtil.encodeString(eB):eB).length)em=!1;else for(var eQ=0;eQ<ef.length;eQ++)if(ef[eQ]!==ep[eQ]){em=!1;break}eI=em}else eI=!0}eI&&ed.stateCenter.actionListener("playerRecvSEI",ed.streamId,el)}}er.enqueue(eA)}},this.decodeAudioFrame=function(eA,er){er.enqueue(eA)},this.soundMeterWorklet=null,this.streamId=eA,this.logger=er,this.signal=ei,this.dataReport=eo,this.streamCenter=es,this.ac=ea,this.stateCenter=ec,this.qualityHandler=new eI.PlayStreamQuality(en,this,this.logger,this.dataReport,this.stateCenter),this.resourceMode=this.stateCenter.settingConfig.getSetting("resource_mode"),this.initStreamReport()}return eA.prototype.updateCBState=function(eA){var er=this,ei=Object.keys(eA).some(function(ei){return eA[ei]!==er.curCBState[ei]});return ei&&(this.curCBState=eA),ei},Object.defineProperty(eA.prototype,"state",{get:function(){return this._state},set:function(eA){this.lastState=this._state,this._state=eA},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"probeState",{get:function(){return this.qualityHandler.probeState},set:function(eA){this.qualityHandler.probeState=eA},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"netQuality",{get:function(){return this.qualityHandler.netQuality},set:function(eA){this.qualityHandler.netQuality=eA},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"lastPlayStats",{get:function(){return this.qualityHandler.lastPlayStats},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"iceStateDisConnect",{get:function(){return[eg.ENUM_PLAY_STATE_NEGO.iceClosed,eg.ENUM_PLAY_STATE_NEGO.iceDisconnected,eg.ENUM_PLAY_STATE_NEGO.iceFailed].includes(this.stateNego)},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"isLastConnected",{get:function(){return this.lastState===eg.ENUM_PLAY_STATE.playing},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"playStat",{get:function(){return this.qualityHandler.playStat},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"ip",{get:function(){var eA,er;return null===(er=null===(eA=this.gwNode)||void 0===eA?void 0:eA.split(":"))||void 0===er?void 0:er[0]},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"netProtocol",{get:function(){return this._turnToTcp?"tcp":"udp"},enumerable:!1,configurable:!0}),eA.prototype.netProbeToReDispatch=function(){this.isProbeDispatch=!0,this.playStateUpdateError(ev.error.kPlayNetProbePoor)},eA.prototype.initStreamReport=function(){this.reportSpan=this.stateCenter.reporter.createSpan(eg.TRACER_LEVEL.I,{key:ed.ZegoRTCLogEvent.kZegoTaskPlayStart.event,par:this.streamId},{key:e_.event,par:this.streamId},e_.event,!0),this.playStartTime=this.reportBeginTime=(new Date).getTime()},eA.prototype.startPlay=function(eA,er,ei){var eo,en,es,ea,ec,eu,eI,eC,eB,ep=this;if(this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+" called ",eA),this.playEvent=!1,this.signal&&this.signal.negoInterval&&(this.negoInterval=this.signal.negoInterval),eA){if(this.getRemoteStreamSuc=er,this.playOption=ei||{},this.playMediaStatus={video:void 0===this.playOption.video||!!this.playOption.video,audio:void 0===this.playOption.audio||!!this.playOption.audio},ei&&ei.videoCodec&&(this.playOption.videoCodec=ei.videoCodec),"boolean"==typeof(null==ei?void 0:ei.isSEIStart)&&(this.sideMediaConfig.isSEIStart=null==ei?void 0:ei.isSEIStart),this.sideMediaConfig.isSEIStart){var ef=el.ClientUtil.isSupportEncodedTransforms();((null===(eo=this.playOption)||void 0===eo?void 0:eo.videoCodec)&&"H264"!==(null===(en=this.playOption)||void 0===en?void 0:en.videoCodec)||!ef)&&(this.sideMediaConfig.isSEIStart=!1)}if(null===(es=this.stateCenter.seiConfig)||void 0===es?void 0:es.unregisterSEIFilter){var em=this.sideMediaConfig.unregisterSeiFilter=null===(ea=this.stateCenter.seiConfig)||void 0===ea?void 0:ea.unregisterSEIFilter;this.sideMediaConfig.filterSize=eh.WebRTCUtil.encodeString(em).byteLength}null==(null==ei?void 0:ei.streamType)&&void 0!==this.stateCenter.streamType&&(this.playOption.streamType=this.stateCenter.streamType),this.stateCenter.reporter.spanSetAttributes({key:ev.event,par:eA},{video_layer:ev.video_layer(2===this.playOption.streamType?-1:this.playOption.streamType||1)});var eQ=this.stateCenter.settingConfig.getSetting("play_video_codec",!0);eQ&&(this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+" setting play_video_codec "+eQ),this.playOption.videoCodec=eQ);var eS=(null===(ec=this.playOption)||void 0===ec?void 0:ec.resourceMode)==eg.ResourceMode.DG?1:0;this.stateCenter.reporter.spanSetAttributes({key:(this.isRePlay?ed.ZegoRTCLogEvent.kZegoRePlay:ey).event,par:this.streamId},{is_peer:ey.is_peer(this.isPeer)}),this.stateCenter.reporter.spanSetAttributes({key:ev.event,par:this.streamId},{audio_activate:ev.audio_activate(1==this.playOption.audio||0!=this.playOption.audio),video_activate:ev.video_activate(1==this.playOption.video||0!=this.playOption.video),biz_product:ev.biz_product(eS)}),this.reportSpan.setAttributes({room_id:e_.room_id(null===(eI=null===(eu=this.streamCenter.playerList[this.streamId])||void 0===eu?void 0:eu.room)||void 0===eI?void 0:eI.roomID),room_sid_string:e_.room_sid_string(null===(eB=null===(eC=this.streamCenter.playerList[this.streamId])||void 0===eC?void 0:eC.room)||void 0===eB?void 0:eB.roomSessionID)}),this.isPeer?this.createOffer({encodedInsertableStreams:this.sideMediaConfig.isSEIStart}):this.createSession(),this.negoTimer=setTimeout(function(){ep.logger.error(eE.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+" waiting timeout"),ep.playStateUpdateError(ev.error.kPlayNegoTimeoutError)},this.negoInterval),this.isProbe&&this.qualityHandler.startProbeTimeout()}else this.logger.warn(eE.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+" streamId is null")},eA.prototype.onCreatePlaySessionSuccess=function(eA){var er=this,ei=eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_CREATE_PLAY_SESSION_SUCCESS;this.logger.info(ei+" "+this.streamId+" success");var eo=[];if(eA.turn_server){var ea=eA.turn_server.split(";");this.setTurnTcp(),this.streamCenter.autoSwitchProtocol=this.stateCenter.settingConfig.getSetting("auto_to_tcp")||!1;var eg=this.stateCenter.settingConfig.getSetting("udp_max_fail_num");isNaN(eg)||(this.streamCenter.maxUdpFailNum=eg);var ec=this.streamCenter,eu=ec.autoSwitchProtocol,el=ec.maxUdpFailNum,ed=ec.udpFailNum;this.logger.info(ei+"  autoToTcp: ".concat(eu,", udpFailNum: ").concat(ed,", maxUdpFailNum: ").concat(el,".")),eu&&!this._turnToTcp&&ed>=el&&(this.logger.info(ei+" switch to tcp."),this._turnToTcp=!0);var eI=this.stateCenter.settingConfig.getSetting("udp_or_tcp",!0);eI&&(this.logger.info(ei+" setting udp_or_tcp "+eI),this._turnToTcp="tcp"===eI);var eC=void 0,eh=ea.filter(function(eA){return eA.indexOf("udp")>-1}),eB=ea.filter(function(eA){return eA.indexOf("tcp")>-1});eC=this._turnToTcp?eB.length>0?eB:eh.map(function(eA){return eA.replace("udp","tcp")}):eh,this.logger.info(ei+" over tcp "+JSON.stringify(eC)),eo.push.apply(eo,eC)}eA.stun_server&&eo.push(eA.stun_server);var ep={iceTransportPolicy:"all",iceServers:[{urls:eo,username:eA.turn_username,credential:eA.turn_auth_key}],encodedInsertableStreams:this.sideMediaConfig.isSEIStart};this.logger.info(ei+" "+this.streamId+" username: "+eA.turn_username),this.logger.info(ei+" "+this.streamId+" credential: "+eA.turn_auth_key),this.createOffer(ep);var ef=performance.now();this.signal.registerPushCallback("MediaDescPush",this.sessionId,function(eA,ei,eo){return en(er,void 0,void 0,function(){return es(this,function(er){switch(er.label){case 0:return this.compareSeqs("MediaDescPush",eA)?[4,this.onRecvMediaDesc(eA,ei,eo)]:[2];case 1:return er.sent(),[2]}})})}),this.signal.registerPushCallback("CandidateInfoPush",this.sessionId,function(eA,ei,eo){if(er.compareSeqs("CandidateInfoPush",eA))var en=setTimeout(function(){er.onRecvCandidateInfo(eA,ei,eo),clearTimeout(en)},0)}),this.signal.registerPushCallback("CloseSessionPush",this.sessionId,function(eA,eo,en){if(ef){var es=(performance.now()-ef).toFixed(0);ef=void 0,er.logger.info(ei+" ".concat(er.streamId,", cmd: CloseSessionPush, cost_time: ").concat(es))}er.onRecvCloseSession(eA,eo,en)}),this.signal.registerPushCallback("SessionResetPush",this.sessionId,function(eA,ei,eo){er.onRecvResetSession(eA,ei,eo)}),this.signal.registerPushCallback("StreamStatusNotifyPush",this.sessionId,function(eA,ei,eo){er.compareSeqs("StreamStatusNotifyPush",eA)&&(er.gotStreamStatus=!0,er.streamStatus=eo,er.playStream&&er.onRecvStreamStatus(eo))}),this.signal.registerPushCallback("PlayEventPush",this.sessionId,function(eA,eo,en){if(er.compareSeqs("PlayEventPush",eA)){if(ef){var es=(performance.now()-ef).toFixed(0);er.logger.info(ei+" ".concat(er.streamId,", cmd: PlayEventPush, cost_time: ").concat(es))}er.onRecvPlayEvent(eA,eo,en)}}),this.signal.registerPushCallback("ClientInfoPush",this.sessionId,function(eA,ei,eo){er.compareSeqs("ClientInfoPush",eA)&&er.onRecvClientInfo(eA,ei,eo)}),this.logger.info(ei+" "+this.streamId+" call success")},eA.prototype.compareSeqs=function(eA,er){var ei=this.pushCmdSeqMap[eA],eo=ei.seq,en=ei.time,es=performance.now();return -1!==eo&&eo>=er&&es-en<6e3?(this.logger.warn(eE.ZEGO_WEBRTC_ACTION.PLAYER_COMPARE_PUSH_SEQS+" ".concat(this.streamId,", push ").concat(eA,", seq ").concat(er," local ").concat(JSON.stringify(this.pushCmdSeqMap[eA]))),!1):(this.pushCmdSeqMap[eA]={seq:er,time:es},!0)},eA.prototype.createOffer=function(eA){var er=this,ei=eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_CREATE_PLAY_SESSION_SUCCESS;this.peerConnection=new RTCPeerConnection(eA),this.peerConnection.onicecandidate=function(eA){er.onIceCandidate(eA)},this.peerConnection.onsignalingstatechange=function(eA){er.onConnectionStateChange(eA)},this.peerConnection.oniceconnectionstatechange=function(eA){er.onIceConnectionStateChange(eA)},this.peerConnection.onconnectionstatechange=function(eA){er.onPeerConnectionStateChange(eA)},this.peerConnection.ontrack=function(eA){er.onGotRemoteStream(eA.streams[0],eA.receiver)},this.streamCenter.isDataChannelEnabled&&(this.dataChannel=this.peerConnection.createDataChannel(this.streamId),this.dataChannel.binaryType="arraybuffer",this.dataChannel.onopen=function(eA){er.logger.info(ei+" "+er.streamId+" data channel open")},this.dataChannel.onmessage=function(eA){if(er.logger.info(ei+" "+er.streamId+" data channel onmessage"),eA.data instanceof Blob){var eo=new FileReader,en={};eo.readAsArrayBuffer(eA.data),eo.onload=function(){en.data=eo.result,er.onReceivedDataChannel(en)}}else er.onReceivedDataChannel(eA)});var eo={offerToReceiveAudio:1,offerToReceiveVideo:1};this.playOption&&!1===this.playOption.video&&(eo.offerToReceiveVideo=0),this.playOption&&!1===this.playOption.audio&&(eo.offerToReceiveAudio=0),this.logger.info(ei+" "+this.streamId+" createOffer: "+JSON.stringify(eo));var en=this.getSpan(ed.ZegoRTCLogEvent.kZegoPlayCreateOffer.event,this.parentSpanKey);this.peerConnection.createOffer(eo).then(function(eA){en&&(en.setAttributes({sdp:ed.ZegoRTCLogEvent.kZegoPlayCreateOffer.sdp(eA.sdp),is_mini:ed.ZegoRTCLogEvent.kZegoPlayCreateOffer.is_mini(er.stateCenter.isMiniSdp)}),en.end()),er.onCreateOfferSuccess(eA)},function(eA){er.logger.error(ei+" "+er.streamId+" create offer error "+eA.toString()),en&&er.stateCenter.reporter.setError(en,{code:ed.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kCreateOfferError.code,message:eA.toString()}),er.playStateUpdateError(ev.error.kCreateOfferError,!0)})},eA.prototype.createSession=function(eA){var er,ei,eo,ea=this;this.sessionSeq=(0,eg.getSeq)();var ec=this.streamId;1==this.streamCenter.testEnvironment&&(ec="zegotest-"+this.streamCenter.appid+"-"+this.streamId),this.streamCenter.gwNode&&(this.gwNode=this.streamCenter.gwNode);var eu=this.stateCenter.settingConfig.getSetting("gw_nodes");eu&&eu instanceof Array&&eu.length>0&&(this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+" setting "+JSON.stringify(eu)),this.gwNodeList=eu,this.gwNode=this.gwNodeList[0]||this.gwNode),this.setTurnTcp();var el=this.stateCenter.settingConfig.getSetting("udp_or_tcp",!0);el&&(this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_MEDIA_DESC+" setting udp_or_tcp "+el),this._turnToTcp="tcp"===el),this._turnToTcp&&(this.isPeer=!1);var eI="",eC=[],eh=this.stateCenter.seiConfig.SEIPass;"boolean"==typeof eh&&eC.push("zgseipass="+(eh?1:0)),this.stateCenter.idName&&eC.push("zguid="+this.stateCenter.idName),this.stateCenter.isMiniSdp&&eC.push("sdp_fmt_type=1");var eB=(null===(ei=null===(er=this.streamCenter.publisherList[this.streamId])||void 0===er?void 0:er.room)||void 0===ei?void 0:ei.roomID)||(null===(eo=this.stateCenter.roomList[0])||void 0===eo?void 0:eo.roomID);eB&&eC.push("zgrid="+eB),"number"==typeof this.playOption.streamType&&eC.push("video_stream_type="+this.playOption.streamType),eC.length>0&&(eI=eC.join("&"));var ep=ed.ZegoRTCLogEvent.kZegoPlayCreateSession;if(this.isPeer){var ef=this.getSpan(ed.ZegoRTCLogEvent.kZegoPlayCreateSession.event,this.parentSpanKey),em=this.stateCenter.settingConfig.getSetting("l3_play_buffer_ms"),eQ=(new Date).getTime();this.signal.createSessionWithSdp({seq:this.sessionSeq,type:this.isProbe?2:1,mode:0,streamId:ec,strAuthParam:this.playOption&&this.playOption.streamParams||"",sdp:eA.sdp,serverHost:this.gwNode,playBufLevel:[eg.ResourceMode.L3,eg.ResourceMode.DG].includes(this.resourceMode)?em:void 0,params:eI},function(eA,er,ei){return en(ea,void 0,void 0,function(){var eo,en;return es(this,function(es){switch(es.label){case 0:return ei.sdp?(eo=ei,[4,this.signal.parseRecSdp(ei.sdp)]):[3,2];case 1:eo.sdp=es.sent(),es.label=2;case 2:return en=(new Date).getTime(),this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+" create session time "+(en-eQ)),ef&&(ef.setAttributes({webrtc_sid:er,sdp:ep.sdp(ei.sdp),gw_nodes:ep.gw_nodes(ei.gw_nodes),gw_nodes_ttl:ep.gw_nodes(ei.gw_nodes_ttl),gw_version:ep.gw_version(ei.gw_version)}),ef.end()),this.stateNego!==eg.ENUM_PLAY_STATE_NEGO.iceConnected&&this.getSpan(ed.ZegoRTCLogEvent.kZegoPlayIceConnected.event,this.parentSpanKey,"",!0),this.stateCenter.reporter.spanSetAttributes({key:ev.event,par:this.streamId},{gw_version:ev.gw_version(ei.gw_version)}),this.handleCreateSessionWithSdpResp(eA,er,ei),[2]}})})},function(eA,er){if(ea.sessionSeq==er){var ei=eA==eg.SEND_MSG_TIMEOUT?ev.error.kSessionTimeoutError:ev.error.kSessionRequestError;ef&&(ef.setAttributes({try_cnt:ea.peerFailCount}),ea.stateCenter.reporter.setError(ef,ei)),ea.playStateUpdateError(ei)}else ea.logger.warn(eE.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+" seq is not match.")})}else{var e_=this.getSpan(ed.ZegoRTCLogEvent.kZegoPlayCreateSession.event,this.parentSpanKey);this.signal.createSession(this.sessionSeq,1,0,ec,this.playOption&&this.playOption.streamParams,this.gwNode,eI,function(eA,er,ei){return en(ea,void 0,void 0,function(){return es(this,function(eo){return e_&&(e_.setAttributes({webrtc_sid:ed.ZegoRTCLogEvent.kZegoPlayCreateSession.webrtc_sid(er),sdp:ep.sdp(ei.sdp),is_mini:ep.is_mini(this.stateCenter.isMiniSdp),gw_nodes:ep.gw_nodes(ei.gw_nodes),gw_nodes_ttl:ep.gw_nodes(ei.gw_nodes_ttl),gw_version:ep.gw_version(ei.gw_version)}),e_.end(),this.stateCenter.reporter.spanSetAttributes({key:ev.event,par:this.streamId},{gw_version:ev.gw_version(ei.gw_version)})),this.handleCreateSessionResp(eA,er,ei),[2]})})},function(eA,er){if(ea.sessionSeq==er){var ei=eA==eg.SEND_MSG_TIMEOUT?ev.error.kSessionTimeoutError:ev.error.kSessionRequestError;e_&&ea.stateCenter.reporter.setError(e_,ei),ea.playStateUpdateError(ei)}else ea.logger.warn(eE.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+" seq is not match.")})}this.state=eg.ENUM_PLAY_STATE.waitingSessionRsp,this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+" "+this.streamId+" called success"),this.stateNego=eg.ENUM_PLAY_STATE_NEGO.start},eA.prototype.setGwNodes=function(eA,er){var ei;if(this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_SET_GW_NODES+" "+this.streamId+" "+JSON.stringify(null==eA?void 0:eA.gw_nodes)+" "+JSON.stringify(this.retryFailGwNodes)),(null===(ei=eA.gw_nodes)||void 0===ei?void 0:ei.length)>0){var eo=this.sortGwNodes(eA.gw_nodes,this.retryFailGwNodes,er);this.retryFailGwNodes=[],this.handleDispatchedGwNodes(eo,eA.gw_nodes_ttl)}},eA.prototype.resetGwNodes=function(){this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_RESET_GW_NODES+" "+this.streamId),this.gwNode="",this.gwNodeList=[],this.gwNodesTTL=0},eA.prototype.sortGwNodes=function(eA,er,ei){var eo=JSON.parse(JSON.stringify(eA));if(er.forEach(function(eA){var er=eo.indexOf(eA);er>=0&&(eo.splice(er,1),eo.push(eA))}),!ei){var en=eo.findIndex(function(er){return er===eA[0]});en>0&&(eo.splice(en,1),eo.unshift(eA[0]))}return eo},eA.prototype.handleDispatchedGwNodes=function(eA,er){if(this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_HANDLE_DISPATCHED_GW_NODES+" "+this.streamId+" "+JSON.stringify(eA)),Array.isArray(eA)){this.gwNodeList=eA.length>0?eA:this.gwNodeList,this.gwNode=eA.length>0?this.gwNodeList[0]:this.gwNode;var ei=0===er?60:er;this.gwNodesTTL=ei?(new Date).getTime()+1e3*ei:this.gwNodesTTL,eA.length>0&&this.streamCenter.updateCachedGwNodesList(this,!1,eA,ei)}},eA.prototype.handleCreateSessionResp=function(eA,er,ei){var eo=ei.turn_server,en=eo.split("?")[0]&&eo.split("?")[0].slice(5),es=this.streamCenter.server.split("?"),ea=es[1]&&es[1].slice(2);if(this.stateCenter.reporter.spanSetAttributes({key:this.parentSpanKey,par:this.streamId},{webrtc_sid:ei.session_id,url:"webrtc://".concat(en,"/").concat(ea,"/").concat(this.streamId)}),this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+" "+this.streamId+" sessionId:"+ei.session_id),this.sessionSeq==eA){this.resetPushCmdSeqMap(),this.stateCenter.clientIP=ei.clientip?ei.clientip:this.stateCenter.clientIP;var eg=0,ec=(new Date).getTime();this.reportBeginTime&&(this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_HANDLE_CREATE_SESSION_WITH_SDP+" "+this.streamId+" create signal time "+(eg=ec-this.reportBeginTime)),this.signalTime=eg),this.answerSdpTime=ec,0!==ei.result?(this.logger.error(eE.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+" "+this.streamId+" create error"),this.playStateUpdateError(ev.error.kSessionRequestError)):(this.sessionId=ei.session_id,this.sessionToken=ei.session_token,this.setGwNodes(ei,!1),this.onCreatePlaySessionSuccess(ei))}else this.logger.error(eE.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+" seq is not match.")},eA.prototype.handleCreateSessionWithSdpResp=function(eA,er,ei){var eo=this;if(this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_HANDLE_CREATE_SESSION_WITH_SDP+" sessionId:"+er),this.sessionSeq==eA){this.resetPushCmdSeqMap(),this.stateCenter.clientIP=ei.clientip?ei.clientip:this.stateCenter.clientIP;var en=0,es=(new Date).getTime();if(this.reportBeginTime&&(this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_HANDLE_CREATE_SESSION_WITH_SDP+" "+this.streamId+" create signal time "+(en=es-this.reportBeginTime)),this.signalTime=en),this.answerSdpTime=es,0!==ei.result){if(this.stateCenter._isMiniSdp=!1,this.logger.error(eE.ZEGO_WEBRTC_ACTION.PLAYER_HANDLE_CREATE_SESSION_WITH_SDP+" create session failed "+ei.result),this.stateCenter.useNetAgent&&1004===(null==ei?void 0:ei.result))return void this.playStateUpdateError(ev.error.kPlayStreamNotFound,!0);this.playStateUpdateError(ev.error.kSessionRequestError)}else{this.sessionId=er,this.sessionToken=ei.session_token,this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_HANDLE_CREATE_SESSION_WITH_SDP+" create session success ",this.streamId),this.setGwNodes(ei,!1);var ea=performance.now();this.signal.registerPushCallback("CloseSessionPush",this.sessionId,function(eA,er,ei){if(ea){var en=(performance.now()-ea).toFixed(0);ea=void 0,eo.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_HANDLE_CREATE_SESSION_WITH_SDP+" ".concat(eo.streamId,", cmd: CloseSessionPush, cost_time: ").concat(en))}eo.onRecvCloseSession(eA,er,ei)}),this.signal.registerPushCallback("SessionResetPush",this.sessionId,function(eA,er,ei){eo.onRecvResetSession(eA,er,ei)}),this.signal.registerPushCallback("StreamStatusNotifyPush",this.sessionId,function(eA,er,ei){eo.compareSeqs("StreamStatusNotifyPush",eA)&&(eo.gotStreamStatus=!0,eo.streamStatus=ei,eo.playStream&&eo.onRecvStreamStatus(ei))}),this.signal.registerPushCallback("PlayEventPush",this.sessionId,function(eA,er,ei){if(eo.compareSeqs("PlayEventPush",eA)){if(ea){var en=(performance.now()-ea).toFixed(0);ea=void 0,eo.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+" ".concat(eo.streamId,", cmd: PlayEventPush, cost_time: ").concat(en))}eo.onRecvPlayEvent(eA,er,ei)}}),this.signal.registerPushCallback("ClientInfoPush",this.sessionId,function(eA,er,ei){eo.compareSeqs("ClientInfoPush",eA)&&eo.onRecvClientInfo(eA,er,ei)}),this.signal.registerPushCallback("NetQualityProbeRsp",this.sessionId,function(eA,er,ei){eo.onRecvPlayEvent(eA,er,ei)}),this.signal.registerPushCallback("NetQualityInfoPush",this.sessionId,function(eA,er,ei){eo.compareSeqs("NetQualityInfoPush",eA)&&eo.onRecvNetQualityInfo(eA,er,ei)}),this.signal.gw.registerPushCallback("net_quality_grade_push",this.sessionId,function(eA,er,ei){var en,es,ea=eh.WebRTCUtil.base64ToUint8Array(ei),eg=eQ.webrtc_cmd.WebrtcCmdReqMsg.decode(ea).net_quality_grade_push;eo.userID=eo.userID||(null===(es=null===(en=eo.streamCenter.playerList[eo.streamId])||void 0===en?void 0:en.room.streamList.find(function(eA){return eA.stream_id==eo.streamId}))||void 0===es?void 0:es.id_name),eo.signal.sendNetQualityGradeAck(eo.sessionId,eo.peerID,0),eo.userID&&(eo.stateCenter.actionListener("networkQuality",eo.userID,null==eg?void 0:eg.tx_quality,null==eg?void 0:eg.rx_quality),eo.netTimer||eo.startPollNetworkQuality(),eo.lostQualityTime=0)}),this.onGetRemoteOfferSuccess(ei.sdp)}}else this.logger.error(eE.ZEGO_WEBRTC_ACTION.PLAYER_HANDLE_CREATE_SESSION_WITH_SDP+" seq is not match.")},eA.prototype.onCreateOfferSuccess=function(eA){var er=this;this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_CREATE_OFFER_SUCCESS+" "+this.streamId+" localSdp1 "+eA.sdp.substr(0,eA.sdp.length/2)),this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_CREATE_OFFER_SUCCESS+" "+this.streamId+" localSdp2 "+eA.sdp.substr(eA.sdp.length/2)),eA.sdp=eA.sdp.replace(/sendrecv/g,"recvonly"),eA.sdp=eA.sdp.replace(/useinbandfec=/,"stereo=1;useinbandfec=");var ei=eA.sdp.match(/m=application[\s\S]+datachannel[\s\S]+/)?eA.sdp.match(/m=application[\s\S]+datachannel[\s\S]+/)[0]:null;if(ei){var eo=ei.replace(/recvonly/,"sendrecv");eA.sdp=eA.sdp.replace(ei,eo)}eA.sdp=(0,ep.addSPSDescription)(eA.sdp),eA.sdp=(0,ep.addRRTRLine)(eA.sdp),this.playOption.videoCodec&&(eA.sdp=ec.SdpUtil.getSDPByVideDecodeType(eA.sdp,this.playOption.videoCodec));var en=this.getSpan(ed.ZegoRTCLogEvent.kZegoPlaySetLocalSdp.event,this.parentSpanKey);en&&en.setAttributes({sdp:ed.ZegoRTCLogEvent.kZegoPlaySetLocalSdp.sdp(eA.sdp),is_mini:ed.ZegoRTCLogEvent.kZegoPlaySetLocalSdp.is_mini(this.stateCenter.isMiniSdp)}),this.peerConnection.setLocalDescription(eA).then(function(){en&&en.end(),er.onSetLocalDescriptionSuccess(eA)},function(eA){er.logger.error(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_CREATE_OFFER_SUCCESS+" "+er.streamId+" set error "+eA.toString()),en&&er.stateCenter.reporter.setError(en,{code:ed.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kSetLocalDescError.code,message:eA.toString()}),er.playStateUpdateError(ev.error.kSetLocalDescError,!0)})},eA.prototype.onSetLocalDescriptionSuccess=function(eA){var er=this;if(this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+" "+this.streamId+" success"),this.isPeer)this.createSession(eA);else{var ei={sdp:eA.sdp};2==this.resourceMode&&(ei.min_play_buf_level_ms=500),this.answerSeq=(0,eg.getSeq)();var eo=this.getSpan(ed.ZegoRTCLogEvent.kZegoPlaySendMediaDesc.event,this.parentSpanKey);this.signal.sendMediaDesc(this.answerSeq,this.sessionId,0,ei,function(eA,en,es){er.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+" "+er.streamId+" sendMediaDesc resp"),eo&&(eo.setAttributes({webrtc_sid:ed.ZegoRTCLogEvent.kZegoPlaySendMediaDesc.webrtc_sid(en),sdp:ei.sdp}),eo.end()),er.answerSeq==eA&&er.sessionId==en?(er.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+" "+er.streamId+" send success stateNego:waiterAnswer"),er.stateNego=eg.ENUM_PLAY_STATE_NEGO.waiterAnswer,er.state=eg.ENUM_PLAY_STATE.waitingServerAnswer):er.logger.error(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+" "+er.streamId+" seq or sessionId is not equal "+er.answerSeq+" "+eA,0+er.sessionId+" "+en)},function(eA,ei){er.logger.error(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+" "+er.streamId+" failed to send "+eA),eo&&er.stateCenter.reporter.setError(eo,{code:ed.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kMediaDescError.code,message:eA.toString()}),er.playStateUpdateError(ev.error.kMediaDescError)}),this.state=eg.ENUM_PLAY_STATE.waitingOfferRsp}},eA.prototype.onRecvMediaDesc=function(eA,er,ei){return en(this,void 0,void 0,function(){var er,eo;return es(this,function(en){switch(en.label){case 0:return this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_MEDIA_DESC+" "+this.streamId+" received ",ei),[4,this.signal.parseRecSdp(ei.sdp)];case 1:return er=(er=en.sent())||ei.sdp,(eo=this.getSpan(ed.ZegoRTCLogEvent.kZegoPlayRecvMediaDesc.event,this.parentSpanKey))&&(eo.setAttributes({sdp:ed.ZegoRTCLogEvent.kZegoPlayRecvMediaDesc.sdp(er),is_mini:ed.ZegoRTCLogEvent.kZegoPlayRecvMediaDesc.is_mini(this.stateCenter.isMiniSdp)}),eo.end()),this.stateNego=eg.ENUM_PLAY_STATE_NEGO.waitingCandidate,this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_MEDIA_DESC+" "+this.streamId+" received stateNego:waitingCandidate"),this.state!==eg.ENUM_PLAY_STATE.waitingServerAnswer?this.logger.error(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_MEDIA_DESC+" "+this.streamId+" current state "+this.state+" not allowed"):(this.signal.sendMediaDescAck(eA,this.sessionId,0),this.onGetRemoteOfferSuccess(er)),[2]}})})},eA.prototype.onGetRemoteOfferSuccess=function(eA){var er,ei=this,eo={type:"answer",sdp:eA,toJSON:function(){}},en=this.getSpan(ed.ZegoRTCLogEvent.kZegoPlaySetRemoteSdp.event,this.parentSpanKey);this.setTurnTcp(),this.streamCenter.autoSwitchProtocol=this.stateCenter.settingConfig.getSetting("auto_to_tcp")||!1;var es=this.stateCenter.settingConfig.getSetting("udp_max_fail_num");isNaN(es)||(this.streamCenter.maxUdpFailNum=es);var ea=this.streamCenter,ec=ea.autoSwitchProtocol,eu=ea.maxUdpFailNum,el=ea.udpFailNum;this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_MEDIA_DESC+"  autoToTcp: ".concat(ec,", udpFailNum: ").concat(el,", maxUdpFailNum: ").concat(eu,".")),ec&&!this._turnToTcp&&el>=eu&&(this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_MEDIA_DESC+" switch to tcp."),this._turnToTcp=!0);var eI=this.stateCenter.settingConfig.getSetting("udp_or_tcp",!0);eI&&(this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_MEDIA_DESC+" setting udp_or_tcp "+eI),this._turnToTcp="tcp"===eI),this._turnToTcp&&(null===(er=eo.sdp.match(/candidate.*/g))||void 0===er||er.forEach(function(eA){var er=eA.replace(/udp/,"tcp");er.includes(" tcptype ")||(er=er.replace(" typ host "," typ host tcptype passive ")),eo.sdp=eo.sdp.replace(eA,er)})),this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_MEDIA_DESC+" "+this.streamId+" remoteSdp ",eo.sdp),en&&en.setAttributes({sdp:ed.ZegoRTCLogEvent.kZegoPlaySetRemoteSdp.sdp(eo.sdp),webrtc_sid:ed.ZegoRTCLogEvent.kZegoPlaySetRemoteSdp.webrtc_sid(this.sessionId),is_mini:ed.ZegoRTCLogEvent.kZegoPlaySetRemoteSdp.is_mini(this.stateCenter.isMiniSdp)}),this.peerConnection.setRemoteDescription(new RTCSessionDescription(eo)).then(function(){en&&en.end(),ei.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_MEDIA_DESC+" "+ei.streamId+" set success")},function(eA){ei.logger.error(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_MEDIA_DESC+" "+ei.streamId+" set remote error "+eA.toString()),en&&(en.setAttributes({error:ed.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kSetRemoteDescError.code,message:eA.toString()}),en.end());var er=!ei.stateCenter.isMiniSdp;ei.stateCenter._isMiniSdp=!1,ei.playStateUpdateError(ev.error.kSetRemoteDescError,er)}),this.state=eg.ENUM_PLAY_STATE.waitingServerICE,this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_MEDIA_DESC+" "+this.streamId+" call success")},eA.prototype.onRecvCandidateInfo=function(eA,er,ei){var eo=this;this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_CANDIDATE_INFO+" "+this.streamId+" received ");var en=this.getSpan(ed.ZegoRTCLogEvent.kZegoPlayRecvIceCandidate.event,this.parentSpanKey);if(en&&(en.setAttributes({candidate_info:ed.ZegoRTCLogEvent.kZegoPlayRecvIceCandidate.candidate_info(ei.infos)}),en.end()),this.state==eg.ENUM_PLAY_STATE.waitingServerICE){this.signal.sendCandidateInfoAck(eA,this.sessionId,0),this.sendCandidateInfo(this.candidateInfo),this.candidateInfo=[];for(var es=0;es<ei.infos.length;es++){var ea={sdpMid:ei.infos[es].sdpMid,sdpMLineIndex:ei.infos[es].sdpMLineIndex,candidate:ei.infos[es].candidate};this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_CANDIDATE_INFO+" "+this.streamId+" candidate "+ea.candidate),this.peerConnection.addIceCandidate(new RTCIceCandidate(ea)).then(function(){eo.logger.debug(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_CANDIDATE_INFO+" "+eo.streamId+" add success")},function(eA){eo.logger.error(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_CANDIDATE_INFO+" "+eo.streamId+" add error "+eA.toString()),eo.playStateUpdateError(ev.error.kCandidateError,!0)})}this.state=eg.ENUM_PLAY_STATE.connecting;var ec=this.getSpan(ed.ZegoRTCLogEvent.kZegoPlayIceConnected.event,this.parentSpanKey,"",!0);null==ec||ec.setAttributes({webrtc_sid:this.sessionId}),this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_CANDIDATE_INFO+" "+this.streamId+" call success")}else this.logger.warn(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_CANDIDATE_INFO+" "+this.streamId+" current state "+this.state+" not allowed")},eA.prototype.onRecvPlayEvent=function(eA,er,ei){if(this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_PLAY_EVENT+" "+this.streamId+" received"),!this.isProbe){var eo=this.stateCenter.reporter.createSpan(eg.TRACER_LEVEL.H,{key:ed.ZegoRTCLogEvent.kZegoTaskPlayStart.event,par:this.streamId},{key:""},ed.ZegoRTCLogEvent.kZegoRTCPlayEvent.event);eo.setAttributes({event_state:ed.ZegoRTCLogEvent.kZegoRTCPlayEvent.event_state(ei.event),webrtc_sid:er}),eo.end()}if(!0===this.playEvent&&0==ei.event){this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_PLAY_EVENT+" "+this.streamId+" retry: "+this.streamId);var en=this.streamId,es=this.playOption;this.signal.sendCloseSession((0,eg.getSeq)(),this.sessionId,1),this.resetPlay(),this.startPlay(en,this.getRemoteStreamSuc,es)}else this.playEvent=!0},eA.prototype.onRecvClientInfo=function(eA,er,ei){this.stateCenter.clientIP!==ei.clientip&&this.logger.warn(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_CLIENT_INFO+" client ip changed "+this.stateCenter.clientIP+" "+ei.clientip),this.stateCenter.clientIP=ei.clientip,this.peerID=ei.peer_id,this.streamConnectIP=ei.clientip,this.stateCenter.isMultiOuter=this.isMultiOuter(),this.isProbe&&this.stateNego==eg.ENUM_PLAY_STATE_NEGO.iceConnected&&this.signal.sendNetProbe((0,eg.getSeq)(),this.sessionId,this.peerID,function(){},function(){}),this.isRecvClientInfo=!0},eA.prototype.onRecvNetQualityInfo=function(eA,er,ei){this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_NET_QUALITY_INFO+" call"),this.qualityHandler.stopProbeTimeout();var eo=0,en=ei.lossrate,es=ei.rtt;this.peerID===ei.peer_id||this.isProbeByDG||(this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_NET_QUALITY_INFO+" local peerID:"+this.peerID+" remote peerID:"+ei.peer_id+" lossrate:"+en+" rtt:"+es),eo=1),this.signal.sendNetQualityInfoPushAck((0,eg.getSeq)(),this.sessionId,this.peerID,eo),0==eo&&"number"==typeof en&&"number"==typeof es?(this.isProbeByDG=!1,this.onCalNetQualityResult(0,el.ClientUtil.getNetQuality(es,en))):this.onCalNetQualityResult(1)},eA.prototype.onIceCandidate=function(eA){this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_ICE_CANDIDATE+" "+this.streamId+" called"),null!=eA.candidate&&(this.logger.debug(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_ICE_CANDIDATE+" "+this.streamId+" candidate "+eA.candidate.candidate),this.state<eg.ENUM_PLAY_STATE.connecting||this.state==eg.ENUM_PLAY_STATE.stop?(this.logger.debug(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_ICE_CANDIDATE+" "+this.streamId+" cached"),this.candidateInfo.push({candidate:eA.candidate.candidate,sdpMid:eA.candidate.sdpMid,sdpMLineIndex:eA.candidate.sdpMLineIndex})):(this.logger.debug(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_ICE_CANDIDATE+" "+this.streamId+" send"),this.sendCandidateInfo([{candidate:eA.candidate.candidate,sdpMid:eA.candidate.sdpMid,sdpMLineIndex:eA.candidate.sdpMLineIndex}])))},eA.prototype.onConnectionStateChange=function(eA){this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_CONNECTION_STATE_CHANGE+" "+this.streamId+" called "+eA.target.signalingState),this.state!=eg.ENUM_PLAY_STATE.stop&&null!=this.peerConnection&&"closed"===eA.target.signalingState&&(this.dataReport.addEvent(this.reportSeq,"IceClosed"),this.stateNego=eg.ENUM_PLAY_STATE_NEGO.iceClosed,this.checkPlayConnectionFailedState(this.peerConnection.iceConnectionState))},eA.prototype.onIceConnectionStateChange=function(eA){var er=this;if(this.state!=eg.ENUM_PLAY_STATE.stop&&null!=this.peerConnection){this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_ICE_CONNECTION_STATE_CHANGE+" "+this.streamId+" stateChanged "+this.peerConnection.iceConnectionState);var ei=this.getSpan(ed.ZegoRTCLogEvent.kZegoRTCIceStateChanged.event,this.parentSpanKey,ed.ZegoRTCLogEvent.kZegoTaskStreamPlay.event);if(ei&&ei.setAttributes({ice_state:ed.ZegoRTCLogEvent.kZegoRTCIceStateChanged.ice_state(this.peerConnection.iceConnectionState)}),"connected"===this.peerConnection.iceConnectionState){if(this.stateNego=eg.ENUM_PLAY_STATE_NEGO.iceConnected,this.isProbe&&this.isPeer&&(this.isRecvClientInfo||this.isProbeByDG))return this.signal.sendNetProbe((0,eg.getSeq)(),this.sessionId,this.peerID,function(){},function(){}),void(null!=this.negoTimer&&(clearTimeout(this.negoTimer),this.negoTimer=null));if(null!=this.negoTimer&&(clearTimeout(this.negoTimer),this.negoTimer=null),null!=this.iceDisconnectedTimer&&(clearTimeout(this.iceDisconnectedTimer),this.iceDisconnectedTimer=null),!this.isProbe&&this.reportBeginTime){var eo=(new Date).getTime()-this.reportBeginTime;this.reportSpan.setAttributes({play_begin_time:e_.play_begin_time(eo)}),this.reportBeginTime=0}if(this.stateCenter.reporter.spanEnd({key:ed.ZegoRTCLogEvent.kZegoPlayIceConnected.event,par:this.streamId},{webrtc_sid:this.sessionId}),this.answerSdpTime){var en=(new Date).getTime()-this.answerSdpTime;this.logger.warn(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_ICE_CONNECTION_STATE_CHANGE+" "+this.streamId+" ice time "+en)}this.isProbe||this.state==eg.ENUM_PLAY_STATE.playing||(this.onPlayStateUpdate(eg.ENUM_PLAY_STATE_UPDATE.start,this.streamId,{code:0,message:""},!0),this.getRemoteStreamSuc&&this.getRemoteStreamSuc(this.playOption.resourceMode==eg.ResourceMode.DG&&this.firstPlay?null:this.playStream)),this.state=eg.ENUM_PLAY_STATE.playing;var es=this.isRePlay?ed.ZegoRTCLogEvent.kZegoRePlay:ey;for(var ea in this.stateCenter.reporter.spanEnd({key:es.event,par:this.streamId},{signal_consume:ey.signal_consume(this.signalTime),is_peer:ey.is_peer(this.isPeer)}),this.playStateCount++,this.continuousFailCnt=0,this.reportPlayStateTime=Date.now(),this.isProbeDispatch=!1,this.streamCenter.publisherList)if(this.streamCenter.publisherList[ea].publisher.state==eg.ENUM_PUBLISH_STATE.publishing&&this.broadcasterStatus==eg.ENUM_BROADCASTER_STATUS.stop){this.signal&&this.signal.sendBroadcasterStatus((0,eg.getSeq)(),this.sessionId,1),this.broadcasterStatus=eg.ENUM_BROADCASTER_STATUS.start;break}if(!this.isProbe){this.qualityHandler.setPlayQualityTimer();var ec=this.stateCenter.settingConfig.getSetting("probe_started_num");isNaN(ec)||(this.streamCenter.probeStartedNum=ec)}this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_ICE_CONNECTION_STATE_CHANGE+" "+this.streamId+" stateNego:iceConnected"),this.isPeer&&(this.peerFailCount=0),this.hasConnectionChange()||this.recordFirstFrameData(),this._turnToTcp||(this.streamCenter.udpFailNum=0)}else"closed"===this.peerConnection.iceConnectionState?(null==ei||ei.end(),this.stateNego=eg.ENUM_PLAY_STATE_NEGO.iceClosed,this.checkPlayConnectionFailedState(this.peerConnection.iceConnectionState)):"failed"===this.peerConnection.iceConnectionState?(null==ei||ei.end(),this.stateNego=eg.ENUM_PLAY_STATE_NEGO.iceFailed,this.checkPlayConnectionFailedState(this.peerConnection.iceConnectionState)):"disconnected"===this.peerConnection.iceConnectionState&&(null==ei||ei.end(),this.stateNego=eg.ENUM_PLAY_STATE_NEGO.iceDisconnected,this.logger.warn(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_ICE_CONNECTION_STATE_CHANGE+" ice disconnected"),this.iceDisconnectedTimer||(this.iceDisconnectedTimer=setTimeout(function(){er.checkPlayConnectionFailedState("disconnected")},this.iceDisconnectedMaxTime)))}},eA.prototype.onPeerConnectionStateChange=function(eA){this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_PEER_CONNECTION_STATE_CHANGE+" "+this.streamId+" connectionChanged "+this.peerConnection.connectionState),"connected"===this.peerConnection.connectionState&&this.recordFirstFrameData()},eA.prototype.hasConnectionChange=function(){var eA=this.stateCenter.browser;return!("firefox"===eA||"chrome"===eA&&72>(0,el.getChromeVer)())},eA.prototype.checkPlayConnectionFailedState=function(eA){this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_ICE_CONNECTION_STATE_CHANGE+"  state "+this.state+" connectionState "+eA),this.playStateUpdateError(ev.error.kMediaConnectionError)},eA.prototype.resetPlay=function(){this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_RESET_PLAY+" "+this.streamId+" call"),this.state=eg.ENUM_PLAY_STATE.stop,this.playEvent=!1,this.isRecvClientInfo=!1,null!=this.peerConnection&&(this.peerConnection.close(),this.peerConnection=null),null!=this.negoTimer&&(clearTimeout(this.negoTimer),this.negoTimer=null),null!=this.iceDisconnectedTimer&&(clearTimeout(this.iceDisconnectedTimer),this.iceDisconnectedTimer=null),this.stopVideocTimer(),this.qualityHandler.stopProbeTimeout(),this.qualityHandler.clearPlayQualityTimer(),this.signal&&(this.signal.unregisterPushCallback("MediaDescPush",this.sessionId),this.signal.unregisterPushCallback("CandidateInfoPush",this.sessionId),this.signal.unregisterPushCallback("CloseSessionPush",this.sessionId),this.signal.unregisterPushCallback("SessionResetPush",this.sessionId),this.signal.unregisterPushCallback("PlayEventPush",this.sessionId),this.signal.unregisterPushCallback("ClientInfoPush",this.sessionId),this.signal.unregisterPushCallback("NetQualityProbeRsp",this.sessionId),this.signal.unregisterPushCallback("NetQualityInfoPush",this.sessionId),this.signal.gw.unregisterPushCallback("net_quality_grade_push",this.sessionId)),this.sessionSeq=0,this.answerSeq=0,this.videoSizeCallback=!1,this.stopSoundLevel()},eA.prototype.onRecvResetSession=function(eA,er,ei){this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_RESET_SESSION+" "+this.streamId+" received ");var eo=this.getSpan(ed.ZegoRTCLogEvent.kZegoRTCRecvResetSession.event,ed.ZegoRTCLogEvent.kZegoTaskStreamPlay.event);if(eo&&eo.end(),er==this.sessionId){this.signal.sendCloseSessionAck(eA,this.sessionId,0);var en=JSON.parse(JSON.stringify(ev.error.kPlaySessionClosedError));this.negoTimer&&clearTimeout(this.negoTimer),this.playStateUpdateError(en)}else this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_RESET_SESSION+" "+this.streamId+" cannot find session")},eA.prototype.onRecvCloseSession=function(eA,er,ei){var eo=this;this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_CLOSE_SESSION+" "+this.streamId+" "+JSON.stringify(ei)),this.stateCenter.reporter.spanSetAttributes({key:ed.ZegoRTCLogEvent.kZegoTaskStreamPlay.event,par:this.streamId},{denied_info:ed.ZegoRTCLogEvent.kZegoTaskStreamPlay.denied_info(ei.err_info),stop_reason:ed.ZegoRTCLogEvent.kZegoTaskStreamPlay.stop_reason("DenyStop")}),this.signal.sendCloseSessionAck(eA,this.sessionId,0);var en=ei.err_info?JSON.parse(ei.err_info.toLowerCase()):{},es=en.action?en.action:null,ea=1*ei.reason,eg=JSON.parse(JSON.stringify(1004===(null==en?void 0:en.err)?ev.error.kPlayStreamNotFound:ev.error.kPlaySessionClosedError));eg.message+=" reason:".concat(ea," ").concat(es?" action:"+es:""," ").concat((null==en?void 0:en.err)?" err:"+(null==en?void 0:en.err):""),eg.message+=";".concat((0,em.translate)(ea,es,null==en?void 0:en.err)),this.negoTimer&&clearTimeout(this.negoTimer);var ec=!([4,8,10,11,12,14,24,26,27,28].includes(ea)||[2,3,4,5,6].includes(es));1004===(null==en?void 0:en.err)&&(ec=!0);var eu=!1;if(!this._turnToTcp){if([8,10].includes(ea)||[18,15].includes(ea)&&2===es&&[3001,3002].includes(en.err)){this.streamCenter.udpFailNum++;var el=this.streamCenter;el.autoSwitchProtocol&&el.udpFailNum>=el.maxUdpFailNum&&(this.isPeer=!1,this.streamCenter.setIsPeer(!1),eu=!0)}else this._turnToTcp||(this.streamCenter.udpFailNum=0);var eI=this.gwNodeList.findIndex(function(eA){return eA==eo.gwNode})===this.gwNodeList.length-1,eC=[3001,3002,3003,3004,3005,3006,3007,3008].includes(en.err);eI&&eC&&(this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_CLOSE_SESSION+" "+this.streamId+" switch tcp by all fail"),this.stateCenter.turnToTcp=!0)}this.playStateUpdateError(eg,ec,en,eu)},eA.prototype.onRecvStreamStatus=function(eA,er){void 0===er&&(er=!1),this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_STREAM_STATUS+" "+this.streamId+" call"),this.logger.info("".concat(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_STREAM_STATUS," ").concat(this.streamId," status camera_status: ").concat(eA.camera_status," mic_status: ").concat(eA.mic_status)),this.reportFirstFrameData(eA.camera_status,eA.mic_status),this.hasSentStreamStatus&&this.cameraStatus===eA.camera_status||this.onRemoteCameraStatusUpdate(this.streamId,this.getCameraMicStatus(eA.camera_status),eA.camera_status),this.hasSentStreamStatus&&this.micStatus===eA.mic_status||this.onRemoteMicStatusUpdate(this.streamId,this.getCameraMicStatus(eA.mic_status),eA.mic_status),this.hasSentStreamStatus=!0;var ei=this.cameraStatus!==eA.camera_status;if(this.cameraStatus=eA.camera_status,this.micStatus=eA.mic_status,this.videoMuteState=0===eA.camera_status?"0":"1",this.audioMuteState=0===eA.mic_status?"0":"1","boolean"==typeof this.playOption.video)this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_STREAM_STATUS+" "+this.streamId+" has set video option, ignore stream status");else{var eo=this.playStream,en=this.rtcViewer;if(0!==eA.camera_status&&20!==eA.camera_status)en?ei&&(this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_STREAM_STATUS+" "+this.streamId+" viewer clear last frame"),en.checkIfClearLastFrame()):eo.getVideoTracks().forEach(function(eA){eA.enabled=!1,eA.stop(),eo.removeTrack(eA)});else if(0===eo.getVideoTracks().length){var es=this.remoteStream.clone().getVideoTracks()[0];eo.addTrack(es),en&&en.setVideo(es,"safari"===this.stateCenter.browser)}if("safari"===this.stateCenter.browser&&er)for(var ea=document.querySelectorAll("video, audio"),eg=0;eg<ea.length;eg++){var ec=ea[eg];ec.srcObject===this.playStream&&(this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_STREAM_STATUS+" track changed. rerender stream"),ec.srcObject=this.playStream)}}this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_STREAM_STATUS+" "+this.streamId+" call success")},eA.prototype.onGotRemoteStream=function(eA,er){var ei=this;if(this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_GOT_REMOTE_STREAM+" "+this.streamId+" called "+eA),eA){if(this.sideMediaConfig.isSEIStart&&"function"==typeof er.createEncodedStreams&&("video"===er.track.kind?this.createVideoReceiverTransform(er):"audio"===er.track.kind&&this.createAudioReceiverTransform(er)),this.playStream){this.playStream.getTracks().forEach(function(eA){return ei.playStream.removeTrack(eA)});var eo=this.rtcViewer;eA.clone().getTracks().forEach(function(eA){return en(ei,void 0,void 0,function(){return es(this,function(er){return this.playStream.addTrack(eA),eo&&eo.setTrack("video"===eA.kind,eA,"safari"===this.stateCenter.browser),[2]})})})}else this.playStream=eA.clone();this.audioMuteState=this.playStream.getAudioTracks().length>0?"0":"1",this.videoMuteState=this.playStream.getVideoTracks().length>0?"0":"1",this.remoteStream=eA,this.getVideoCodec(),this.gotStreamStatus&&this.onRecvStreamStatus(this.streamStatus,!0),this.streamCenter.soundLevelDelegate&&!this.isProbe&&this.startSoundLevel()}else this.logger.warn(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_GOT_REMOTE_STREAM+" "+this.streamId+" remote stream is empty")},eA.prototype.createVideoReceiverTransform=function(eA){var er=eA.createEncodedStreams(),ei=new TransformStream({transform:this.decodeVideoFrame});this.receiverStreams=er,er.readable.pipeThrough(ei).pipeTo(er.writable)},eA.prototype.createAudioReceiverTransform=function(eA){var er=eA.createEncodedStreams(),ei=new TransformStream({transform:this.decodeAudioFrame});er.readable.pipeThrough(ei).pipeTo(er.writable)},eA.prototype.sendCandidateInfo=function(eA){var er=this;if(this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_SEND_CANDIDATE_INFO+" "+this.streamId+" called"),(eA=eA.filter(function(eA){return!(eA.candidate.indexOf("tcp")>0)&&(!!eA.candidate||void 0)}))&&!(eA.length<1)){var ei=this.getSpan(ed.ZegoRTCLogEvent.kZegoPlaySendIceCandidate.event,this.parentSpanKey);ei&&ei.setAttributes({candidate_info:ed.ZegoRTCLogEvent.kZegoPlaySendIceCandidate.candidate_info(eA)}),this.stateNego!==eg.ENUM_PLAY_STATE_NEGO.iceConnected&&(this.stateNego=eg.ENUM_PLAY_STATE_NEGO.sendCandidate),this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_SEND_CANDIDATE_INFO+" "+this.streamId+" stateNego:sendCandidate"),this.signal.sendCandidateInfo((0,eg.getSeq)(),this.sessionId,eA,function(eA,eo,en){er.logger.debug(eE.ZEGO_WEBRTC_ACTION.PLAYER_SEND_CANDIDATE_INFO+" "+er.streamId+" send success"),ei&&ei.end()},function(eA,eo){er.logger.error(eE.ZEGO_WEBRTC_ACTION.PLAYER_SEND_CANDIDATE_INFO+" "+er.streamId+" failed to send: "+eA.toString()),ei&&er.stateCenter.reporter.setError(ei,{code:ed.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kCandidateError.code,message:eA.toString()}),er.playStateUpdateError(ev.error.kCandidateError)})}else this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_SEND_CANDIDATE_INFO+" "+this.streamId+" cancelled")},eA.prototype.shouldSendCloseSession=function(){return this.state!=eg.ENUM_PLAY_STATE_UPDATE.stop&&this.state!=eg.ENUM_PLAY_STATE.waitingSessionRsp},eA.prototype.resetPushCmdSeqMap=function(){var eA;this.pushCmdSeqMap=((eA={}).MediaDescPush={seq:-1,time:0},eA.StreamStatusNotifyPush={seq:-1,time:0},eA.PlayEventPush={seq:-1,time:0},eA.ClientInfoPush={seq:-1,time:0},eA.NetQualityInfoPush={seq:-1,time:0},eA.CandidateInfoPush={seq:-1,time:0},eA)},eA.prototype.playStateUpdateError=function(eA,er,ei,eo){if(this.logger.error(eE.ZEGO_WEBRTC_ACTION.PLAYER_STATE_ERROR+" call ",this.streamId,JSON.stringify(eA)),!this.isProbe){var en=this.stateCenter.reporter.createSpan(eg.TRACER_LEVEL.H,{key:ed.ZegoRTCLogEvent.kZegoTaskPlayStart.event,par:this.streamId},{key:""},ed.ZegoRTCLogEvent.kZegoTaskPlayStreamStateError.event);en.setAttributes({error:null==eA?void 0:eA.code,message:null==eA?void 0:eA.message}),en.end()}this.isProbe?this.onCalNetQualityResult(1):this.streamId&&this.onPlayStateUpdate(eg.ENUM_PLAY_STATE_UPDATE.error,this.streamId,eA,er,ei,eo),this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_STATE_ERROR+" "+this.streamId+" ended")},eA.prototype.getCameraMicStatus=function(eA){return 0==eA?"OPEN":"MUTE"},eA.prototype.onPlayStateUpdate=function(eA,er,ei,eo,en,es){},eA.prototype.onPlayQualityUpdate=function(eA,er){},eA.prototype.onRemoteCameraStatusUpdate=function(eA,er,ei){},eA.prototype.onRemoteMicStatusUpdate=function(eA,er,ei){},eA.prototype.getStopReason=function(eA){var er="StopPlay";return eA&&eA.code&&(er=1104031===eA.code?"ReachMaxAVRetryTime":"StopPlay"),er},eA.prototype.stopPlay=function(eA,er){this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_STOP_PLAY+" "+this.streamId+" called");var ei,en,es,ea,ec=this.getStopReason(eA);for(var eu in this.streamCenter.publisherList)if(this.streamCenter.publisherList[eu].publisher.state==eg.ENUM_PUBLISH_STATE.publishing&&this.broadcasterStatus==eg.ENUM_BROADCASTER_STATUS.start){this.signal&&this.signal.sendBroadcasterStatus((0,eg.getSeq)(),this.sessionId,0),this.broadcasterStatus=eg.ENUM_BROADCASTER_STATUS.stop;break}if(this.sessionId&&!this.closeSessionSignal&&(this.signal.sendCloseSession((0,eg.getSeq)(),this.sessionId,0),this.resetPushCmdSeqMap()),!this.isProbe){var eI=Date.now()-this.reportPlayStateTime;[0,2].includes(this.resourceMode)&&this.reportSpan.setAttributes({play_state_time:e_.play_state_time(eI||0)}),this.uploadRTCPlayStats(),this.stateCenter.reporter.spanSetAttributes({key:ed.ZegoRTCLogEvent.kZegoTaskStreamPlay.event,par:this.streamId},{stop_reason:ed.ZegoRTCLogEvent.kZegoTaskStreamPlay.stop_reason(ec)})}if(this.stopPollNetworkQuality(),this.resetPlay(),!this.isProbe&&!er){var eC=this.qualityHandler,eh=eC.videoBreak,eB=eC.audioBreak,ep=2===this.resourceMode?"l3":"rtc",ef=((ei={})["".concat(ep,"_a_break_time")]=eB.cumulativeBreakDuration,ei["".concat(ep,"_a_decode_time")]=eB.cumulativeDecodeDuration,ei["".concat(ep,"_v_break_time")]=eh.cumulativeBreakDuration,ei["".concat(ep,"_v_decode_time")]=eh.cumulativeDecodeDuration,ei.audio_cumulative_break_time=eB.cumulativeBreakDuration,ei.audio_cumulative_decode_time=eB.cumulativeDecodeDuration,ei.video_cumulative_break_time=eh.cumulativeBreakDuration,ei.video_cumulative_decode_time=eh.cumulativeDecodeDuration,ei);this.reportSpan.setAttributes(eo({biz_product:(null===(en=this.playOption)||void 0===en?void 0:en.resourceMode)==eg.ResourceMode.DG?1:0,webrtc_sid:e_.webrtc_sid(this.sessionId),max_retry_interval:e_.max_retry_interval(this.stateCenter.streamRetryTime),probe_ip_cnt:e_.probe_ip_cnt(this.probeIpCnt),valid_probe_ip_cnt:e_.valid_probe_ip_cnt(this.validProbeIpCnt),poor_quality_retry_cnt:e_.poor_quality_retry_cnt(this.poorQualityRetryCnt),probe_not_trigger_retry_info:e_.probe_not_trigger_retry_info(this.probeNotRetryInfos.length>0?this.probeNotRetryInfos:void 0),fail_cnt:e_.fail_cnt(Math.max(this.rtcPlayCount-1,0)),continuous_fail_cnt:e_.continuous_fail_cnt(this.continuousFailCnt),use_resource_type:e_.use_resource_type(this.resourceMode===eg.ResourceMode.DG?this.useResourceTypes:[(0,el.getPlaySourceType)(this.resourceMode)]),use_na:ed.ZegoRTCLogEvent.kZegoTaskSDKPlayStream.use_na(this.stateCenter.useNetAgent?1:0),play_state_cnt:e_.first_frame_time(this.playStateCount),protocol:e_.protocol("webrtc"),dispatch_external_ip:e_.dispatch_external_ip(this.stateCenter.clientIP),w:e_.w(null===(es=this.playStat)||void 0===es?void 0:es.frameWidth),h:e_.h(null===(ea=this.playStat)||void 0===ea?void 0:ea.frameHeight),stop_reason:e_.stop_reason(ec),error:(null==eA?void 0:eA.code)||0,message:(null==eA?void 0:eA.message)||"",cdn_a_break_time:0,cdn_a_decode_time:0,cdn_v_break_time:0,cdn_v_decode_time:0,l3_a_break_time:0,l3_a_decode_time:0,l3_v_break_time:0,l3_v_decode_time:0,rtc_a_break_time:0,rtc_a_decode_time:0,rtc_v_break_time:0,rtc_v_decode_time:0},ef)),this.reportSpan.end()}this.streamCenter.stopToReport(1),this.retryFailGwNodes=[],this.isRePlay=!1,this.rtcPlayCount=0,this.isProbeDispatch=!1,this.probeIpCnt=0,this.validProbeIpCnt=0,this.poorQualityRetryCnt=0,this.continuousFailCnt=0;var em=this.rtcViewer;em&&em.destroy()},eA.prototype.onDisconnect=function(eA){this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_ON_DISCONNECT+" "+this.streamId+" call"),this.playStateUpdateError(eA||ev.error.kWebsocketDisconnectedError,!!eA)},eA.prototype.startSoundLevel=function(){var eA,er=this;if(this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_START_SOUND_LEVEL+" call streamID: "+this.streamId),!this.isProbe){if(this.remoteStream&&0!=this.remoteStream.getAudioTracks().length){null===(eA=this.soundMeterWorklet)||void 0===eA||eA.destroy(),this.mic&&this.mic.disconnect()&&(this.mic=null);try{this.mic=this.ac.createMediaStreamSource(this.remoteStream);var ei=this.soundMeterWorklet=new ef.SoundMeterWorklet(this.logger,this.streamCenter.soundLevelInterval);ei.initAudioWorklet(this.ac,this.mic),ei.onSoundLevelUpdate=function(eA){er.soundLevel=100*eA}}catch(eA){this.logger.error(eE.ZEGO_WEBRTC_ACTION.PLAYER_START_SOUND_LEVEL+" get sound level failed "+eA)}}else this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_START_SOUND_LEVEL+" "+this.streamId+" remote stream no found")}},eA.prototype.stopSoundLevel=function(){var eA;this.logger.info(eE.ZEGO_WEBRTC_ACTION.PLAYER_STOP_SOUND_LEVEL+" call streamID: "+this.streamId),null===(eA=this.soundMeterWorklet)||void 0===eA||eA.destroy(),this.mic&&this.mic.disconnect(),this.mic=null},eA.prototype.onCalNetQualityResult=function(eA,er){},eA.prototype.onReceivedDataChannel=function(eA){var er,ei,eo=this,en=new Uint8Array(eA.data,0,10),es=eA.data.byteLength-10,ea=new Uint8Array(eA.data,10,es);if(1==en[0]){var eg=en[1],ec=en[2]<<8|en[3],eu=en[4]<<8|en[5],el=(new Date).getTime();if(this.first_pkt&&(this.next_sn[0]=ec==eu?ec:eu,this.first_pkt=!1),this.pkt_list.push({sn:ec,sn0:eu,recv_ts:el,flags:eg,payload_len:es,payloadArray:ea}),this.pkt_list.sort(this.compareShort),ec==this.next_sn[0]){var ed=this.pkt_list.filter(function(eA){return eA.sn0==eu});if(ed.sort(this.compareShort),null!=ed.find(function(eA){return 1&eA.flags})&&ed.length==this.compareShort(ec,eu)+1){for(var eE=0,eI=new ArrayBuffer(65536),eC=0;eC<ed.length;eC++)new Uint8Array(eI).set(ed[eC].payloadArray,eE),eE+=ed[eC].payload_len;null===(er=this.onDataChannelList)||void 0===er||er.forEach(function(eA){eA(eI,eE,eo.streamId)}),this.pkt_list=[],this.first_pkt=!0}this.next_sn[0]++}else for(var eh=function(){var eA=eB.pkt_list.filter(function(eA){return eA.sn0==eo.pkt_list[0].sn0});if(eA.sort(eB.compareShort),null!=eA.find(function(eA){return 1&eA.flags})&&eA.length==eB.compareShort(eA[eA.length-1].sn,eA[0].sn0)+1){for(var er=0,en=new ArrayBuffer(65536),es=0;es<eA.length;es++)new Uint8Array(en).set(eA[es].payloadArray,er),er+=eA[es].payload_len;eB.next_sn[0]=eA[0].sn0+eA.length,null===(ei=eB.onDataChannelList)||void 0===ei||ei.forEach(function(eA){eA(en,er,eo.streamId)}),eB.pkt_list=[],eB.first_pkt=!0}else if(el-eA[0].ts<4e3){var ea=eA[0].sn0;for(es=0;es<eA.length&&ea==eA[es].sn;es++)ea++;return eB.next_sn[0]=ea,"break"}for(es=0;es<eA.length;es++)eB.pkt_list.shift()},eB=this;this.pkt_list.length>0&&"break"!==eh(););}},eA.prototype.compareShort=function(eA,er){var ei=new Uint16Array(1);ei[0]=eA-er;var eo=new Int16Array(1);return eo[0]=ei[0],eo[0]},eA.prototype.uploadRTCPlayStats=function(){var eA,er,ei,eo,en,es,ea,eg,ec,eu,el,eE,eI,eC,eh;this.stateCenter.reporter.spanSetAttributes({key:ed.ZegoRTCLogEvent.kZegoTaskStreamPlay.event,par:this.streamId},{lsttime:ed.ZegoRTCLogEvent.kZegoTaskStreamPlay.lsttime(parseInt(this.qualityHandler.lastPlayStats.time)),total_stat:ed.ZegoRTCLogEvent.kZegoTaskRTCPublish.total_stat({afc:null===(eA=this.lastPlayStats)||void 0===eA?void 0:eA.audioPacketsReceived,vfc:null===(er=this.lastPlayStats)||void 0===er?void 0:er.framesReceived,tfc:(null===(ei=this.lastPlayStats)||void 0===ei?void 0:ei.audioPacketsReceived)+(null===(eo=this.lastPlayStats)||void 0===eo?void 0:eo.framesReceived),vb:null===(en=this.lastPlayStats)||void 0===en?void 0:en.videoBytesReceived,ab:null===(es=this.lastPlayStats)||void 0===es?void 0:es.audioBytesReceived,tb:(null===(ea=this.lastPlayStats)||void 0===ea?void 0:ea.videoBytesReceived)+(null===(eg=this.lastPlayStats)||void 0===eg?void 0:eg.audioBytesReceived),rtp_rtt:Math.round(1e3*(null===(ec=this.playStat)||void 0===ec?void 0:ec.currentRoundTripTime))||0,w:null===(eu=this.playStat)||void 0===eu?void 0:eu.frameWidth,rtp_plr:null===(el=this.playStat)||void 0===el?void 0:el.videoPacketsLostRate,h:null===(eE=this.playStat)||void 0===eE?void 0:eE.frameHeight,rtp_bw:(null===(eI=this.playStat)||void 0===eI?void 0:eI.googAvailableSendBandwidth)?null===(eC=this.playStat)||void 0===eC?void 0:eC.googAvailableSendBandwidth:void 0,p2p_delay:null===(eh=this.playStat)||void 0===eh?void 0:eh.peerToPeerDelay})})},eA.prototype.getVideoCodec=function(){var eA=this;this.peerConnection&&(this.peerConnection.getStats().then(function(er){er.forEach(function(ei){if("inbound-rtp"===ei.type&&"video"===ei.kind&&ei.codecId){var eo=er.get(ei.codecId).mimeType.toLowerCase();eo.indexOf("h264")>-1?eA.videoCodec="H264":eo.indexOf("vp8")>-1&&(eA.videoCodec="VP8",eA.sideMediaConfig.isSEIStart&&eA.logger.error(eE.ZEGO_WEBRTC_ACTION.PAYER_GET_VIDEO_CODEC+" video code VP8 is not support SEI"))}})}),this.videoCodecTimes++,this.videoCodec||this.videoCodecTimes>=5)?this.stopVideocTimer():this.videoCodecTimer=setTimeout(function(){eA.getVideoCodec()},100)},eA.prototype.stopVideocTimer=function(){this.videoCodecTimer&&(clearTimeout(this.videoCodecTimer),this.videoCodecTimer=null)},eA.prototype.getViewer=function(){return this.playStream&&!this.rtcViewer&&(this.rtcViewer=new eB.StreamView(this.playStream,this,{clearLastFrame:this.stateCenter.engineConfig.playClearLastFrame})),this.rtcViewer},eA.prototype.isMultiOuter=function(){return!(!this.stateCenter.accessClientIp||!this.streamConnectIP||this.stateCenter.accessClientIp===this.streamConnectIP)},eA.prototype.isCustomCdn=function(){return!1},eA.prototype.getSpan=function(eA,er,ei,eo){return void 0===eo&&(eo=!1),this.isProbe?null:this.stateCenter.reporter.createSpan(eg.TRACER_LEVEL.H,{key:er,bak_key:ei,par:this.streamId},{key:eA,par:this.streamId},eA,eo)},eA.prototype.setTurnTcp=function(){this._turnToTcp=this.stateCenter.turnToTcp,void 0!==this.stateCenter.turnOverTcpOnly&&(this._turnToTcp=this.stateCenter.turnOverTcpOnly)},eA.prototype.recordFirstFrameData=function(){var eA;this.isProbe||0!=this.firstFrameTime||(this.firstFrameTime=(new Date).getTime()-this.beginTime,this.reportSpan.setAttributes({first_frame_time:e_.first_frame_time(this.firstFrameTime),fft_video:e_.fft_video(this.firstFrameTime),fft_audio:e_.fft_audio(this.firstFrameTime),biz_product:ed.ZegoRTCLogEvent.kZegoTaskPlayNetFirstVideoFrame.biz_product((null===(eA=this.playOption)||void 0===eA?void 0:eA.resourceMode)==eg.ResourceMode.DG?1:0)}),this.firstVideoSpan=this.firstFrameSpan("video"),this.firstAudioSpan=this.firstFrameSpan("audio"))},eA.prototype.reportFirstFrameData=function(eA,er){0===eA&&this.firstVideoSpan&&(this.firstVideoSpan.setAttributes({dev_changed:ed.ZegoRTCLogEvent.kZegoTaskPlayNetFirstVideoFrame.dev_changed(0!==this.cameraStatus)}),this.firstVideoSpan.spanReport(),this.firstVideoSpan=null),0===er&&this.firstAudioSpan&&(this.firstAudioSpan.setAttributes({dev_changed:ed.ZegoRTCLogEvent.kZegoTaskPlayNetFirstAudioFrame.dev_changed(0!==this.micStatus)}),this.firstAudioSpan.spanReport(),this.firstAudioSpan=null)},eA.prototype.firstFrameSpan=function(eA){var er,ei="video"===eA?ed.ZegoRTCLogEvent.kZegoTaskPlayNetFirstVideoFrame:ed.ZegoRTCLogEvent.kZegoTaskPlayNetFirstAudioFrame,eo=this.stateCenter.reporter.createSpan(eg.TRACER_LEVEL.H,{key:ed.ZegoRTCLogEvent.kZegoTaskPlayStart.event,par:this.streamId},{key:""},ei.event),en=this.streamInRoom?2:0===this.streamRoomPushConsumed?0:1,es=(new Date).getTime()-this.answerSdpTime;return eo.setAttributes({webrtc_sid:ei.webrtc_sid(this.sessionId),resource_type:ei.resource_type((0,el.getPlaySourceType)(this.resourceMode)),fft_consumed:ei.fft_consumed(this.firstFrameTime),protocol:ei.protocol("webrtc"),push_consumed:ei.push_consumed(this.streamRoomPushConsumed),prepare_recv_consumed:ei.prepare_recv_consumed(this.signalTime),connected_consumed:ei.connected_consumed(es),reliability:ei.reliability(en),biz_product:ei.biz_product((null===(er=this.playOption)||void 0===er?void 0:er.resourceMode)==eg.ResourceMode.DG?1:0)}),null==eo||eo.end(!1),eo},eA.prototype.setStreamAdd=function(){this.streamInRoom||0!==this.streamRoomPushConsumed||this.state===eg.ENUM_PLAY_STATE.connecting||(this.streamRoomPushConsumed=(new Date).getTime()-this.playStartTime)},eA.prototype.startPollNetworkQuality=function(){var eA=this;clearTimeout(this.netTimer),this.netTimer=setTimeout(function(){eA.lostQualityTime++;var er=ea.QualityGrade.Unknown,ei=ea.QualityGrade.Unknown;eA.userID&&eA.lostQualityTime>1&&(eA.lostQualityTime>3&&(er=ea.QualityGrade.Die,ei=ea.QualityGrade.Die),eA.stateCenter.actionListener("networkQuality",eA.userID,er,ei)),eA.startPollNetworkQuality()},3e3)},eA.prototype.stopPollNetworkQuality=function(){clearTimeout(this.netTimer),this.lostQualityTime=0},eA}();er.ZegoPlayWeb=eR},4147:function(eA,er,ei){"use strict";var eo=this&&this.__assign||function(){return(eo=Object.assign||function(eA){for(var er,ei=1,eo=arguments.length;ei<eo;ei++)for(var en in er=arguments[ei])Object.prototype.hasOwnProperty.call(er,en)&&(eA[en]=er[en]);return eA}).apply(this,arguments)},en=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},es=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}};Object.defineProperty(er,"__esModule",{value:!0}),er.PublishModule=void 0;var ea=ei(5123),eg=ei(93),ec=ei(5123),eu=ei(1586),el=ei(4028),ed=ei(2532),eE=ei(7436),eI=ei(1916),eC=ei(1018),eh=eu.ZegoRTCLogEvent.kZegoTaskPublishStart,eB=eu.ZegoRTCLogEvent.kZegoStartPublish,ep=function(){function eA(eA,er,ei,eo,en,es){this.logger=eA,this.dataReport=er,this.stateCenter=ei,this.streamCenter=eo,this.rtm=en,this.zegoWebRtc=es,this.recordDevices()}return eA.prototype.createStream=function(eA){var er,ei,en=this;this.logger.info(eg.ZEGO_WEBRTC_ACTION.CREATE_STREAM+" call"),eA&&eA.camera&&eA.camera.audioBitRate&&(eA.camera.audioBitrate=eA.camera.audioBitRate),eA&&eA.camera&&eA.camera.bitrate&&(eA.camera.bitRate=eA.camera.bitrate),eA&&eA.screen&&"object"==typeof eA.screen&&eA.screen.bitrate&&(eA.screen.bitRate=eA.screen.bitrate),eA&&eA.custom&&eA.custom.bitrate&&(eA.custom.bitRate=eA.custom.bitrate);var es={width:640,height:360},ed={width:720,height:480},eE={width:960,height:540};if(!(null==eA?void 0:eA.custom)&&!(null==eA?void 0:eA.screen)||eA.camera||!eA){var eh=null===(ei=null===(er=navigator.userAgent)||void 0===er?void 0:er.toLowerCase())||void 0===ei?void 0:ei.match(/cpu iphone os (.*?) like mac os/);if(!eh||!eh[1]||!eh[1].includes("11_4")){var eB=eo({video:!0,videoQuality:4,frameRate:15,bitRate:500},es);switch(this.stateCenter.scenario){case ec.ZegoScenario.StandardVideoCall:break;case ec.ZegoScenario.HighVideoCall:eB.frameRate=25,eB.bitRate=1500,eB=eo(eo({},eB),eE);break;case ec.ZegoScenario.StandardChatroom:case ec.ZegoScenario.HighQualityChatroom:eB.video=!1;break;case ec.ZegoScenario.Broadcast:eB.frameRate=20,eB.bitRate=1200,eB=eo(eo({},eB),eE);break;default:eB.bitRate=800,eB=eo(eo({},eB),ed)}(eA=eA||{}).camera=Object.assign(eB,eA.camera||{})}}return new Promise(function(er,ei){var es="camera",ec=en.stateCenter.reporter.createSpan(ea.TRACER_LEVEL.H,{key:eu.ZegoRTCLogEvent.kZMInitSetting.event},{key:""},eu.ZegoRTCLogEvent.kZegoTaskCreateStream.event),ed=function(eA){var ei=en.streamCenter.checkPreview(eA),eo=eA;if(ei&&navigator.userAgent){var es=navigator.userAgent.toLowerCase().match(/cpu iphone os (.*?) like mac os/);es&&es[1]&&es[1].includes("15_1")&&(eo=ei.getStreamThroughCanvas(eA),ei.localStream=eo,ei.streamFromCanvas=!0,ei.streamFromCanvasTrack=eo.getVideoTracks()[0])}if(en.stateCenter.engineConfig.keepAudioTrack&&0==eo.getAudioTracks().length){var ea=null==ei?void 0:ei.getEmptyAudioTrack();ea&&(ea.enabled=!1,eo.addTrack(ea),ei&&(ei.hasEmptyAudioTrack=!0))}ec.setAttributes({media_stream_id:eu.ZegoRTCLogEvent.kZegoTaskCreateStream.media_stream_id(null==eA?void 0:eA.id)}),ec.end(),en.stateCenter.deviceInfos||en.recordDevices(),er(eo),en.streamCenter.activeSoundLevel()},eE=function(eA,er){void 0===er&&(er=""),en.stateCenter.reporter.setError(ec,eA,er),ei({code:eA.code,msg:eA.message+er})};if("https:"!==window.location.protocol&&"file:"!==window.location.protocol&&-1==window.location.hostname.indexOf("127.0.0.1")&&-1==window.location.hostname.indexOf("localhost"))return en.logger.error(eg.ZEGO_WEBRTC_ACTION.CREATE_STREAM+" https or localhost required "),void eE({code:eu.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kBrowserNotSupportError.code,message:eu.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kBrowserNotSupportError.message+" https or localhost required"});if(eA&&eA.screen){if(es="screen",!eC.WebRTCUtil.checkScreenParams(eA.screen,eE))return;var eh=en.stateCenter.browser,eB=en.streamCenter.getScreenConstrains(eA.screen);ec.setAttributes({stream_type:eu.ZegoRTCLogEvent.kZegoTaskCreateStream.stream_type("screen"),screen:eu.ZegoRTCLogEvent.kZegoTaskCreateStream.screen(eB)});var ep=function(eA){en.streamCenter.createScreenPreviewer(eA,eB)&&ed(eA),eA.getVideoTracks()[0].onended=function(){var er=en.stateCenter.reporter.createSpan(ea.TRACER_LEVEL.H,{key:eu.ZegoRTCLogEvent.kZMInitSetting.event},{key:""},eu.ZegoRTCLogEvent.kZegoTaskDestroyStream.event);er.setAttributes({stop_reason:eu.ZegoRTCLogEvent.kZegoTaskDestroyStream.stop_reason("screenSharingEnded")}),eA&&en.stopPreview(eA),er.end(),en.stateCenter.actionListener("screenSharingEnded",eA)}};"firefox"==eh||"object"==typeof eA.screen&&"firefox"==eA.screen.type?en.startScreenShotFirFox("screen",eB,function(eA,er,ei){eA?er&&ep(er):ei&&eE(ei)}):"chrome"==eh&&eI.ZegoWebRTC.screenShotReady||"object"==typeof eA.screen&&"shot"==eA.screen.type?en.startScreenShotChrome(function(er,ei,eo){er?(en.logger.info(eg.ZEGO_WEBRTC_ACTION.CREATE_STREAM+" using extension"),ei&&ep(ei)):(eo&&en.logger.error(eg.ZEGO_WEBRTC_ACTION.CREATE_STREAM+" extension "+eo),"SS_DIALOG_CANCEL"===eo||"object"==typeof(null==eA?void 0:eA.screen)&&"shot"==eA.screen.type?eo&&eE(eu.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kScreenCancelError):en.startScreenSharing(eB,function(eA,er,ei){eA?er&&ep(er):(en.logger.error(eg.ZEGO_WEBRTC_ACTION.CREATE_STREAM+" "+ei),ei&&eE(ei))}))}):"Electron"==eh||"object"==typeof eA.screen&&"Electron"==eA.screen.type?en.startScreenShotElectron(eB,function(eA,er,ei){eA?er&&ep(er):ei&&eE(ei)}):en.startScreenSharing(eB,function(eA,er,ei){eA?er&&ep(er):ei&&eE(ei)})}else{if(eA&&"object"==typeof eA.camera&&void 0!==eA.camera.videoQuality&&!el.ClientUtil.checkInteger(eA.camera.videoQuality))return en.logger.error(eg.ZEGO_WEBRTC_ACTION.CREATE_STREAM+" videoQuality must be integer number"),void eE(eu.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," videoQuality must be integer number");if(eA&&eA.camera&&eA.camera.audioBitrate){if(!el.ClientUtil.checkInteger(eA.camera.audioBitrate))return en.logger.error(eg.ZEGO_WEBRTC_ACTION.CREATE_STREAM+" audioBitrate must be integer number"),void eE(eu.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," audioBitrate must be integer number");if(eA.camera.audioBitrate<6)return en.logger.error(eg.ZEGO_WEBRTC_ACTION.CREATE_STREAM+" audioBitrate cannot less 6 kbps"),void eE(eu.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," audioBitrate cannot less 6 kbps");if(eA.camera.audioBitrate>510)return en.logger.error(eg.ZEGO_WEBRTC_ACTION.CREATE_STREAM+" audioBitrate cannot greater than 510 kbps"),void eE(eu.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," audioBitrate cannot greater than 510 kbps");en.stateCenter.audioBitRate=1e3*eA.camera.audioBitrate}if(eA&&eA.camera&&eA.camera.bitRate){if("number"!=typeof eA.camera.bitRate)return en.logger.error(eg.ZEGO_WEBRTC_ACTION.CREATE_STREAM+" bitrate must be integer number"),void eE(eu.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," bitrate must be integer number");if(eA.camera.bitRate>10240)return en.logger.error(eg.ZEGO_WEBRTC_ACTION.CREATE_STREAM+" bitrate cannot greater than 10 Mbps"),void eE(eu.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," bitrate cannot greater than 10 Mbps")}if(eA&&eA.camera&&void 0!==eA.camera.channelCount&&!el.ClientUtil.checkInteger(eA.camera.channelCount))return en.logger.error(eg.ZEGO_WEBRTC_ACTION.CREATE_STREAM+" channelCount must be integer number"),void eE(eu.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," channelCount must be integer number");if(eA&&eA.camera&&4===eA.camera.videoQuality&&!eC.WebRTCUtil.checkCameraParams(eA.camera,eE))return;if(eA&&eA.custom&&eA.custom.bitRate){if(!el.ClientUtil.checkInteger(eA.custom.bitRate))return en.logger.error(eg.ZEGO_WEBRTC_ACTION.CREATE_STREAM+" bitrate must be integer number"),void eE(eu.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," bitrate must be integer number");if(eA.custom.bitRate>10240)return en.logger.error(eg.ZEGO_WEBRTC_ACTION.CREATE_STREAM+" bitrate cannot greater than 10 Mbps"),void eE(eu.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," bitrate cannot greater than 10 Mbps")}if(eA&&eA.custom&&eA.custom.audioBitrate){if(!el.ClientUtil.checkInteger(eA.custom.audioBitrate))return en.logger.error("ze.cs.0 audioBitrate must be integer number"),void eE(eu.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," audioBitrate must be integer number");if(eA.custom.audioBitrate<6)return en.logger.error("ze.cs.0 audioBitrate cannot less 6 kbps"),void eE(eu.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," audioBitrate cannot less 6 kbps");if(eA.custom.audioBitrate>510)return en.logger.error("ze.cs.0 audioBitrate cannot greater than 510 kbps"),void eE(eu.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," audioBitrate cannot greater than 510 kbps")}if(eA&&eA.custom&&void 0!==eA.custom.channelCount&&1!==eA.custom.channelCount&&2!==eA.custom.channelCount)return en.logger.error("ze.cs.0 channelCount must number 1 or 2"),void eE(eu.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," channelCount must number 1 or 2");var ef={};if(eA&&eA.camera)es="camera",ef=eA.camera,ec.setAttributes({stream_type:eu.ZegoRTCLogEvent.kZegoTaskCreateStream.stream_type("camera"),camera:eu.ZegoRTCLogEvent.kZegoTaskCreateStream.camera(eA.camera)}),"boolean"!=typeof ef.video&&(ef.video=!0),"boolean"!=typeof ef.audio&&(ef.audio=!0);else if(eA&&eA.custom){es="custom",ef=eA.custom;var em=eA.custom.source instanceof MediaStream?"MediaStream":"HTMLElement";ec.setAttributes({stream_type:eu.ZegoRTCLogEvent.kZegoTaskCreateStream.stream_type("custom"),custom:eu.ZegoRTCLogEvent.kZegoTaskCreateStream.custom(eo(eo({},eA.custom),{source_type:em}))})}en.startPreview(ef,es,ed,eE,ec)}})},eA.prototype.destroyStream=function(eA){this.logger.info(eg.ZEGO_WEBRTC_ACTION.DESTROY_STREAM+" call");var er=this.stateCenter.reporter.createSpan(ea.TRACER_LEVEL.H,{key:eu.ZegoRTCLogEvent.kZMInitSetting.event},{key:""},eu.ZegoRTCLogEvent.kZegoTaskDestroyStream.event);if(er.setAttributes({stop_reason:eu.ZegoRTCLogEvent.kZegoTaskDestroyStream.stop_reason("destroyStream")}),!(eA instanceof MediaStream))return this.logger.error(eg.ZEGO_WEBRTC_ACTION.DESTROY_STREAM+" localStream is not mediaStream or tracks is null"),void this.stateCenter.reporter.setError(er,eu.ZegoRTCLogEvent.kZegoTaskDestroyStream.error.kLocalStreamError);eA instanceof MediaStream&&0==eA.getTracks().length&&this.logger.info(eg.ZEGO_WEBRTC_ACTION.DESTROY_STREAM+" tracks is null"),this.stopPreview(eA),er.end()},eA.prototype.startPublishingStream=function(eA,er,ei,eo){this.logger.info(eg.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+" call ",eA);var en,es,ed=!0,eE="",eI=eh.error,eC=eI.kPublishParamError,ep=this.stateCenter.reporter.createSpan(ea.TRACER_LEVEL.I,{key:eu.ZegoRTCLogEvent.kZMInitSetting.event},{key:eh.event,par:eA},eh.event,!0);ed&&void 0===eA&&(this.logger.error(eg.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+(eE="stream id required")),ed=!1,es=eC),!ed||eA&&"string"==typeof eA||(this.logger.error(eg.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+" "+(eE="stream id type wrong")),ed=!1,es=eC),ed&&eA.length>ec.MAX_STREAM_ID_LENGTH&&(this.logger.error(eg.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+" "+(eE="stream id length limit")),ed=!1,es=eC),ed&&!el.ClientUtil.checkIllegalCharacters(eA)&&(this.logger.error(eg.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+" "+(eE="stream ID contains illegal characters")),ed=!1,es=eC),ep.setAttributes({stream_id:eh.stream_id(eA)}),ed&&(!er||er instanceof MediaStream&&0==er.getTracks().length)&&(this.logger.error(eg.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+" "+(eE="localStream wrong")),ed=!1,es=eC);var ef=this.streamCenter.checkPreview(er);if(ed&&!ef&&(this.logger.error(eg.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+" "+(eE="stream is not from zego")),ed=!1,es=eI.kPublishNoPreviewError),(null==ef?void 0:ef.isVideoEffectStarting)&&(this.logger.error(eg.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+" "+(eE=(es=eI.kPublishEffectIsStarting).message)),ed=!1),ed&&void 0!==ei&&"object"!=typeof ei&&(ed=!1,es=eC,eE="publishOption must be object"),ed&&void 0!==ei&&void 0!==ei.streamParams&&"string"!=typeof ei.streamParams&&(this.logger.error(eg.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+" publishOption streamParams must be string"),ed=!1,es=eC,eE=" publishOption streamParams must be string"),ed&&void 0!==ei&&void 0!==ei.extraInfo&&"string"!=typeof ei.extraInfo&&(this.logger.error(eg.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+" publishOption extraInfo must be string"),ed=!1,es=eC,eE=" publishOption extraInfo must be string"),ed&&void 0!==ei&&void 0!==ei.videoCodec&&"string"!=typeof ei.videoCodec&&(this.logger.error(eg.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+" publishOption videoCodec must be string"),ed=!1,es=eC,eE=" publishOption videoCodec must be string"),ed&&this.stateCenter.isMultiRoom&&(!ei||"string"!=typeof ei.roomID||""==ei.roomID)&&(ed=!1,es=eC,eE=" roomID is need if set multi room"),ei&&ei.videoCodec&&(ei.videoCodec=ei.videoCodec.toUpperCase()),ed&&(this.stateCenter.waitPublishStreamList[eA]={retryStart:!1,localStream:er,publishOption:ei,isDataChannel:eo}),ed&&this.rtm.isDisConnect()){if(this.stateCenter.connectChanged)return this.stateCenter.waitPublishStreamList[eA].retryStart=!0,this.logger.info(eg.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+" connect changed"),!1;this.logger.error(eg.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+" not login"),ed=!1,es=eI.kPublishNoLoginError}if(!ed)throw this.logger.error(eg.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+" "+eE),this.stateCenter.reporter.setError(ep,es),{errorCode:null==es?void 0:es.code,extendedData:eE};ei||(ei={});var em=(0,el.generaStreamSid)(this.stateCenter.appid,this.stateCenter.idName,eA),eQ=((en={})["_publish_"+eA]={stream_sid:em},en);this.stateCenter.reporter.setPublicPros(eQ),ep.setAttributes({stream_sid:eh.stream_sid(em),publish_option:eh.publish_option(ei),enable_camera:eh.enable_camera(!!(null==ef?void 0:ef.videoTrack)),enable_mic:eh.enable_mic(!!(null==ef?void 0:ef.audioTrack)),use_na:eh.use_na(this.stateCenter.useNetAgent?1:0)}),ei.audioBitRate=this.stateCenter.audioBitRate;var ev,e_=ei.roomID?ei.roomID:this.stateCenter.roomList[0]?this.stateCenter.roomList[0].roomID:"",ey=this.stateCenter.getRoomByRoomID(e_);if(!ey)return this.logger.error("zc.p.sps.1 room no found"),!1;if(ep.setAttributes({room_id:eh.room_id(e_)}),this.stateCenter.customUrl&&0!=this.stateCenter.customUrl.length)this.logger.info("zc.p.sps.1 customUrl "+JSON.stringify(this.stateCenter.customUrl)),ev=this.stateCenter.customUrl;else{var eS=this.stateCenter.settingConfig.getSetting("signal_nodes",!0);eS&&eS instanceof Array&&eS.length>0&&(ev=eS,this.logger.info("zc.p.sps.1 setting config signal_nodes "+JSON.stringify(eS)))}if(ev)return this.stateCenter.publishStreamList[eA]={state:ec.ENUM_PUBLISH_STREAM_STATE.tryPublish,extra_info:ei.extraInfo},this.streamCenter.setPublishStateStart(ey,eA,er,ei,em,eo)?(ey.streamHandler.onPublishStateUpdate(ec.ENUM_PUBLISH_STATE_UPDATE.retry,eA,{code:0,message:""}),this.streamCenter.publisherList[eA].serverUrls=ev,this.streamCenter.startPublishingStream(eA)):(this.logger.info("zc.p.sps.1 cannot start publish"),!1);if(!this.streamCenter.setPublishStateStart(ey,eA,er,ei,em,eo))return this.logger.error("zc.p.sps.1 cannot start publish"),!1;this.stateCenter.publishStreamList[eA]={state:ec.ENUM_PUBLISH_STREAM_STATE.tryPublish,extra_info:ei.extraInfo},this.logger.info("zc.p.sps.1 start publish"),ey.streamHandler.onPublishStateUpdate(ec.ENUM_PUBLISH_STATE_UPDATE.retry,eA,{code:0,message:""});var eR=this.stateCenter.useNetAgent,eT=this.streamCenter.publisherList[eA];if(this.stateCenter.reporter.createSpan(ea.TRACER_LEVEL.H,{key:eu.ZegoRTCLogEvent.kZegoTaskPublishStart.event,par:eA},{key:eB.event,par:eA},eB.event,!0).setAttributes({reason:eB.reason("StartPublish")}),eR)return this.stateCenter.appConfig?(null==ef?void 0:ef.isBackgroundBlur)&&!1===this.stateCenter.supportBg?(this.logger.info("zc.p.sps.1 check not support background porcess"),ey.streamHandler.onPublishStateUpdate(ec.ENUM_PUBLISH_STATE_UPDATE.error,eA,eI.kPublishNotSubscribeBackgroundProcessError),!1):(this.streamCenter.publisherList[eA].serverUrls=["unified_rtc"],this.streamCenter.startPublishingStream(eA,eR),!0):(this.streamCenter.waitPublishList.push(eA),!0);var eD=eT.retryDispatchHandler;return eD.stopMaxTime(),eD.invalid(),eD.initStream(eA,ei,!0),eD.startMaxTime(),eD.active(0)},eA.prototype.activateSEIInsert=function(eA,er,ei){return void 0===ei&&(ei=0),!1},eA.prototype.sendSEI=function(eA,er){if(!el.ClientUtil.isSupportEncodedTransforms())return this.logger.warn(eg.ZEGO_WEBRTC_ACTION.SEND_MEDIA_SIDE_INFO+" browser not support "),!1;if(!(er instanceof Uint8Array))return this.logger.error(eg.ZEGO_WEBRTC_ACTION.SEND_MEDIA_SIDE_INFO+" inData required Uint8Array"),!1;if(er.byteLength>4096)return this.logger.error(eg.ZEGO_WEBRTC_ACTION.SEND_MEDIA_SIDE_INFO+" inData length limit"),!1;var ei=this.streamCenter.publisherList[eA];return ei&&ei.publisher?ei.publisher.sendSEI(er):(this.logger.warn(eg.ZEGO_WEBRTC_ACTION.SEND_MEDIA_SIDE_INFO+" publish not exist"),!1)},eA.prototype.stopPublishingStream=function(eA,er,ei){this.logger.info(eg.ZEGO_WEBRTC_ACTION.STOP_PUBLISHING_STREAM+" call ",eA+(er?er.toString():"")+" "+ei);var eo,en,es,el=this.stateCenter.reporter.createSpan(ea.TRACER_LEVEL.I,{key:eu.ZegoRTCLogEvent.kZMInitSetting.event},{key:""},eu.ZegoRTCLogEvent.kZegoTaskPublishStop.event);if("string"!=typeof eA||""==eA)return this.logger.error(eg.ZEGO_WEBRTC_ACTION.STOP_PUBLISHING_STREAM+" streamID must be string and not empty"),this.stateCenter.reporter.setError(el,eu.ZegoRTCLogEvent.kZegoTaskPublishStop.error.kParamError,"stream id type error"),!1;var ed=this.streamCenter.publisherList[eA];el.setAttributes({stream_id:eu.ZegoRTCLogEvent.kZegoTaskPublishStop.stream_id(eA),stream_sid:eu.ZegoRTCLogEvent.kZegoTaskPublishStop.stream_sid(null==ed?void 0:ed.streamSid),room_id:eu.ZegoRTCLogEvent.kZegoTaskPublishStop.room_id(null===(en=null===(eo=this.streamCenter.publisherList[eA])||void 0===eo?void 0:eo.room)||void 0===en?void 0:en.roomID),error:(null==er?void 0:er.code)||0,message:(null==er?void 0:er.message)||""});var eE=this.streamCenter.getRoomByStreamID(eA),eI=ed&&ed.publisher&&ed.publisher.state!==ec.ENUM_PUBLISH_STATE.stop||(null===(es=null==ed?void 0:ed.retryStreamHandler)||void 0===es?void 0:es.isRetrying());if(this.streamCenter.stopPublishingStream(eA,er),ei&&delete this.stateCenter.waitPublishStreamList[eA],this.stateCenter.publishStreamList[eA]){if(this.stateCenter.publishStreamList[eA].state>=ec.ENUM_PUBLISH_STREAM_STATE.update_info&&eE){er&&1102018===er.code||eE.streamHandler.updateStreamInfo(eA,ec.ENUM_STREAM_SUB_CMD.liveEnd);for(var eC=0;eC<eE.streamList.length;eC++)if(eE.streamList[eC].stream_id==eA){this.stateCenter.connectChanged||eE.streamList.splice(eC--,1);break}}delete this.stateCenter.publishStreamList[eA]}return el.end(),eE&&eI&&eE.streamHandler.onPublishStateUpdate(ec.ENUM_PUBLISH_STATE_UPDATE.error,eA,er||{code:0,message:""}),!0},eA.prototype.setCaptureVolume=function(eA,er){var ei=this;return new Promise(function(eo){ei.logger.info(eg.ZEGO_WEBRTC_ACTION.PUBLISH_SET_CAPTURE_VOLUME+" call");var en,es=function(eA){ei.logger.error(eg.ZEGO_WEBRTC_ACTION.PUBLISH_SET_CAPTURE_VOLUME+" "+eA),eo({errorCode:eu.ZegoRTCLogEvent.kZegoSetCaptureVolume.error.kParamError.code,extendedData:JSON.stringify({fail_reason:eu.ZegoRTCLogEvent.kZegoSetCaptureVolume.error.kParamError.message+" "+eA})})},ea=ei.streamCenter.ac,ec=ei.streamCenter.checkPreview(eA);if(eA instanceof MediaStream&&ec){if(0!=eA.getAudioTracks().length){if("number"!=typeof er||er<0||er>200)es(" volume must be number between 0 to 200");else{if(ec.gainNode)ec.gainNode.gain.value=er/100;else{ec.audioNodeQueue||ec.initAudioNodeQueue();var el=ea.createGain();null===(en=ec.audioNodeQueue)||void 0===en||en.pushFront(el),ec.gainNode=el,ec.gainNode.gain.value=er/100}ea.resume(),eo({errorCode:0,extendedData:""}),ei.logger.info(eg.ZEGO_WEBRTC_ACTION.PUBLISH_SET_CAPTURE_VOLUME+" call success")}}else es(" stream audioTrack no found")}else es(" stream must be created by zego")})},eA.prototype.getElectronScreenSources=function(){var eA=this;return new Promise(function(er,ei){var eo=window.require("electron");eo||(eA.logger.error("zc.gess.0 Electron is not exist"),ei({message:"Electron is not exist"})),eo.desktopCapturer.getSources({types:["window","screen"]}).then(function(eA){er(eA.map(function(eA){return{id:eA.id,name:eA.name,thumbnail:eA.thumbnail}}))}).catch(function(er){eA.logger.error("zc.gess.0 "+er),ei(er)})})},eA.prototype.startScreenShotChrome=function(eA){if(eI.ZegoWebRTC.screenShotReady)window.postMessage({type:"SS_UI_REQUEST",text:"start"},"*"),el.ClientUtil.registerCallback("screenShare",{success:eA},this.stateCenter.callbackList);else{var er='zc.b.ss Please install the extension:1. Go to chrome://extensions  2. Check: "Enable Developer mode   3. Click: "Load the unpacked extension... 4. Choose "extension" folder from the repository 5. Reload this page';this.logger.error(er),eA(!1,null,{code:eu.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kScreenFailedError.code,message:eu.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kScreenFailedError.message+" "+er})}},eA.prototype.startScreenSharing=function(eA,er){var ei=this;if("getDisplayMedia"in navigator.mediaDevices){var eo=navigator.mediaDevices,en=!1;if(eA.audio&&(en={noiseSuppression:!1,autoGainControl:!1,echoCancellation:!0},void 0!==eA.ANS&&(en.noiseSuppression=eA.ANS),void 0!==eA.AGC&&(en.autoGainControl=eA.AGC),void 0!==eA.AEC&&(en.echoCancellation=eA.AEC)),"safari"===this.stateCenter.browser&&eA.video instanceof Object){var es=eA.video,ea=es.width,eg=es.height;ea instanceof Object?eA.video.width={max:ea.max||ea.ideal}:ea&&(eA.video.width={max:ea}),eg instanceof Object?eA.video.height={max:eg.max||eg.ideal}:eg&&(eA.video.height={max:eg})}this.logger.info("zc.b.sss video config: "+JSON.stringify(eA.video)),this.logger.info("zc.b.sss audio config: "+JSON.stringify(en)),eo.getDisplayMedia({audio:en,video:eA.video}).then(function(eA){er(!0,eA)}).catch(function(eA){ei.logger.error("zc.b.sss "+eA),eA.message&&"permission denied"==eA.message.toLowerCase()?er(!1,null,eu.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kScreenCancelError):er(!1,null,{code:eu.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kScreenFailedError.code,message:eu.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kScreenFailedError.message+" "+eA})})}else this.logger.error("zc.b.sss brower does not support getDisplayMedia"),er(!1,null,eu.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kBrowserNotSupportError)},eA.prototype.startScreenShotFirFox=function(eA,er,ei){var en=this,es={video:eo(eo({},er.video),{mediaSource:eA}),audio:er.audio};navigator.mediaDevices.getUserMedia(es).then(function(eA){ei(!0,eA)}).catch(function(eA){en.logger.error("ze.ssf.1 "+eA),ei(!1,null,{code:eu.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kScreenFailedError.code,message:eu.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kScreenFailedError.message+" "+eA})})},eA.prototype.startScreenShotElectron=function(eA,er){var ei=this;if(!window.require("electron"))return this.logger.error("ze.sse.1 Electron is not exist"),void er(!1,null,{code:eu.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kScreenFailedError.code,message:eu.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kScreenFailedError.message+" Electron is not exist"});var eo={video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:eA.sourceID,maxWidth:window.screen.width,maxHeight:window.screen.height}},audio:!1};navigator.mediaDevices.getUserMedia(eo).then(function(eA){er(!0,eA)}).catch(function(eA){ei.logger.error("ze.sse.1 "+eA),er(!1,null,{code:eu.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kScreenFailedError.code,message:eu.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kScreenFailedError.message+" "+eA})})},eA.prototype.startPreview=function(eA,er,ei,eo,en){var es=this,ea=null;return ea=new eE.ZegoPreview(this.logger,this.streamCenter.ac,this.stateCenter,this.streamCenter,er),this.streamCenter.previewStreamList.push(ea),ea.startPreview(eA,function(eo){es.streamCenter.soundLevelDelegate&&(null==ea||ea.startSoundLevel()),"camera"===er&&(!1===(null==eA?void 0:eA.audio)&&ea&&(ea.hasMicTrack=!1),(null==ea?void 0:ea.micTrack)&&(ea.micTrack.enabled=es.streamCenter.isMicEnabled)),(null==eA?void 0:eA.videoOptimizationMode)&&es.streamCenter.setVideoTrackContentHint(eo,null==eA?void 0:eA.videoOptimizationMode),es.logger.debug("zsc.sp.0 call success"),es.stateCenter.deviceInfos||es.recordDevices(),ei&&ei(eo)},function(eA){es.streamCenter.previewStreamList=es.streamCenter.previewStreamList.filter(function(eA){return eA!==ea}),eo&&eo(eA)},en),!0},eA.prototype.stopPreview=function(eA){if(!eA)return this.logger.warn("zsc.sp.0 localStream null"),!1;for(var er in this.streamCenter.publisherList)this.streamCenter.publisherList[er].localStream===eA&&(this.streamCenter.publisherList[er].localStream=null);var ei=this.streamCenter.checkPreview(eA);return ei?(ei.previewSuc&&(ei.stopPreview(),this.streamCenter.removePreview(ei)),!0):(this.logger.warn("zsc.sp.0 no preview"),!1)},eA.prototype.recordDevices=function(eA,er){var ei,eg=this;this.logger.info("zsc.rd.0 call"),el.ClientUtil.getDevices(function(er){eg.stateCenter.deviceInfos={microphones:er.microphones,speakers:er.speakers,cameras:er.cameras},eA&&eA(er)},function(eA){eg.logger.warn("zsc.rd.0 getDevices err:",eA),er&&er(eA)}),void 0!==(null===(ei=navigator.mediaDevices)||void 0===ei?void 0:ei.ondevicechange)&&(navigator.mediaDevices.ondevicechange=null,navigator.mediaDevices.ondevicechange=function(eA){eg.logger.info("zsc.rd.0 devicechange"),eg.stateCenter.deviceChangeTimer&&(clearTimeout(eg.stateCenter.deviceChangeTimer),eg.stateCenter.deviceChangeTimer=null),eg.stateCenter.deviceChangeTimer=setTimeout(function(){el.ClientUtil.getDevices(function(eA){var er,ei,ec,el,eE,eI,eC=[],eh=[];if("safari"==eg.stateCenter.browser&&1===(null===(ei=null===(er=eg.stateCenter.deviceInfos)||void 0===er?void 0:er.cameras)||void 0===ei?void 0:ei.length)&&""===(null===(ec=eg.stateCenter.deviceInfos)||void 0===ec?void 0:ec.cameras[0].deviceID))eg.logger.info("zsc.rd.0 cameras not accurate");else{for(var eB=function(er){var ei=eg.stateCenter.deviceInfos.cameras[er];eA.cameras.find(function(eA){return eA.deviceID===ei.deviceID})||eC.push(ei)},ep=0;ep<eg.stateCenter.deviceInfos.cameras.length;ep++)eB(ep);eg.stateCenter.deviceStateOut=!1;var ef=!1;eC.length>0&&(ef=!0),eC.forEach(function(eA){for(var er in eg.streamCenter.publisherList){var ei=eg.streamCenter.publisherList[er],eo=ei.publisher;ei.localStream&&""!==ei.cameraLabel&&ei.cameraLabel===eA.deviceName&&(ef=!1,eo.sendStreamStatus(-6,eo.mic_status),eg.stateCenter.actionListener("_deviceError",ed.errorCodeList.DEVICE_ERROR_TYPE_UNPLUGGED.code,eA.deviceName,"camera"),eg.stateCenter.actionListener("deviceError",ed.errorCodeList.DEVICE_ERROR_TYPE_UNPLUGGED.code,eA.deviceName)),ei.localStream&&0===ei.localStream.getAudioTracks().length&&(ef=!1)}ef&&(eg.stateCenter.deviceStateOut=!0),eg.deviceInterruptReport(0,eA,"camera"),eg.stateCenter.actionListener("videoDeviceStateChanged","DELETE",eA)}),eA.cameras.filter(function(eA){return!eg.stateCenter.deviceInfos.cameras.find(function(er){return er.deviceID===eA.deviceID})}).forEach(function(eA){eg.deviceInterruptReport(1,eA,"camera"),eg.stateCenter.actionListener("videoDeviceStateChanged","ADD",eA)})}"safari"==eg.stateCenter.browser&&1===(null===(eE=null===(el=eg.stateCenter.deviceInfos)||void 0===el?void 0:el.microphones)||void 0===eE?void 0:eE.length)&&""===(null===(eI=eg.stateCenter.deviceInfos)||void 0===eI?void 0:eI.microphones[0].deviceID)?eg.logger.info("zsc.rd.0 microphones not accurate"):((eh=eg.stateCenter.deviceInfos.microphones.filter(function(er){return!eA.microphones.find(function(eA){return eA.deviceID===er.deviceID})})).forEach(function(eA){for(var er in eg.streamCenter.publisherList){var ei=eg.streamCenter.publisherList[er],eo=ei.publisher;ei.localStream&&""!==ei.microLabel&&(ei.microLabel===eA.deviceName||""!==ei.microLabel&&ei.microLabel.includes(eA.deviceName))&&(eo.sendStreamStatus(eo.camera_status,-6),eg.stateCenter.actionListener("_deviceError",ed.errorCodeList.DEVICE_ERROR_TYPE_UNPLUGGED.code,eg.streamCenter.publisherList[er].microLabel,"micro"),eg.stateCenter.actionListener("deviceError",ed.errorCodeList.DEVICE_ERROR_TYPE_UNPLUGGED.code,eg.streamCenter.publisherList[er].microLabel))}eg.deviceInterruptReport(0,eA,"micro"),eg.stateCenter.actionListener("audioDeviceStateChanged","DELETE","Input",eA)}),eA.microphones.filter(function(eA){return!eg.stateCenter.deviceInfos.microphones.find(function(er){return er.deviceID===eA.deviceID})}).forEach(function(eA){eg.deviceInterruptReport(1,eA,"micro"),eg.stateCenter.actionListener("audioDeviceStateChanged","ADD","Input",eA)}));var em=eg.stateCenter.deviceInfos.speakers.filter(function(er){return!eA.speakers.find(function(eA){return eA.deviceID===er.deviceID})}),eQ=eA.speakers.filter(function(eA){return!eg.stateCenter.deviceInfos.speakers.find(function(er){return er.deviceID===eA.deviceID})});em.forEach(function(eA){var er=eg.stateCenter.reporter.createSpan(ea.TRACER_LEVEL.H,{key:eu.ZegoRTCLogEvent.kZMInitSetting.event},{key:""},eu.ZegoRTCLogEvent.kZegoTaskAudioOutputChanged.event);er.setAttributes({reason_type:eu.ZegoRTCLogEvent.kZegoTaskAudioOutputChanged.reason_type("delete"),device:eu.ZegoRTCLogEvent.kZegoTaskAudioOutputChanged.device(eA.deviceID),device_name:eu.ZegoRTCLogEvent.kZegoTaskAudioOutputChanged.device(eA.deviceName)}),er.end(),eg.stateCenter.actionListener("audioDeviceStateChanged","DELETE","Output",eA)}),eQ.forEach(function(eA){var er=eg.stateCenter.reporter.createSpan(ea.TRACER_LEVEL.H,{key:eu.ZegoRTCLogEvent.kZMInitSetting.event},{key:""},eu.ZegoRTCLogEvent.kZegoTaskAudioOutputChanged.event);er.setAttributes({reason_type:eu.ZegoRTCLogEvent.kZegoTaskAudioOutputChanged.reason_type("add"),device:eu.ZegoRTCLogEvent.kZegoTaskAudioOutputChanged.device(eA.deviceID),device_name:eu.ZegoRTCLogEvent.kZegoTaskAudioOutputChanged.device(eA.deviceName)}),er.end(),eg.stateCenter.actionListener("audioDeviceStateChanged","ADD","Output",eA)});var ev=eo({},eg.stateCenter.deviceInfos);if(eg.stateCenter.deviceInfos={microphones:eA.microphones,speakers:eA.speakers,cameras:eA.cameras},eg.stateCenter.autoSwitchDeviceSetting.microphone){var e_=eg.stateCenter.deviceInfos.microphones;eh&&0!==eh.length&&0!=e_.length&&eg.streamCenter.previewStreamList.forEach(function(eA){return en(eg,void 0,void 0,function(){var er,ei,eo,en,ea,eg;return es(this,function(es){switch(es.label){case 0:return er=eA.localStream,ei=e_[0].deviceID,en=null==(eo=eA.audioTrack)?void 0:eo.getSettings().deviceId,ea=!1,en&&"default"===en?(eg=ev.microphones.find(function(eA){return"default"===eA.deviceID}).deviceName,ea=e_.find(function(eA){return"default"===eA.deviceID}).deviceName!==eg):""!==en&&(ea=eh.some(function(eA){return eA.deviceID===en})),er&&ea&&""!==ei?[4,this.zegoWebRtc.useAudioDevice(er,ei)]:[3,2];case 1:es.sent(),es.label=2;case 2:return[2]}})})})}if(eg.stateCenter.autoSwitchDeviceSetting.camera){var ey=eg.stateCenter.deviceInfos.cameras;eC&&0!==eC.length&&0!=ey.length&&eg.streamCenter.previewStreamList.forEach(function(eA){return en(eg,void 0,void 0,function(){var er,ei,eo,en,ea,eg;return es(this,function(es){switch(es.label){case 0:return er=eA.localStream,ei=ey[0].deviceID,en=null==(eo=eA.videoTrack)?void 0:eo.getSettings().deviceId,ea=!1,en&&"default"===en?(eg=ev.cameras.find(function(eA){return"default"===eA.deviceID}).deviceName,ea=ey.find(function(eA){return"default"===eA.deviceID}).deviceName!==eg):""!==en&&(ea=eC.some(function(eA){return eA.deviceID===en})),er&&ea&&""!==ei?[4,this.zegoWebRtc.useVideoDevice(er,ei)]:[3,2];case 1:es.sent(),es.label=2;case 2:return[2]}})})})}},function(eA){eg.logger.warn("zsc.rd.0 getDevices err:",eA)})},500)})},eA.prototype.getStreamStats=function(eA){var er,ei,eo;return this.logger.info(eg.ZEGO_WEBRTC_ACTION.DESTROY_STREAM+" call"),eA instanceof MediaStream&&eA.getTracks().length>0?eo=null===(er=this.streamCenter.checkPublish(eA))||void 0===er?void 0:er.publisher:"string"==typeof eA&&(eo=null===(ei=this.streamCenter.publisherList[eA])||void 0===ei?void 0:ei.publisher),eo?(null==eo?void 0:eo.currentQuality)||null:(this.logger.error("zsc.sp.0 stream is not publishing"),null)},eA.prototype.startWaitPublish=function(){var eA=this;this.streamCenter.waitPublishList.forEach(function(er){eA.streamCenter.startPublishingStream(er,eA.stateCenter.useNetAgent)}),this.streamCenter.waitPublishList=[]},eA.prototype.deviceInterruptReport=function(eA,er,ei){var eo="camera"===ei?eu.ZegoRTCLogEvent.kZegoVideoDeviceChanged:eu.ZegoRTCLogEvent.kZegoAudioDeviceChanged,en=this.stateCenter.reporter.createSpan(ea.TRACER_LEVEL.H,{key:eu.ZegoRTCLogEvent.kZMInitSetting.event},{key:""},eo.event);en.setAttributes({changed_type:eo.interrupt(eA),device:eo.device(er.deviceID),device_name:eo.device_name(er.deviceName)}),en.end()},eA}();er.PublishModule=ep},4857:function(eA,er,ei){"use strict";var eo,en=this&&this.__extends||(eo=function(eA,er){return(eo=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(eA,er){eA.__proto__=er}||function(eA,er){for(var ei in er)Object.prototype.hasOwnProperty.call(er,ei)&&(eA[ei]=er[ei])})(eA,er)},function(eA,er){if("function"!=typeof er&&null!==er)throw TypeError("Class extends value "+String(er)+" is not a constructor or null");function ei(){this.constructor=eA}eo(eA,er),eA.prototype=null===er?Object.create(er):(ei.prototype=er.prototype,new ei)}),es=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},ea=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}};Object.defineProperty(er,"__esModule",{value:!0}),er.VideoDestinationNode=void 0;var eg=ei(8250),ec=ei(1807).ErrorUtil.createError,eu=function(eA){function er(er){var ei=eA.call(this)||this;return ei.preview=er,ei.track=null,ei.replaceRemote=!0,ei}return en(er,eA),er.prototype.setReplaceRemote=function(eA){void 0===eA&&(eA=!0),this.replaceRemote=eA},er.prototype.setInput=function(eA){return es(this,void 0,void 0,function(){var er;return ea(this,function(ei){if(null==eA)return[2];if(!this.preview.localStream)throw ec({code:-1,message:"preview haven't been inited."});return this.track=eA,this.preview.localStream.getVideoTracks()[0]!==eA&&(er=this.preview.streamCenter.getPublishList(this.preview.localStream),this.replaceRemote&&0!==er.length?er.map(function(eA){return eA.publisher}).forEach(function(er){er&&er.previewer&&er.replacePublishedTrack(eA,!0)}):this.preview.replacePreviewTrack(eA,!0)),[2]})})},Object.defineProperty(er.prototype,"output",{get:function(){return this.track},enumerable:!1,configurable:!0}),er.prototype.connect=function(eA){return es(this,void 0,void 0,function(){return ea(this,function(eA){throw ec({code:-1,message:"video destination node cann't connect any video node."})})})},er.prototype.disconnect=function(){return es(this,void 0,void 0,function(){return ea(this,function(eA){throw ec({code:-1,message:"video destination node cann't disconnect any video node."})})})},er}(eg.VideoNode);er.VideoDestinationNode=eu},8250:function(eA,er){"use strict";var ei=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},eo=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}};Object.defineProperty(er,"__esModule",{value:!0}),er.VideoNode=void 0;var en=function(){function eA(){}return eA.prototype.connect=function(eA){return ei(this,void 0,void 0,function(){return eo(this,function(er){switch(er.label){case 0:return this.next=eA,this.output?[4,eA.setInput(this.output)]:[3,2];case 1:er.sent(),er.label=2;case 2:return[2,eA]}})})},eA.prototype.disconnect=function(){return ei(this,void 0,void 0,function(){return eo(this,function(eA){switch(eA.label){case 0:return this.next?[4,this.next.setInput(null)]:[3,2];case 1:eA.sent(),this.next=void 0,eA.label=2;case 2:return[2]}})})},eA}();er.VideoNode=en},334:function(eA,er,ei){"use strict";var eo=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},en=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}};Object.defineProperty(er,"__esModule",{value:!0}),er.VideoNodeQueue=void 0;var es=ei(6426),ea=function(){function eA(eA,er){this.source=eA,this.destination=er,this.videoNodeList=[],this.source.connect(this.destination)}return Object.defineProperty(eA.prototype,"lastNode",{get:function(){return this.isEmpty()?null:this.videoNodeList[this.videoNodeList.length-1]},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"secondToLastNode",{get:function(){return this.videoNodeList.length<2?null:this.videoNodeList[this.videoNodeList.length-2]},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"firstNode",{get:function(){return this.isEmpty()?null:this.videoNodeList[0]},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"secondNode",{get:function(){return this.videoNodeList.length<2?null:this.videoNodeList[1]},enumerable:!1,configurable:!0}),eA.prototype.pushBack=function(eA){return eo(this,void 0,void 0,function(){return en(this,function(er){switch(er.label){case 0:return this.lastNode?[4,this.lastNode.connect(eA)]:[3,3];case 1:case 4:return er.sent(),[4,eA.connect(this.destination)];case 2:return er.sent(),[3,6];case 3:return[4,this.source.connect(eA)];case 5:er.sent(),er.label=6;case 6:return this.videoNodeList.push(eA),[2]}})})},eA.prototype.popBack=function(){return eo(this,void 0,void 0,function(){return en(this,function(eA){switch(eA.label){case 0:return this.lastNode?[4,this.lastNode.disconnect()]:[3,7];case 1:return eA.sent(),this.secondToLastNode?[4,this.secondToLastNode.disconnect()]:[3,4];case 2:return eA.sent(),[4,this.secondToLastNode.connect(this.destination)];case 3:return eA.sent(),[3,7];case 4:return[4,this.source.disconnect()];case 5:return eA.sent(),[4,this.source.connect(this.destination)];case 6:eA.sent(),eA.label=7;case 7:return this.videoNodeList.pop(),[2]}})})},eA.prototype.pushFront=function(eA){return eo(this,void 0,void 0,function(){return en(this,function(er){switch(er.label){case 0:return[4,this.source.disconnect()];case 1:return er.sent(),[4,this.source.connect(eA)];case 2:return er.sent(),this.firstNode?[4,eA.connect(this.firstNode)]:[3,4];case 3:return er.sent(),[3,6];case 4:return[4,eA.connect(this.destination)];case 5:er.sent(),er.label=6;case 6:return this.videoNodeList.unshift(eA),[2]}})})},eA.prototype.popFront=function(){return eo(this,void 0,void 0,function(){return en(this,function(eA){switch(eA.label){case 0:return[4,this.source.disconnect()];case 1:return eA.sent(),this.firstNode?[4,this.firstNode.disconnect()]:[3,6];case 2:return eA.sent(),this.secondNode?[4,this.source.connect(this.secondNode)]:[3,4];case 3:return eA.sent(),[3,6];case 4:return[4,this.source.connect(this.destination)];case 5:eA.sent(),eA.label=6;case 6:return this.videoNodeList.shift(),[2]}})})},eA.prototype.remove=function(eA){return eo(this,void 0,void 0,function(){var er,ei;return en(this,function(eo){switch(eo.label){case 0:return -1===(er=this.videoNodeList.indexOf(eA))?[3,13]:[4,eA.disconnect()];case 1:return eo.sent(),er-1>=0?[4,(ei=this.videoNodeList[er-1]).disconnect()]:[3,7];case 2:return eo.sent(),this.lastNode==eA?[3,4]:[4,ei.connect(this.videoNodeList[er+1])];case 3:return eo.sent(),[3,6];case 4:return[4,ei.connect(this.destination)];case 5:eo.sent(),eo.label=6;case 6:return[3,12];case 7:return[4,this.source.disconnect()];case 8:return eo.sent(),this.lastNode==eA?[3,10]:[4,this.source.connect(this.videoNodeList[er+1])];case 9:return eo.sent(),[3,12];case 10:return[4,this.source.connect(this.destination)];case 11:eo.sent(),eo.label=12;case 12:this.videoNodeList.splice(er,1),eo.label=13;case 13:return[2]}})})},eA.prototype.isConnected=function(eA){return -1!==this.videoNodeList.indexOf(eA)},eA.prototype.isEmpty=function(){return 0===this.videoNodeList.length},eA.prototype.getSourceTrack=function(){return this.source.output},eA.prototype.getDestinationTrack=function(){return this.destination.output},eA.prototype.replaceNewSourceByTrack=function(eA,er){return void 0===er&&(er=!0),eo(this,void 0,void 0,function(){return en(this,function(ei){switch(ei.label){case 0:return[4,this.replaceSource(new es.VideoSourceNode(eA),er)];case 1:return ei.sent(),[2]}})})},eA.prototype.replaceSource=function(eA,er){return void 0===er&&(er=!0),eo(this,void 0,void 0,function(){return en(this,function(ei){switch(ei.label){case 0:return this.destination.setReplaceRemote(er),[4,this.source.disconnect()];case 1:return ei.sent(),this.firstNode?[4,eA.connect(this.firstNode)]:[3,3];case 2:return ei.sent(),[3,5];case 3:return[4,eA.connect(this.destination)];case 4:ei.sent(),ei.label=5;case 5:return this.source=eA,this.destination.setReplaceRemote(),[2]}})})},eA.prototype.replaceDestination=function(eA){return eo(this,void 0,void 0,function(){return en(this,function(er){switch(er.label){case 0:return this.lastNode?[4,this.lastNode.disconnect()]:[3,3];case 1:return er.sent(),[4,this.lastNode.connect(eA)];case 2:return er.sent(),[3,6];case 3:return[4,this.source.disconnect()];case 4:return er.sent(),[4,this.source.connect(eA)];case 5:er.sent(),er.label=6;case 6:return this.destination=eA,[2]}})})},eA.prototype.destroy=function(){for(var eA=0;eA<this.videoNodeList.length;eA++)this.videoNodeList[eA].disconnect()},eA}();er.VideoNodeQueue=ea},6426:function(eA,er,ei){"use strict";var eo,en=this&&this.__extends||(eo=function(eA,er){return(eo=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(eA,er){eA.__proto__=er}||function(eA,er){for(var ei in er)Object.prototype.hasOwnProperty.call(er,ei)&&(eA[ei]=er[ei])})(eA,er)},function(eA,er){if("function"!=typeof er&&null!==er)throw TypeError("Class extends value "+String(er)+" is not a constructor or null");function ei(){this.constructor=eA}eo(eA,er),eA.prototype=null===er?Object.create(er):(ei.prototype=er.prototype,new ei)}),es=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},ea=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}};Object.defineProperty(er,"__esModule",{value:!0}),er.VideoSourceNode=void 0;var eg=ei(8250),ec=ei(1807).ErrorUtil.createError,eu=function(eA){function er(er){var ei=eA.call(this)||this;return ei.track=er,ei}return en(er,eA),Object.defineProperty(er.prototype,"output",{get:function(){return this.track},enumerable:!1,configurable:!0}),er.prototype.setInput=function(eA){return es(this,void 0,void 0,function(){return ea(this,function(eA){throw ec({code:-1,message:"Can not set track input to VideoSourceNode"})})})},er.prototype.process=function(){},er.prototype.destory=function(){this.track&&this.track.stop()},er}(eg.VideoNode);er.VideoSourceNode=eu},7436:function(eA,er,ei){"use strict";var eo=this&&this.__assign||function(){return(eo=Object.assign||function(eA){for(var er,ei=1,eo=arguments.length;ei<eo;ei++)for(var en in er=arguments[ei])Object.prototype.hasOwnProperty.call(er,en)&&(eA[en]=er[en]);return eA}).apply(this,arguments)},en=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},es=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}};Object.defineProperty(er,"__esModule",{value:!0}),er.ZegoPreview=void 0;var ea=ei(5123),eg=ei(1586),ec=ei(93),eu=ei(6607),el=ei(4259),ed=ei(334),eE=ei(6426),eI=ei(4857),eC=ei(3309),eh=function(){function eA(eA,er,ei,eo,en){var es=this;this.logger=eA,this.ac=er,this.stateCenter=ei,this.streamCenter=eo,this.previewType=en,this.localStream=null,this.videoInfo={},this.rtcViewer=null,this.streamFromCanvas=!1,this.streamFromCanvasTrack=null,this.previewSuc=!1,this.soundLevel=0,this.hasEmptyAudioTrack=!1,this._emptyAudioTrack=null,this.script=null,this.mic=null,this._audioTrack=null,this._videoTrack=null,this.cloneVideoTrack=null,this.originVideoTrack=null,this.originAudioTrack=null,this.activateSEIConfig=null,this.isAudioEnabled=!0,this.isVideoEnabled=!0,this.gainNode=null,this.cameraMaxResolution={},this.enableDualStream=!1,this.lowStreamConfig={width:160,height:120,frameRate:15,bitRate:50},this.muteImage=null,this.voiceMode=0,this.processedQueue=[],this.hasMicTrack=!0,this.enableMicrophoneOnly=function(eA,er){if(!es.localStream)return es.logger.error("zp.em.2 no localStream"),!1;var ei=er.getPublishList(es.localStream).map(function(eA){return eA.publisher});return ei.length&&ei.forEach(function(er){er.sendStreamStatus(er.camera_status,es.isAudioEnabled&&eA?0:2)}),es.micTrack?(es.micTrack.enabled=es.isAudioEnabled&&eA,es.logger.debug("zp.emo.2 call success")):es.logger.info("zp.emo.2 no micTrack"),!0},this.soundMeterWorklet=null,this.audioMixManager=null}return eA.prototype.getEmptyAudioTrack=function(){if(!this._emptyAudioTrack){var eA=this.streamCenter.ac.createMediaStreamDestination(),er=eA?eA.stream:null,ei=this._emptyAudioTrack=er?er.getAudioTracks()[0]:null;this.logger.info("zp.geat "+"empty audio id: ".concat(null==ei?void 0:ei.id))}return this._emptyAudioTrack},Object.defineProperty(eA.prototype,"audioTrack",{get:function(){var eA;return this._audioTrack||(null===(eA=this.localStream)||void 0===eA?void 0:eA.getAudioTracks()[0])||null},set:function(eA){this._audioTrack=eA},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"videoTrack",{get:function(){var eA;return this._videoTrack||(null===(eA=this.localStream)||void 0===eA?void 0:eA.getVideoTracks()[0])||null},set:function(eA){this._videoTrack=eA},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"videoNodeQueue",{get:function(){if(!this._videoNodeQueue){if(!this._videoTrack)throw Error("cannot use video node queue, because videoTrack of previewer haven't been inited.");var eA=new eE.VideoSourceNode(this._videoTrack),er=new eI.VideoDestinationNode(this);this._videoNodeQueue=new ed.VideoNodeQueue(eA,er)}return this._videoNodeQueue},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"isVideoNodeQueueEnabled",{get:function(){return!!this._videoNodeQueue},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"micTrack",{get:function(){return this.hasMicTrack&&"camera"===this.previewType&&this.audioTrack||null},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"isVideoEffectStarting",{get:function(){return!!this.videoEffect&&this.videoEffect.isStarting},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"isVideoEffectEnabled",{get:function(){return!!this.videoEffect&&this.videoEffect.enabled},enumerable:!1,configurable:!0}),eA.prototype.getMediaStreamConstraints=function(eA,er){var ei={audio:null,video:null};if(ei.audio=!0,ei.video={width:this.stateCenter.settingConfig.getSetting("camera_width")||640,height:this.stateCenter.settingConfig.getSetting("camera_height")||480,frameRate:this.stateCenter.settingConfig.getSetting("camera_framerate")||15,bitRate:this.stateCenter.settingConfig.getSetting("camera_video_bitrate")},eA.audio?void 0===eA.audioInput&&void 0===eA.ANS&&void 0===eA.AGC&&void 0===eA.AEC&&void 0===eA.channelCount?(ei.audio={},ei.audio.noiseSuppression=this.stateCenter.settingConfig.getSetting("ANS"),ei.audio.autoGainControl=this.stateCenter.settingConfig.getSetting("AGC"),ei.audio.echoCancellation=this.stateCenter.settingConfig.getSetting("AEC"),ei.audio.channelCount=1):(ei.audio={},null!=eA.audioInput&&(ei.audio.deviceId={exact:eA.audioInput}),void 0!==eA.ANS&&(ei.audio.noiseSuppression=eA.ANS),void 0!==eA.AGC&&(ei.audio.autoGainControl=eA.AGC),void 0!==eA.AEC&&(ei.audio.echoCancellation=eA.AEC),void 0!==eA.channelCount&&(ei.audio.channelCount=eA.channelCount)):!1===eA.audio&&(ei.audio=!1),eA.video){var eo=640,en=480,es=15,eg=this.stateCenter.settingConfig.getSetting("camera_video_bitrate");if(1===eA.videoQuality?(eo=ea.ENUM_RESOLUTION_TYPE.LOW.width,en=ea.ENUM_RESOLUTION_TYPE.LOW.height,es=ea.ENUM_RESOLUTION_TYPE.LOW.frameRate,eg=ea.ENUM_RESOLUTION_TYPE.LOW.bitRate):2===eA.videoQuality?(eo=ea.ENUM_RESOLUTION_TYPE.MEDIUM.width,en=ea.ENUM_RESOLUTION_TYPE.MEDIUM.height,es=ea.ENUM_RESOLUTION_TYPE.MEDIUM.frameRate,eg=ea.ENUM_RESOLUTION_TYPE.MEDIUM.bitRate):3===eA.videoQuality?(eo=ea.ENUM_RESOLUTION_TYPE.HIGH.width,en=ea.ENUM_RESOLUTION_TYPE.HIGH.height,es=ea.ENUM_RESOLUTION_TYPE.HIGH.frameRate,eg=ea.ENUM_RESOLUTION_TYPE.HIGH.bitRate):4===eA.videoQuality?(eo=eA.width||640,en=eA.height||480,es=eA.frameRate||15,eg=eA.bitRate||this.stateCenter.settingConfig.getSetting("camera_video_bitrate")):this.logger.info("zp.gmsc.2 use default"),er&&!eA.videoQuality&&(eA.width&&(eo=eA.width),eA.height&&(en=eA.height),eA.frameRate&&(es=eA.frameRate),eA.bitRate&&(eg=eA.bitRate)),!1===eA.horizontal){var ec=en;en=eo,eo=ec}!0===eA.isSwitch&&(ec=en,en=eo,eo=ec),ei.video={width:eo,height:en,frameRate:es,bitRate:eg},null!=eA.facingMode?ei.video.facingMode=eA.facingMode:null!=eA.videoInput&&null!=eA.videoInput&&""!=eA.videoInput&&(ei.video.deviceId={exact:eA.videoInput}),this.logger.info("zp.gmsc.2 width: "+eo+" height: "+en+" rate: "+es)}else!1===eA.video&&(eA.audioBitrate&&(ei.video={}),ei.video=!1);return ei},eA.prototype.startPreview=function(eA,er,ei,ea){return en(this,void 0,void 0,function(){var en,ec,eu,el,ed,eE,eI,eC,eh,eB=this;return es(this,function(es){return this.logger.debug("zp.sv.2 called"),this.mediaStreamConfig=eA,void 0===navigator.mediaDevices||null==navigator.mediaDevices.getUserMedia?ei&&ei(eg.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kBrowserNotSupportError):(en=function(eA){er(eA)},eA.source instanceof MediaStream?(eu=(ec=eA.source.getVideoTracks()).length>0?ec[0].getSettings():{width:0,height:0,frameRate:0},this.logger.debug("zp.sv.2 use external media stream"),this.previewSuc=!0,this.localStream=eA.source,this.initMediaTrack(eA.source),this.videoInfo={width:eu.width,height:eu.height,frameRate:eu.frameRate,bitRate:eA.bitRate||this.stateCenter.settingConfig.getSetting("custom_video_bitrate"),startBitrate:eA.startBitrate||this.stateCenter.settingConfig.getSetting("bitrate_mode"),minBitrate:eA.minBitrate,keyFrameInterval:eA.keyFrameInterval,channelCount:eA.channelCount||(this.audioTrack&&this.audioTrack.getSettings?this.audioTrack.getSettings().channelCount:1),audioBitrate:1e3*eA.audioBitrate||48e3},en&&en(this.localStream)):eA.source instanceof HTMLMediaElement?(el=this.captureStream(eA.source,eA))?(this.videoInfo.bitRate=eA.bitRate||this.stateCenter.settingConfig.getSetting("custom_video_bitrate"),this.previewSuc=!0,this.initMediaTrack(el),en&&en(el)):ei&&ei(eg.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kBrowserNotSupportError):((ed=this.getMediaStreamConstraints(eA)).audio&&(eE=this.stateCenter.settingConfig.getSetting("AEC",!0),eI=this.stateCenter.settingConfig.getSetting("AGC",!0),eC=this.stateCenter.settingConfig.getSetting("ANS",!0),"boolean"==typeof eE&&(this.logger.info("zp.sv.2 setting AEC "+eE),ed.audio.echoCancellation=eE),"boolean"==typeof eI&&(this.logger.info("zp.sv.2 setting AGC "+eI),ed.audio.autoGainControl=eI),"boolean"==typeof eC&&(this.logger.info("zp.sv.2 setting ANS "+eC),ed.audio.noiseSuppression=eC)),this.videoInfo=eo(eo({},ed.video),{keyFrameInterval:eA.keyFrameInterval}),this.videoInfo?(this.videoInfo.audioBitrate=1e3*eA.audioBitrate||48e3,this.videoInfo.startBitrate=eA.startBitrate||this.stateCenter.settingConfig.getSetting("bitrate_mode"),this.videoInfo.minBitrate=eA.minBitrate,this.videoInfo.keyFrameInterval=eA.keyFrameInterval):eA.audioBitrate&&(this.videoInfo={audioBitrate:1e3*eA.audioBitrate||48e3}),(eh=this.stateCenter.settingConfig.getSetting("camera_audio_bitrate",!0))&&(this.videoInfo.audioBitrate=1e3*eh),ed.video instanceof Object&&(ed.video.width=this.stateCenter.settingConfig.getSetting("camera_width",!0)||ed.video.width,ed.video.height=this.stateCenter.settingConfig.getSetting("camera_height",!0)||ed.video.height,ed.video.frameRate=this.stateCenter.settingConfig.getSetting("camera_framerate",!0)||ed.video.frameRate),this.mediaStreamConfig.video=!!ed.video,this.mediaStreamConfig.audio=!!ed.audio,this.logger.info("zp.sv.2 ",JSON.stringify(ed)),ea.setAttribute("preview_conf",eg.ZegoRTCLogEvent.kZegoTaskCreateStream.preview_conf(ed)),eA.unlimitedCaptureResolution&&ed.video.width&&(ed.video.width={ideal:4096},ed.video.height={ideal:2160},this.logger.info("zp.sv.2 ","capture max resolution of camera")),navigator.mediaDevices.getUserMedia(ed).then(function(er){eB.logger.info("zp.sv.2 success"),eB.localStream=er,eB.previewSuc=!0,eB.initMediaTrack(er),eB.videoInfo&&(eB.videoInfo.channelCount=eA.channelCount||(eB.audioTrack&&eB.audioTrack.getSettings?eB.audioTrack.getSettings().channelCount:1)),en&&en(er)},function(eA){if(eB.logger.info("zp.sv.2 failed ",eA.name," ",eA.message),ei){var er=eg.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kGetUserMediaError;er.message=er.message+" "+eA.name+" "+eA.message,"NotAllowedError"===eA.name||"SecurityError"===eA.name?(er=eo({},eg.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kDeviceNoAllowedError)).message=eA.name+": "+er.message:"NotReadableError"===eA.name?(er=eo({},eg.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kDeviceNoReadableError)).message=eA.name+": "+er.message:"OverconstrainedError"===eA.name&&((er=eo({},eg.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kDeviceOverConstrainedError)).message=eA.name+": "+er.message+(eA.constraint?". such as "+eA.constraint:"")),ei(er)}}))),[2]})})},eA.prototype.getInsertableStreamTrack=function(eA){return eA},eA.prototype.stopTransformHandle=function(){return en(this,void 0,void 0,function(){return es(this,function(eA){return[2]})})},eA.prototype.transformHandle=function(){},eA.prototype.voiceChangerInput=function(eA){},eA.prototype.captureStream=function(eA,er){var ei;if(!eA)return this.logger.info("zp.cs.2 no local video"),null;if(eA.captureStream)ei=eA.captureStream(),this.logger.debug("zp.cs.2 captureStream");else{if(!eA.mozCaptureStream)return this.logger.info("zp.cs.2 don't support"),null;ei=eA.mozCaptureStream(),this.logger.debug("zp.cs.2 mozCaptureStream")}return 0==ei.getTracks().length?(this.logger.error("zp.cs.2 external capture tracks no found"),null):(this.localStream=ei,this.videoInfo={width:eA.videoWidth,height:eA.videoHeight,frameRate:0,bitRate:er.bitRate||this.stateCenter.settingConfig.getSetting("custom_video_bitrate"),channelCount:er.channelCount||(this.audioTrack&&this.audioTrack.getSettings?this.audioTrack.getSettings().channelCount:1),audioBitrate:1e3*er.audioBitrate||48e3,startBitrate:er.startBitrate||this.stateCenter.settingConfig.getSetting("bitrate_mode"),minBitrate:er.minBitrate,keyFrameInterval:er.keyFrameInterval},this.logger.debug("zp.cs.2 called success"),this.localStream)},eA.prototype.stopPreview=function(){var eA,er,ei,eo,en,es,ea;if(this.logger.info("zp.sv.2.1 called"),this.localStream){var eg=this.rtcViewer;eg&&eg.destroy(),this.videoEffect&&(this.videoEffect.setBeautyEffectOptions(!1),this.videoEffect.destroy()),this.backgroundProcessor&&this.backgroundProcessor.release(),this._videoNodeQueue&&this.videoNodeQueue.destroy(),null===(eA=this.cloneVideoTrack)||void 0===eA||eA.stop(),this.cloneVideoTrack=null,this.muteImageAnID&&cancelAnimationFrame(this.muteImageAnID),this.stopSoundLevel(),null===(er=this.originVideoTrack)||void 0===er||er.stop(),this.originVideoTrack=null,null===(ei=this.originAudioTrack)||void 0===ei||ei.stop(),null===(eo=this.videoTrack)||void 0===eo||eo.stop(),this.videoTrack=null,null===(en=this.audioTrack)||void 0===en||en.stop(),null===(es=this.audioMixManager)||void 0===es||es.stopAudioManager(),this.localStream.getTracks().forEach(function(eA){eA.stop()}),this.localStream=null,null===(ea=this.lowStream)||void 0===ea||ea.getTracks().forEach(function(eA){return eA.stop()}),this.lowStream=void 0,this.videoInfo={}}},eA.prototype.enableMicrophone=function(eA,er){return!1},eA.prototype.enableCamera=function(eA,er,ei){return!1},eA.prototype.enableCameraCapturing=function(eA){return en(this,void 0,void 0,function(){return es(this,function(eA){return[2,!1]})})},eA.prototype.startSoundLevel=function(){var eA,er=this;if(this.localStream&&0!=this.localStream.getAudioTracks().length){null===(eA=this.soundMeterWorklet)||void 0===eA||eA.destroy(),this.mic&&this.mic.disconnect();try{this.mic=this.ac.createMediaStreamSource(this.localStream);var ei=this.soundMeterWorklet=new eC.SoundMeterWorklet(this.logger,this.streamCenter.soundLevelInterval);ei.initAudioWorklet(this.ac,this.mic),ei.onSoundLevelUpdate=function(eA){er.soundLevel=100*eA}}catch(eA){this.logger.error(ec.ZEGO_WEBRTC_ACTION.PUBLISHER_START_SOUND_LEVEL+" get sound level failed "+eA)}}},eA.prototype.stopSoundLevel=function(){var eA;this.soundLevel=0,null===(eA=this.soundMeterWorklet)||void 0===eA||eA.destroy(),this.mic&&this.mic.disconnect(),this.mic=null},eA.prototype.restartSoundLevel=function(){this.streamCenter.soundLevelDelegate?(this.stopSoundLevel(),this.startSoundLevel()):this.stopSoundLevel()},eA.prototype.setBeautyEffect=function(eA,er){return en(this,void 0,void 0,function(){return es(this,function(eA){return[2]})})},eA.prototype.replacePreviewTrack=function(eA,er,ei){void 0===er&&(er=!1)},eA.prototype.createLowStream=function(){var eA,er,ei,eo,en,es=null===(eA=this.localStream)||void 0===eA?void 0:eA.getVideoTracks()[0];if(es){var ea=es.getSettings().height,eg=es.getSettings().width,ec=navigator.userAgent,eu="micromessenger"==ec.toLowerCase().match(/MicroMessenger/i),el=ec.indexOf("Android")>-1||ec.indexOf("Adr")>-1;this.logger.info("zp.cls w: "+eg+" h: "+ea+" "+el+" "+eu);var ed="number"==typeof(null===(er=this.videoInfo)||void 0===er?void 0:er.width)&&"number"==typeof(null===(ei=this.videoInfo)||void 0===ei?void 0:ei.height)&&ea==this.videoInfo.width&&eg==this.videoInfo.height;if(eu&&el&&ed){var eE=ea;ea=eg,eg=eE}var eI=ea&&eg?ea/eg:1;try{var eC,eh=this.lowStreamConfig,eB=eh.width,ep=eh.frameRate;if(eC=Math.round(eI*this.lowStreamConfig.width),"firefox"===this.stateCenter.browser)this.lowStream=this.getStreamThroughCanvas(this.localStream,{w:eB,h:eC,fps:ep});else{this.lowStream=null===(eo=this.localStream)||void 0===eo?void 0:eo.clone();var ef=null===(en=this.lowStream)||void 0===en?void 0:en.getVideoTracks()[0];null==ef||ef.applyConstraints({width:eB,height:eC,frameRate:ep})}}catch(eA){this.logger.error("zp.cls "+eA)}}},eA.prototype.initAudioNodeQueue=function(eA){if(!this.audioTrack||!this.localStream)return!1;var er=this.createSrcNode(this.audioTrack),ei=this.createDestNode(this.localStream);return this.audioNodeQueue=new el.AudioNodeQueue(er,ei),!0},eA.prototype.createSrcNode=function(eA,er){void 0===er&&(er=!1);var ei,eo=void 0===eA?this.audioTrack:eA;if(eo===(null===(ei=this.destNode)||void 0===ei?void 0:ei.stream.getAudioTracks()[0])&&(this.logger.info("zp.pv.csn use empty track"),eo=this.getEmptyAudioTrack()),this.srcNode){if(!er)return this.srcNode;this.srcNode.disconnect(),this.logger.info("zp.pv.csn recreate src")}var en=new MediaStream;eo&&en.addTrack(eo);var es=this.srcNode=this.ac.createMediaStreamSource(en);return this.logger.info("zp.pv.csn "+"create src audio id: ".concat(null==eo?void 0:eo.id,", ").concat(null==eo?void 0:eo.label,",i")),es},eA.prototype.createDestNode=function(eA){if(this.destNode)return this.destNode;var er,ei=this.destNode=this.destNode||this.ac.createMediaStreamDestination(),eo=ei.stream.getAudioTracks()[0];this.logger.info("zp.pv.cdn "+"create dest audio id: ".concat(null==eo?void 0:eo.id,", ").concat(null==eo?void 0:eo.label,",i"));var en=this.rtcViewer;for(var es in this.streamCenter.publisherList){var ea=this.streamCenter.publisherList[es];if(ea.localStream==eA){var eg=null===(er=ea.publisher.peerConnection)||void 0===er?void 0:er.getSenders().find(function(eA){return eA.track&&"audio"===eA.track.kind});eg&&(eg.replaceTrack(eo),this.logger.info("zc.pv.cdn change sender audio track"));break}}var ec=eA.getAudioTracks()[0];return ec&&eA.removeTrack(ec),eo.enabled=this.isAudioEnabled,eA.addTrack(eo),en&&en.setAudio(eo),ei},eA.prototype.initMediaTrack=function(eA){eA.getVideoTracks().length>0&&(this.videoTrack=eA.getVideoTracks()[0],this.originVideoTrack=this.videoTrack),eA.getAudioTracks().length>0&&(this.audioTrack=eA.getAudioTracks()[0],this.originAudioTrack=this.audioTrack)},eA.prototype.onAudioTrackChange=function(eA){},eA.prototype.getViewer=function(){return this.localStream&&!this.rtcViewer&&(this.rtcViewer=new eu.StreamView(this.localStream,this,{clearLastFrame:this.stateCenter.engineConfig.previewClearLastFrame})),this.rtcViewer},eA.prototype.getStreamThroughCanvas=function(eA,er){if(0==eA.getVideoTracks().length)return eA;var ei=document.createElement("video"),eo=document.createElement("canvas"),en=eo.getContext("2d");ei.setAttribute("style","display:none"),eo.setAttribute("style","display:none"),ei.setAttribute("muted",""),ei.muted=!0,ei.setAttribute("autoplay",""),ei.autoplay=!0,ei.setAttribute("playsinline",""),document.body.append(ei),document.body.append(eo),ei.srcObject=eA;var es=function(){0!==eo.width&&(null==en||en.drawImage(ei,0,0,eo.width,eo.height),window.requestAnimationFrame(es),ei.srcObject=eA)};ei.oncanplay=function(){eo.width=(null==er?void 0:er.w)||ei.videoWidth,eo.height=(null==er?void 0:er.h)||ei.videoHeight,ei.play(),es()};var ea=eo.captureStream((null==er?void 0:er.fps)||15),eg=ea.getVideoTracks()[0],ec=eg.stop;if(eg.stop=function(){ec.call(eg),es(),ei.remove(),eo.width=0,eo.remove()},eA instanceof MediaStream&&eA.getAudioTracks().length){var eu=eA.getAudioTracks()[0];ea.addTrack(eu)}return ea},eA.prototype.stopCanvasStreamTrack=function(){var eA;this.streamFromCanvas&&this.streamFromCanvasTrack&&(null===(eA=this.streamFromCanvasTrack)||void 0===eA||eA.stop(),this.streamFromCanvasTrack=null)},eA}();er.ZegoPreview=eh},9987:function(eA,er,ei){"use strict";var eo=this&&this.__assign||function(){return(eo=Object.assign||function(eA){for(var er,ei=1,eo=arguments.length;ei<eo;ei++)for(var en in er=arguments[ei])Object.prototype.hasOwnProperty.call(er,en)&&(eA[en]=er[en]);return eA}).apply(this,arguments)},en=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},es=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}};Object.defineProperty(er,"__esModule",{value:!0}),er.ZegoPublish=void 0;var ea=ei(5123),eg=ei(3332),ec=ei(9723),eu=ei(4028),el=ei(1586),ed=ei(93),eE=ei(3171),eI=ei(3420),eC=ei(5601),eh=el.ZegoRTCLogEvent.kZegoTaskPublishStart,eB=el.ZegoRTCLogEvent.kZegoTaskSDKPublishStream,ep=el.ZegoRTCLogEvent.kZegoStartPublish,ef=function(){function eA(eA,er,ei,eo,en,es,eg){var eu,ed=this;this.curCBState={state:"NO_PUBLISH",code:0},this.isProbeDispatch=!1,this._state=ea.ENUM_PUBLISH_STATE.stop,this.lastState=ea.ENUM_PUBLISH_STATE.stop,this.sessionId=0,this.sessionToken="",this.candidateInfo=[],this.qualityTimer=null,this.publishQualityList=[],this.maxQualityListCount=10,this.lastPublishStats={},this.currentQuality={video:{videoBitrate:0,videoFPS:0,videoTransferFPS:0,frameHeight:0,frameWidth:0,muteState:"1",videoQuality:-1,videoPacketsLost:0,videoPacketsLostRate:0,googCodecName:""},audio:{audioBitrate:0,audioCodec:"opus",muteState:"1",audioQuality:-1,audioFPS:0,audioPacketsLost:0,audioPacketsLostRate:0,googCodecName:""}},this.canvasTimer=null,this.canvas=null,this.ctx=null,this.canvasImage=null,this.reportSeq=NaN,this.parentSpanKey="",this.streamReportSeq=(0,ea.getSeq)(),this.qualityUpload=!1,this.qualityUploadInterval=3e4,this.qualityUploadLastTime=0,this.qualitySeq=0,this.videoInfo={width:0,height:0,frameRate:0,bitRate:0,channelCount:1,audioBitrate:48e3,minBitrate:0,keyFrameInterval:2},this.mediaStreamConfig=null,this.offerSeq=0,this.peerConnection=null,this.qualityCount=0,this.closeSessionSignal=!1,this.channelCount=1,this.localSdpOrder=[],this.remoteSdpOrder=[],this.videoCodec="H264",this.stateNego=ea.ENUM_PUBLISH_STATE_NEGO.stop,this.isExternal=!1,this.negoInterval=25e3,this.publishEvent=!1,this.cameraState="on",this.microState="on",this.gwNode="",this.gwNodeList=[],this.gwNodesTTL=0,this.retryFailGwNodes=[],this.dispatchedGwNodes=[],this.needIncMax=!1,this.probeCount=0,this.gotMax=!1,this.initFitCnt=0,this.targetRate=0,this.totalBitrateArray=[],this.totalTargetRateArray=[],this.totalRetransRateArray=[],this.isPeer=!1,this.peerFailCount=0,this.peerID=0,this.netQuality=0,this.probeTime=0,this.probeInterval=6e4,this.probeState=ea.ENUM_PROBE_STATE.probed,this.probeIpCnt=0,this.validProbeIpCnt=0,this.poorQualityRetryCnt=0,this.probeNotRetryInfos=[],this.continuousFailCnt=0,this.iceDisconnectedMaxTime=15e3,this.isUpdateSDP=!1,this.isUdpSuccess=!1,this.toBeReplacedTracks={},this.send_seq=0,this.dataChannelState=0,this.first_pkt=!0,this.next_sn=[],this.pkt_list=[],this.answerSdpTime=0,this.streamConnectIP="",this.mediaSideInfos=[],this.lowMediaSideInfos=[],this.sideMediaConfig={isSEIStart:!1,SEIType:ea.ZegoSEIType.ZegoDefined,unregisterSeiFilter:"",uuidSend:!1,track:null},this.reportBeginTime=0,this.reportPublishingTime=0,this.reportPublishStateTime=0,this.isRePublish=!1,this.publishStat={},this.poorQualityNum=0,this.cachedGwNodesMode=ec.CachedNodesUseMode.TheSameReUse,this.rtcPublishCount=0,this.stopReason="",this.signalTime=0,this.pushCmdSeqMap=((eu={}).MediaDescPush={seq:-1,time:0},eu.MediaDescUpdatePush={seq:-1,time:0},eu.PublishEventPush={seq:-1,time:0},eu.ClientInfoPush={seq:-1,time:0},eu.CandidateInfoPush={seq:-1,time:0},eu),this._turnToTcp=!1,this.encodeLowVideoFrame=function(eA,er){ed.encodeFrame(eA,er,!0)},this.encodeVideoFrame=function(eA,er){ed.encodeFrame(eA,er,!1)},this.camera_status=2,this.mic_status=2,this.streamId=eA,this.logger=er,this.dataReport=ei,this.qualityTimeInterval=eo,this.streamCenter=en,this.stateCenter=es,this.videoCodec=this.stateCenter.settingConfig.getSetting("publish_video_codec"),this.previewer=eg,this.localStream=eg.localStream,eg.onAudioTrackChange=function(eA){var er=ed.peerConnection&&ed.peerConnection.getSenders().find(function(er){var ei;return(null===(ei=er.track)||void 0===ei?void 0:ei.kind)===eA.kind});er?(er.replaceTrack(eA),ed.logger.info("zc.oatc remote audio track change success")):ed.logger.warn("zc.oatc stream has not sender")},this.initStreamReport(),this.exception=new eC.Exception(this.stateCenter,this.logger,this.streamId,el.ZegoRTCLogEvent.kZegoTaskPublishStart.event)}return eA.prototype.updateCBState=function(eA){var er=this,ei=Object.keys(eA).some(function(ei){return eA[ei]!==er.curCBState[ei]});return ei&&(this.curCBState=eA),ei},Object.defineProperty(eA.prototype,"state",{get:function(){return this._state},set:function(eA){this.lastState=this._state,this._state=eA},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"lowStream",{get:function(){var eA;return null===(eA=this.previewer)||void 0===eA?void 0:eA.lowStream},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"iceStateDisConnect",{get:function(){return[ea.ENUM_PUBLISH_STATE_NEGO.iceClosed,ea.ENUM_PUBLISH_STATE_NEGO.iceDisconnected,ea.ENUM_PUBLISH_STATE_NEGO.iceFailed].includes(this.stateNego)},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"isLastConnected",{get:function(){return this.lastState===ea.ENUM_PUBLISH_STATE.publishing},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"netProtocol",{get:function(){return this._turnToTcp?"tcp":"udp"},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"ip",{get:function(){var eA,er;return null===(er=null===(eA=this.gwNode)||void 0===eA?void 0:eA.split(":"))||void 0===er?void 0:er[0]},enumerable:!1,configurable:!0}),eA.prototype.initStreamReport=function(){this.reportSpan=this.stateCenter.reporter.createSpan(ea.TRACER_LEVEL.I,{key:el.ZegoRTCLogEvent.kZegoTaskPublishStart.event,par:this.streamId},{key:eB.event,par:this.streamId},eB.event,!0),this.reportBeginTime=(new Date).getTime()},eA.prototype.publishStateUpdateError=function(eA,er,ei,eo){this.logger.error(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_STATE_ERROR+"  call ",this.streamId+" "+JSON.stringify(eA));var en=this.stateCenter.reporter.createSpan(ea.TRACER_LEVEL.H,{key:el.ZegoRTCLogEvent.kZegoTaskPublishStart.event,par:this.streamId},{key:""},el.ZegoRTCLogEvent.kZegoTaskPublishStreamStateError.event);en.setAttributes({error:null==eA?void 0:eA.code,message:null==eA?void 0:eA.message}),en.end(),this.streamId&&this.onPublishStateUpdate(ea.ENUM_PUBLISH_STATE_UPDATE.error,this.streamId,eA,er,ei,eo),this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_STATE_ERROR+"  ended")},eA.prototype.netProbeToReDispatch=function(){this.isProbeDispatch=!0,this.publishStateUpdateError(el.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishNetProbePoor)},eA.prototype.resetPublish=function(){this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_RESET_PUBLISH+"   "+this.streamId+" call"),this.state=ea.ENUM_PUBLISH_STATE.stop,this.publishEvent=!1,null==this.peerConnection&&null==this.peerConnection||(this.peerConnection.close(),this.peerConnection=null),null!=this.negoTimer&&(clearTimeout(this.negoTimer),this.negoTimer=null),null!=this.iceDisconnectedTimer&&(clearTimeout(this.iceDisconnectedTimer),this.iceDisconnectedTimer=null),this.clearPublishQualityTimer(),this.clearCanvasTimer(),this.signal&&(this.signal.unregisterPushCallback("CandidateInfoPush",this.sessionId),this.signal.unregisterPushCallback("MediaDescPush",this.sessionId),this.signal.unregisterPushCallback("CloseSessionPush",this.sessionId),this.signal.unregisterPushCallback("SessionResetPush",this.sessionId),this.signal.unregisterPushCallback("PublishEventPush",this.sessionId),this.signal.unregisterPushCallback("ClientInfoPush",this.sessionId),this.signal.unregisterPushCallback("MediaDescUpdatePush",this.sessionId)),this.sessionSeq=0,this.offerSeq=0,this.candidateInfo=[],this.publishQualityList=[],this.qualityUploadLastTime=0,this.resetEncBitrate(),this.isUpdateSDP=!1},eA.prototype.clearPublishQualityTimer=function(){null!=this.qualityTimer&&(clearInterval(this.qualityTimer),this.qualityTimer=null),this.lastPublishStats={},this.qualityCount=0,this.poorQualityNum=0},eA.prototype.clearCanvasTimer=function(){null!=this.canvasTimer&&(clearInterval(this.canvasTimer),this.sideMediaConfig.track=null,this.canvasTimer=null,this.canvas=null,this.ctx=null,this.canvasImage=null)},eA.prototype.shouldSendCloseSession=function(){return this.state!=ea.ENUM_PUBLISH_STATE.stop&&this.state!=ea.ENUM_PUBLISH_STATE.waitingSessionRsp},eA.prototype.resetPushCmdSeqMap=function(){var eA;this.pushCmdSeqMap=((eA={}).MediaDescPush={seq:-1,time:0},eA.MediaDescUpdatePush={seq:-1,time:0},eA.PublishEventPush={seq:-1,time:0},eA.ClientInfoPush={seq:-1,time:0},eA.CandidateInfoPush={seq:-1,time:0},eA)},eA.prototype.startPublish=function(eA,er,ei,eo,en){var es,ea,eg,ec,el,eE,eI,eC,ep,ef,em,eQ,ev,e_=this;if(this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" "+eA+" called"),this.signal&&this.signal.negoInterval&&(this.negoInterval=this.signal.negoInterval),eA){this.localStream=er,this.mediaStreamConfig=eo,this.channelCount=eo.channelCount,this.publishOption=en||{},(null==en?void 0:en.SEIType)&&(this.sideMediaConfig.SEIType=en.SEIType),this.currentQuality.video.muteState=(null===(ea=null===(es=this.previewer)||void 0===es?void 0:es.videoTrack)||void 0===ea?void 0:ea.enabled)?"0":"1",this.currentQuality.audio.muteState=this.localStream.getAudioTracks().length>0&&this.localStream.getAudioTracks()[0].enabled?"0":"1",navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&eo&&(eo.externalCapture||eo.externalMediaStream)&&(this.localStream.onaddtrack=function(){e_.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" "+e_.streamId+" Track added");var eA,er,ei,eo,en=[];(null===(eA=e_.previewer)||void 0===eA?void 0:eA.videoTrack)&&en.push(null===(er=e_.previewer)||void 0===er?void 0:er.videoTrack);var es=e_.localStream.getAudioTracks();if(en.length>1){var ea=null===(ei=e_.peerConnection)||void 0===ei?void 0:ei.getSenders().find(function(eA){var er;return(null===(er=eA.track)||void 0===er?void 0:er.id)===e_.localStream.getVideoTracks()[0].id});null==ea||ea.replaceTrack(en[1]),e_.localStream.removeTrack(en[0])}else es.length>1&&(null==(ea=null===(eo=e_.peerConnection)||void 0===eo?void 0:eo.getSenders().find(function(eA){var er;return(null===(er=eA.track)||void 0===er?void 0:er.kind)===es[1].kind}))||ea.replaceTrack(es[1]),e_.localStream.removeTrack(es[0]))}),ei&&(this.videoInfo=ei),en&&en.videoCodec&&(this.videoCodec=en.videoCodec);var ey,eS=null===(eg=this.previewer)||void 0===eg?void 0:eg.previewType;switch(eS){case"camera":ey=this.stateCenter.settingConfig.getSetting("camera_video_bitrate",!0);break;case"screen":ey=this.stateCenter.settingConfig.getSetting("screen_video_bitrate",!0);break;case"custom":ey=this.stateCenter.settingConfig.getSetting("custom_video_bitrate",!0)}void 0!==ey&&(this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" setting "+eS+" "+ey),this.videoInfo.bitRate=ey);var eR=this.stateCenter.settingConfig.getSetting("bitrate_mode",!0);eR&&(this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" setting bitrate_mode "+eR),this.videoInfo.startBitrate=eR);var eT=this.stateCenter.settingConfig.getSetting("publish_video_codec",!0);if(eT&&(this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" setting publish_video_codec "+eT),this.videoCodec=eT),"boolean"==typeof(null==en?void 0:en.isSEIStart)&&(this.sideMediaConfig.isSEIStart=null==en?void 0:en.isSEIStart),this.sideMediaConfig.isSEIStart){var eD=eu.ClientUtil.isSupportEncodedTransforms();"H264"===this.videoCodec&&eD||(this.sideMediaConfig.isSEIStart=!1)}(null===(ec=this.stateCenter.seiConfig)||void 0===ec?void 0:ec.unregisterSEIFilter)&&(this.sideMediaConfig.unregisterSeiFilter=null===(el=this.stateCenter.seiConfig)||void 0===el?void 0:el.unregisterSEIFilter),this.stateCenter.reporter.spanSetAttributes({key:eh.event,par:this.streamId},{video_en_codec_id:eh.video_en_codec_id("VP8"==this.videoCodec?2:0),audio_c_channel_count:eh.audio_c_channel_count(2==this.channelCount?2:1),audio_en_bps:eh.audio_en_bps(this.videoInfo.audioBitrate),aec_level:eh.aec_level(1==eo.AEC?2:0==eo.AEC?0:2),ans_level:eh.ans_level(1==eo.ANS?2:0==eo.ANS?0:2),agc:eh.agc(1==eo.AGC||0!=eo.AGC),video_activate:eh.video_activate(!!(null===(eI=null===(eE=this.previewer)||void 0===eE?void 0:eE.videoTrack)||void 0===eI?void 0:eI.enabled)),audio_activate:eh.audio_activate(!!(null===(ep=null===(eC=this.previewer)||void 0===eC?void 0:eC.audioTrack)||void 0===ep?void 0:ep.enabled)),scenario:this.stateCenter.scenario}),this.reportSpan.setAttributes({room_id:eB.room_id(null===(em=null===(ef=this.streamCenter.publisherList[this.streamId])||void 0===ef?void 0:ef.room)||void 0===em?void 0:em.roomID),room_sid_string:eB.room_sid_string(null===(ev=null===(eQ=this.streamCenter.publisherList[this.streamId])||void 0===eQ?void 0:eQ.room)||void 0===ev?void 0:ev.roomSessionID),max_retry_interval:eB.max_retry_interval(this.stateCenter.streamRetryTime),scenario:this.stateCenter.scenario,use_resource_type:eB.use_resource_type(["rtc"])}),this.isPeer?this.createOffer({encodedInsertableStreams:this.sideMediaConfig.isSEIStart}):this.createSession(),this.negoTimer=setTimeout(function(){e_.logger.error(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" waiting timeout"),e_.publishStateUpdateError(eh.error.kPublishNegoTimeoutError)},this.negoInterval)}else this.logger.error(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" "+eA+" streamId is null")},eA.prototype.activateSEIInsert=function(eA,er){return new Promise(function(eA,er){eA(!1)})},eA.prototype.createSession=function(eA,er){var ei,eo,eg,ec=this;this.sessionSeq=(0,ea.getSeq)();var eu=this.streamId;1==this.streamCenter.testEnvironment&&(eu="zegotest-"+this.streamCenter.appid+"-"+this.streamId),this.streamCenter.gwNode&&(this.gwNode=this.streamCenter.gwNode);var eE=this.stateCenter.settingConfig.getSetting("gw_nodes");eE&&eE instanceof Array&&eE.length>0&&(this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" setting "+JSON.stringify(eE)),this.gwNodeList=eE,this.gwNode=this.gwNodeList[0]||this.gwNode),this.setTurnTcp();var eI=this.stateCenter.settingConfig.getSetting("udp_or_tcp",!0);eI&&(this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" setting udp_or_tcp "+eI),this._turnToTcp="tcp"===eI),this._turnToTcp&&(this.isPeer=!1);var eC="",eB=[],ep=this.stateCenter.seiConfig.SEIPass;"boolean"==typeof ep&&eB.push("zgseipass="+(ep?1:0)),this.stateCenter.idName&&eB.push("zguid="+this.stateCenter.idName),this.stateCenter.isMiniSdp&&eB.push("sdp_fmt_type=1");var ef=(null===(eo=null===(ei=this.streamCenter.publisherList[this.streamId])||void 0===ei?void 0:ei.room)||void 0===eo?void 0:eo.roomID)||(null===(eg=this.stateCenter.roomList[0])||void 0===eg?void 0:eg.roomID);ef&&eB.push("zgrid="+ef);var em=el.ZegoRTCLogEvent.kZegoPublishCreateSession;if(this.isPeer){var eQ=(new Date).getTime();eB.length>0&&(eC=eB.join("&"));var ev=this.getSpan(el.ZegoRTCLogEvent.kZegoPublishCreateSession.event,this.parentSpanKey);this.signal.createSessionWithSdp({seq:this.sessionSeq,type:0,mode:0,streamId:eu,videoInfo:this.videoInfo,strAuthParam:this.publishOption&&this.publishOption.streamParams||"",sdp:er||eA.sdp,serverHost:this.gwNode,params:eC},function(eA,er,ei){return en(ec,void 0,void 0,function(){var eo,en;return es(this,function(es){switch(es.label){case 0:return eo=(new Date).getTime(),ei.sdp?(en=ei,[4,this.signal.parseRecSdp(ei.sdp)]):[3,2];case 1:en.sdp=es.sent(),es.label=2;case 2:return this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" create session time "+(eo-eQ)),ev.setAttributes({webrtc_sid:er,sdp:em.sdp(ei.sdp),is_mini:em.is_mini(this.stateCenter.isMiniSdp),gw_nodes:em.gw_nodes(ei.gw_nodes),gw_nodes_ttl:em.gw_nodes(ei.gw_nodes_ttl),gw_version:em.gw_version(ei.gw_version)}),ev.end(),this.stateCenter.reporter.spanSetAttributes({key:eh.event,par:this.streamId},{gw_version:eh.gw_version(ei.gw_version)}),this.stateNego!==ea.ENUM_PUBLISH_STATE_NEGO.iceConnected&&this.getSpan(el.ZegoRTCLogEvent.kZegoPublishIceConnected.event,this.parentSpanKey,"",!0),this.handleCreateSessionWithSdpResp(eA,er,ei),[2]}})})},function(eA,er){var ei;if(ec.sessionSeq==er){var eo=eA==ea.SEND_MSG_TIMEOUT?eh.error.kSessionTimeoutError:eh.error.kSessionRequestError;ec.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" ".concat(ec.streamId," create session fail. signal: ").concat(ec.signal.state,"; ws: ").concat(null===(ei=ec.signal.websocket)||void 0===ei?void 0:ei.readyState," ")),ev.setAttributes({try_cnt:ec.peerFailCount}),ec.stateCenter.reporter.setError(ev,eo),ec.publishStateUpdateError(eo)}else ec.logger.warn(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" seq is not match.")})}else{eB.length>0&&(eC=eB.join("&"));var e_=this.getSpan(el.ZegoRTCLogEvent.kZegoPublishCreateSession.event,this.parentSpanKey);this.signal.createSession(this.sessionSeq,0,0,eu,this.publishOption&&this.publishOption.streamParams,this.gwNode,eC,function(eA,er,ei){return en(ec,void 0,void 0,function(){return es(this,function(eo){return e_.setAttributes({webrtc_sid:em.webrtc_sid(er),gw_nodes:em.gw_nodes(ei.gw_nodes),gw_nodes_ttl:em.gw_nodes(ei.gw_nodes_ttl),gw_version:em.gw_version(ei.gw_version)}),e_.end(),this.stateCenter.reporter.spanSetAttributes({key:eh.event,par:this.streamId},{gw_version:eh.gw_version(ei.gw_version)}),this.handleCreateSessionResp(eA,er,ei),[2]})})},function(eA,er){if(ec.sessionSeq==er){var ei=eA==ea.SEND_MSG_TIMEOUT?eh.error.kSessionTimeoutError:eh.error.kSessionRequestError;ec.stateCenter.reporter.setError(e_,ei),ec.publishStateUpdateError(ei)}else ec.logger.warn(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" seq is not match.")})}this.state=ea.ENUM_PUBLISH_STATE.waitingSessionRsp,this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" "+this.streamId+" called success"),this.stateNego=ea.ENUM_PUBLISH_STATE_NEGO.start},eA.prototype.handleCreateSessionResp=function(eA,er,ei){var eo=ei.turn_server,en=eo.split("?")[0]&&eo.split("?")[0].slice(5),es=this.streamCenter.server.split("?"),ea=es[1]&&es[1].slice(2),eg="webrtc://".concat(en,"/").concat(ea,"/").concat(this.streamId);if(this.stateCenter.reporter.spanSetAttributes({key:this.parentSpanKey,par:this.streamId},{webrtc_sid:ei.session_id,url:eg}),this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" "+this.streamId+" sessionId:"+ei.session_id),this.sessionSeq==eA){this.resetPushCmdSeqMap(),this.stateCenter.clientIP=ei.clientip?ei.clientip:this.stateCenter.clientIP;var ec=0,eu=(new Date).getTime();this.reportBeginTime&&(this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" "+this.streamId+" create signal time "+(ec=eu-this.reportBeginTime)),this.signalTime=ec),this.answerSdpTime=eu,0!==ei.result?(this.stateCenter._isMiniSdp=!1,this.logger.error(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" "+this.streamId+" create session failed "+ei.result),this.publishStateUpdateError(eh.error.kSessionRequestError)):(this.sessionId=ei.session_id,this.sessionToken=ei.session_token,this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" "+this.streamId+" create session success "+this.sessionId),this.setGwNodes(ei,!1),this.onCreatePublishSessionSuccess(ei))}else this.logger.error(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" "+this.streamId+" seq is not match.")},eA.prototype.handleCreateSessionWithSdpResp=function(eA,er,ei){var eo=this;if(this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" sessionId:"+er),this.sessionSeq==eA){this.resetPushCmdSeqMap(),this.stateCenter.clientIP=ei.clientip?ei.clientip:this.stateCenter.clientIP;var ea=0,eg=(new Date).getTime();if(this.reportBeginTime&&(this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" "+this.streamId+" create signal time "+(ea=eg-this.reportBeginTime)),this.signalTime=ea),this.answerSdpTime=eg,0!==ei.result)this.stateCenter._isMiniSdp=!1,this.logger.error(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" create session failed "+ei.result),this.publishStateUpdateError({code:eh.error.kSessionRequestError.code,message:eh.error.kSessionRequestError.message+" result:"+ei.result});else{this.sessionId=er,this.sessionToken=ei.session_token,this.setGwNodes(ei,!1),this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" get remote session success "+this.streamId);var ec=performance.now();this.signal.registerPushCallback("CloseSessionPush",this.sessionId,function(eA,er,ei){if(ec){var en=(performance.now()-ec).toFixed(0);ec=void 0,eo.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" ".concat(eo.streamId,", cmd: CloseSessionPush, cost_time: ").concat(en))}eo.onRecvCloseSession(eA,er,ei)}),this.signal.registerPushCallback("SessionResetPush",this.sessionId,function(eA,er,ei){eo.onRecvResetSession(eA,er,ei)}),this.signal.registerPushCallback("PublishEventPush",this.sessionId,function(eA,er,ei){if(eo.compareSeqs("PublishEventPush",eA)){if(ec){var en=(performance.now()-ec).toFixed(0);ec=void 0,eo.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" ".concat(eo.streamId,", cmd: PublishEventPush, cost_time: ").concat(en))}eo.onRecvPublishEvent(eA,er,ei)}}),this.signal.registerPushCallback("ClientInfoPush",this.sessionId,function(eA,er,ei){eo.compareSeqs("ClientInfoPush",eA)&&eo.onRecvClientInfo(eA,er,ei)}),this.signal.registerPushCallback("MediaDescUpdatePush",this.sessionId,function(eA,er,ei){return en(eo,void 0,void 0,function(){return es(this,function(eo){switch(eo.label){case 0:return this.compareSeqs("MediaDescUpdatePush",eA)?[4,this.onRecvUpdateMediaDescription(eA,er,ei)]:[2];case 1:return eo.sent(),[2]}})})}),this.onGetRemoteOfferSuccess(ei.sdp)}}else this.logger.error(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" seq is not match.")},eA.prototype.setGwNodes=function(eA,er){var ei;if(this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_SET_GW_NODES+" "+this.streamId+" "+JSON.stringify(null==eA?void 0:eA.gw_nodes)+" "+JSON.stringify(this.retryFailGwNodes)),(null===(ei=eA.gw_nodes)||void 0===ei?void 0:ei.length)>0){var eo=this.sortGwNodes(eA.gw_nodes,this.retryFailGwNodes,er);this.retryFailGwNodes=[],this.handleDispatchedGwNodes(eo,eA.gw_nodes_ttl)}},eA.prototype.resetGwNodes=function(){this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_RESET_GW_NODES+" "+this.streamId),this.gwNode="",this.gwNodeList=[],this.gwNodesTTL=0},eA.prototype.sortGwNodes=function(eA,er,ei){var eo=JSON.parse(JSON.stringify(eA));if(er.forEach(function(eA){var er=eo.indexOf(eA);er>=0&&(eo.splice(er,1),eo.push(eA))}),!ei){var en=eo.findIndex(function(er){return er===eA[0]});en>0&&(eo.splice(en,1),eo.unshift(eA[0]))}return eo},eA.prototype.handleDispatchedGwNodes=function(eA,er){if(this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_HANDLE_DISPATCHED_GW_NODES+" "+this.streamId+" "+JSON.stringify(eA)),Array.isArray(eA)){this.gwNodeList=eA.length>0?eA:this.gwNodeList,this.gwNode=eA.length>0?this.gwNodeList[0]:this.gwNode;var ei=0===er?60:er;this.gwNodesTTL=ei?(new Date).getTime()+1e3*ei:this.gwNodesTTL,eA.length>0&&this.streamCenter.updateCachedGwNodesList(this,!0,eA,ei)}},eA.prototype.onCreatePublishSessionSuccess=function(eA){var er=this,ei=ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_CREATE_PUBLISH_SESSION_SUCCESS;this.logger.info(ei+" "+this.streamId+" called");var eo=[];if(eA.turn_server){var ea=eA.turn_server.split(";");this.setTurnTcp(),this.streamCenter.autoSwitchProtocol=this.stateCenter.settingConfig.getSetting("auto_to_tcp")||!1;var eg=this.stateCenter.settingConfig.getSetting("udp_max_fail_num");isNaN(eg)||(this.streamCenter.maxUdpFailNum=eg);var ec=this.streamCenter,eu=ec.autoSwitchProtocol,el=ec.maxUdpFailNum,eE=ec.udpFailNum;this.logger.info(ei+"  autoToTcp: ".concat(eu,", udpFailNum: ").concat(eE,", maxUdpFailNum: ").concat(el,".")),eu&&!this._turnToTcp&&eE>=el&&(this.logger.info(ei+" switch to tcp. "),this._turnToTcp=!0);var eI=this.stateCenter.settingConfig.getSetting("udp_or_tcp",!0);eI&&(this.logger.info(ei+" setting udp_or_tcp "+eI),this._turnToTcp="tcp"===eI);var eC=void 0,eh=ea.filter(function(eA){return eA.indexOf("udp")>-1}),eB=ea.filter(function(eA){return eA.indexOf("tcp")>-1});eC=this._turnToTcp?eB.length>0?eB:eh.map(function(eA){return eA.replace("udp","tcp")}):eh,this.logger.info(ei+" over tcp "+JSON.stringify(eC)),eo.push.apply(eo,eC)}eA.stun_server&&eo.push(eA.stun_server);var ep={iceTransportPolicy:"all",iceServers:[{urls:eo,username:eA.turn_username,credential:eA.turn_auth_key}],encodedInsertableStreams:this.sideMediaConfig.isSEIStart};this.logger.info(ei+" "+this.streamId+" username: "+eA.turn_username),this.logger.info(ei+" "+this.streamId+" credential: "+eA.turn_auth_key),this.createOffer(ep);var ef=performance.now();this.signal.registerPushCallback("CandidateInfoPush",this.sessionId,function(eA,ei,eo){if(er.compareSeqs("CandidateInfoPush",eA))var en=setTimeout(function(){er.onRecvCandidateInfo(eA,ei,eo),clearTimeout(en)},0)}),this.signal.registerPushCallback("CloseSessionPush",this.sessionId,function(eA,eo,en){if(ef){var es=(performance.now()-ef).toFixed(0);ef=void 0,er.logger.info(ei+" ".concat(er.streamId,", cmd: CloseSessionPush, cost_time: ").concat(es))}er.onRecvCloseSession(eA,eo,en)}),this.signal.registerPushCallback("MediaDescPush",this.sessionId,function(eA,ei,eo){return en(er,void 0,void 0,function(){return es(this,function(er){switch(er.label){case 0:return this.compareSeqs("MediaDescPush",eA)?[4,this.onRecvMediaDescription(eA,ei,eo)]:[2];case 1:return er.sent(),[2]}})})}),this.signal.registerPushCallback("SessionResetPush",this.sessionId,function(eA,ei,eo){er.onRecvResetSession(eA,ei,eo)}),this.signal.registerPushCallback("PublishEventPush",this.sessionId,function(eA,eo,en){if(er.compareSeqs("PublishEventPush",eA)){if(ef){var es=(performance.now()-ef).toFixed(0);ef=void 0,er.logger.info(ei+" ".concat(er.streamId,", cmd: PublishEventPush, cost_time: ").concat(es))}er.onRecvPublishEvent(eA,eo,en)}}),this.signal.registerPushCallback("ClientInfoPush",this.sessionId,function(eA,ei,eo){er.compareSeqs("ClientInfoPush",eA)&&er.onRecvClientInfo(eA,ei,eo)}),this.signal.registerPushCallback("MediaDescUpdatePush",this.sessionId,function(eA,ei,eo){return en(er,void 0,void 0,function(){return es(this,function(er){switch(er.label){case 0:return this.compareSeqs("MediaDescUpdatePush",eA)?[4,this.onRecvUpdateMediaDescription(eA,ei,eo)]:[2];case 1:return er.sent(),[2]}})})}),this.logger.info(ei+" "+this.streamId+" call success")},eA.prototype.compareSeqs=function(eA,er){var ei=this.pushCmdSeqMap[eA],eo=ei.seq,en=ei.time,es=performance.now();return -1!==eo&&eo>=er&&es-en<6e3?(this.logger.warn(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_COMPARE_PUSH_SEQS+" ".concat(this.streamId,", push ").concat(eA,", seq ").concat(er," local ").concat(JSON.stringify(this.pushCmdSeqMap[eA]))),!1):(this.pushCmdSeqMap[eA]={seq:er,time:es},!0)},eA.prototype.createOffer=function(eA){var er,ei,eo,en=this,es=ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_CREATE_PUBLISH_SESSION_SUCCESS;this.peerConnection=new RTCPeerConnection(eA),this.peerConnection.onicecandidate=function(eA){en.onIceCandidate(eA)},this.peerConnection.onsignalingstatechange=function(eA){en.onSignalStateChange(eA)},this.peerConnection.connectionState?this.peerConnection.onconnectionstatechange=function(eA){en.onConnectionStateChange(eA)}:this.logger.info("".concat(es," not support connectionState")),this.peerConnection.oniceconnectionstatechange=function(eA){en.onIceConnectionStateChange(eA)},this.streamCenter.isDataChannelEnabled&&(this.dataChannel=this.peerConnection.createDataChannel(this.streamId),this.dataChannel.binaryType="arraybuffer",this.dataChannel.onopen=function(eA){en.logger.info(es+" "+en.streamId+" data channel open"),en.dataChannelState=1},this.dataChannel.onclose=function(eA){en.logger.error(es+" "+en.streamId+" data channel close ")});var ea=[],eg=[];if(this.lowStream&&this.lowStream.getVideoTracks().forEach(function(eA){var er,ei=null===(er=en.peerConnection)||void 0===er?void 0:er.addTrack(eA,en.lowStream);en.sideMediaConfig.isSEIStart&&ei&&"function"==typeof ei.createEncodedStreams&&en.createVideoSenderTransform(ei,!0)}),this.localStream){if(this.localStream.getTracks().forEach(function(eA){var er,ei=null===(er=en.peerConnection)||void 0===er?void 0:er.addTrack(eA,en.localStream);en.sideMediaConfig.isSEIStart&&ei&&"function"==typeof ei.createEncodedStreams&&("video"===eA.kind?en.createVideoSenderTransform(ei):"audio"===eA.kind&&en.createAudioSenderTransform(ei))}),!(null===(er=this.previewer)||void 0===er?void 0:er.videoTrack)&&this.sideMediaConfig.isSEIStart){this.videoInfo.bitRate||(this.videoInfo.bitRate=50);var ec=this.sideMediaConfig.track=this.addCanvasStreamVideoTrack(),eu=this.peerConnection.addTrack(ec,this.localStream);eu&&"video"==ec.kind&&"function"==typeof eu.createEncodedStreams&&this.createVideoSenderTransform(eu)}(null===(ei=this.previewer)||void 0===ei?void 0:ei.videoTrack)&&(ea=[null===(eo=this.previewer)||void 0===eo?void 0:eo.videoTrack]),eg=this.localStream.getAudioTracks(),ea.length>0&&this.logger.info(es+" "+this.streamId+" video device: "+ea[0].label),eg.length>0&&this.logger.info(es+" "+this.streamId+" audio device: "+eg[0].label)}var eE={offerToReceiveAudio:eg.length>0?1:0,offerToReceiveVideo:ea.length>0?1:0};this.logger.info(es+" "+this.streamId+" createOffer: "+JSON.stringify(eE));var eI=this.getSpan(el.ZegoRTCLogEvent.kZegoPublishCreateOffer.event,this.parentSpanKey);this.peerConnection.createOffer(eE).then(function(eA){eI.setAttributes({sdp:el.ZegoRTCLogEvent.kZegoPublishCreateOffer.sdp(eA.sdp),is_mini:el.ZegoRTCLogEvent.kZegoPublishCreateOffer.is_mini(en.stateCenter.isMiniSdp)}),eI.end(),en.onCreateOfferSuccess(eA)},function(eA){en.logger.error(es+" "+en.streamId+" create offer error "+eA.toString()),en.stateCenter.reporter.setError(eI,{code:eh.error.kCreateOfferError.code,message:eA.toString()}),en.publishStateUpdateError(eh.error.kCreateOfferError,!0)})},eA.prototype.sendSEI=function(eA){if("H264"!==this.videoCodec)return this.logger.error(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_SEND_SEI+" code not support"),!1;if(!this.sideMediaConfig.isSEIStart)return this.logger.error(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_SEND_SEI+" not enable to send sei"),!1;var er,ei,eo=null===(er=this.peerConnection)||void 0===er?void 0:er.getSenders().filter(function(eA){return eA.track&&"video"===eA.track.kind});return eo&&"function"!=typeof(null===(ei=eo[0])||void 0===ei?void 0:ei.createEncodedStreams)?(this.logger.error(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_SEND_SEI+" browser not support"),!1):this.sideMediaConfig.SEIType==ea.ZegoSEIType.UserUnregister&&eA.byteLength<=16?(this.logger.error(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_SEND_SEI+" inData size should greater than 16"),!1):this.mediaSideInfos.length>=10?(this.logger.error(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_SEND_SEI+" side info count limit"),!1):(this.mediaSideInfos.push(eA.buffer),this.lowStream&&this.lowMediaSideInfos.push(eA.buffer),!0)},eA.prototype.createAudioSenderTransform=function(eA){var er=eA.createEncodedStreams(),ei=new TransformStream({transform:this.encodeAudioFrame});er.readable.pipeThrough(ei).pipeTo(er.writable)},eA.prototype.encodeAudioFrame=function(eA,er){er.enqueue(eA)},eA.prototype.createVideoSenderTransform=function(eA,er){void 0===er&&(er=!1);var ei=eA.createEncodedStreams(),eo=new TransformStream({transform:er?this.encodeLowVideoFrame:this.encodeVideoFrame});ei.readable.pipeThrough(eo).pipeTo(ei.writable)},eA.prototype.encodeSEINalu=function(eA){var er=eA.byteLength,ei=parseInt(er/255),eo=er%255,en=new ArrayBuffer(1+(ei+1)+er+1),es=new DataView(en),eg=0;es.setUint8(eg++,this.sideMediaConfig.SEIType===ea.ZegoSEIType.UserUnregister?5:243);for(var ec=0;ec<ei;ec++)es.setUint8(eg++,255);es.setUint8(eg++,eo);var eu=new DataView(eA);for(ec=0;ec<(null==eA?void 0:eA.byteLength);ec++)es.setInt8(eg++,eu.getInt8(ec));es.setInt8(eg++,128);var el=new Uint8Array(en),ed=el;return this.stateCenter.seiConfig.emulationPreventionByte&&(ed=function(eA){for(var er=[],ei=eA.length,eo=0,en=0;en<ei;++en){var es=eA[en];es<=3&&eo>=2&&(er.push(3),eo=0),er.push(eA[en]),0==es?++eo:eo=0}var ea=new Uint8Array(er);return{output:ea,outLength:ea.length}}(el).output),{rbspView:ed,ebspLength:ed.length}},eA.prototype.encodeFrame=function(eA,er,ei){var eo=ei?this.lowMediaSideInfos:this.mediaSideInfos;if(eo.length>0){for(var en=new DataView(eA.data),es=[],ea=0,eg=0;eg<eo.length;eg++){var ec=this.encodeSEINalu(eo[eg]);ea+=5+(ev=ec.ebspLength),es.push(ec)}ei?this.lowMediaSideInfos=[]:this.mediaSideInfos=[];for(var eu=new ArrayBuffer(ea+eA.data.byteLength),el=new DataView(eu),ed=0,eI=new eE.H264Parser(en),eC=0,eh=!1,eB=!1;eI.NextNalu();){var ep=31&en.getUint8(eI.nalu_start+eI.start_code_size);if(7==ep)eh=!0,eC+=eI.nalu_size;else if(8==ep)eB=!0,eC+=eI.nalu_size;else if(9==ep)continue;if(eh&&eB)break}for(var ef=0;ef<eC;ef++)el.setInt8(ed++,en.getInt8(ef));for(eg=0;eg<es.length;eg++){var em=es[eg],eQ=em.rbspView,ev=em.ebspLength;el.setUint8(ed++,0),el.setUint8(ed++,0),el.setUint8(ed++,0),el.setUint8(ed++,1),el.setUint8(ed++,6);for(var e_=0;e_<ev;e_++)el.setInt8(ed++,eQ[e_-0])}for(ef=eC;ef<eA.data.byteLength;ef++)el.setInt8(ed++,en.getInt8(ef));new Uint8Array(eu),eA.data=eu}er.enqueue(eA)},eA.prototype.onCreateOfferSuccess=function(eA,er,ei,eo){var ea,ec=this;er&&(this.isUpdateSDP=!0,eo&&(this.updateSDPCallBack=eo)),this.videoInfo.bitRate>0&&(eA.sdp=this.updateBandwidthRestriction(eA.sdp,this.videoInfo.bitRate)),eA.sdp=eA.sdp.replace(/sendrecv/g,"sendonly");var eu=eA.sdp.match(/m=application[\s\S]+datachannel[\s\S]+/)?eA.sdp.match(/m=application[\s\S]+datachannel[\s\S]+/)[0]:null;if(eu){var eE=eu.replace(/sendonly/,"sendrecv");eA.sdp=eA.sdp.replace(eu,eE)}eA.sdp=eA.sdp.replace(/useinbandfec=\d+/,(this.videoInfo.audioBitrate?"maxaveragebitrate="+this.videoInfo.audioBitrate:"")+(2===this.videoInfo.channelCount?";stereo=1":"")),this.localSdpOrder=eA.sdp.match(/m=(.\w*)\s/g)||[],this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_CREATE_OFFER_SUCCESS+" "+this.streamId+" local sdp revert "+this.localSdpOrder.join("")),eA.sdp=eg.SdpUtil.getSDPByVideDecodeType(eA.sdp,this.videoCodec),this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_CREATE_OFFER_SUCCESS+" "+this.streamId+" localSdp1 "+eA.sdp.substr(0,eA.sdp.length/2)),this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_CREATE_OFFER_SUCCESS+" "+this.streamId+" localSdp2 "+eA.sdp.substr(eA.sdp.length/2));var eI=this.getSpan(el.ZegoRTCLogEvent.kZegoPublishSetLocalSdp.event,this.parentSpanKey);eI.setAttributes({sdp:el.ZegoRTCLogEvent.kZegoPublishSetLocalSdp.sdp(eA.sdp),is_mini:el.ZegoRTCLogEvent.kZegoPublishSetLocalSdp.is_mini(this.stateCenter.isMiniSdp)}),null===(ea=this.peerConnection)||void 0===ea||ea.setLocalDescription(eA).then(function(){return en(ec,void 0,void 0,function(){return es(this,function(er){switch(er.label){case 0:return eI.end(),[4,this.onSetLocalDescriptionSuccess(eA,ei)];case 1:return er.sent(),[2]}})})},function(eA){ec.logger.error(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_CREATE_OFFER_SUCCESS+" "+ec.streamId+" error "+eA.toString()),ec.stateCenter.reporter.setError(eI,{code:eh.error.kSetLocalDescError.code,message:eA.toString()}),ec.publishStateUpdateError(eh.error.kSetLocalDescError,!0)})},eA.prototype.updateBandwidthRestriction=function(eA,er){var ei="AS";return"firefox"===this.stateCenter.browser&&(er=1e3*(er>>>0),ei="TIAS"),eA=-1===eA.indexOf("b="+ei+":")?eA.replace(/(m=video.*\r\nc=IN.*\r\n)/g,"$1b="+ei+":"+er+"\r\n"):(eA=eA.replace(RegExp("b="+ei+":.*\r\n","g"),"b="+ei+":"+er+"\r\n")).replace("b="+ei+":"+er+"\r\n","")},eA.prototype.onSetLocalDescriptionSuccess=function(eA,er){var ei,ec,eu,eE;return en(this,void 0,void 0,function(){var en,eI,eC,eB,ep,ef,em,eQ,ev,e_,ey,eS,eR=this;return es(this,function(es){switch(es.label){case 0:return this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+" "+this.streamId+" success"),this.isUpdateSDP||(this.state=ea.ENUM_PUBLISH_STATE.waitingOfferRsp),er&&(this.videoInfo=eo(eo({},this.videoInfo),er)),en=!1,eI=null===(ei=this.previewer)||void 0===ei?void 0:ei.previewType,eC=this.stateCenter.settingConfig,"camera"===eI?en=eC.getSetting("camera_hard_encode"):"screen"===eI?en=eC.getSetting("hardware_encode"):"custom"===eI&&(en=eC.getSetting("custom_hard_encode")),eB=!en,this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+" "+this.streamId+" ".concat(null===(ec=this.previewer)||void 0===ec?void 0:ec.previewType," software encode: ").concat(eB,", ")),ep=eg.SdpUtil.getSDPByVideDecodeType(eA.sdp,this.videoCodec,eB,this.stateCenter.engineConfig.encodecSelectionMode),em=(null==(ef=null===(eu=this.previewer.videoTrack)||void 0===eu?void 0:eu.getSettings())?void 0:ef.width)||this.videoInfo.width,eQ=(null==ef?void 0:ef.height)||this.videoInfo.height,ev=(null==ef?void 0:ef.frameRate)||this.videoInfo.frameRate,e_={sdp:ep,width:isNaN(em)?100:em,height:isNaN(eQ)?100:eQ,frameRate:isNaN(ev)?15:ev,video_min_kpbs:this.videoInfo.bitRate,video_max_kpbs:this.videoInfo.bitRate,audio_kpbs:48,keyframe_intv:Math.floor((null===(eE=this.videoInfo)||void 0===eE?void 0:eE.keyFrameInterval)||2)},this.offerSeq=(0,ea.getSeq)(),this.isUpdateSDP?(this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+" "+this.streamId+" update sdp"),ey=eo(eo({},e_),{seq:this.sessionSeq,peerID:this.peerID,type:0}),[4,this.signal.sendMediaDescUpdateReq(this.offerSeq,this.sessionId,ey,function(eA,er,ei){},function(eA,er){eR.logger.error(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+" "+eR.streamId+" update sdp failed"),eR.updateSDPCallBack&&eR.updateSDPCallBack(-1),eR.publishStateUpdateError(eA==ea.SEND_MSG_TIMEOUT?eh.error.kUpdateMediaDescriptionTimeOut:eh.error.kUpdateMediaDescriptionError)})]):[3,2];case 1:return es.sent(),[2];case 2:return this.isPeer?this.createSession(eA,ep):(eS=this.getSpan(el.ZegoRTCLogEvent.kZegoPublishSendMediaDesc.event,this.parentSpanKey),this.signal.sendMediaDesc(this.offerSeq,this.sessionId,0,e_,function(eA,er,ei){eS.setAttributes({webrtc_sid:el.ZegoRTCLogEvent.kZegoPublishSendMediaDesc.webrtc_sid(er),mediaDescription:{width:e_.width,height:e_.height,frameRate:e_.frameRate,video_min_kpbs:e_.video_min_kpbs,video_max_kpbs:e_.video_max_kpbs,audio_kpbs:e_.audio_kpbs,keyframe_intv:e_.keyframe_intv},sdp:e_.sdp}),eS.end(),eR.offerSeq==eA&&eR.sessionId==er?(eR.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+" "+eR.streamId+" send success"),eR.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+" "+eR.streamId+" send success stateNego:waiterAnswer"),eR.stateNego=ea.ENUM_PUBLISH_STATE_NEGO.waiterAnswer,eR.state=ea.ENUM_PUBLISH_STATE.waitingServerAnswer):eR.logger.error(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+" "+eR.streamId+" seq or sessionId is not equal")},function(eA,er){eR.stateCenter.reporter.setError(eS,{code:eh.error.kMediaDescError.code,message:eA.toString()}),eR.publishStateUpdateError(eh.error.kMediaDescError)}),this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+" "+this.streamId+" call success")),[2]}})})},eA.prototype.onRecvUpdateMediaDescription=function(eA,er,ei){return en(this,void 0,void 0,function(){var er;return es(this,function(eo){switch(eo.label){case 0:return this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_UPDATE_MEDIA_DESC+" "+this.streamId+" received"),this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_UPDATE_MEDIA_DESC+" "+this.streamId+" received stateNego:waitingCandidate"),this.signal.sendUpdateMediaDescAck(eA,this.sessionId,0,this.peerID),[4,this.signal.parseRecSdp(ei.sdp)];case 1:return er=(er=eo.sent())||ei.sdp,1==ei.type?this.onGetRemoteOfferSuccess(er):this.publishStateUpdateError(eh.error.kMediaDescError),[2]}})})},eA.prototype.onRecvMediaDescription=function(eA,er,ei){return en(this,void 0,void 0,function(){var er,eo;return es(this,function(en){switch(en.label){case 0:return this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_MEDIA_DESC+" "+this.streamId+" received"),[4,this.signal.parseRecSdp(ei.sdp)];case 1:return er=(er=en.sent())||ei.sdp,(eo=this.getSpan(el.ZegoRTCLogEvent.kZegoPublishRecvMediaDesc.event,this.parentSpanKey)).setAttributes({sdp:el.ZegoRTCLogEvent.kZegoPublishRecvMediaDesc.sdp(ei.sdp),is_mini:el.ZegoRTCLogEvent.kZegoPublishRecvMediaDesc.is_mini(this.stateCenter.isMiniSdp)}),eo.end(),this.state!=ea.ENUM_PUBLISH_STATE.waitingServerAnswer?this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_MEDIA_DESC+" "+this.streamId+" current state "+this.state+" not allowed"):(this.stateNego=ea.ENUM_PUBLISH_STATE_NEGO.waitingCandidate,this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_MEDIA_DESC+" "+this.streamId+" received stateNego:waitingCandidate"),this.signal.sendMediaDescAck(eA,this.sessionId,0),1==ei.type?this.onGetRemoteOfferSuccess(er):this.publishStateUpdateError(eh.error.kMediaDescError)),[2]}})})},eA.prototype.onGetRemoteOfferSuccess=function(eA){var er,ei,eo,en=this;this.videoInfo.audioBitrate&&48e3!==this.videoInfo.audioBitrate&&(eA=eA.replace(/maxaveragebitrate=(\d+)/,"maxaveragebitrate="+this.videoInfo.audioBitrate)),this.remoteSdpOrder=eA.match(/m=(.\w*)\s/g)||[],this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_GET_REMOTE_DESCRIPTION+" "+this.streamId+"NaN"+this.remoteSdpOrder.join("")),this.setTurnTcp(),this.streamCenter.autoSwitchProtocol=this.stateCenter.settingConfig.getSetting("auto_to_tcp")||!1;var es=this.stateCenter.settingConfig.getSetting("udp_max_fail_num");isNaN(es)||(this.streamCenter.maxUdpFailNum=es);var eg=this.streamCenter,ec=eg.autoSwitchProtocol,eu=eg.maxUdpFailNum,eE=eg.udpFailNum;this.logger.info("zp.oro.0  autoToTcp: ".concat(ec,", udpFailNum: ").concat(eE,", maxUdpFailNum: ").concat(eu,".")),ec&&!this._turnToTcp&&eE>=eu&&(this.logger.info("zp.oro.0 switch to tcp."),this._turnToTcp=!0);var eI=this.stateCenter.settingConfig.getSetting("udp_or_tcp",!0);if(eI&&(this.logger.info("zp.oro.0 setting udp_or_tcp "+eI),this._turnToTcp="tcp"===eI),this._turnToTcp&&(null===(er=eA.match(/candidate.*/g))||void 0===er||er.forEach(function(er){var ei=er.replace(/udp/,"tcp");ei.includes(" tcptype ")||(ei=ei.replace(" typ host "," typ host tcptype passive ")),eA=eA.replace(er,ei)})),this.logger.info("zp.oro.0 "+this.streamId+" sdp revert "+this.localSdpOrder.join("")+" "+this.remoteSdpOrder.join("")),this.localSdpOrder.join()!==this.remoteSdpOrder.join()&&this.localSdpOrder.length==this.remoteSdpOrder.length){var eC=RegExp("[\\s\\S]*"+this.remoteSdpOrder[0]).exec(eA)[0].replace(this.remoteSdpOrder[0],""),eB=[],ep="";this.localSdpOrder.forEach(function(er){var ei=en.remoteSdpOrder.findIndex(function(eA){return eA==er}),eo=RegExp(er+"[\\s\\S]*"+(en.remoteSdpOrder[ei+1]||"")).exec(eA)[0].replace(en.remoteSdpOrder[ei+1],""),es=/a=mid:(\w)/.exec(eo)[1];eB.push(es),ep+=eo||""}),eA=eC.replace(/a=group:BUNDLE.*/,"a=group:BUNDLE "+eB.join(" "))+ep,this.localSdpOrder=[],this.remoteSdpOrder=[]}var ef=eA.match(/m=video(.|\r|\n)*a=rtpmap(.|\r|\n)*(a=fmtp:(\d+).*)/);if("chrome"==this.stateCenter.browser){var em=0,eQ=0;if(this.videoInfo.bitRate&&"target"===this.videoInfo.startBitrate&&(em=this.videoInfo.bitRate),this.videoInfo.minBitrate)eQ=this.videoInfo.minBitrate;else if("screen"===this.previewer.previewType){var ev=function(eA){var er=0,ei=eA.frameRate,eo=eA.width*eA.height*(ei<=30?ei:30);return"number"==typeof eo?(er=eo<=3888e3?200:eo<=6912e3?400:eo<=15552e3?700:eo<=27648e3?1e3:2e3)>eA.bitRate&&(er=eA.bitRate):er=parseInt(.6*eA.bitRate+""),{minBitrate:er,resolution:eo}}(this.videoInfo);eQ=ev.minBitrate,this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_GET_REMOTE_DESCRIPTION+" "+this.streamId+" resolution: ".concat(ev.resolution,", min bitrate: ").concat(eQ))}var e_=[];if(eQ&&e_.push("x-google-min-bitrate=".concat(eQ)),em&&e_.push("x-google-start-bitrate=".concat(em)),null!==ef&&e_.length){var ey,eS=ef[3];ey="".concat(eS,";").concat(e_.join(";")),eA=eA.replace(eS,ey)}}if(this.videoInfo.bitRate>0){var eR="AS",eT=this.videoInfo.bitRate;"firefox"===this.stateCenter.browser&&(eT=1e3*(eT>>>0),eR="TIAS"),eA=/b=AS.*(\r\n|\n)/.test(eA)?eA.replace(/AS:(\d+)/,eR+":"+eT):eA.replace(/m=video.*(\r\n|\n)c=.*(\r\n|\n)/,"$&b=".concat(eR,":").concat(eT,"\n"));var eD=null===(ei=this.peerConnection)||void 0===ei?void 0:ei.getSenders().filter(function(eA){return eA.track&&"video"===eA.track.kind});null==eD||eD.forEach(function(eA){var er,ei,eo,es,ea,eg;if(eA&&eA.getParameters&&eA.setParameters){var ec=eA.getParameters();if(ec.encodings&&0!=ec.encodings.length||(ec.encodings=[{}]),(null===(er=eA.track)||void 0===er?void 0:er.id)==(null===(ei=en.lowStream)||void 0===ei?void 0:ei.getVideoTracks()[0].id)){var eu=null===(eo=en.previewer)||void 0===eo?void 0:eo.lowStreamConfig.bitRate;eu&&(ec.encodings[0].maxBitrate=1e3*eu)}else{ec.encodings[0].maxBitrate=1e3*en.videoInfo.bitRate;var el=en.lastPublishStats.frameWidth,ed=(null===(ea=null===(es=en.previewer)||void 0===es?void 0:es.cameraMaxResolution)||void 0===ea?void 0:ea.maxWidth)||0,eE=null===(eg=en.previewer.videoTrack)||void 0===eg?void 0:eg.getSettings().width,eI=el?Math.min(ed,el):ed;if(ed&&eE){var eC=Math.max(eI/eE,1);ec.encodings[0].scaleResolutionDownBy=eC}}eA.setParameters(ec)}})}this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_GET_REMOTE_DESCRIPTION+" "+this.streamId+" remoteSdp:",eA);var eb={type:"answer",sdp:eA,toJSON:function(){}},eN=this.getSpan(el.ZegoRTCLogEvent.kZegoPublishSetRemoteSdp.event,this.parentSpanKey);eN.setAttributes({sdp:el.ZegoRTCLogEvent.kZegoPublishSetRemoteSdp.sdp(eb.sdp),is_mini:el.ZegoRTCLogEvent.kZegoPublishSetRemoteSdp.is_mini(this.stateCenter.isMiniSdp),webrtc_sid:el.ZegoRTCLogEvent.kZegoPublishSetRemoteSdp.webrtc_sid(this.sessionId)}),null===(eo=this.peerConnection)||void 0===eo||eo.setRemoteDescription(new RTCSessionDescription(eb)).then(function(){en.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_GET_REMOTE_DESCRIPTION+" "+en.streamId+" set success"),eN.end(),en.stateNego==ea.ENUM_PUBLISH_STATE_NEGO.iceConnected&&en.updateSDPCallBack&&(en.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_GET_REMOTE_DESCRIPTION+" "+en.streamId+" update sdp success"),en.updateSDPCallBack(0),en.updateSDPCallBack=void 0,en.isUpdateSDP=!1)},function(eA){en.logger.error(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_GET_REMOTE_DESCRIPTION+" "+en.streamId+" failed: "+eA.toString()),eN.setAttributes({error:eh.error.kSetRemoteDescError.code,message:eA.toString()}),eN.end();var er=!en.stateCenter.isMiniSdp;en.stateCenter._isMiniSdp=!1,en.publishStateUpdateError(eh.error.kSetRemoteDescError,er)}),this.state=ea.ENUM_PUBLISH_STATE.waitingServerICE,this.logger.debug(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_GET_REMOTE_DESCRIPTION+" "+this.streamId+" call success")},eA.prototype.onIceConnectionStateChange=function(eA){var er,ei=this;if(this.state!=ea.ENUM_PUBLISH_STATE.stop&&null!=this.peerConnection){this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_ICE_CONNECTION_STATE_CHANGE+" "+this.streamId+" ice state: "+this.peerConnection.iceConnectionState);var eo=this.getSpan(el.ZegoRTCLogEvent.kZegoRTCIceStateChanged.event,this.parentSpanKey,el.ZegoRTCLogEvent.kZegoTaskRTCPublish.event);if(eo.setAttributes({ice_state:el.ZegoRTCLogEvent.kZegoRTCIceStateChanged.ice_state(this.peerConnection.iceConnectionState)}),"connected"===this.peerConnection.iceConnectionState){if(this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_ICE_CONNECTION_STATE_CHANGE+" "+this.streamId+" connected state "+this.state+" ?"+(null===(er=this.peerConnection)||void 0===er?void 0:er.connectionState)),this.reportBeginTime){var en=(new Date).getTime()-this.reportBeginTime;this.reportSpan.setAttributes({publish_begin_time:eB.publish_begin_time(en)}),this.reportBeginTime=0}if(this.stateCenter.reporter.spanEnd({key:el.ZegoRTCLogEvent.kZegoPublishIceConnected.event,par:this.streamId},{webrtc_sid:this.sessionId}),this.stateNego=ea.ENUM_PUBLISH_STATE_NEGO.iceConnected,this.answerSdpTime){var es=(new Date).getTime()-this.answerSdpTime;this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_ICE_CONNECTION_STATE_CHANGE+" "+this.streamId+" ice time "+es)}this.isProbeDispatch=!1,this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_ICE_CONNECTION_STATE_CHANGE+" "+this.streamId+" stateNego:iceConnected"),this.negoTimer&&(clearTimeout(this.negoTimer),this.negoTimer=null),null!=this.iceDisconnectedTimer&&(clearTimeout(this.iceDisconnectedTimer),this.iceDisconnectedTimer=null),this.peerConnection.connectionState||(this.publishEvent?this.publishSuccess():(this.firstGetStatsTimer&&clearTimeout(this.firstGetStatsTimer),this.firstGetStatsTimer=null,this.firstGetStatsTimer=setTimeout(function(){var eA;ei.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_ICE_CONNECTION_STATE_CHANGE+" get first stats state "+ei.state),ei.state!==ea.ENUM_PUBLISH_STATE.publishing&&(null===(eA=ei.peerConnection)||void 0===eA||eA.getStats().then(function(eA){ei.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_ICE_CONNECTION_STATE_CHANGE+" get first stats suc"),eA.size>0&&ei.publishSuccess()}))},1e3)))}else"closed"===this.peerConnection.iceConnectionState?(eo.end(),this.stateNego=ea.ENUM_PUBLISH_STATE_NEGO.iceClosed,this.checkPublishConnectionFailedState(this.peerConnection.iceConnectionState)):"failed"===this.peerConnection.iceConnectionState?(eo.end(),this.stateNego=ea.ENUM_PUBLISH_STATE_NEGO.iceFailed,this.checkPublishConnectionFailedState(this.peerConnection.iceConnectionState)):"disconnected"===this.peerConnection.iceConnectionState&&(eo.end(),this.logger.warn(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_ICE_CONNECTION_STATE_CHANGE+" ice disconnected "),this.stateNego=ea.ENUM_PUBLISH_STATE_NEGO.iceDisconnected,this.iceDisconnectedTimer||(this.iceDisconnectedTimer=setTimeout(function(){ei.checkPublishConnectionFailedState("disconnected")},this.iceDisconnectedMaxTime)))}},eA.prototype.onIceCandidate=function(eA){this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_ICE_CANDIDATE+" "+this.streamId+" candidate"+eA.candidate),eA.candidate&&(this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_ICE_CANDIDATE+" "+this.streamId+" candidate"+eA.candidate.candidate),this.state<ea.ENUM_PUBLISH_STATE.connecting||this.state==ea.ENUM_PUBLISH_STATE.stop?this.candidateInfo.push({candidate:eA.candidate.candidate,sdpMid:eA.candidate.sdpMid,sdpMLineIndex:eA.candidate.sdpMLineIndex}):this.sendCandidateInfo([{candidate:eA.candidate.candidate,sdpMid:eA.candidate.sdpMid,sdpMLineIndex:eA.candidate.sdpMLineIndex}]))},eA.prototype.sendCandidateInfo=function(eA){var er=this;if(this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_SEND_CANDIDATE_INFO+" "+this.streamId+" called"),(eA=eA.filter(function(eA){return eA.candidate.indexOf("relay")>0}))&&!(eA.length<1)){var ei=this.getSpan(el.ZegoRTCLogEvent.kZegoPublishSendIceCandidate.event,this.parentSpanKey);ei.setAttributes({candidate_info:el.ZegoRTCLogEvent.kZegoPublishSendIceCandidate.candidate_info(eA)}),this.stateNego!==ea.ENUM_PUBLISH_STATE_NEGO.iceConnected&&(this.stateNego=ea.ENUM_PUBLISH_STATE_NEGO.sendCandidate),this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_SEND_CANDIDATE_INFO+" "+this.streamId+" stateNego:sendCandidate"),this.signal.sendCandidateInfo((0,ea.getSeq)(),this.sessionId,eA,function(eA,eo,en){er.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_SEND_CANDIDATE_INFO+" "+er.streamId+" send success"),ei.end()},function(eA,eo){er.logger.error(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_SEND_CANDIDATE_INFO+" "+er.streamId+" failed to send: "+eA.toString()),er.stateCenter.reporter.setError(ei,{code:eh.error.kCandidateError.code,message:eA.toString()}),er.publishStateUpdateError(eh.error.kCandidateError)})}else this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_SEND_CANDIDATE_INFO+" "+this.streamId+" cancelled")},eA.prototype.onConnectionStateChange=function(eA){var er,ei=this,eo=null===(er=this.peerConnection)||void 0===er?void 0:er.connectionState;this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_CONNECTION_STATE_CHANGE+" "+this.streamId+" conn state: "+eo),"connected"===eo&&(this.publishEvent?this.publishSuccess():(this.firstGetStatsTimer&&clearTimeout(this.firstGetStatsTimer),this.firstGetStatsTimer=setTimeout(function(){var eA,er=null===(eA=ei.peerConnection)||void 0===eA?void 0:eA.connectionState;ei.state!==ea.ENUM_PUBLISH_STATE.publishing&&"connected"===er?(ei.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_CONNECTION_STATE_CHANGE+" "+ei.streamId+" waiting, still connected "+" push event: ".concat(ei.publishEvent)),ei.publishSuccess()):ei.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_CONNECTION_STATE_CHANGE+" "+ei.streamId+" waiting, state: "+er)},1e3)))},eA.prototype.onSignalStateChange=function(eA){this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_CONNECTION_STATE_CHANGE+" "+this.streamId+" signal state: "+eA.target.signalingState),this.state!=ea.ENUM_PUBLISH_STATE.stop&&null!=this.peerConnection&&"closed"===eA.target.signalingState&&(this.dataReport.addEvent(this.reportSeq,"IceClosed"),this.stateNego=ea.ENUM_PUBLISH_STATE_NEGO.iceClosed,this.checkPublishConnectionFailedState(this.peerConnection.iceConnectionState))},eA.prototype.onRecvCandidateInfo=function(eA,er,ei){var eo,en=this;this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_CANDIDATE_INFO+" "+this.streamId+" received "+JSON.stringify(ei.infos));var es=this.getSpan(el.ZegoRTCLogEvent.kZegoPublishRecvIceCandidate.event,this.parentSpanKey);if(es.setAttributes({candidate_info:el.ZegoRTCLogEvent.kZegoPublishRecvIceCandidate.candidate_info(ei.infos)}),es.end(),this.state==ea.ENUM_PUBLISH_STATE.waitingServerICE){this.signal.sendCandidateInfoAck(eA,this.sessionId,0),this.sendCandidateInfo(this.candidateInfo),this.candidateInfo=[];for(var eg=0;eg<ei.infos.length;eg++){var ec={sdpMid:ei.infos[eg].sdpMid,sdpMLineIndex:ei.infos[eg].sdpMLineIndex,candidate:ei.infos[eg].candidate};this.logger.debug(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_CANDIDATE_INFO+""+this.streamId+" candidate "+ec.candidate),null===(eo=this.peerConnection)||void 0===eo||eo.addIceCandidate(new RTCIceCandidate(ec)).then(function(){en.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_CANDIDATE_INFO+" "+en.streamId+" add success")},function(eA){en.logger.error(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_CANDIDATE_INFO+" "+en.streamId+" add error "+eA.toString()),en.publishStateUpdateError(eh.error.kCandidateError,!0)})}this.state=ea.ENUM_PUBLISH_STATE.connecting,this.getSpan(el.ZegoRTCLogEvent.kZegoPublishIceConnected.event,this.parentSpanKey,"",!0).setAttributes({webrtc_sid:this.sessionId})}else this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_CANDIDATE_INFO+" "+this.streamId+" current state "+this.state+" not allowed")},eA.prototype.onRecvCloseSession=function(eA,er,ei){var eo=this;this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_CLOSE_SESSION+" "+this.streamId+" "+JSON.stringify(ei));var en=this.getSpan(el.ZegoRTCLogEvent.kZegoRTCRecvCloseSession.event,el.ZegoRTCLogEvent.kZegoTaskRTCPublish.event);en.setAttributes({err_info:el.ZegoRTCLogEvent.kZegoRTCRecvCloseSession.err_info(ei.err_info||""),reason_info:null==ei?void 0:ei.reason}),en.end(),this.stateCenter.reporter.spanSetAttributes({key:el.ZegoRTCLogEvent.kZegoTaskRTCPublish.event,par:this.streamId},{denied_info:el.ZegoRTCLogEvent.kZegoTaskRTCPublish.denied_info(ei.err_info),stop_reason:el.ZegoRTCLogEvent.kZegoTaskRTCPublish.stop_reason("DenyStop")}),this.signal.sendCloseSessionAck(eA,this.sessionId,0);var es=ei.err_info?JSON.parse(ei.err_info.toLowerCase()):{},ea=es.action?es.action:null,eg=1*ei.reason,ec=JSON.parse(JSON.stringify(eh.error.kPublishSessionClosedError));ec.message+=" reason:".concat(eg," ").concat(ea?" action:"+ea:""," ").concat((null==es?void 0:es.err)?" err:"+(null==es?void 0:es.err):""),ec.message+=";".concat((0,eI.translate)(eg,ea,null==es?void 0:es.err)),1011===es.err&&(ec=eh.error.kMediaServerForbidError),1014===es.err&&(ec=eh.error.kPublishTokenExpiredError),this.negoTimer&&clearTimeout(this.negoTimer);var eu=!([4,8,10,11,12,14,18,24,26,27,28].includes(eg)||[2,3,4,5,6].includes(ea)),eE=!1;if(!this._turnToTcp){if([8,10].includes(eg)||[18,15].includes(eg)&&2===ea&&[3001,3002].includes(es.err)){this.streamCenter.udpFailNum++;var eC=this.streamCenter;eC.autoSwitchProtocol&&eC.udpFailNum>=eC.maxUdpFailNum&&(this.isPeer=!1,this.streamCenter.setIsPeer(!1),eE=!0)}else this._turnToTcp||(this.streamCenter.udpFailNum=0);var eB=this.gwNodeList.findIndex(function(eA){return eA==eo.gwNode})===this.gwNodeList.length-1,ep=[3001,3002,3003,3004,3005,3006,3007,3008].includes(es.err);eB&&ep&&(this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_CLOSE_SESSION+" "+this.streamId+" switch tcp by all fail"),this.stateCenter.turnToTcp=!0)}this.publishStateUpdateError(ec,eu,es,eE)},eA.prototype.onRecvResetSession=function(eA,er,ei){if(this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_RESET_SESSION+" "+this.streamId+" received "),this.getSpan(el.ZegoRTCLogEvent.kZegoRTCRecvResetSession.event,el.ZegoRTCLogEvent.kZegoTaskRTCPublish.event).end(),er==this.sessionId){this.signal.sendCloseSessionAck(eA,this.sessionId,0);var eo=eh.error.kPublishSessionClosedError;this.negoTimer&&clearTimeout(this.negoTimer),this.publishStateUpdateError(eo)}else this.logger.error(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_RESET_SESSION+" "+this.streamId+" cannot find session")},eA.prototype.onRecvPublishEvent=function(eA,er,ei){this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_PUBLISH_EVENT+" "+this.streamId+" received");var eo,en=this.getSpan(el.ZegoRTCLogEvent.kZegoRTCPublishEvent.event,this.parentSpanKey,el.ZegoRTCLogEvent.kZegoTaskRTCPublish.event);en.setAttributes({event_state:el.ZegoRTCLogEvent.kZegoRTCPublishEvent.event_state(ei.event),webrtc_sid:er}),en.end(),this.publishEvent=!0,this.firstGetStatsTimer&&(clearTimeout(this.firstGetStatsTimer),this.firstGetStatsTimer=null);var es=null===(eo=this.peerConnection)||void 0===eo?void 0:eo.connectionState;(es?"connected"===es:this.stateNego===ea.ENUM_PUBLISH_STATE_NEGO.iceConnected)&&0==ei.event&&this.publishSuccess()},eA.prototype.onRecvClientInfo=function(eA,er,ei){this.stateCenter.clientIP!==ei.clientip&&this.logger.warn(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_CLIENT_INFO+" client ip changed "+this.stateCenter.clientIP+" "+ei.clientip),this.stateCenter.clientIP=ei.clientip,this.peerID=ei.peer_id,this.streamConnectIP=ei.clientip,this.stateCenter.isMultiOuter=this.isMultiOuter(),this.sideMediaConfig.isSEIStart&&this.sideMediaConfig.SEIType==ea.ZegoSEIType.UserUnregister&&this.sideMediaConfig.unregisterSeiFilter&&this.sendSEIUUID();var eo=this.previewer;if(eo&&null!==eo.activateSEIConfig){var en=null==eo?void 0:eo.activateSEIConfig;this.activateSEIInsert(en.action,en.infoType)}},eA.prototype.sendSEIUUID=function(){var eA=this;this.logger.info("zc.ssuid call: "+this.sideMediaConfig.unregisterSeiFilter),this.signal.gw.mediaStreamSEIUUIDReq((0,ea.getSeq)(),this.sessionId,this.peerID,this.sideMediaConfig.unregisterSeiFilter).then(function(er){var ei;eA.logger.info("zc.ssuid success"),0==(null===(ei=null==er?void 0:er.usr_sei_filter)||void 0===ei?void 0:ei.result)&&(eA.sideMediaConfig.uuidSend=!0)}).catch(function(er){eA.logger.error("zc.ssuid failed")})},eA.prototype.checkPublishConnectionFailedState=function(eA){this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_ICE_CONNECTION_STATE_CHANGE+" streamID "+this.streamId," state "+this.state+" connectionState "+eA),this.publishStateUpdateError(eh.error.kMediaConnectionError)},eA.prototype.setPublishQualityTimer=function(){var eA=this;null==this.qualityTimer&&(this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_SET_PLAYER_QUALITY_TIMER+" "+this.streamId+" called"),this.clearPublishQualityTimer(),this.qualityTimer=setInterval(function(){eA.peerConnectionGetStats()},this.qualityTimeInterval),this.lastPublishStats={audioPacketsLost:0,videoPacketsLost:0,videoPacketsSent:0,audioPacketsSent:0,audioRetransmittedPacketsSent:0,videoTime:(new Date).getTime(),audioTime:(new Date).getTime(),time:0,audioBytesSent:0,videoBytesSent:0,framesEncoded:0,framesSent:0,videoRetransmittedPacketsSent:0},this.qualitySeq=(0,ea.getSeq)(),this.qualityCount=0)},eA.prototype.getConnectionStatsPromiseList=function(){var eA=this,er=[];return this.localStream.getTracks().forEach(function(ei){eA.peerConnection&&er.push(eA.peerConnection.getStats(ei))}),er},eA.prototype.peerConnectionGetStats=function(){var eA=this;if(this.peerConnection){var er=this.getConnectionStatsPromiseList();"chrome"==this.stateCenter.browser&&er.push(new Promise(function(er,ei){var eo;null===(eo=eA.peerConnection)||void 0===eo||eo.getStats(function(eA){return er(eA)},function(eA){return ei(eA)})})),Promise.all(er).then(function(er){0!==er.length&&eA.getPublishStats(er.filter(function(eA){return eA instanceof RTCStatsReport}),er[er.length-1]instanceof RTCStatsReport?null:er[er.length-1])}).catch(function(er){eA.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_SET_PLAYER_QUALITY_TIMER+" "+eA.streamId+" getStats error "+er.toString())})}},eA.prototype.getPublishStats=function(eA,er){var ei,eo,en,es=this;if(eA){for(var eg,ec=document.querySelectorAll("video, audio"),el=0;el<ec.length;el++)ec[el].srcObject===this.localStream&&(eg=ec[el]);var eE=this.streamCenter.checkPreview(this.localStream),eI={scenario:this.stateCenter.scenario,sampleTimeWindow:this.qualityTimeInterval,audioCodec:"opus",audioTargetBitrate:this.videoInfo.audioBitrate/1e3||0,audioBitrate:0,videoTargetBitrate:this.videoInfo.bitRate||0,videoTargetFPS:this.videoInfo.frameRate||0,videoBitrate:0,audioFPS:0,audioLevel:0,audioPacketsLost:0,totalAudioEnergy:0,totalSamplesDuration:0,audioPacketsLostRate:0,videoFPS:0,nackCount:0,pliCount:0,audioQuality:0,videoQuality:0,frameHeight:0,frameWidth:0,videoTransferFPS:0,videoPacketsLost:0,videoPacketsLostRate:0,totalRoundTripTime:0,currentRoundTripTime:0,googBandwidthLimitedResolution:void 0,videoCodecName:"",audioCodecName:"",googCpuLimitedResolution:void 0,googAvailableSendBandwidth:0,googActualEncBitrate:0,googTargetEncBitrate:0,googFrameWidthInput:0,googFrameHeightInput:0,googFrameRateInput:0,qualityLimitationReason:"",codecImplementationName:"",videoMuteState:(null===(ei=null==eE?void 0:eE.videoTrack)||void 0===ei?void 0:ei.enabled)?"0":"1",audioMuteState:this.localStream.getAudioTracks().length>0&&this.localStream.getAudioTracks()[0].enabled?"0":"1",soundLevel:null===(eo=this.previewer)||void 0===eo?void 0:eo.soundLevel,muted:eg?eg.muted:void 0,paused:eg?eg.paused:void 0,volume:eg?eg.volume:void 0,sinkId:eg?eg.sinkId:void 0},eC=this.lastPublishStats.time,eh=0,eB=0,ep=0,ef=0,em=0,eQ=0;eA.forEach(function(eA){return eA.forEach(function(eA){if(("outbound-rtp"==eA.type||"ssrc"==eA.type&&null!=eA.bytesSent)&&"audio"==eA.mediaType)0!=eC&&(eI.audioBitrate=8*(eA.bytesSent-es.lastPublishStats.audioBytesSent)/(eA.timestamp-eC),eA.retransmittedPacketsSent=eA.retransmittedPacketsSent||0,eA.packetsSent=eA.packetsSent||0,eI.audioFPS=(eA.packetsSent-(eA.retransmittedPacketsSent-es.lastPublishStats.audioRetransmittedPacketsSent)-es.lastPublishStats.audioPacketsSent)/(eA.timestamp-eC)*1e3||0,ep=(eA.retransmittedPacketsSent-es.lastPublishStats.audioRetransmittedPacketsSent)/(eA.packetsSent-es.lastPublishStats.audioPacketsSent)),eI.audioBitrate<0&&(eI.audioBitrate=0),es.lastPublishStats.audioBytesSent=eA.bytesSent,es.lastPublishStats.time=eA.timestamp,es.lastPublishStats.audioPacketsSentTimeStamp=eA.packetsSent-es.lastPublishStats.audioPacketsSent,es.lastPublishStats.audioPacketsSent=eA.packetsSent,es.lastPublishStats.audioRetransmittedPacketsSent=eA.retransmittedPacketsSent;else if(("outbound-rtp"==eA.type||"ssrc"==eA.type&&null!=eA.bytesSent)&&"video"==eA.mediaType)eI.isHardwareEncode=function(eA){if(eA){var er=null==eA?void 0:eA.toLocaleLowerCase();if("unknown"!==er)return"openh264"!==er&&"libvpx"!==er}}(eA.encoderImplementation),0!=eC&&(eI.videoBitrate=8*(eA.bytesSent-es.lastPublishStats.videoBytesSent)/(eA.timestamp-eC),eI.videoFPS=1e3*(eA.framesEncoded-es.lastPublishStats.framesEncoded)/(eA.timestamp-eC),ef=(eA.retransmittedPacketsSent-es.lastPublishStats.videoRetransmittedPacketsSent)/(eA.packetsSent-es.lastPublishStats.videoPacketsSent)),eI.videoBitrate<0&&(eI.videoBitrate=0),eI.videoFPS<0&&(eI.videoFPS=0),eI.nackCount=eA.nackCount,eI.pliCount=eA.pliCount,eI.qualityLimitationReason=eA.qualityLimitationReason,es.lastPublishStats.videoBytesSent=eA.bytesSent,es.lastPublishStats.framesEncoded=eA.framesEncoded,es.lastPublishStats.time=eA.timestamp,es.lastPublishStats.videoPacketsSentTimeStamp=eA.packetsSent-es.lastPublishStats.videoPacketsSent,es.lastPublishStats.videoPacketsSent=eA.packetsSent,es.lastPublishStats.videoRetransmittedPacketsSent=eA.retransmittedPacketsSent,"firefox"===es.stateCenter.browser&&es.getFramesData(eC,eI,eA);else if("remote-inbound-rtp"==eA.type&&"video"==eA.kind){eA.packetsLost>0&&(eI.videoPacketsLost=eA.packetsLost);var er=eA.packetsLost-es.lastPublishStats.videoPacketsLost;eI.videoPacketsLostRate=er>0?er/es.lastPublishStats.videoPacketsSentTimeStamp:0,eA.packetsLost>0&&(es.lastPublishStats.videoPacketsLost=eA.packetsLost),es.lastPublishStats.videoTime=eA.timestamp,eB=1e3*eA.roundTripTime,eQ=eA.jitter}else if("remote-inbound-rtp"==eA.type&&"audio"==eA.kind){eA.packetsLost>0&&(eI.audioPacketsLost=eA.packetsLost);var ei=eA.packetsLost-es.lastPublishStats.audioPacketsLost;eI.audioPacketsLostRate=ei>0?ei/es.lastPublishStats.audioPacketsSentTimeStamp:0,eA.packetsLost>0&&(es.lastPublishStats.audioPacketsLost=eA.packetsLost),es.lastPublishStats.audioTime=eA.timestamp,eh=1e3*eA.roundTripTime,em=eA.jitter}else"media-source"==eA.type&&("audio"==eA.kind||eA.id.toLowerCase().indexOf("audio")>=0)?(eI.audioLevel=eA.audioLevel||0,eI.totalAudioEnergy=eA.totalAudioEnergy,eI.totalSamplesDuration=eA.totalSamplesDuration):"track"==eA.type&&("video"==eA.kind||eA.id.indexOf("video")>=0||eA.frameWidth)?es.getFramesData(eC,eI,eA):"candidate-pair"==eA.type&&(null!=eA.totalRoundTripTime&&(eI.totalRoundTripTime=eA.totalRoundTripTime),null!=eA.currentRoundTripTime&&(eI.currentRoundTripTime=eA.currentRoundTripTime))})}),er&&er.result().forEach(function(eA){"ssrc"==eA.type&&eA.names().indexOf("googBandwidthLimitedResolution")>=0&&(eI.googBandwidthLimitedResolution=eA.stat("googBandwidthLimitedResolution")),"ssrc"==eA.type&&"video"==eA.stat("mediaType")&&eA.names().indexOf("googCodecName")>=0&&(eI.videoCodecName=eA.stat("googCodecName")),"ssrc"==eA.type&&"audio"==eA.stat("mediaType")&&eA.names().indexOf("googCodecName")>=0&&(eI.audioCodecName=eA.stat("googCodecName")),"ssrc"==eA.type&&eA.names().indexOf("googCpuLimitedResolution")>=0&&(eI.googCpuLimitedResolution=eA.stat("googCpuLimitedResolution")),"ssrc"==eA.type&&eA.names().indexOf("googFrameWidthInput")>=0&&(eI.googFrameWidthInput=eA.stat("googFrameWidthInput")),"ssrc"==eA.type&&eA.names().indexOf("googFrameHeightInput")>=0&&(eI.googFrameHeightInput=eA.stat("googFrameHeightInput")),"ssrc"==eA.type&&eA.names().indexOf("googFrameRateInput")>=0&&(eI.googFrameRateInput=eA.stat("googFrameRateInput")),"ssrc"==eA.type&&eA.names().indexOf("codecImplementationName")>=0&&(eI.codecImplementationName=eA.stat("codecImplementationName")),"VideoBwe"==eA.type&&eA.names().indexOf("googAvailableSendBandwidth")>=0&&(eI.googAvailableSendBandwidth=eA.stat("googAvailableSendBandwidth")),"VideoBwe"==eA.type&&eA.names().indexOf("googActualEncBitrate")>=0&&(eI.googActualEncBitrate=eA.stat("googActualEncBitrate")),"VideoBwe"==eA.type&&eA.names().indexOf("googTargetEncBitrate")>=0&&(eI.googTargetEncBitrate=eA.stat("googTargetEncBitrate")),"VideoBwe"==eA.type&&eA.names().indexOf("googRetransmitBitrate")>=0&&(eI.googRetransmitBitrate=eA.stat("googRetransmitBitrate"))}),"chrome"===this.stateCenter.browser&&this.handleEncBitrate(Number.parseInt(eI.googTargetEncBitrate),Number.parseInt(eI.googActualEncBitrate),Number.parseInt(eI.googRetransmitBitrate)),eB=isNaN(eB)||eB<0?0:eB,ef=isNaN(ef)||ef<0?0:ef,eQ=isNaN(eQ)||eQ<0?0:eQ,eh=isNaN(eh)||eh<0?0:eh,ep=isNaN(ep)||ep<0?0:ep,em=isNaN(em)||em<0?0:em;var ev=eu.ClientUtil.getNetQuality(eB,ef,eQ),e_=eu.ClientUtil.getNetQuality(eh,ep,em);if(eI.videoQuality=eC>0?eu.ClientUtil.quality2QualityGrade(ev):0,eI.audioQuality=eC>0?eu.ClientUtil.quality2QualityGrade(e_):0,this.stateCenter.networkState!==ea.ENUM_NETWORK_STATE.offline&&"disconnected"!==(null===(en=this.peerConnection)||void 0===en?void 0:en.connectionState)||(eI.videoQuality=ea.QualityGrade.Die,eI.audioQuality=ea.QualityGrade.Die),!eI.frameHeight||!eI.frameWidth){var ey=this.localStream.getVideoTracks()[0];ey&&(eI.frameHeight=ey.getSettings().height||0,eI.frameWidth=ey.getSettings().width||0)}var eS=Math.min(ev,e_);this.netQuality=eS,eS<=ea.QUALITY_CONSTANT.MiddleMinQuality?this.poorQualityNum++:this.poorQualityNum=0,eC>0&&this.poorQualityNum>=this.streamCenter.probeStartedNum&&(new Date).getTime()>this.probeTime+this.probeInterval&&(this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_SET_PLAYER_QUALITY_TIMER+" netQuality "+eS+" start net probe"),this.probeState=ea.ENUM_PROBE_STATE.tryProbe,this.poorQualityRetryCnt++,this.streamCenter.startNetProbe(!0,this,this.gwNodeList),this.probeTime=(new Date).getTime()),this.updateCurrentQualityStats(eI),this.publishStat=eI,0!==eC&&(this.uploadPublishQuality(eI),this.onPublishQualityUpdate(this.streamId,this.currentQuality),this.exception.checkLocalStats(eI),this.streamCenter.changeTxQuality(eu.ClientUtil.quality2QualityGrade(this.netQuality),this.sessionId,this.peerID))}},eA.prototype.updateCurrentQualityStats=function(eA){var er=eA.videoBitrate,ei=eA.videoFPS,en=eA.videoTransferFPS,es=eA.frameHeight,ea=eA.frameWidth,eg=eA.videoMuteState,ec=eA.videoQuality,eu=eA.isHardwareEncode,el=eA.audioBitrate,ed=eA.audioCodec,eE=eA.audioMuteState,eI=eA.audioQuality,eC=eA.audioFPS,eh={video:eo(eo({},this.currentQuality.video),{videoBitrate:er,videoFPS:ei,videoTransferFPS:en,frameHeight:es,frameWidth:ea,muteState:eg,videoQuality:ec,isHardwareEncode:eu}),audio:eo(eo({},this.currentQuality.audio),{audioBitrate:el,audioCodec:ed,muteState:eE,audioQuality:eI,audioFPS:eC}),nackCount:eA.nackCount,pliCount:eA.pliCount,totalRoundTripTime:eA.totalRoundTripTime,currentRoundTripTime:eA.currentRoundTripTime,qualityLimitationReason:eA.qualityLimitationReason};if(void 0!==eA.videoPacketsLost){var eB=eA.videoPacketsLostRate;eh.video.videoPacketsLost=eA.videoPacketsLost,eh.video.videoPacketsLostRate=eB}if(void 0!==eA.audioPacketsLost){var ep=eA.audioPacketsLostRate;eh.audio.audioPacketsLost=eA.audioPacketsLost,eh.audio.audioPacketsLostRate=ep}if(void 0!==eA.muted&&(eh.muted=eA.muted,eh.paused=eA.paused,eh.volume=eA.volume,eh.sinkId=eA.sinkId),void 0!==eA.googBandwidthLimitedResolution){var ef=eA.videoCodecName,em=eA.audioCodecName,eQ=eA.googFrameWidthInput,ev=eA.googFrameHeightInput,e_=eA.googCpuLimitedResolution,ey=eA.googFrameRateInput,eS=eA.codecImplementationName,eR=eA.googAvailableSendBandwidth,eT=eA.googActualEncBitrate,eD=eA.googTargetEncBitrate;eh.googBandwidthLimitedResolution=eA.googBandwidthLimitedResolution,eh.video.googCodecName=ef,eh.audio.googCodecName=em,eh.googCpuLimitedResolution=e_,eh.googFrameWidthInput=eQ,eh.googFrameHeightInput=ev,eh.googFrameRateInput=ey,eh.codecImplementationName=eS,eh.googAvailableSendBandwidth=eR,eh.googActualEncBitrate=eT,eh.googTargetEncBitrate=eD}this.currentQuality=eh},eA.prototype.uploadPublishQuality=function(eA){if(this.qualityUpload&&this.signal.isServerConnected){var er=(new Date).getTime();(0==this.qualityUploadLastTime||er-this.qualityUploadLastTime>=2e3)&&(eA.stream_type="publish",eA.stream_id=this.streamId,eA.timeStamp=er,this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_UPLOAD_PUBLISH_QUALITY+" "+this.streamId+" upload"+JSON.stringify(eA)),this.streamCenter.updateQuality(0,eA),this.qualityUploadLastTime=er)}},eA.prototype.getStopReason=function(eA){var er="StopPublish";return eA&&eA.code&&(er=1103051===eA.code?"ReachMaxAVRetryTime":"StopPublish"),er},eA.prototype.stopPublish=function(eA){this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_STOP_PUBLISH+"  .1 "+this.streamId+" called "+this.state+" "+JSON.stringify(eA));var er=this.getStopReason(eA);for(var ei in Object.keys(this.streamCenter.publisherList).length=1,this.streamCenter.playerList){var eo=this.streamCenter.playerList[ei].player;eo.state==ea.ENUM_PLAY_STATE.playing&&eo.broadcasterStatus==ea.ENUM_BROADCASTER_STATUS.start&&(this.signal&&this.signal.sendBroadcasterStatus((0,ea.getSeq)(),eo.sessionId,0),eo.broadcasterStatus=ea.ENUM_BROADCASTER_STATUS.stop)}this.sessionId&&!this.closeSessionSignal&&(this.signal.sendCloseSession((0,ea.getSeq)(),this.sessionId,0),this.resetPushCmdSeqMap());var en=Date.now()-this.reportPublishStateTime;this.reportSpan.setAttributes({publish_state_time:eB.publish_state_time(en)}),this.stateCenter.reporter.spanSetAttributes({key:el.ZegoRTCLogEvent.kZegoTaskRTCPublish.event,par:this.streamId},{stop_reason:el.ZegoRTCLogEvent.kZegoTaskRTCPublish.stop_reason(er)}),this.uploadRTCPublishStats(),this.reportSpan.setAttributes({stream_id:eB.stream_id(this.streamId),webrtc_sid:eB.webrtc_sid(this.sessionId),probe_ip_cnt:eB.probe_ip_cnt(this.probeIpCnt),valid_probe_ip_cnt:eB.valid_probe_ip_cnt(this.validProbeIpCnt),poor_quality_retry_cnt:eB.poor_quality_retry_cnt(this.poorQualityRetryCnt),probe_not_trigger_retry_info:eB.probe_not_trigger_retry_info(this.probeNotRetryInfos.length>0?this.probeNotRetryInfos:void 0),bitrate:eB.bitrate(1e3*this.videoInfo.bitRate),h:eB.h(this.videoInfo.height),w:eB.w(this.videoInfo.width),cap_w:eB.w(this.videoInfo.width),cap_h:eB.h(this.videoInfo.height),fps:eB.h(this.videoInfo.frameRate),env:eB.env(this.stateCenter.testEnvironment?3:1),fail_cnt:eB.fail_cnt(Math.max(this.rtcPublishCount-1,0)),continuous_fail_cnt:eB.continuous_fail_cnt(this.continuousFailCnt),stop_reason:eB.stop_reason(er),error:(null==eA?void 0:eA.code)||0,message:(null==eA?void 0:eA.message)||""}),this.reportSpan.end(),this.streamCenter.stopToReport(0),this.retryFailGwNodes=[],this.resetPublish(),this.isRePublish=!1,this.rtcPublishCount=0,this.isProbeDispatch=!1,this.probeIpCnt=0,this.validProbeIpCnt=0,this.poorQualityRetryCnt=0,this.probeNotRetryInfos=[],this.continuousFailCnt=0},eA.prototype.uploadRTCPublishStats=function(){var eA,er,ei,eo,en,es,ea,eg,ec,eu,ed,eE,eI,eC;this.stateCenter.reporter.spanSetAttributes({key:el.ZegoRTCLogEvent.kZegoTaskRTCPublish.event,par:this.streamId},{lsttime:el.ZegoRTCLogEvent.kZegoTaskRTCPublish.lsttime(parseInt(this.lastPublishStats.time)),total_stat:el.ZegoRTCLogEvent.kZegoTaskRTCPublish.total_stat({afc:null===(eA=this.lastPublishStats)||void 0===eA?void 0:eA.audioPacketsSent,vfc:null===(er=this.lastPublishStats)||void 0===er?void 0:er.framesSent,tfc:(null===(ei=this.lastPublishStats)||void 0===ei?void 0:ei.audioPacketsSent)+(null===(eo=this.lastPublishStats)||void 0===eo?void 0:eo.framesSent),vb:null===(en=this.lastPublishStats)||void 0===en?void 0:en.videoBytesSent,ab:null===(es=this.lastPublishStats)||void 0===es?void 0:es.audioBytesSent,tb:(null===(ea=this.lastPublishStats)||void 0===ea?void 0:ea.videoBytesSent)+(null===(eg=this.lastPublishStats)||void 0===eg?void 0:eg.audioBytesSent),rtp_rtt:Math.round(1e3*(null===(ec=this.publishStat)||void 0===ec?void 0:ec.currentRoundTripTime))||0,w:null===(eu=this.publishStat)||void 0===eu?void 0:eu.frameWidth,rtp_plr:null===(ed=this.publishStat)||void 0===ed?void 0:ed.videoPacketsLostRate,h:null===(eE=this.publishStat)||void 0===eE?void 0:eE.frameHeight,rtp_bw:(null===(eI=this.publishStat)||void 0===eI?void 0:eI.googAvailableSendBandwidth)?null===(eC=this.publishStat)||void 0===eC?void 0:eC.googAvailableSendBandwidth:void 0})})},eA.prototype.onPublishStateUpdate=function(eA,er,ei,eo,en,es){},eA.prototype.onPublishQualityUpdate=function(eA,er){},eA.prototype.onDisconnect=function(eA){this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_DISCONNECT+" "+this.streamId+" call"),this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_DISCONNECT+" "+this.streamId+" websocket disconnect"),this.publishStateUpdateError(eA||el.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kWebsocketDisconnectedError,!!eA)},eA.prototype.publishSuccess=function(){if(this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_PUBLISH_SUCCESS+" call"),this._turnToTcp||(this.streamCenter.udpFailNum=0),this.isUpdateSDP&&this.updateSDPCallBack)return this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_PUBLISH_SUCCESS+" "+this.streamId+" update sdp success"),this.updateSDPCallBack(0),this.updateSDPCallBack=void 0,void(this.isUpdateSDP=!1);var eA,er,ei,eo,en=this.isRePublish?el.ZegoRTCLogEvent.kZegoRePublish:el.ZegoRTCLogEvent.kZegoStartPublish;for(var es in this.stateCenter.reporter.spanEnd({key:en.event,par:this.streamId},{url:ep.url(null===(eA=this.signal)||void 0===eA?void 0:eA.server),ip:ep.ip(this.ip),source_type:ep.source_type("rtc"),net_protocol:ep.net_protocol(this.netProtocol),is_center:ep.is_center(null===(er=this.streamCenter.publisherList[this.streamId])||void 0===er?void 0:er.isCenterNode),signal_consume:ep.signal_consume(this.signalTime),is_peer:ep.is_peer(this.isPeer)}),this.state!=ea.ENUM_PUBLISH_STATE.publishing&&this.onPublishStateUpdate(ea.ENUM_PUBLISH_STATE_UPDATE.start,this.streamId,{code:0,message:""},!0),this.isPeer&&(this.peerFailCount=0),this.state=ea.ENUM_PUBLISH_STATE.publishing,this.continuousFailCnt=0,this.reportPublishStateTime=Date.now(),this.streamCenter.playerList){var eg=this.streamCenter.playerList[es].player;eg.state==ea.ENUM_PLAY_STATE.playing&&eg.broadcasterStatus==ea.ENUM_BROADCASTER_STATUS.stop&&(this.signal&&this.signal.sendBroadcasterStatus((0,ea.getSeq)(),eg.sessionId,1),eg.broadcasterStatus=ea.ENUM_BROADCASTER_STATUS.start)}var ec=this.stateCenter.settingConfig.getSetting("probe_started_num");isNaN(ec)||(this.streamCenter.probeStartedNum=ec),this.setPublishQualityTimer();var eu=2,eE=2,eI=null===(ei=this.previewer)||void 0===ei?void 0:ei.videoTrack,eC=0!==this.localStream.getAudioTracks().length&&this.localStream.getAudioTracks()[0];(eI&&"live"===eI.readyState&&!0===eI.enabled||(null===(eo=this.previewer)||void 0===eo?void 0:eo.muteImage))&&(eu=0),eC&&"live"===eC.readyState&&!0===eC.enabled&&(eE=0),this.sendStreamStatus(eu,eE,!0),this.streamCenter.soundLevelDelegate&&this.previewer&&this.previewer.startSoundLevel(),this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_PUBLISH_SUCCESS+" call success")},eA.prototype.startSoundLevel=function(){var eA;if(this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_START_SOUND_LEVEL+" call streamID: "+this.streamId),this.localStream&&0!=this.localStream.getAudioTracks().length)try{null===(eA=this.previewer)||void 0===eA||eA.startSoundLevel()}catch(eA){this.logger.error(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_START_SOUND_LEVEL+" "+this.streamId+" get sound level failed "+eA)}else this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_START_SOUND_LEVEL+" "+this.streamId+" local stream no found")},eA.prototype.stopSoundLevel=function(){var eA;this.logger.info(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_STOP_SOUND_LEVEL+" call streamID: "+this.streamId),null===(eA=this.previewer)||void 0===eA||eA.stopSoundLevel()},eA.prototype.handleEncBitrate=function(eA,er,ei){var eo,en=this,es=1e3*this.videoInfo.bitRate,ea=0;if(er>0){this.needIncMax||this.gotMax||(this.probeCount++,er>=.75*eA?(this.probeCount>=10&&this.initFitCnt>=.6*this.probeCount&&(this.gotMax=!0,this.targetRate=es),this.initFitCnt++):this.probeCount>=10&&this.initFitCnt/this.probeCount<.3&&(this.needIncMax=!0));var eg=eu.ClientUtil.arrAvg(this.totalBitrateArray,er,10);this.needIncMax&&(eg>=1.05*es?this.targetRate>es&&(this.targetRate-=eg>eA?eg-eA:eg-es,this.targetRate=Math.max(this.targetRate,es),this.targetRate=Math.min(this.targetRate,2*es),ea=this.targetRate):eg<.8*es&&(0===this.targetRate&&(this.targetRate=eA),this.targetRate=this.targetRate>=es?this.targetRate+.08*es:1.05*this.targetRate,this.targetRate=Math.min(this.targetRate,2*es),ea=this.targetRate))}if(ei>0&&ei<es){var ec=eu.ClientUtil.arrAvg(this.totalRetransRateArray,ei,5);this.needIncMax?ec+er>1.05*es&&(this.targetRate-=ec+er-es,this.targetRate=Math.max(this.targetRate,es-ec),ea=this.targetRate):ea=this.targetRate-ec}else this.targetRate<es&&(this.targetRate=es,ea=this.targetRate);if(ea>0){ea=eu.ClientUtil.arrAvg(this.totalTargetRateArray,ea,5);var el=null===(eo=this.peerConnection)||void 0===eo?void 0:eo.getSenders().filter(function(eA){return eA.track&&"video"===eA.track.kind});if(!el)return;var eE=el.length>1?el[1]:el[0]?el[0]:null;if(!eE)return;var eI=eE.getParameters();eI.encodings||(eI.encodings=[{}]),eI.encodings[0].maxBitrate=ea,eE.setParameters(eI).catch(function(eA){en.logger.error(ed.ZEGO_WEBRTC_ACTION.PUBLISHER_HANDLE_ENC_BITRATE+" "+eA)})}},eA.prototype.resetEncBitrate=function(){this.needIncMax=!1,this.probeCount=0,this.gotMax=!1,this.initFitCnt=0,this.targetRate=0,this.totalBitrateArray=[],this.totalTargetRateArray=[],this.totalRetransRateArray=[]},eA.prototype.replacePublishedTrack=function(eA,er,ei){return void 0===er&&(er=!1),{errorCode:-1,extendedData:"should install advanced module first"}},eA.prototype.sendStreamStatus=function(eA,er,ei,eo){var en=this;void 0===ei&&(ei=!1),void 0===eo&&(eo=0),(ei||this.camera_status!==eA||this.mic_status!==er)&&this.signal&&(this.camera_status=eA,this.mic_status=er,eo++,this.signal.sendStreamStatus((0,ea.getSeq)(),this.sessionId,eA,er,this.streamId,function(){en.camera_status===eA&&en.mic_status===er&&eo<=1&&en.sendStreamStatus(eA,er,!0,eo)}))},eA.prototype.handleSEIVideoTrack=function(eA){"add"==eA&&this.sideMediaConfig.track?this.clearCanvasTimer():"remove"!=eA||this.sideMediaConfig.track||(this.sideMediaConfig.track=this.addCanvasStreamVideoTrack())},eA.prototype.addCanvasStreamVideoTrack=function(){var eA=this;return this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvasImage=new Image,this.canvasImage.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAFFJREFUOE9jZGBgaGBgYLBnYGBwYCANHGBgYDjIyMDAcIWBgUGbNL1w1VdBBvwnUzNY26gBo2EwjNLBfjJyIiz7HADlBVB2DiEjR15lYGBYAwAypRSY53SYoAAAAABJRU5ErkJggg==",this.canvas.width=16,this.canvas.height=16,this.canvasTimer=setInterval(function(){var er;null===(er=eA.ctx)||void 0===er||er.drawImage(eA.canvasImage,0,0,16,16)},200),this.canvas.captureStream().getVideoTracks()[0]},eA.prototype.getSpan=function(eA,er,ei,eo){return void 0===eo&&(eo=!1),this.stateCenter.reporter.createSpan(ea.TRACER_LEVEL.H,{key:er,bak_key:ei,par:this.streamId},{key:eA,par:this.streamId},eA,eo)},eA.prototype.isMultiOuter=function(){return!(!this.stateCenter.accessClientIp||!this.streamConnectIP||this.stateCenter.accessClientIp===this.streamConnectIP)},eA.prototype.isCustomCdn=function(){var eA,er;return void 0!==(null===(eA=this.publishOption)||void 0===eA?void 0:eA.cdnUrl)&&""!==(null===(er=this.publishOption)||void 0===er?void 0:er.cdnUrl)},eA.prototype.setTurnTcp=function(){this._turnToTcp=this.stateCenter.turnToTcp,void 0!==this.stateCenter.turnOverTcpOnly&&(this._turnToTcp=this.stateCenter.turnOverTcpOnly)},eA.prototype.getFramesData=function(eA,er,ei){if(er.frameHeight=ei.frameHeight,er.frameWidth=ei.frameWidth,0===eA||this.lastPublishStats.frameHeight===ei.frameHeight&&this.lastPublishStats.frameWidth===ei.frameWidth)0===eA&&(this.lastPublishStats.frameHeight=ei.frameHeight,this.lastPublishStats.frameWidth=ei.frameWidth);else{var eo=this.stateCenter.reporter.createSpan(ea.TRACER_LEVEL.H,{key:el.ZegoRTCLogEvent.kZegoTaskPublishStart.event,par:this.streamId},{key:""},el.ZegoRTCLogEvent.kZegoTaskVideoCaptureSize.event);eo.setAttributes({webrtc_sid:el.ZegoRTCLogEvent.kZegoTaskVideoCaptureSize.webrtc_sid(this.sessionId),w:el.ZegoRTCLogEvent.kZegoTaskVideoCaptureSize.w(ei.frameWidth),h:el.ZegoRTCLogEvent.kZegoTaskVideoCaptureSize.h(ei.frameHeight)}),eo.end(),this.lastPublishStats.frameHeight=ei.frameHeight,this.lastPublishStats.frameWidth=ei.frameWidth}0!=eA&&(er.videoTransferFPS=1e3*(ei.framesSent-this.lastPublishStats.framesSent)/(ei.timestamp-eA)),er.videoTransferFPS<0&&(er.videoTransferFPS=0),this.lastPublishStats.framesSent=ei.framesSent},eA}();er.ZegoPublish=ef},7652:function(eA,er){"use strict";var ei=this&&this.__spreadArray||function(eA,er,ei){if(ei||2==arguments.length)for(var eo,en=0,es=er.length;en<es;en++)!eo&&en in er||(eo||(eo=Array.prototype.slice.call(er,0,en)),eo[en]=er[en]);return eA.concat(eo||Array.prototype.slice.call(er))};Object.defineProperty(er,"__esModule",{value:!0}),er.addRRTRLine=er.addSPSDescription=void 0,er.addSPSDescription=function(eA){var er,ei=eA,eo=function(eA){var er={m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"}]};function ei(eA,er,ei){var eo=function(eA){return String(Number(eA))===eA?Number(eA):eA},en=eA.name&&eA.names;eA.push&&!er[eA.push]?er[eA.push]=[]:en&&!er[eA.name]&&(er[eA.name]={});var es=eA.push?{}:en?er[eA.name]:er;(function(eA,er,ei,en){if(en&&!ei)er[en]=eo(eA[1]);else for(var es=0;es<ei.length;es+=1)null!=eA[es+1]&&(er[ei[es]]=eo(eA[es+1]))})(ei.match(eA.reg),es,eA.names,eA.name),eA.push&&er[eA.push].push(es)}var eo=RegExp.prototype.test.bind(/^([a-z])=(.*)/),en=[],es={},ea=es;return eA.split(/(\r\n|\r|\n)/).filter(eo).forEach(function(eA){var eo=eA[0],es=eA.slice(2);"m"===eo&&(en.push({rtp:[],fmtp:[]}),ea=en[en.length-1]);for(var eg=0;eg<(er[eo]||[]).length;eg+=1){var ec=er[eo][eg];if(ec.reg&&ec.reg.test(es))return ei(ec,ea,es)}}),es.media=en,es}(eA),en=[];return eo.media.forEach(function(eA){"video"===eA.type&&eA.fmtp.forEach(function(eA){er="a=fmtp:"+eA.payload+" "+eA.config,-1===eA.config.indexOf("sps-pps-idr-in-keyframe")&&-1===en.indexOf(er)&&en.push(er)})}),en.forEach(function(eA){ei=ei.replace(RegExp(eA,"g"),eA+";sps-pps-idr-in-keyframe=1")}),ei},er.addRRTRLine=function(eA){var er=eA.split("\r\n"),eo=new Map;er.forEach(function(eA,ei){if(/^a=rtcp-fb:/.test(eA)&&er[ei+1]&&!/^a=rtcp-fb:/.test(er[ei+1])){var en=eA.match(/^a=rtcp-fb:\d+/);en&&eo.set(ei+1,en[0]+" rrtr")}});for(var en=Array.from(eo),es=0;es<en.length;es++){var ea=ei([],en[es],!0);er.splice(ea[0]+es,0,ea[1])}return eA=er.join("\r\n")}},882:function(eA,er){"use strict";Object.defineProperty(er,"__esModule",{value:!0}),er.isSupportAnalyzer=er.createAudioAnalyzer=void 0,er.createAudioAnalyzer=function(eA,er,ei,eo){void 0===ei&&(ei=1e3);var en=eA.createAnalyser();en.fftSize=32,er.connect(en);var es=null,ea=new Uint8Array(en.frequencyBinCount);function eg(){en.getByteTimeDomainData(ea);for(var eA=0,er=0;er<ea.length;er++)eA=Math.max(eA,Math.abs(ea[er]-128));return eo&&eo(eA/128),ei&&(es=window.setTimeout(function(){es&&clearTimeout(es),eg()},ei))}return ei&&(es=window.setTimeout(function(){eg()},ei)),eA.resume(),{analyzer:en,destroy:function(){en.disconnect(),null!==es&&(clearInterval(es),ei=0,es=null)},setInterval:function(eA){eA>30&&(ei=eA)}}},er.isSupportAnalyzer=function(eA){return"function"==typeof eA.createAnalyser}},3309:function(eA,er,ei){"use strict";var eo=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},en=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}};Object.defineProperty(er,"__esModule",{value:!0}),er.SoundMeterWorklet=er.WorkletModule=void 0;var es=ei(882),ea="zc.smw",eg=new Blob(['\nclass VolumeMeter extends AudioWorkletProcessor {\n  constructor() {\n    super();\n    this.volume = 0;\n    this.intervalTime = 1000;\n    this.tick = this.intervalTime;\n    this.isStop = false;\n    this.port.onmessage = event => {\n      const { data } = event;\n      switch (data.name) {\n        case "setIntervalTime":\n          this.intervalTime = data.intervalTime;\n          break;\n        case "stop":\n          this.isStop = true;\n          break;\n      }\n    };\n  }\n  process(inputs) {\n    const input = inputs[0];\n    if (this.isStop) {\n      return false;\n    }\n    if (input.length > 0) {\n      const buffer = input[0];\n      let maxVal = this.volume;\n      for (let i = 0; i < buffer.length; i++) {\n        if (maxVal < buffer[i]) {\n          maxVal = buffer[i];\n        }\n      }\n      this.volume = maxVal;\n      this.tick -= buffer.length;\n      if (this.tick < 0) {\n        this.tick += (this.intervalTime / 1000) * sampleRate;\n        this.port.postMessage({ volume: this.volume });\n        this.volume = 0;\n      }\n    }\n    return true;\n  }\n}\ntry {\n  registerProcessor("meter", VolumeMeter);\n} catch (error) {\n  \n}  \n'],{type:"application/javascript"}),ec=function(){function eA(){}return eA.addModuleToContext=function(eA,er){return eo(this,void 0,void 0,function(){var ei;return en(this,function(eo){switch(eo.label){case 0:return eo.trys.push([0,2,,3]),er.info(ea+" worklet addModule call"),[4,eA.audioWorklet.addModule(URL.createObjectURL(eg))];case 1:return eo.sent(),er.info(ea+" worklet addModule success"),this.isSuccess=!0,[2];case 2:return ei=eo.sent(),er.warn(ea+" worklet addModule catch error. ".concat(null==ei?void 0:ei.message)),[3,3];case 3:return[2]}})})},eA.isSuccess=!1,eA}();er.WorkletModule=ec;var eu=function(){function eA(eA,er){void 0===er&&(er=1e3),this.logger=eA,this.interval=er,this.worklet=null,this.processor=null,this.analyzer=null,this.volume=0,this.onSoundLevelUpdate=function(eA){}}return eA.prototype.preload=function(eA){return eo(this,void 0,void 0,function(){return en(this,function(er){switch(er.label){case 0:return ec.isSuccess?[3,2]:[4,ec.addModuleToContext(eA,this.logger)];case 1:er.sent(),er.label=2;case 2:return[2]}})})},eA.prototype.initAudioWorklet=function(eA,er){return eo(this,void 0,void 0,function(){var ei,eo,eg=this;return en(this,function(en){switch(en.label){case 0:if(this.worklet)return[3,5];en.label=1;case 1:if(en.trys.push([1,3,,4]),(0,es.isSupportAnalyzer)(eA))throw"use analyzer";return[4,this.preload(eA)];case 2:return en.sent(),(ei=this.worklet=new AudioWorkletNode(eA,"meter")).port.onmessage=function(eA){eg.onSoundLevelUpdate&&eg.onSoundLevelUpdate(eA.data.volume||0)},er.connect(ei).connect(eA.destination),this.setInterval(this.interval),[3,4];case 3:return eo=en.sent(),this.logger.info(ea+" not use AudioWorklet. "+eo),this.analyzer=(0,es.createAudioAnalyzer)(eA,er,this.interval,function(eA){eg.onSoundLevelUpdate&&eg.onSoundLevelUpdate(eA||0)}),[3,4];case 4:return[3,6];case 5:er.connect(this.worklet).connect(eA.destination),en.label=6;case 6:return[2]}})})},eA.prototype.setInterval=function(eA){var er=this.worklet;this.interval=eA,er&&er.port.postMessage({name:"setIntervalTime",intervalTime:eA}),this.analyzer&&this.analyzer.setInterval(eA)},eA.prototype.destroy=function(){this.processor&&(this.processor.onaudioprocess=null,this.processor.disconnect()),this.analyzer&&(this.analyzer.destroy(),this.analyzer=null),this.worklet&&(this.worklet.port.postMessage({name:"stop"}),this.worklet.port.onmessage=null,this.worklet.port.close(),this.worklet.disconnect(),this.logger.info(ea+" close worklet")),this.worklet=null,this.processor=null},eA}();er.SoundMeterWorklet=eu},7320:function(eA,er,ei){"use strict";var eo=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},en=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}},es=this&&this.__importDefault||function(eA){return eA&&eA.__esModule?eA:{default:eA}};Object.defineProperty(er,"__esModule",{value:!0}),er.StreamQualityReportWeb=void 0;var ea=es(ei(3720)),eg=ei(93),ec=ei(5123),eu=ei(2990),el=ei(4028),ed=ei(1958),eE=function(){function eA(eA,er,ei){this.logger=eA,this.stateCenter=er,this.streamCenter=ei,this.publishQualityInfos=[],this.playQualityInfos=[],this.qualityUploadTimestamp=0,this.qualityHeadTimestamp=0,this.uploadInterval=6e4,this.streamStoreHandler=new ed.StreamStoreHandler(this.CacheKey,eA),this.bindListener()}return Object.defineProperty(eA.prototype,"CacheKey",{get:function(){return"z_s_c_"+this.stateCenter.appid},enumerable:!1,configurable:!0}),eA.prototype.bindListener=function(){var eA=this;window.addEventListener("beforeunload",function(){eA.streamStoreHandler.resetStorageStores()})},eA.prototype.updateQuality=function(eA,er,ei){var eo=(new Date).getTime(),en=JSON.stringify(this.publishQualityInfos).length+JSON.stringify(this.playQualityInfos).length,es=ei&&(this.publishQualityInfos.length>0||this.playQualityInfos.length>0);0!==this.qualityUploadTimestamp&&eo-this.qualityUploadTimestamp>this.uploadInterval||en>8e3||es?(this.streamQualityUpload(es),this.publishQualityInfos=[],this.playQualityInfos=[],this.qualityHeadTimestamp=Math.round((new Date).getTime()),this.saveSpeedLogHead(),this.qualityUploadTimestamp=eo):0==this.qualityHeadTimestamp&&(this.qualityHeadTimestamp=Math.round((new Date).getTime()),this.saveSpeedLogHead(),this.qualityUploadTimestamp=eo),er&&(0==eA?this.handlePublishQualityData(er):this.handlePlayQualityData(er))},eA.prototype.streamQualityUpload=function(eA){if(Object.keys(this.streamCenter.publisherList).length>0||Object.keys(this.streamCenter.playerList).length>0||eA){var er=this.getSpeedLogHead();this.uploadQuality(this.qualityHeadTimestamp,er,{publish_quality_infos:this.publishQualityInfos,play_quality_infos:this.playQualityInfos,client_type:2})}},eA.prototype.uploadQuality=function(eA,er,ei,es){var ea,ec=this,el=eu.logreport.SpeedLogHead.create(er),ed=eu.logreport.QualityEvent.create(ei),eE=eu.logreport.SpeedLogHead.encode(el).finish(),eI=eu.logreport.QualityEvent.encode(ed).finish(),eC=this.getQualityHead(eE,eI),eh=new Uint8Array(12+eE.length+eI.length);eh.set(eC),eh.set(eE,12),eh.set(eI,12+eE.length);var eB=null===(ea=this.logger.url)||void 0===ea?void 0:ea.split("/")[2];if(eB){var ep=function(){return new Promise(function(eA){if(ec.qualityWebsocket&&2!=ec.qualityWebsocket.readyState&&3!=ec.qualityWebsocket.readyState)1==ec.qualityWebsocket.readyState&&eA(ec.qualityWebsocket);else{var er=ec.stateCenter.appid,ei=ec.stateCenter.idName,eo=ec.stateCenter.roomList[0].token,en="wss://".concat(eB,"/ws/report/stream?appid=").concat(er,"&product=rtc&token=").concat(encodeURIComponent(eo),"&id_name=").concat(ei);ec.qualityWebsocket=new WebSocket(en),ec.qualityWebsocket.onopen=function(){ec.logger.info(eg.ZEGO_WEBRTC_ACTION.UPLOAD_SPEED_LOG_QUALITY+" speed log socket open"),ec.qualityWebsocket&&eA(ec.qualityWebsocket)},ec.qualityWebsocket.onclose=function(){ec.logger.info(eg.ZEGO_WEBRTC_ACTION.UPLOAD_SPEED_LOG_QUALITY+" speed log socket close")}}})};ep().then(function(er){var ei=Date.now()%1e4,ea=!1;er.onmessage=function(eo){(eo.data+"").includes("success")&&(ec.logger.info(eg.ZEGO_WEBRTC_ACTION.UPLOAD_SPEED_LOG_QUALITY+" quality (".concat(ei,") upload success")),ea=!0,ec.delStreamData(eA),es&&ec.streamStoreHandler.removeStoreFromStorage(es),setTimeout(function(){ec.checkCacheDataToReport()},1e3)),er.onmessage=null},setTimeout(function(){return eo(ec,void 0,void 0,function(){return en(this,function(eA){switch(eA.label){case 0:return ea?[3,2]:[4,ep()];case 1:eA.sent().send(eh),this.logger.info(eg.ZEGO_WEBRTC_ACTION.UPLOAD_SPEED_LOG_QUALITY+" retry upload quality (".concat(ei,"), length: ")+eh.length+"."),eA.label=2;case 2:return[2]}})})},3e3),er.send(eh),ec.logger.info(eg.ZEGO_WEBRTC_ACTION.UPLOAD_SPEED_LOG_QUALITY+" upload quality (".concat(ei,"), length: ")+eh.length+".")})}},eA.prototype.checkCacheDataToReport=function(){return eo(this,void 0,void 0,function(){var eA;return en(this,function(er){switch(er.label){case 0:return[4,this.streamStoreHandler.getUnReportCachedDatas(this.qualityHeadTimestamp+"")];case 1:return eA=er.sent(),this.uploadUnReportDatas(eA),[2]}})})},eA.prototype.getQualityHead=function(eA,er){var ei=new Uint8Array(12);ei[0]=0,ei[1]=12,ei[2]=eA.length>>8,ei[3]=eA.length-(ei[2]<<8),ei[4]=er.length>>24,ei[5]=er.length-(ei[4]<<24)>>16,ei[6]=er.length-(ei[4]<<24)-(ei[5]<<16)>>8,ei[7]=er.length-(ei[4]<<24)-(ei[5]<<16)-(ei[6]<<8);var eo=Math.ceil((new Date).getTime()/1e3);return ei[8]=eo>>24,ei[9]=eo-(ei[8]<<24)>>16,ei[10]=eo-(ei[8]<<24)-(ei[9]<<16)>>8,ei[11]=eo-(ei[8]<<24)-(ei[9]<<16)-(ei[10]<<8),ei},eA.prototype.handlePublishQualityData=function(eA){var er=this.publishQualityInfos.find(function(er){return er.stream_id==eA.stream_id&&er.video_width==eA.frameWidth&&er.video_height==eA.frameHeight});if(!er){var ei=this.streamCenter.getRoomByStreamID(eA.stream_id);er={stream_id:eA.stream_id,session_id:ei?Number(ei.sessionID):0,video_width:eA.frameWidth,video_height:eA.frameHeight,infos:[],room_id:ei?ei.roomID:"",evnvironment:1,room_session_id:ei?Number(ei.roomSessionID):0,resource_type:2},this.publishQualityInfos.push(er)}er.infos.push({audio_bitrate:Math.round(eA.audioBitrate)||0,video_bitrate:Math.round(eA.videoBitrate)||0,video_capture_fps:Math.round(10*eA.videoFPS)||0,video_network_fps:Math.round(10*eA.videoTransferFPS)||0,uplink_plr:eA.audioPacketsLostRate,rtt:Math.round(1e3*eA.currentRoundTripTime)||0,audio_network_fps:Math.round(10*eA.audioFPS),captured_sound_level:Math.round(eA.audioLevel),sample_time_offset:Math.round((eA.timeStamp-this.qualityHeadTimestamp)/10)}),this.saveStreamInfo("publish",er)},eA.prototype.handlePlayQualityData=function(eA){var er,ei=this.playQualityInfos.find(function(er){return er.stream_id==eA.stream_id&&er.video_width==eA.frameWidth&&er.video_height==eA.frameHeight});if(!ei){var eo=this.streamCenter.getRoomByStreamID(eA.stream_id),en=null===(er=this.streamCenter.playerList[eA.stream_id])||void 0===er?void 0:er.player;ei={stream_id:eA.stream_id,session_id:eo?Number(eo.sessionID):0,video_width:eA.frameWidth,video_height:eA.frameHeight,infos:[],room_id:eo?eo.roomID:"",room_session_id:eo?Number(eo.roomSessionID):0,resource_type:0===(null==en?void 0:en.resourceMode)?2:3},this.playQualityInfos.push(ei)}ei.infos.push({audio_bitrate:Math.round(eA.audioBitrate)||0,video_bitrate:Math.round(eA.videoBitrate)||0,video_network_fps:Math.round(10*eA.videoFPS)||0,downlink_plr:Math.round(eA.audioPacketsLostRate)||0,audio_network_fps:Math.round(10*eA.audioFPS)||0,audio_break_duration:Math.round(eA.audio_break_duration/10),video_break_duration:Math.round(eA.video_break_duration/10),rtt:Math.round(1e3*eA.currentRoundTripTime)||0,rendered_sound_level:Math.round(eA.audioLevel),audio_break_cancel_duration:Math.round(eA.audio_break_cancel_duration/10),video_break_cancel_duration:Math.round(eA.video_break_cancel_duration/10),audio_decode_time:Math.round(eA.audio_decode_time/10),video_decode_time:Math.round(eA.video_decode_time/10),real_sampling_interval:Math.round(eA.real_sampling_interval/10),video_frames_decoded:Math.round(eA.videoFramesDecoded)||0,video_frames_dropped:Math.round(eA.videoFramesDropped)||0,sample_time_offset:Math.round((eA.timeStamp-this.qualityHeadTimestamp)/10),peer_to_peer_plr:eA.peerToPeerPacketLostRate,peer_to_peer_delay:eA.peerToPeerDelay}),this.saveStreamInfo("play",ei)},eA.prototype.saveSpeedLogHead=function(){var eA=this.getSpeedLogHead();this.streamStoreHandler.saveItem(this.qualityHeadTimestamp+"_head",eA)},eA.prototype.saveStreamInfo=function(eA,er){this.streamStoreHandler.saveItem("".concat(this.qualityHeadTimestamp,"_").concat(eA).concat(er.stream_id),er)},eA.prototype.delStreamData=function(eA){this.streamStoreHandler.clearItems(eA+"")},eA.prototype.getSpeedLogHead=function(){return{version:14,timestamp:Math.round(this.qualityHeadTimestamp/1e3),event:0,app_id:this.stateCenter.appid,user_id:this.stateCenter.idName,biz_type:1,time_offset:ea.default.MAX_VALUE,os_type:el.ClientUtil.getOsType(),scenario:this.stateCenter.scenario,sdk_version:ec.PROTO_VERSION}},eA.prototype.checkStreamReport=function(){var eA=this;this.streamStoreHandler.getStoresFromStorage().forEach(function(er){return eo(eA,void 0,void 0,function(){var eA;return en(this,function(ei){switch(ei.label){case 0:return[4,this.streamStoreHandler.getCacheStoreData(er)];case 1:return eA=ei.sent(),this.uploadUnReportDatas(eA,er),[2]}})})})},eA.prototype.uploadUnReportDatas=function(eA,er){var ei=this;eA.length>0&&eA.forEach(function(eA){ei.uploadQuality(eA.timestamp,eA.head,{publish_quality_infos:eA.publishInfos,play_quality_infos:eA.playInfos,client_type:2},er)})},eA.prototype.resetReport=function(){var eA=this;this.publishQualityInfos=[],this.playQualityInfos=[],this.qualityHeadTimestamp=0,this.qualityUploadTimestamp=0,setTimeout(function(){eA.qualityWebsocket&&(eA.qualityWebsocket.close(),eA.qualityWebsocket=void 0)},2e4)},eA}();er.StreamQualityReportWeb=eE},1958:function(eA,er,ei){"use strict";var eo=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},en=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}},es=this&&this.__importDefault||function(eA){return eA&&eA.__esModule?eA:{default:eA}};Object.defineProperty(er,"__esModule",{value:!0}),er.StreamStoreHandler=void 0;var ea=ei(93),eg=ei(4028),ec=es(ei(9483)),eu=function(){function eA(eA,er){this.name=eA,this.logger=er,this.storeName=eA+":"+eg.ClientUtil.uuid(6),this.store=ec.default.createInstance({name:this.storeName}),this.recordStoresInStorage(eA,this.storeName)}return eA.prototype.recordStoresInStorage=function(eA,er){var ei=localStorage.getItem(eA),eo=ei?ei.split(","):[];eo.push(er+"-1"),localStorage.setItem(eA,null==eo?void 0:eo.join(","))},eA.prototype.getStoresFromStorage=function(){return this.refreshStores("1")},eA.prototype.resetStorageStores=function(){this.refreshStores("0")},eA.prototype.removeStoreFromStorage=function(eA){this.refreshStores("2",eA)},eA.prototype.refreshStores=function(eA,er){var ei=this,eo=localStorage.getItem(this.name),en=eo?eo.split(","):[],es=[];if(en.length>0){var ea=[];en.forEach(function(eo){var en=eo.split("-"),eg=en[0],ec=en[1];"2"==eA?(eg!==er&&ea.push(eg+"-"+ec),er&&ei.dropInstance(er)):ea.push(eg+"-"+eA),-1===eg.indexOf(ei.storeName)&&"0"==ec&&es.push(eg)}),localStorage.setItem(this.name,ea.join(","))}return es},eA.prototype.dropInstance=function(eA){return eo(this,void 0,void 0,function(){return en(this,function(er){switch(er.label){case 0:return er.trys.push([0,2,,3]),[4,ec.default.dropInstance({name:eA})];case 1:case 2:return er.sent(),[3,3];case 3:return[2]}})})},eA.prototype.getCacheStoreData=function(eA){return eo(this,void 0,void 0,function(){var er,ei,eo,es;return en(this,function(en){switch(en.label){case 0:return en.trys.push([0,5,,6]),[4,(er=ec.default.createInstance({name:eA})).keys()];case 1:return eo=(ei=en.sent()).filter(function(eA){return eA.indexOf("_head")>-1}),es=[],eo.length>0?[4,this.readStoreDatas(eo,ei,er)]:[3,3];case 2:return es=en.sent(),[3,4];case 3:this.removeStoreFromStorage(eA),en.label=4;case 4:return[2,es];case 5:return en.sent(),[3,6];case 6:return[2]}})})},eA.prototype.readStoreDatas=function(eA,er,ei){return eo(this,void 0,void 0,function(){var eo,es,ea;return en(this,function(eg){switch(eg.label){case 0:eo=[],es=function(es){var ea,eg,ec,eu,el,ed,eE,eI,eC,eh;return en(this,function(en){switch(en.label){case 0:eg=(ea=eA[es]).replace("_head",""),ec=er.filter(function(eA){return eA.indexOf(eg)>-1}),eu=null,el=[],ed=[],eE=0,en.label=1;case 1:return eE<ec.length?[4,ei.getItem(eI=ec[eE])]:[3,4];case 2:eC=en.sent(),eI.startsWith(eg+"_head")?eu=eC:eI.startsWith(eg+"_publish")?el.push(eC):eI.startsWith(eg+"_play")&&ed.push(eC),en.label=3;case 3:return eE++,[3,1];case 4:return eh=(new Date).getTime()-parseInt(eg),eu?el.length>0||ed.length>0?(eo.push({timestamp:parseInt(eg),head:eu,publishInfos:el,playInfos:ed}),[3,7]):[3,5]:[3,7];case 5:return 0===el.length&&0===ed.length&&eh>6e4?[4,ei.removeItem(ea)]:[3,7];case 6:en.sent(),en.label=7;case 7:return[2]}})},ea=0,eg.label=1;case 1:return ea<eA.length?[5,es(ea)]:[3,4];case 2:eg.sent(),eg.label=3;case 3:return ea++,[3,1];case 4:return[2,eo]}})})},eA.prototype.saveItem=function(eA,er){return eo(this,void 0,void 0,function(){var ei;return en(this,function(eo){switch(eo.label){case 0:return eo.trys.push([0,2,,3]),[4,this.store.setItem(eA,er)];case 1:return eo.sent(),[3,3];case 2:return ei=eo.sent(),this.logger.warn(ea.ZEGO_WEBRTC_ACTION.STREAM_STORE_HANDLER+" save "+JSON.stringify(ei)),[3,3];case 3:return[2]}})})},eA.prototype.getItem=function(eA){return eo(this,void 0,void 0,function(){var er;return en(this,function(ei){switch(ei.label){case 0:return ei.trys.push([0,2,,3]),[4,this.store.getItem(eA)];case 1:return[2,ei.sent()];case 2:return er=ei.sent(),this.logger.warn(ea.ZEGO_WEBRTC_ACTION.STREAM_STORE_HANDLER+" get "+JSON.stringify(er)),[3,3];case 3:return[2]}})})},eA.prototype.removeItem=function(eA){return eo(this,void 0,void 0,function(){var er;return en(this,function(ei){switch(ei.label){case 0:return ei.trys.push([0,2,,3]),[4,this.store.removeItem(eA)];case 1:return ei.sent(),[3,3];case 2:return er=ei.sent(),this.logger.warn(ea.ZEGO_WEBRTC_ACTION.STREAM_STORE_HANDLER+" remove "+JSON.stringify(er)),[3,3];case 3:return[2]}})})},eA.prototype.clearItems=function(eA){return eo(this,void 0,void 0,function(){var er,ei=this;return en(this,function(es){switch(es.label){case 0:return es.trys.push([0,2,,3]),[4,this.store.keys()];case 1:return es.sent().filter(function(er){return er.indexOf(eA)>-1}).forEach(function(eA){return eo(ei,void 0,void 0,function(){return en(this,function(er){switch(er.label){case 0:return[4,this.removeItem(eA)];case 1:return er.sent(),[2]}})})}),[3,3];case 2:return er=es.sent(),this.logger.warn(ea.ZEGO_WEBRTC_ACTION.STREAM_STORE_HANDLER+" clear "+JSON.stringify(er)),[3,3];case 3:return[2]}})})},eA.prototype.getUnReportCachedDatas=function(eA){return eo(this,void 0,void 0,function(){var er,ei,eo;return en(this,function(en){switch(en.label){case 0:return[4,this.filterItems(eA)];case 1:return er=en.sent(),ei=[],er&&er.length>0?(eo=er.filter(function(eA){return eA.indexOf("_head")>-1}),[4,this.readStoreDatas(eo,er,this.store)]):[3,3];case 2:ei=en.sent(),en.label=3;case 3:return[2,ei]}})})},eA.prototype.filterItems=function(eA){return eo(this,void 0,void 0,function(){var er;return en(this,function(ei){switch(ei.label){case 0:return ei.trys.push([0,2,,3]),[4,this.store.keys()];case 1:return[2,ei.sent().filter(function(er){return -1===er.indexOf(eA)})];case 2:return er=ei.sent(),this.logger.warn(ea.ZEGO_WEBRTC_ACTION.STREAM_STORE_HANDLER+" filter "+JSON.stringify(er)),[3,3];case 3:return[2]}})})},eA}();er.StreamStoreHandler=eu},3074:function(eA,er,ei){"use strict";var eo=this&&this.__assign||function(){return(eo=Object.assign||function(eA){for(var er,ei=1,eo=arguments.length;ei<eo;ei++)for(var en in er=arguments[ei])Object.prototype.hasOwnProperty.call(er,en)&&(eA[en]=er[en]);return eA}).apply(this,arguments)},en=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},es=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}};Object.defineProperty(er,"__esModule",{value:!0}),er.ZegoSignal=void 0;var ea=ei(5123),eg=ei(93),ec=ei(2532),eu=ei(5634),el=ei(7045),ed=ei(4028),eE=ei(1018),eI=ei(1429),eC=ei(6348),eh=["LoginReq","CreateSessionWithSdpReq","CreateSessionReq"],eB=["Peer2PeerNetStatsGetReq","Peer2PeerNetStatsGetRsp"],ep=function(){function eA(eA,er,ei,eo){void 0===eo&&(eo=!1),this.netAgent=ei,this.useNetAgent=eo,this.sendDataMap={},this.sendDataList=new ea.LinkedList,this.sendDataCheckOnceCount=100,this.signalSeq=0,this.pushCallback={},this.sessionInfos={},this.tryHeartbeatCount=0,this.heartbeatInterval=1e4,this.sendDataTimeout=5e3,this.sendDataDropTimeout=1e4,this.sendDataCheckTimer=null,this.sendDataCheckInterval=2e3,this.loginTimer=null,this.successConnectedCallback=null,this.checkMessageList=["ActivateVideoPlayStreamReq","ActivateAudioPlayStreamReq","CreateSessionReq","CreateSessionWithSdpReq","ActivateSEIInsertReq","StreamStatusNotify","MediaDescUpdateReq"],this.tryConnectCount=1,this.tryConnectTimer=null,this.tryConnectInterval=3e3,this.state=ea.ENUM_CONNECT_STATE.disconnect,this.tokenType=0,this.platform=navigator.platform,this.testStreamStatusMsgs=[],this._websocket=null,this.negoInterval=25e3,this.negoTryCount=1,this.negoTryMaxCount=2,this.miniSdpWorker=new eI.MiniSdpWorker,this.logger=eA,this.stateCenter=er,this.stateCenter.streamConnectTime&&(this.tryConnectInterval=this.stateCenter.streamConnectTime),this.browser=this.stateCenter.browserInfo,this.gw=new eu.GatewaySignal(eA,this)}return Object.defineProperty(eA.prototype,"wsReadyState",{get:function(){var eA;return null===(eA=this.websocket)||void 0===eA?void 0:eA.readyState},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"websocket",{get:function(){return this._websocket},set:function(eA){null===eA&&this.useNetAgent||(this._websocket=eA)},enumerable:!1,configurable:!0}),eA.prototype.setSessionInfo=function(eA,er){this.logger.debug(eg.ZEGO_WEBRTC_ACTION.SIGNAL_SET_SESSION_INFO+" call"),this.appid=eA+"",this.userid=er},eA.prototype.onDisconnect=function(eA,er){},eA.prototype.onUpdateHeartBeatInterval=function(eA){},eA.prototype.resetConnectTimer=function(){this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_RESET_CONNECT_TIMER+" call"),clearTimeout(this.tryConnectTimer),this.tryConnectTimer=null,this.tryConnectCount=0},eA.prototype.handleWsMessage=function(eA){var er=JSON.parse(eA.data);eB.includes(er.header.cmd)||(this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_BIND_WEBSOCKET_HANDLE+" signmsg= ",er.header.cmd),this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_BIND_WEBSOCKET_HANDLE+" signmsg= "+JSON.stringify(er))),er.header.appid==this.appid&&er.header.user_id===this.userid?this.handleServerPush(er):this.logger.warn(eg.ZEGO_WEBRTC_ACTION.SIGNAL_BIND_WEBSOCKET_HANDLE+" check header failed")},eA.prototype.bindWebSocketEvents=function(){var eA=this;this.tryHeartbeatCount=0,this.tryConnectInterval=this.stateCenter.streamConnectTime?this.stateCenter.streamConnectTime:3e3,this.websocket&&(this.websocket.onclose=function(er){var ei=er||{},eo=ei.reason,en=ei.wasClean;if(eA.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_BIND_WEBSOCKET_HANDLE+" close msg = ".concat(ei.code,", ").concat(eo,", ").concat(en)),eA.state!=ea.ENUM_CONNECT_STATE.disconnect){if(eA.useNetAgent)return void eA.disconnectCallback();eA.successConnectedCallback=eA.connectCallback,eA.resetConnectTimer(),eA.startConnectTimer(function(er){1008===er&&eA.disconnectCallback(ec.errorCodeList.TOKEN_EXPIRED)}),eA.resetCheckMessage()}},this.websocket.onerror=function(er){var ei=er||{},eo=ei.code,en=ei.reason,es=ei.wasClean;eA.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_BIND_WEBSOCKET_HANDLE+" msg = ".concat(JSON.stringify(er),", ").concat(eo,", ").concat(en,", ").concat(es))})},eA.prototype.resetCheckMessage=function(){this.logger.debug(eg.ZEGO_WEBRTC_ACTION.SIGNAL_RESET_CHECK_MESSAGE+" call"),clearTimeout(this.sendDataCheckTimer),this.sendDataCheckTimer=null;for(var eA=this.sendDataList.getFirst();null!=eA;)this.sendDataList.remove(eA),eA._data.error&&eA._data.error(ea.SEND_MSG_RESET,eA._data.seq),eA=this.sendDataList.getFirst();this.sendDataMap={}},eA.prototype.handleServerPush=function(eA){switch(eA.header.cmd){case"LoginRsp":this.handleRespondData("LoginReq",eA);break;case"CreateSessionRsp":this.handleRespondData("CreateSessionReq",eA),0===eA.body.result&&this.addSession(eA.header.session_id,eA.body.session_token);break;case"CreateSessionWithSdpRsp":this.handleRespondData("CreateSessionWithSdpReq",eA),0===eA.body.result&&this.addSession(eA.header.session_id,eA.body.session_token);break;case"MediaDescRsp":this.handleRespondData("MediaDescReq",eA);break;case"CandidateInfoRsp":this.handleRespondData("CandidateInfoReq",eA);break;case"CloseSessionRsp":this.handleRespondData("CloseSessionReq",eA),this.removeSession(eA.header.session_id);break;case"ClientHBRsp":this.handleRespondData("ClientHBReq",eA);break;case"MediaDescPush":case"CandidateInfoPush":case"StreamStatusNotifyPush":case"PublishEventPush":case"PlayEventPush":case"ClientInfoPush":case"NetQualityInfoPush":case"MediaDescUpdatePush":case"CmdPush":this.handlePushData(eA);break;case"CloseSessionPush":this.handlePushData(eA),this.removeSession(eA.header.session_id);break;case"QualityReportRsp":this.handleRespondData("QualityReportReq",eA);break;case"SessionResetPush":this.handlePushResetSessionData(eA);break;case"ActivateVideoPlayStreamRsp":this.handleRespondData("ActivateVideoPlayStreamReq",eA);break;case"ActivateAudioPlayStreamRsp":this.handleRespondData("ActivateAudioPlayStreamReq",eA);break;case"NetQualityProbeRsp":this.handleRespondData("NetQualityProbeReq",eA);break;case"ActivateSEIInsertRsp":this.handleRespondData("ActivateSEIInsertReq",eA);break;case"StreamStatusNotifyAck":this.handleRespondData("StreamStatusNotify",eA);break;case"Peer2PeerNetStatsGetRsp":this.handleRespondData("Peer2PeerNetStatsGetReq",eA);break;case"MediaDescUpdateRsp":this.handleRespondData("MediaDescUpdateReq",eA);break;case"CmdRsp":this.handleRespondData("CmdReq",eA)}},eA.prototype.disconnectCallback=function(eA,er){this.logger.info("zc.s.dcb "+JSON.stringify(eA)+" "+er),this.connectCallback&&(this.connectCallback(er||-1,this.server,void 0),this.connectCallback=null);var ei=this.server;this.disconnectServer(),this.onDisconnect(ei,eA)},eA.prototype.updateToken=function(){var eA=this;this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_UPDATE_TOKEN+" call");var er={token:this.token,tokenType:this.tokenType,roomid:this.roomID,anchorname:this.stateCenter.anchor_info.anchor_id,sdkversion:ea.PROTO_VERSION,osinfo:navigator.appVersion};if(0!=Object.keys(this.sessionInfos).length){var ei=[];for(var eo in this.sessionInfos){var en=parseInt(eo);ei.push({session_id:en,session_token:this.sessionInfos[en].token})}er.sessions=ei}this.sendMessageWithCallback("LoginReq",this.stateCenter.getSeq(),0,er,function(er,ei,eo){if(0==eo.result){eA.token=eo.token,eA.tokenType=eo.tokenType;var en={report:eo.report,report_interval:eo.report_interval_ms};eo.negoInterval&&(eA.negoInterval=eo.negoInterval),eo.negoTryCount&&(eA.negoTryCount=eo.negoTryCount),eo.negoTryMaxCount&&(eA.negoTryMaxCount=eo.negoTryMaxCount),null!=eA.connectCallback&&(eA.connectCallback(0,eA.server,en),eA.connectCallback=null),eA.checkMessageTimeout()}else null!=eA.connectCallback&&(eA.connectCallback(eo.result,eA.server,{error:eo.strError}),eA.connectCallback=null)},function(){null!=eA.connectCallback&&(eA.connectCallback(-1,eA.server,void 0),eA.connectCallback=null)})},eA.prototype.sendMessageWithCallback=function(eA,er,ei,eo,en,es){var ec,eu=this;void 0===en&&(en=null),void 0===es&&(es=null),eB.includes(eA)||this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_MESSAGE_WITH_CALLBACK+" call "+eA+" "+er+" "+(null===(ec=this.websocket)||void 0===ec?void 0:ec.readyState));var ed=performance.now();if(!this.websocket||"LoginReq"!==eA&&this.websocket.readyState!==el.SocketState.OPEN)return this.logger.error(eg.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_MESSAGE_WITH_CALLBACK+" connect not establish"),void(es&&es(ea.SEND_MSG_TIMEOUT,er));var eE={header:this.getHeader(eA,er,ei),body:eo},eI={seq:er,deleted:!1,cmd:eA,time:(new Date).getTime(),success:function(){for(var ei=[],eo=0;eo<arguments.length;eo++)ei[eo]=arguments[eo];if(eh.includes(eA)){var es=(performance.now()-ed).toFixed(0);eu.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_MESSAGE_WITH_CALLBACK+" seq: ".concat(er,", cmd: ").concat(eA,", cost_time: ").concat(es))}en&&en.apply(void 0,ei)},error:es},eC=this.sendDataList.push(eI);this.sendDataMap[eI.seq]=eC;var ep=JSON.stringify(eE);eB.includes(eA)||this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_MESSAGE_WITH_CALLBACK+" "+ep),this.useNetAgent&&"LoginReq"===eA?this.websocket.send(ep,void 0,!0):this.websocket.send(ep),this.logger.debug(eg.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_MESSAGE_WITH_CALLBACK+" success")},eA.prototype.getHeader=function(eA,er,ei){return{version:"1.0.1",cmd:eA,appid:this.appid+"",seq:er,user_id:this.userid,session_id:ei}},eA.prototype.connectServer=function(eA,er,ei,eo){var en,es=this;if(this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+" "+ei),this.roomID=eA,this.token=er,this.server=ei,this.state=ea.ENUM_CONNECT_STATE.connecting,this.connectCallback=eo,this.isServerConnected)this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+" websocket is connected"),this.resetConnectTimer(),this.state=ea.ENUM_CONNECT_STATE.connected;else try{if(this.useNetAgent){if(!this.stateCenter.appConfig)return void this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+" no app config ");var eu=this.stateCenter.appConfig.media_config.publish_config.resource_info.find(function(eA){return eA.resource_type===ea.SignalResourceType.RTC});if(!eu)return void(eo&&eo(ec.errorCodeList.GET_CONFIG_FAIL));var ed=null===(en=null==eu?void 0:eu.service_info)||void 0===en?void 0:en.find(function(eA){return eA.protocol===ea.ProtocolType.WEBRTC});if(!ed)return void(eo&&eo(ec.errorCodeList.GET_CONFIG_FAIL));var eE=ed.url_template.split("{IP}")[1].split("?"),eI=eE[0],eC=eE[1],eh={path:eI,query:eC};this.stateCenter.isTestMode&&(eh={path:eI+2,query:eC}),this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+" signal "+JSON.stringify(eh)),this.websocket instanceof WebSocket&&(this.websocket.onclose=null,this.websocket.onerror=null,this.websocket.close(),this.websocket=null),this.websocket||(this.websocket=new el.AnalogSocket(this.server,this.netAgent,eh,this.logger,this.stateCenter)),this.websocket.open()}else this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+" need new websocket"),this.websocket&&(this.logger.warn(eg.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+" close error websocket"),this.websocket.onclose=null,this.websocket.onerror=null,this.websocket.close()),this.websocket=new WebSocket(this.server);this.websocket.onclose=function(eA){var er=eA||{},ei=er.code,eo=er.reason,en=er.wasClean;es.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+" websocket close call. msg = ".concat(JSON.stringify(eA),", ").concat(ei,", ").concat(eo,", ").concat(en)),es.useNetAgent&&es.state!=ea.ENUM_CONNECT_STATE.disconnect&&(es.successConnectedCallback=es.connectCallback,es.resetConnectTimer(),es.startConnectTimer(function(eA){1008===eA&&es.disconnectCallback(ec.errorCodeList.TOKEN_EXPIRED)}))},this.websocket.onerror=function(eA){var er=eA||{},ei=er.code,eo=er.reason,en=er.wasClean;es.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+" websocket onerror call. msg = ".concat(JSON.stringify(eA),", ").concat(ei,", ").concat(eo,", ").concat(en)),es.stateCenter.useNetAgent&&(null==eA?void 0:eA.code)&&es.disconnectCallback(void 0,null==eA?void 0:eA.code)},this.useNetAgent&&this.websocket instanceof el.AnalogSocket?(this.websocket.onopen=function(){es.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+" websocket open call"),es.bindWebSocketEvents(),es.state=ea.ENUM_CONNECT_STATE.connected,es.websocket&&(es.websocket.onmessage=es.handleWsMessage.bind(es))},this.websocket.onreconnnecting=function(){es.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+" websocket reconnecting "+!!es.successConnectedCallback),es.successConnectedCallback&&(es.connectCallback=es.successConnectedCallback),es.updateToken()},this.websocket.onmessage=this.handleWsMessage.bind(this),this.updateToken()):this.websocket.onopen=function(){es.resetConnectTimer(),es.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+" websocket open call"),es.websocket&&(es.websocket.onmessage=es.handleWsMessage.bind(es)),es.bindWebSocketEvents(),es.updateToken(),es.state=ea.ENUM_CONNECT_STATE.connected}}catch(eA){this.logger.error(eg.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+" websocket error "+eA)}this.useNetAgent||(this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+" "+this.tryConnectInterval),this.tryConnectTimer=setTimeout(function(){es.startConnectTimer(eo)},this.tryConnectInterval))},eA.prototype.startConnectTimer=function(eA){if(this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_START_CONNECT_TIMER+" call"),this.tryConnectCount>=ea.MAX_TRY_CONNECT_COUNT)return this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_START_CONNECT_TIMER+" beyond "+this.server+"max limit"),void this.disconnectCallback();this.websocket&&this.websocket.readyState===el.SocketState.OPEN?(this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_START_CONNECT_TIMER+" websocket is connected"),this.resetConnectTimer()):(this.tryConnectCount+=1,this.connectServer(this.roomID,this.token,this.server,eA))},eA.prototype.disconnectServer=function(){this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_DISCONNECT_SERVER+" call"),this.connectCallback=null,this.resetCheckMessage(),this.resetConnectTimer(),this.websocket&&(this.websocket.onclose=null,this.websocket.onerror=null,this.websocket.close(),this.websocket=null),this.token="",this.sessionInfos={},this.tokenType=0,this.tryHeartbeatCount=0,this.tryConnectCount=0,this.state=ea.ENUM_CONNECT_STATE.disconnect},Object.defineProperty(eA.prototype,"isServerConnected",{get:function(){var eA;return(null===(eA=this.websocket)||void 0===eA?void 0:eA.readyState)===el.SocketState.OPEN},enumerable:!1,configurable:!0}),eA.prototype.createSession=function(eA,er,ei,eo,en,es,ec,eu,el){void 0===en&&(en=""),void 0===es&&(es=""),this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_CREATE_SESSION+" call: "+eo);var ed="";ea.PROTO_VERSION.split(".").forEach(function(eA,er){return ed+=1==eA.length&&1==er?"0"+eA:eA});var eE={type:er,stream_id:eo,platform:this.platform,browser:this.browser.name,version:this.browser.version,app_id:this.appid,negotiate_mode:ei,strAuthParam:en,sdk_version:1*ed,turn_server_host:"string"==typeof es?es:"",params:"".concat(ec)};this.sendMessageWithCallback("CreateSessionReq",eA,0,eE,eu,el)},eA.prototype.createSessionWithSdp=function(eA,er,ei){var ec;return en(this,void 0,void 0,function(){var en,eu,el,ed,eE,eI,eC,eh,eB,ep,ef,em,eQ,ev;return es(this,function(es){switch(es.label){case 0:return en=eA.seq,eu=eA.type,el=eA.streamId,ed=eA.strAuthParam,eI=eA.serverHost,eC=eA.playBufLevel,eh=eA.params,[4,this.getMiniSdp(eE=eA.sdp)];case 1:return eB=es.sent(),ef=(ep=console).log,[4,this.parseRecSdp(eB)];case 2:return ef.apply(ep,[es.sent()]),em=(null===(ec=eA.videoInfo)||void 0===ec?void 0:ec.keyFrameInterval)||2,this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_CREATE_SESSION+" call: "+el),eQ="",ea.PROTO_VERSION.split(".").forEach(function(eA,er){return eQ+=1==eA.length&&1==er?"0"+eA:eA}),ev={type:eu,app_id:this.appid,stream_id:el,sdp:eB.length?eB:eE,user_id:this.userid,platform:this.platform,browser:this.browser.name,sdk_vers:parseInt(eQ),clientIp:"",media_server_host:"string"==typeof eI?eI:"",strAuthParam:ed,params:"".concat(eh),keyframe_intv:parseInt(em)},eC&&(ev.min_play_buf_level_ms=eC),this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_CREATE_SESSION+" "+el+" params: "+JSON.stringify(eo(eo({},ev),{sdp:void 0}))),this.sendMessageWithCallback("CreateSessionWithSdpReq",en,0,ev,er,ei),[2]}})})},eA.prototype.sendMediaDescUpdateReq=function(eA,er,ei,eo,ea){return en(this,void 0,void 0,function(){var en;return es(this,function(es){switch(es.label){case 0:return[4,this.getMiniSdp(ei.sdp)];case 1:return en=es.sent(),this.sendMessageWithCallback("MediaDescUpdateReq",eA,er,{peer_id:ei.peerID,type:ei.type,sdp:en.length?en:ei.sdp,width:ei.width,height:ei.height,framerate:ei.frameRate,video_min_kpbs:ei.video_min_kpbs,video_max_kpbs:ei.video_max_kpbs,audio_kpbs:ei.audio_kpbs,keyframe_intv:ei.keyframe_intv},eo,ea),[2]}})})},eA.prototype.removeSession=function(eA){this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_REMOVE_SESSION+" call "+eA),this.sessionInfos[eA]&&delete this.sessionInfos[eA]},eA.prototype.sendCloseSession=function(eA,er,ei,eo,en){this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_REMOVE_SESSION+" call: "+er);var es={reason:ei};this.removeSession(er),this.sendMessageWithCallback("CloseSessionReq",eA,er,es,eo,en)},eA.prototype.sendMessage=function(eA,er,ei,eo){if(this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_MESSAGE+" call "+eA),this.websocket&&this.websocket.readyState===el.SocketState.OPEN){var en=JSON.stringify({header:this.getHeader(eA,er,ei),body:eo});this.websocket.send(en),this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_MESSAGE+" success")}else this.logger.error(eg.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_MESSAGE+" connect not establish")},eA.prototype.handleRespondData=function(eA,er){this.logger.debug(eg.ZEGO_WEBRTC_ACTION.SIGNAL_HANDLE_RESPOND_DATA+" call");var ei=this.sendDataMap[er.header.seq];if(null!=ei){delete this.sendDataMap[er.header.seq],this.sendDataList.remove(ei);var eo=ei._data;eo.cmd!==eA?this.logger.error(eg.ZEGO_WEBRTC_ACTION.SIGNAL_HANDLE_RESPOND_DATA+" command is not match"):eo.success&&eo.success(er.header.seq,er.header.session_id,er.body)}else{if("CloseSessionRsp"==er.header.cmd)return;this.logger.error(eg.ZEGO_WEBRTC_ACTION.SIGNAL_HANDLE_RESPOND_DATA+" cannot find data "+eA)}},eA.prototype.addSession=function(eA,er){this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_ADD_SESSION+" call"+eA),this.sessionInfos[eA]={token:er}},eA.prototype.handlePushData=function(eA){this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_HANDLE_PUSH_DATA+" call "+eA.header.cmd+" session "+eA.header.session_id);var er=this.pushCallback[eA.header.cmd+eA.header.session_id];er?er.callback&&er.callback(eA.header.seq,eA.header.session_id,eA.body):this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_HANDLE_PUSH_DATA+" no callbackData "+eA.header.cmd+" session: "+eA.header.session_id)},eA.prototype.handlePushResetSessionData=function(eA){this.logger.debug(eg.ZEGO_WEBRTC_ACTION.SIGNAL_HANDLE_PUSH_RESET_SESSION_DATA+" call ");var er=[];if(0==eA.body.cResetType)er=Object.keys(this.sessionInfos);else if(1==eA.body.cResetType)for(var ei=0;ei<eA.body.session_ids.length;ei++)er.push(eA.body.session_ids[ei]);if(this.sendResetSessionAck(eA.header.seq,0,0),0!=er.length)for(var eo=0;eo<er.length;eo++){var en=this.pushCallback[eA.header.cmd+er[eo]];null==en?this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_HANDLE_PUSH_RESET_SESSION_DATA+" no callbackData "+er[eo]):en.callback&&en.callback(eA.header.seq,er[eo],eA.body)}else this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_HANDLE_PUSH_RESET_SESSION_DATA+" no session to callback")},eA.prototype.sendMediaDesc=function(eA,er,ei,eo,ea,ec){return en(this,void 0,void 0,function(){var en,eu,el;return es(this,function(es){switch(es.label){case 0:return this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_MEDIA_DESC+" call: "+er),en="MediaDescReq",[4,this.getMiniSdp(eo.sdp)];case 1:return el={type:ei,sdp:(eu=es.sent()).length?eu:eo.sdp},null!=eo.width&&(el.width=eo.width),null!=eo.height&&(el.height=eo.height),null!=eo.frameRate&&(el.framerate=eo.frameRate),null!=eo.video_min_kpbs&&(el.video_min_kpbs=eo.video_min_kpbs),null!=eo.video_max_kpbs&&(el.video_max_kpbs=eo.video_max_kpbs),null!=eo.audio_kpbs&&(el.audio_kpbs=eo.audio_kpbs),null!=eo.keyframe_intv&&(el.keyframe_intv=eo.keyframe_intv),null!=eo.min_play_buf_level_ms&&(el.min_play_buf_level_ms=eo.min_play_buf_level_ms),this.sendMessageWithCallback(en,eA,er,el,ea,ec),[2]}})})},eA.prototype.sendCandidateInfo=function(eA,er,ei,eo,en){this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_CANDIDATE_INFO+" call: "+er);for(var es=[],ea=0;ea<ei.length;ea++)es.push({candidate:ei[ea].candidate,sdpMid:ei[ea].sdpMid,sdpMLineIndex:ei[ea].sdpMLineIndex});this.sendMessageWithCallback("CandidateInfoReq",eA,er,{infos:es},eo,en)},eA.prototype.sendMediaDescAck=function(eA,er,ei){this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_MEDIA_DESC_ACK+" call: "+er),this.sendMessage("MediaDescAck",eA,er,{result:ei})},eA.prototype.sendUpdateMediaDescAck=function(eA,er,ei,eo){this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_MEDIA_DESC_ACK+" call: "+er),this.sendMessage("MediaDescUpdateAck",eA,er,{peer_id:eo,result:ei})},eA.prototype.sendCandidateInfoAck=function(eA,er,ei){this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_CANDIDATE_INFO_ACK+" call: "+er),this.sendMessage("CandidateInfoAck",eA,er,{result:ei})},eA.prototype.sendCloseSessionAck=function(eA,er,ei){this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_CLOSE_SESSION_ACK+" call: "+er),this.sendMessage("CloseSessionAck",eA,er,{result:ei})},eA.prototype.sendResetSessionAck=function(eA,er,ei){this.logger.debug(eg.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_RESET_SESSION_ACK+" call: "+er),this.sendMessage("SessionResetAck",eA,er,{result:ei})},eA.prototype.registerPushCallback=function(eA,er,ei){ei&&"function"==typeof ei&&(this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_REGISTER_PUSH_CALLBACK+" set callback "+er),this.pushCallback[eA+er]={callback:ei})},eA.prototype.unregisterPushCallback=function(eA,er){delete this.pushCallback[eA+er]},eA.prototype.checkMessageTimeout=function(){for(var eA,er=this,ei=this.sendDataList.getFirst(),eo=(new Date).getTime(),en=0,es=0,ec=0;null!=ei&&!(ei._data.time+this.sendDataTimeout>eo);)if(delete this.sendDataMap[ei._data.seq],this.sendDataList.remove(ei),++es,-1!=this.checkMessageList.indexOf(ei._data.cmd)){if(null==ei._data.error||this.sendDataDropTimeout>0&&ei._data.time+this.sendDataDropTimeout<eo?++ec:(this.logger.warn(eg.ZEGO_WEBRTC_ACTION.SIGNAL_CHECK_MESSAGE_TIMEOUT+" error cmd = "+ei._data.cmd+" seq ="+(null===(eA=ei._data)||void 0===eA?void 0:eA.seq)),ei._data.error&&ei._data.error(ea.SEND_MSG_TIMEOUT,ei._data.seq)),++en>=this.sendDataCheckOnceCount)break;ei=this.sendDataList.getFirst()}else ei=this.sendDataList.getFirst();this.sendDataCheckTimer=setTimeout(function(){er.checkMessageTimeout()},this.sendDataCheckInterval),0==es&&0==ec||this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_CHECK_MESSAGE_TIMEOUT+" call success, state: timeout="+es+" drop="+ec)},eA.prototype.sendHeartbeat=function(){var eA=this;if(this.logger.debug(eg.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_HEARTBEAT+"call tryHeartbeatCount:"+this.tryHeartbeatCount),0!=Object.keys(this.sessionInfos).length){if(this.state===ea.ENUM_CONNECT_STATE.connected){if(++this.tryHeartbeatCount>ea.MAX_TRY_HEARTBEAT_COUNT)return this.logger.error(eg.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_HEARTBEAT+" heartbeat try limit"),void this.disconnectCallback();var er=[];for(var ei in this.sessionInfos)er.push(parseInt(ei));var eo={session_ids:er},en=(new Date).getTime();this.sendMessageWithCallback("ClientHBReq",this.stateCenter.getSeq(),0,eo,function(er,ei,eo){eA.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_HEARTBEAT+" hb time "+((new Date).getTime()-en)),eA.heartbeatInterval!=eo.hb_interval&&(eA.heartbeatInterval=eo.hb_interval,eA.onUpdateHeartBeatInterval(eo.hb_interval)),eA.tryHeartbeatCount=0},function(eA,er){})}else this.logger.warn(eg.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_HEARTBEAT+" state error")}else this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_HEARTBEAT+" no need to heartbeat")},eA.prototype.QualityReport=function(eA,er,ei,en,es){this.logger.debug(eg.ZEGO_WEBRTC_ACTION.SIGNAL_QUALITY_REPORT+" call");var ea={streams:[eo(eo({},ei),{aid:er})]};this.sendMessageWithCallback("QualityReportReq",eA,er,ea,en,es)},eA.prototype.sendStreamStatus=function(eA,er,ei,eo,en,es){this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_STREAM_STATUS+" call "+er);var ec={mic_status:eo,camera_status:ei};this.logger.info("".concat(eg.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_STREAM_STATUS," stream ").concat(en||""," status ").concat(JSON.stringify(ec))),this.sendMessageWithCallback("StreamStatusNotify",eA,er,ec,function(){},function(eA){eA===ea.SEND_MSG_TIMEOUT&&es&&es()})},eA.prototype.ActivatePlayVideoStream=function(eA,er,ei,eo,en){this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_ACTIVE_PLAY_VIDEO_STREAM+" call");var es={active:ei?0:1,layer:0};this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_ACTIVE_PLAY_VIDEO_STREAM+" activate video "+JSON.stringify(es)),this.sendMessageWithCallback("ActivateVideoPlayStreamReq",eA,er,es,eo,en)},eA.prototype.ActivatePlayAudioStream=function(eA,er,ei,eo,en){this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_ACTIVE_PLAY_AUDIO_STREAM+" call");var es={active:ei?0:1,layer:0};this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_ACTIVE_PLAY_AUDIO_STREAM+" activate audio "+JSON.stringify(es)),this.sendMessageWithCallback("ActivateAudioPlayStreamReq",eA,er,es,eo,en)},eA.prototype.sendBroadcasterStatus=function(eA,er,ei){this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_BROADCAST_STATUS+" call "+er),this.sendMessage("BroadcasterStatusNotify",eA,er,{status:ei})},eA.prototype.sendNetProbe=function(eA,er,ei,eo,en){this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_NET_PROBE+" call "+er),this.sendMessageWithCallback("NetQualityProbeReq",eA,er,{peer_id:ei,action:1},eo,en)},eA.prototype.sendNetQualityInfoPushAck=function(eA,er,ei,eo){this.logger.info(eg.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_NET_PROBE+" call "+er),this.sendMessage("NetQualityInfoAck",eA,er,{peer_id:ei,result:eo})},eA.prototype.activateSEIInsert=function(eA,er,ei,eo,en,es,ea){},eA.prototype.getP2PNetStats=function(eA,er,ei,eo,en){this.sendMessageWithCallback("Peer2PeerNetStatsGetReq",eA,er,{peer_id:ei},eo,en)},eA.prototype.sendGWCmd=function(eA,er,ei,eo,en){this.sendMessageWithCallback("CmdReq",eA,er,ei,eo,en)},eA.prototype.sendGWAck=function(eA,er,ei){this.sendMessage("CmdAck",eA,er,ei)},eA.prototype.getMiniSdp=function(eA){var er,ei;return en(this,void 0,void 0,function(){var eo,en;return es(this,function(es){switch(es.label){case 0:if(this.logger.info("zc.s.gmsdp isMini: ".concat(this.stateCenter.isMiniSdp," sdp:").concat(eA.length)),!this.stateCenter.isMiniSdp||!eA)return[3,4];es.label=1;case 1:return es.trys.push([1,3,,4]),[4,null===(er=this.miniSdpWorker)||void 0===er?void 0:er.parseToMiniSdp(eA||"")];case 2:return eo=es.sent(),this.logger.info("zc.s.gmsdp parse sdp success buffer:".concat(eo.byteLength)),eo&&eo.byteLength?[2,null===(ei=ed.ClientUtil.uint8arrayToBase64(eo))||void 0===ei?void 0:ei.trim()]:(this.stateCenter._isMiniSdp=!1,[2,""]);case 3:return en=es.sent(),this.logger.error("zc.s.gmsdp error:".concat(JSON.stringify(en))),this.stateCenter._isMiniSdp=!1,[3,4];case 4:return[2,""]}})})},eA.prototype.parseRecSdp=function(eA){var er;return en(this,void 0,void 0,function(){var ei,eo,en;return es(this,function(es){switch(es.label){case 0:if(this.logger.info("zc.s.prsdp isMini: ".concat(this.stateCenter.isMiniSdp," rSDP:").concat(eA.length)),!this.stateCenter.isMiniSdp||!eA)return[3,4];es.label=1;case 1:return es.trys.push([1,3,,4]),ei=eE.WebRTCUtil.base64ToUint8Array(eA),[4,null===(er=this.miniSdpWorker)||void 0===er?void 0:er.loadMiniSdpToOriginSdp(ei)];case 2:return eo=es.sent(),this.logger.info("zc.s.prsdp parse minisdp success sdp:".concat(eo.length)),[2,eo];case 3:return en=es.sent(),this.logger.error("zc.s.gmsdp error:".concat(JSON.stringify(en))),this.stateCenter._isMiniSdp=!1,[3,4];case 4:return[2,eA]}})})},eA.prototype.sendNetQualityGradeAck=function(eA,er,ei){this.logger.info(eg.ZEGO_WEBRTC_ACTION.SEND_NET_QUALITY_GRADE_ACK+" call: "+eA);var eo=eC.webrtc_cmd.WebrtcCmdRspMsg.encode({net_quality_grade_ack:{result:ei}}).finish(),en=ed.ClientUtil.uint8arrayToBase64(eo);this.sendGWCmd(this.stateCenter.getSeq(),eA,{peer_id:er,cmd_id:7,body:en},function(){},function(){})},eA}();er.ZegoSignal=ep},6622:function(eA,er,ei){"use strict";var eo=this&&this.__importDefault||function(eA){return eA&&eA.__esModule?eA:{default:eA}};Object.defineProperty(er,"__esModule",{value:!0}),er.AutoplayDialog=void 0;var en=eo(ei(3774)),es="zg_autoplay_wrapper";function ea(){return navigator.language.includes("zh")}var eg=function(){function eA(){this.content='Media play failed. Click the "Resume"to resume.',this.dialogNode=null,this.bodyPosition="static";var eA=document.createElement("style");eA.innerHTML=".zg_autoplay_mask{position:fixed;top:0;left:0;right:0;bottom:0;width:100vw;height:100vh;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,0.5);z-index:1500;}.zg_autoplay_mask div:not(.zg_autoplay_action_wrapper){display:block !important;}.".concat(es,"{padding:14px;background:#fff;border-radius:3px;box-shadow:1px 1px 10px #988e8d;border:1px solid #d1cfcf;max-width:500px;}.").concat(es," a{color:#2473E8;}.zg_autoplay_header{overflow:hidden;text-overflow:ellipsis;font-size:16px;font-weight:600;}.zg_autoplay_content{margin:8px 0;}.zg_autoplay_action_wrapper{width:100%;display:flex !important;align-items:center;justify-content:right;float:right;}.zg_autoplay_collapse{margin-right:auto;cursor:pointer}.zg_autoplay_question{height:100%;line-height:16px;cursor:pointer;}.zg_autoplay_action_confirm{margin-left:8px;color:#fff;background:#0072ff;padding:4px 12px;outline:none;border:1px solid;border-radius:3px;font-weight:bold;}.zg_autoplay_action_confirm:hover{opacity:0.9;}.zg_autoplay_collapse,.zg_autoplay_action_confirm,.zg_autoplay_content,.zg_autoplay_question{font-size:14px;}@media screen and (max-width:750px){.").concat(es,"{width:80vw;}}"),document.head.appendChild(eA),ea()&&(this.content="浏览器阻止音视频播放，请点击“恢复播放”。"),this.eManager=new en.default}return eA.getInstance=function(){return eA.instance||(eA.instance=new eA),eA.instance},eA.prototype.createDialog=function(){var eA=document.createElement("template");eA.innerHTML="<div class='zg_autoplay_mask'><div class='".concat(es,"'><div class='zg_autoplay_header'>").concat(location.host,"</div><div class='zg_autoplay_content'>").concat(this.content,"</div><div class='zg_autoplay_action_wrapper'></div></div></div>").trim();var er=document.createElement("button");er.className="zg_autoplay_action_confirm",er.innerText=ea()?"恢复播放":"Resume",er.onclick=this.onConfirm.bind(this);var ei=eA.content.firstChild,eo=ei.querySelector(".zg_autoplay_action_wrapper");return eo&&eo.appendChild(er),ei},eA.prototype.onConfirm=function(eA){eA&&eA.stopPropagation(),this.eManager.emit("allowPlay"),this.deleteDiaLog()},eA.prototype.deleteDiaLog=function(){this.dialogNode&&(document.body.removeChild(this.dialogNode),this.dialogNode=null)},eA.prototype.addDiaLog=function(){this.dialogNode=this.dialogNode||this.createDialog(),document.body.appendChild(this.dialogNode),this.dialogNode.onclick=this.onConfirm.bind(this)},eA.prototype.on=function(eA,er){return this.eManager.addEventHandler(eA,er)},eA.instance=null,eA}();er.AutoplayDialog=eg},6607:function(eA,er,ei){"use strict";var eo=this&&this.__assign||function(){return(eo=Object.assign||function(eA){for(var er,ei=1,eo=arguments.length;ei<eo;ei++)for(var en in er=arguments[ei])Object.prototype.hasOwnProperty.call(er,en)&&(eA[en]=er[en]);return eA}).apply(this,arguments)},en=this&&this.__awaiter||function(eA,er,ei,eo){return new(ei||(ei=Promise))(function(en,es){function ea(eA){try{ec(eo.next(eA))}catch(eA){es(eA)}}function eg(eA){try{ec(eo.throw(eA))}catch(eA){es(eA)}}function ec(eA){var er;eA.done?en(eA.value):((er=eA.value)instanceof ei?er:new ei(function(eA){eA(er)})).then(ea,eg)}ec((eo=eo.apply(eA,er||[])).next())})},es=this&&this.__generator||function(eA,er){var ei,eo,en,es,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return es={next:eg(0),throw:eg(1),return:eg(2)},"function"==typeof Symbol&&(es[Symbol.iterator]=function(){return this}),es;function eg(eg){return function(ec){return function(eg){if(ei)throw TypeError("Generator is already executing.");for(;es&&(es=0,eg[0]&&(ea=0)),ea;)try{if(ei=1,eo&&(en=2&eg[0]?eo.return:eg[0]?eo.throw||((en=eo.return)&&en.call(eo),0):eo.next)&&!(en=en.call(eo,eg[1])).done)return en;switch(eo=0,en&&(eg=[2&eg[0],en.value]),eg[0]){case 0:case 1:en=eg;break;case 4:return ea.label++,{value:eg[1],done:!1};case 5:ea.label++,eo=eg[1],eg=[0];continue;case 7:eg=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eg[0]||2===eg[0])){ea=0;continue}if(3===eg[0]&&(!en||eg[1]>en[0]&&eg[1]<en[3])){ea.label=eg[1];break}if(6===eg[0]&&ea.label<en[1]){ea.label=en[1],en=eg;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eg);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eg=er.call(eA,ea)}catch(eA){eg=[6,eA],eo=0}finally{ei=en=0}if(5&eg[0])throw eg[1];return{value:eg[0]?eg[1]:void 0,done:!0}}([eg,ec])}}},ea=this&&this.__importDefault||function(eA){return eA&&eA.__esModule?eA:{default:eA}};Object.defineProperty(er,"__esModule",{value:!0}),er.StreamView=void 0;var eg=ea(ei(3774)),ec=ei(7436),eu=ei(6622).AutoplayDialog.getInstance(),el=function(){function eA(eA,er,ei){var en,es,ea,ec=this;this.previewer=er,this.video=null,this.audio=null,this.options={enableAutoplayDialog:!0,clearLastFrame:!0},this.emitPlayFailed=(en=function(){ec.eventManager.emit("autoplayFailed"),ec.options.enableAutoplayDialog&&eu.addDiaLog(),ec.logger.warn("zc.zsv autoplay failed")},es=600,function(){for(var eA=[],er=0;er<arguments.length;er++)eA[er]=arguments[er];var ei=this;clearTimeout(ea),ea=window.setTimeout(function(){en.apply(ei,eA)},es)}),this.videoMuted=!1,this.audioMuted=!1,this.eventHandler={visibilitychange:function(){var eA;!document.hidden&&(null===(eA=ec.audio)||void 0===eA?void 0:eA.parentNode)&&(ec.logger.warn("zc.zsv page show, recover audio"),ec.audio.srcObject=ec.audio.srcObject,ec.mountPlayer(ec.audio,!0))},canPlayAudio:function(){ec.eventManager.emit("canPlayAudio")},canPlayVideo:function(){ec.eventManager.emit("canPlayVideo")}},this.options=eo(eo({},this.options),ei);var el=this.id="".concat(eA.id),ed=document.createElement("div");ed.id="zg-rtc-player_".concat(el),ed.setAttribute("style","width:100%;height:100%;position:relative;background-color:black;overflow:hidden;");var eE=eA.getVideoTracks()[0],eI=eA.getAudioTracks()[0],eC=document.createElement("video");eC.id="zg-rtc-video_".concat(el),eC.setAttribute("style","width:100%;height:100%;object-fit:contain;"),eC.setAttribute("autoplay",""),eC.setAttribute("playsinline",""),eC.setAttribute("muted",""),eC.muted=!0,eC.srcObject=new MediaStream,eC.addEventListener("canplay",this.eventHandler.canPlayVideo),eE&&eC.srcObject.addTrack(eE);var eh=document.createElement("audio");eh.id="zg-rtc-audio_".concat(el),eh.setAttribute("autoplay",""),eh.setAttribute("playsinline",""),eh.setAttribute("muted",""),eh.muted=!0,eh.srcObject=new MediaStream,eh.addEventListener("canplay",this.eventHandler.canPlayAudio),eI&&eh.srcObject.addTrack(eI),"object"==typeof WeixinJSBridge&&"function"==typeof WeixinJSBridge.invoke&&WeixinJSBridge.invoke("getNetworkType",{},function(){ec.logger.info("zc.zsv weixin load media"),eh.load(),eC.load()}),this.wrapper=ed,this.video=eC,this.audio=eh,this.eventManager=new eg.default,eu.on("allowPlay",function(){ec.resume()}),document.addEventListener("visibilitychange",this.eventHandler.visibilitychange)}return Object.defineProperty(eA.prototype,"logger",{get:function(){return this.previewer.logger},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"isLocal",{get:function(){return this.previewer instanceof ec.ZegoPreview},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"isMounted",{get:function(){return!!this.wrapper.parentNode},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"hasAudio",{get:function(){var eA,er,ei;return!!(null===(eA=this.audio)||void 0===eA?void 0:eA.parentNode)&&"live"===(null===(ei=null===(er=this.audio.srcObject)||void 0===er?void 0:er.getTracks()[0])||void 0===ei?void 0:ei.readyState)},enumerable:!1,configurable:!0}),Object.defineProperty(eA.prototype,"hasVideo",{get:function(){var eA,er,ei;return!!(null===(eA=this.video)||void 0===eA?void 0:eA.parentNode)&&"live"===(null===(ei=null===(er=this.video.srcObject)||void 0===er?void 0:er.getTracks()[0])||void 0===ei?void 0:ei.readyState)},enumerable:!1,configurable:!0}),eA.prototype.resume=function(eA,er){return void 0===er&&(er=["audio","video"]),en(this,void 0,void 0,function(){var ei=this;return es(this,function(eo){return this.logger.info("zc.zsv resume call: ".concat(eA,", kindList: ").concat(er)),er.forEach(function(er){return en(ei,void 0,void 0,function(){var ei,eo=this;return es(this,function(en){switch(en.label){case 0:return ei="audio"===er?this.audio:this.video,("audio"===er?this.hasAudio:this.hasVideo)?eA&&ei?(ei.srcObject=ei.srcObject,[4,new Promise(function(eA){var er=function(){ei.removeEventListener("canplay",er),eA(0)};ei.addEventListener("canplay",er)})]):[3,2]:[3,4];case 1:en.sent(),en.label=2;case 2:return[4,null==ei?void 0:ei.play().catch(function(eA){eo.logger.info("zc.zsv resume failed. err:"+eA.message)})];case 3:en.sent(),en.label=4;case 4:return[2]}})})}),[2]})})},eA.prototype.checkIfClearLastFrame=function(){return en(this,void 0,void 0,function(){return es(this,function(eA){switch(eA.label){case 0:return this.options.clearLastFrame?[4,this.resume(!0,["video"])]:[3,2];case 1:eA.sent(),eA.label=2;case 2:return[2]}})})},eA.prototype.play=function(eA,er){void 0===er&&(er={}),this.logger.info("zc.zsv play: ".concat(typeof eA,", ").concat(JSON.stringify(er)));var ei=null;if("string"==typeof eA?ei=document.getElementById(eA):eA instanceof HTMLElement&&(ei=eA),!ei)throw"Execute `play` failed, container not exist";this.options=eo(eo({},this.options),er);var en=this.options,es=en.objectFit,ea=en.muted,eg=en.mirror,ec=!this.isLocal;this.audio&&"boolean"==typeof ea&&(ec=!ea),this.video&&(void 0!==es&&(this.video.style.objectFit=es),"boolean"==typeof eg&&(this.video.style.transform=eg?"rotateY(180deg)":"")),ei.contains(this.wrapper)||ei.appendChild(this.wrapper),this.videoMuted=!1,this.mountPlayer(this.video,!0),this.audioMuted=!ec,this.mountPlayer(this.audio,ec)},eA.prototype.stop=function(){this.logger.info("zc.zsv stop ");var eA,er=null===(eA=this.wrapper)||void 0===eA?void 0:eA.parentNode;er&&er.removeChild(this.wrapper)},eA.prototype.setVideo=function(eA,er){return void 0===er&&(er=!1),en(this,void 0,void 0,function(){return es(this,function(ei){switch(ei.label){case 0:return[4,this.setTrack(!0,eA,er)];case 1:return ei.sent(),[2]}})})},eA.prototype.setAudio=function(eA,er){return void 0===er&&(er=!1),en(this,void 0,void 0,function(){return es(this,function(ei){switch(ei.label){case 0:return[4,this.setTrack(!1,eA,er)];case 1:return ei.sent(),[2]}})})},eA.prototype.setTrack=function(eA,er,ei){return void 0===ei&&(ei=!1),en(this,void 0,void 0,function(){var eo,en,ea;return es(this,function(es){switch(es.label){case 0:return this.logger.info("zc.zsv set track: ".concat(eA,", ").concat(typeof er,", ").concat(ei)),(eo=eA?this.video:this.audio)&&(en=eo.srcObject)?er?[3,1]:((ea=en.getTracks()).forEach(function(eA){null==en||en.removeTrack(eA),eo.srcObject=eo.srcObject}),this.eventManager.emit("_trackChange",eA?"video":"audio"),[3,5]):[2];case 1:if(!(er instanceof MediaStreamTrack)||(ea=en.getTracks()).includes(er)||(ea.forEach(function(eA){null==en||en.removeTrack(eA)}),en.addTrack(er),this.eventManager.emit("_trackChange",er.kind,er),this.mountPlayer(eo,!(eA?this.videoMuted:this.audioMuted)),!ei))return[3,5];es.label=2;case 2:return es.trys.push([2,4,,5]),[4,this.resume(!0,[eA?"video":"audio"])];case 3:case 4:return es.sent(),[3,5];case 5:return[2]}})})},eA.prototype.setMirror=function(eA){var er=this.options.mirror=!!eA;this.video&&(this.video.style.transform=er?"rotateY(180deg)":"")},eA.prototype.setVideoMuted=function(eA){return this.logger.info("zc.zsv mute video: ".concat(eA)),this.videoMuted=eA,this.mountPlayer(this.video,!eA)},eA.prototype.setAudioMuted=function(eA){return this.logger.info("zc.zsv mute audio: ".concat(eA)),this.audioMuted=eA,this.mountPlayer(this.audio,!eA)},eA.prototype.setVolume=function(eA){if(this.logger.info("zc.zsv volume: ".concat(eA)),this.audio){var er=eA>100?1:eA/100;return this.audio.volume=er,this.audio.volume==er}return!1},eA.prototype.takeStreamSnapshot=function(eA){var er=this.video;if(!er||!er.srcObject)return"";var ei=document.createElement("canvas");ei.width=this.video.videoWidth,ei.height=this.video.videoHeight;var eo=ei.getContext("2d");eo&&eo.drawImage(this.video,0,0,ei.width,ei.height);var en=ei.toDataURL("image/"+(null==eA?void 0:eA.imageType),null==eA?void 0:eA.quality),es="png";return(null==eA?void 0:eA.imageType)&&(es=["png","jpeg"].includes(null==eA?void 0:eA.imageType)?null==eA?void 0:eA.imageType:"png"),(null==eA?void 0:eA.save)&&ei.toBlob(function(er){var ei=window.URL.createObjectURL(er),eo=document.createElement("a");eo.style.display="none",eo.href=ei;var en=(null==eA?void 0:eA.fileName)||"snapshot"+Date.now();eo.download=en+"."+es,document.body.appendChild(eo),eo.click(),setTimeout(function(){document.body.removeChild(eo),window.URL.revokeObjectURL(ei)},100)}),en},eA.prototype.mountPlayer=function(eA,er){var ei,eo,en=this;if(!eA||!this.wrapper)return!1;var es="VIDEO"===eA.tagName;if(er){if(er&&"live"===(null===(eo=null===(ei=null==eA?void 0:eA.srcObject)||void 0===ei?void 0:ei.getTracks()[0])||void 0===eo?void 0:eo.readyState)){var ea=null,eg=function(){eA.oncanplay=null,ea&&(clearTimeout(ea),ea=null),eA.play().catch(function(er){en.logger.info("zc.zsv ".concat(eA.tagName," play() error: ").concat(er.message));var ei=en.isMounted,eo=en.hasVideo,ea=en.hasAudio,eg=(er.message||"").includes("interrupted");ei&&!eg&&(es&&eo||!es&&ea)&&en.emitPlayFailed()})};eA.muted=!0,es||(eA.muted=!1,eA.srcObject=eA.srcObject),eA.play().catch(function(){}),ea=window.setTimeout(function(){eg()},1e3),eA.oncanplay=function(){eg()},eA.parentNode||this.wrapper.appendChild(eA)}}else{eA.muted=!0;var ec=eA.parentNode;ec&&ec.removeChild(eA),setTimeout(function(){es||eA.parentNode||!(eA.readyState>3)||eA.load()},1e3*(5*Math.random()+4))}return!0},eA.prototype.on=function(eA,er){return!!er&&this.eventManager.addEventHandler(eA,er)},eA.prototype.off=function(eA,er){return this.eventManager.removeEventHandler(eA,er)},eA.prototype.useAudioOut=function(eA){var er;return en(this,void 0,void 0,function(){var ei;return es(this,function(eo){switch(eo.label){case 0:return(ei=null===(er=this.audio)||void 0===er?void 0:er.setSinkId)?[4,ei.call(this.audio,eA)]:[3,2];case 1:eo.sent(),eo.label=2;case 2:return[2]}})})},eA.prototype.destroy=function(){this.stop(),this.video&&this.video.removeEventListener("canplay",this.eventHandler.canPlayVideo),this.audio&&this.audio.removeEventListener("canplay",this.eventHandler.canPlayAudio),this.audio=null,this.video=null,document.removeEventListener("visibilitychange",this.eventHandler.visibilitychange)},eA.prototype.getAudioElement=function(){return this.audio},eA}();er.StreamView=el},9723:function(eA,er,ei){"use strict";var eo,en=this&&this.__extends||(eo=function(eA,er){return(eo=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(eA,er){eA.__proto__=er}||function(eA,er){for(var ei in er)Object.prototype.hasOwnProperty.call(er,ei)&&(eA[ei]=er[ei])})(eA,er)},function(eA,er){if("function"!=typeof er&&null!==er)throw TypeError("Class extends value "+String(er)+" is not a constructor or null");function ei(){this.constructor=eA}eo(eA,er),eA.prototype=null===er?Object.create(er):(ei.prototype=er.prototype,new ei)}),es=this&&this.__assign||function(){return(es=Object.assign||function(eA){for(var er,ei=1,eo=arguments.length;ei<eo;ei++)for(var en in er=arguments[ei])Object.prototype.hasOwnProperty.call(er,en)&&(eA[en]=er[en]);return eA}).apply(this,arguments)};Object.defineProperty(er,"__esModule",{value:!0}),er.ZegoStreamCenterWeb=er.CachedNodesUseMode=void 0;var ea,eg=ei(5123),ec=ei(7436),eu=ei(9987),el=ei(2277),ed=ei(5123),eE=ei(3074),eI=ei(9746),eC=ei(3525),eh=ei(4140),eB=ei(2532),ep=ei(1586),ef=ei(93),em=ei(4028),eQ=ei(7320),ev=ei(1018),e_=ei(6348);!function(eA){eA[eA.NotReUse=0]="NotReUse",eA[eA.TheSameReUse=1]="TheSameReUse",eA[eA.DiffReUse=2]="DiffReUse",eA[eA.AllReUse=3]="AllReUse"}(ea=er.CachedNodesUseMode||(er.CachedNodesUseMode={}));var ey=ep.ZegoRTCLogEvent.kZegoTaskPublishStart,eS=ep.ZegoRTCLogEvent.kZegoTaskPlayStart,eR=function(eA){function er(er,ei,eo,en,es,ec){var eu,el=this;return(el=eA.call(this)||this).logger=er,el.stateCenter=ei,el.dataReport=eo,el.rtm=en,el.ac=es,el.mediaEleSources=ec,el.testEnvironment=!1,el.heartbeatTimer=null,el.heartbeatInterval=1e4,el.qualityTimerInterval=3e3,el.previewStreamList=[],el.signalList={},el.chargeInfos={itemtype:"ChargeInfos",timestamp_begin:0,timestamp_end:0,timestamp_diff_flag:0,timestamp_diff:0,infos:[]},el.soundLevelDelegate=!1,el.soundLevelInterval=1e3,el.enableInBackground=!1,el.isPeer=!0,el.probeList={},el.isMicEnabled=!0,el.isDataChannelEnabled=!1,el.gwNode="",el.playerList={},el.stopedPlayerList={},el.publisherList={},el.playSuccessCallBackList={},el.playErrorCallBackList={},el.waitPublishList=[],el.waitPlayList=[],el.autoSwitchProtocol=!0,el.udpFailNum=0,el.maxUdpFailNum=2,el.qualityInterval=3e3,el.switchScore=60,el.defaultBadQualityTime=3e4,el.l3BadQualityTime=1e4,el.switchDetectResultScore=60,el.cdnBadQualityScore=60,el.l3BadQualityScore=60,el.multiPlaySwitchRate=.8,el.protocolBadQualityCount=3,el.protocolBadQualityTime=12e3,el.protocolQualityCacheExpiredTime=18e4,el.fallbackInhibitionTime=18e4,el.probeExpiredTime=3e4,el.minProbeInterval=15e3,el.l3DetectedTimestamp=0,el.l3DetectResult=0,el.isL3Fallback=!1,el.cdnProtocolBadTimestamp=0,el.l3ProtocolBadTimestamp=0,el.lastHandleCDNBadTimestamp=0,el.lastHandleL3BadTimestamp=0,el.cdnProtocolBadTime=0,el.l3ProtocolBadTime=0,el.probeStartedNum=3,el.cachedGwNodesList={},el.cachedGwNodesMode=ea.TheSameReUse,el.txQuality=-1,el.rxQuality=-1,el.isRegisterQualityPush=!1,el.netTimer=null,el.tryCountConnectInterval=3e3,el.checkMessageTimeout=function(){for(var eA in el.signalList)el.signalList[eA].signal&&el.signalList[eA].signal.checkMessageTimeout()},el.getAllInUseUrl=function(){var eA=[];for(var er in el.signalList)eA.push(er);return eA},el.onDisconnectHandle=function(eA,er){if(el.logger.info("zsc.od.0 call"),el.signalList[eA]){for(var ei=el.signalList[eA],eo=0;eo<ei.publishConnectedList.length;eo++){var en=el.publisherList[ei.publishConnectedList[eo]];en&&en.publisher&&en.publisher.onDisconnect(er)}for(eo=0;eo<ei.playConnectedList.length;eo++){var es=el.playerList[ei.playConnectedList[eo]];es&&es.player&&es.player.onDisconnect(er)}delete el.signalList[eA],el.stopSignalHeartbeat(),el.stateCenter.billingTimer.stopChargeInfosUpload(),el.stopSoundLevel()}},el.eventHandler={visibilitychange:function(){var eA=!document.hidden;!el.enableInBackground&&el.soundLevelDelegate&&(eA?(el.enableSoundLevelProcessor(!0),el.activeSoundLevel()):(el.soundLevelTimer&&clearTimeout(el.soundLevelTimer),el.soundLevelTimer=null,el.enableSoundLevelProcessor(!1))),el.ac.resume()}},el.rtm._on("_roomStateUpdate",function(eA,er){for(var ei in el.playerList){var eo=el.playerList[ei],en=eo.cdnPlayer;eo.room.roomID==eA&&en&&eo.player.state===ed.ENUM_PLAY_STATE.playing&&eo.playMode==eg.PlayMode.CDN&&("CONNECTED"==er?(en.canRetry=!0,en.retry()):"DISCONNECTED"===er&&el.stopPlayingStream(ei))}}),document.addEventListener("visibilitychange",el.eventHandler.visibilitychange),null===(eu=el.rtm.netAgent)||void 0===eu||eu.on("clientInfo",function(eA){if(el.stateCenter.accessClientIp&&(null==eA?void 0:eA.clientIP)&&el.stateCenter.accessClientIp!==eA.clientIP){for(var er in el.logger.warn(ef.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_CLIENT_INFO+" client ip changed "+el.stateCenter.accessClientIp+" "+eA.clientIP),el.publisherList){var ei=el.publisherList[er].publisher;ei.resetGwNodes(),el.clearCachedGwNodesList(ei,!0)}for(var er in el.playerList){var eo=el.playerList[er].player;eo.resetGwNodes(),el.clearCachedGwNodesList(eo,!1)}}el.stateCenter.accessClientIp=eA.clientIP,"number"==typeof(null==eA?void 0:eA.timeOffset)&&(el.stateCenter.clientTimeOffset=null==eA?void 0:eA.timeOffset),el.updateTimeOffsetInterval(),el.stateCenter.accessClientIp=eA.clientIP}),el.streamReport=new eQ.StreamQualityReportWeb(er,ei,el),el}return en(er,eA),Object.defineProperty(er.prototype,"cameraPreviewStream",{get:function(){return this.previewStreamList.find(function(eA){return"camera"===eA.previewType})},enumerable:!1,configurable:!0}),Object.defineProperty(er.prototype,"microphonePreviewStream",{get:function(){return this.previewStreamList.find(function(eA){return"camera"===eA.previewType&&eA.micTrack})},enumerable:!1,configurable:!0}),Object.defineProperty(er.prototype,"shouldReportNoPlaying",{get:function(){return this.stateCenter.billingTimer.shouldReportRoomTime},enumerable:!1,configurable:!0}),er.prototype.onSignalDisconnected=function(eA){},er.prototype.setQualityMonitorCycle=function(eA){var er=this;return this.logger.debug("zsc.qmc.0 timeInterval "+eA),0==Object.keys(this.publisherList).length?this.qualityTimerInterval=eA:Object.keys(this.publisherList).forEach(function(ei){er.publisherList[ei].publisher.qualityTimeInterval=eA,er.publisherList[ei].publisher.setPublishQualityTimer()}),!0},er.prototype.setSessionInfo=function(eA,er,ei){this.logger.debug("zsc.ssi.0 called"),this.appid=eA,this.userid=er,this.testEnvironment=ei},er.prototype.onPlayStateUpdate=function(eA,er,ei,eo){},er.prototype.onPlayQualityUpdate=function(eA,er){},er.prototype.onPublishStateUpdate=function(eA,er,ei){},er.prototype.onPublishQualityUpdate=function(eA,er){},er.prototype.onUpdateHeartBeatIntervalHandle=function(eA){eA!=this.heartbeatInterval&&(this.logger.debug("zsc.uhb.0 update "+eA),this.heartbeatTimer&&(clearTimeout(this.heartbeatTimer),this.heartbeatTimer=null),this.heartbeatInterval=eA,this.startSignalHeartbeat())},er.prototype.setPublishStateStart=function(eA,er,ei,eo,en,es){var ea,eg,ec=this;this.logger.info("zsc.pss.0 call "+er);var el=this.checkPreview(ei);if(!el)return this.logger.error("zsc.pss.0 stream not found"),!1;if(this.publisherList[er])return this.logger.error("zsc.pss.0 publisher already exist"),this.stateCenter.reporter.spanSetAttributes({key:ey.event,par:er},{error:ey.error.kIsPublishing.code,message:ey.error.kIsPublishing.message}),!1;var eE=new eu.ZegoPublish(er,this.logger,this.dataReport,this.qualityTimerInterval,this,this.stateCenter,el);eE.state=ed.ENUM_PUBLISH_STATE.start,eE.isPeer=this.isPeer,eE.reportSeq=this.stateCenter.reportSeqList.startPublish[er],eE.isExternal=!0,eE.cachedGwNodesMode=this.cachedGwNodesMode,eE.parentSpanKey=ep.ZegoRTCLogEvent.kZegoStartPublish.event;var eI=null===(ea=null==el?void 0:el.videoTrack)||void 0===ea?void 0:ea.label,eB="",ef="",em=ei.getAudioTracks()[0]&&ei.getAudioTracks()[0].label;try{eB=null===(eg=null==el?void 0:el.videoTrack)||void 0===eg?void 0:eg.getSettings().deviceId,ef=ei.getAudioTracks()[0]&&ei.getAudioTracks()[0].getSettings().deviceId}catch(eA){this.logger.warn("zsc.pss.0 get device id failed. error: "+eA)}var eQ=new eC.RetryStreamHandler(this.logger,this.stateCenter,this,!0);return this.publisherList[er]={seq:0,room:eA,localStream:ei,publisher:eE,serverUrls:[],ttl:0,isCenterNode:!0,streamID:er,publishOption:eo,cameraLabel:eI||"",microLabel:em||"",cameraDeviceId:eB||"",microDeviceId:ef||"",deviceStateCount:0,retryStreamHandler:eQ,retryDispatchHandler:new eh.RetryDispatchHandler(this.logger,this.stateCenter,this.rtm,this),isDataChannel:es,streamSid:en},eE.onPublishStateUpdate=function(eA,ei,eo,en,es,ea){var eg=ec.publisherList[ei];eg?eg.retryStreamHandler.publishStateHandle(eA,eg.streamID,eo,en,es,ea):ec.logger.error("zsc.psuh.0 cannot find publish "+er)},eE.onPublishQualityUpdate=function(eA,ei){var eo=ec.publisherList[eA];eo?(ec.stateCenter.deviceStateOut&&0===ei.audio.audioBitrate?(eo.deviceStateCount++,eo.deviceStateCount>=2&&(eo.deviceStateCount=0,ec.stateCenter.deviceStateOut=!1,ec.logger.warn("zsc.pss.0 publish audio error by device"))):eo.deviceStateCount=0,ec.onPublishQualityUpdate(eo.streamID,ei)):ec.logger.error("zsc.psuh.0 cannot find publish "+er)},!0},er.prototype.startPublishingStream=function(eA,er){void 0===er&&(er=!1),this.logger.info("zsc.sps.0 call");var ei=this.publisherList[eA];if(!ei)return this.logger.error("zsc.sps.0 publisher don't exist"),!1;if(!er){if(this.stateCenter.reporter.spanSetAttributes({key:ey.event,par:eA},{urls:ey.urls(ei.serverUrls),is_center:ey.is_center(ei.isCenterNode)}),!ei.serverUrls||0===ei.serverUrls.length)return ei.retryStreamHandler.publishStateHandle(ed.ENUM_PUBLISH_STATE_UPDATE.error,eA,eB.errorCodeList.DISPATCH_ERROR),this.logger.info("zsc.sps.0 server don't have signal url"),!0;var eo=ei.serverUrls.indexOf(this.server);-1!==eo&&(ei.serverUrls.splice(eo,1),ei.serverUrls.unshift(this.server))}var en=ei.retryStreamHandler;return en.invalid(),en.init(this.stateCenter.streamRetryTime),en.initStream(eA,ei.serverUrls),en.startMaxTime(),en.activePublish(0)},er.prototype.updateWaitingList=function(eA,er,ei,eo,en){var es={streamID:ei,success:eo,error:en};er?eA.publishWaitingList.push(es):eA.playWaitingList.push(es)},er.prototype.publishStream=function(eA){var er=this.publisherList[eA].publisher;if(er){var ei=null,eo=null,en=this.publisherList[eA].publishOption,es=this.checkPreview(this.publisherList[eA].localStream);es?(ei=es.localStream,eo=es.videoInfo,this.stateCenter.reporter.spanSetAttributes({key:ey.event,par:eA},{cap_w:ey.cap_w(es.videoInfo.width),cap_h:ey.cap_h(es.videoInfo.height),w:ey.w(es.videoInfo.width),h:ey.h(es.videoInfo.height),video_en_fps:ey.video_en_fps(es.videoInfo.frameRate),video_en_bps:ey.video_en_bps(1e3*es.videoInfo.bitRate)}),ei?(this.logger.info("zsc.ps.0 call success"),this.setStreamGwNode(er,!0),er.startPublish(eA,ei,eo,es.mediaStreamConfig,en)):this.logger.error("zsc.ps.0 no localStream found")):this.logger.error("zsc.ps.0 no preview found")}else this.logger.info("zsc.ps.0 publisher don't exist")},er.prototype.connectPublishServer=function(eA,er){var ei=this,eo=this.publisherList[eA];if(!eo)return this.logger.error("zsc.cps.0 publisher don't exist"),!1;var en=Date.now();return this.stateCenter.reporter.createSpan(eg.TRACER_LEVEL.H,{key:eo.publisher.parentSpanKey,par:eA},{key:ep.ZegoRTCLogEvent.kZegoPublishServerConnect.event,par:eA},ep.ZegoRTCLogEvent.kZegoPublishServerConnect.event,!0),this.connectWithReuseSignalServer(eA,!0,er,function(eA,er,eo){var es=ei.publisherList[eA];if(es){var ea=es.publisher;if(ea){var eg=Date.now()-en;ei.stateCenter.reporter.spanSetAttributes({key:ea.parentSpanKey,par:eA},{dispatch_consume:ep.ZegoRTCLogEvent.kZegoStartPlay.dispatch_consume(eg)}),ea.reportSpan.setAttributes({server_url:ep.ZegoRTCLogEvent.kZegoTaskSDKPublishStream.server_url(eo)}),ei.stateCenter.reporter.spanSetAttributes({key:ey.event,par:eA},{server_url:ey.server_url(eo)}),ei.stateCenter.reporter.spanEnd({key:ep.ZegoRTCLogEvent.kZegoPublishServerConnect.event,par:eA},{result:0,server_url:ep.ZegoRTCLogEvent.kZegoPublishServerConnect.server_url(eo)});var ec=er.tokenInfo;ei.logger.info("zsc.cps.0 update token success"),ec&&ec.report&&(ea.qualityUpload=ec.report,ea.qualityUploadInterval=ec.report_interval),ea.signal=er.signal,ei.server=eo,ei.publishStream(eA),ei.getTokenSuccess()}else ei.logger.info("zsc.cps.1 check publisher don't exist")}else ei.logger.info("zsc.cps.0 after connect publisher don't exist")},function(eA,er){ei.logger.error("zsc.cps.0 "+eA+" connect fail "+JSON.stringify(er));var eo=ei.publisherList[eA];if(eo){if(eo.publisher){var en,ea=!1;er&&er.code===eB.errorCodeList.GET_CONFIG_FAIL.code?(en=es({},eB.errorCodeList.GET_CONFIG_FAIL),ea=!0):((en=es({},eB.errorCodeList.CONNECT_FAILED)).message=en.message+" "+er,1008===er&&(en=eB.errorCodeList.TOKEN_EXPIRED,ea=!0),20010===er&&(ea=!0,en=JSON.parse(JSON.stringify(eB.errorCodeList.PUBLISHER_SESSION_REQUEST_FAIL)))),ei.stateCenter.reporter.spanEnd({key:ep.ZegoRTCLogEvent.kZegoPublishServerConnect.event,par:eA},{result:er,error:en.code,message:en.message}),eo.retryStreamHandler.publishStateHandle(ed.ENUM_PUBLISH_STATE_UPDATE.error,eA,en,ea)}else ei.logger.info("zsc.cps.1 check publisher don't exist")}else ei.logger.info("zsc.cps.0 after connect publisher don't exist")}),!0},er.prototype.getTokenSuccess=function(){this.logger.debug("zsc.gts.0 call")},er.prototype.stopPublishingStream=function(eA,er){this.logger.info("zsc.sps.0.1 call "+eA+" "+JSON.stringify(er));var ei=this.publisherList[eA];if(ei){var eo=ei.retryStreamHandler;for(var en in eo&&(eo.stopMaxTime(),eo.invalid()),this.signalList)this.signalList[en].publishWaitingList=this.signalList[en].publishWaitingList.filter(function(er){return er.streamID!==eA});delete this.publisherList[eA],this.resetNetworkData(),ei.publisher&&(ei.publisher.stopPublish(er),delete ei.publisher),this.removeStreamFromSignal(!0,eA),this.stopSignalHeartbeat(),this.stateCenter.billingTimer.stopChargeInfosUpload(),this.stopSoundLevel(),this.logger.info("zsc.sps.0.1 call success")}else this.logger.warn("zsc.sps.0.1 publisher don't exist")},er.prototype.connectWithReuseSignalServer=function(eA,er,ei,eo,en){var es=this;this.logger.info("zsc.crss.0 begin "+ei);var ea=null;if(this.signalList[ei])(ea=this.signalList[ei]).state==ed.ENUM_SIGNAL_STATE.connected?(this.logger.info("zsc.crss.0 already connected "+ei+" streamId: "+eA),er?ea.publishConnectedList.push(eA):ea.playConnectedList.push(eA),eo(eA,ea,ei)):ea.state==ed.ENUM_SIGNAL_STATE.connecting&&(this.logger.info("zsc.crss.0 signal is connecting "+ei+" streamId: "+eA),this.updateWaitingList(ea,er,eA,eo,en));else{this.logger.info("zsc.crss.0 new signal "+ei+", streamId: "+eA);var eg=["unified_rtc","unified_l3"].includes(ei),ec=new eE.ZegoSignal(this.logger,this.stateCenter,this.rtm.netAgent,eg);this.stateCenter.clientIP=this.rtm.netAgent.clientIP,ec.setSessionInfo(this.appid,this.userid),eg||(ec.onUpdateHeartBeatInterval=this.onUpdateHeartBeatIntervalHandle.bind(this)),ec.onDisconnect=this.onDisconnectHandle;var eu=this.publisherList[eA]||this.playerList[eA]||null,el=null==eu?void 0:eu.retryStreamHandler;if(this.stateCenter.streamConnectTime)ec.tryConnectInterval=this.stateCenter.streamConnectTime;else if(el&&el.retryActiveCount){var eI=el.retryActiveCount*(el.retryActiveCount-1)/2+2;ec.tryConnectInterval=1e3*(eI=eI>ed.MAX_RETRY_CONNECT_INTERVAL?ed.MAX_RETRY_CONNECT_INTERVAL:eI)}this.signalList[ei]={signal:ec,state:ed.ENUM_SIGNAL_STATE.connecting,publishWaitingList:[],playWaitingList:[],publishConnectedList:[],playConnectedList:[],tokenInfo:null},this.updateWaitingList(this.signalList[ei],er,eA,eo,en);var eC=null==eu?void 0:eu.room.token,eh=null==eu?void 0:eu.room.roomID;this.logger.info("zsc.crss.0 "+eC),ec.connectServer(eh||this.stateCenter.roomList[0].roomID,eC||this.stateCenter.roomList[0].token,ei,function(eA,er,eo){if(ea=es.signalList[ei],0!=eA){es.logger.info("zsc.crss.0 connect failed "+er);for(var en,ec=ea.publishWaitingList,eu=ec.length-1;eu>=0;eu--)(en=ec[eu]).error&&en.error(en.streamID,eA);var el=ea.playWaitingList;for(eu=el.length-1;eu>=0;eu--)(en=el[eu]).error&&en.error(en.streamID,eA);delete es.signalList[ei]}else es.logger.info("zsc.crss.0 connected success "+er),ea.state=ed.ENUM_SIGNAL_STATE.connected,ea.tokenInfo=eo,ea.publishWaitingList.forEach(function(eA){eA.success&&eA.success(eA.streamID,ea,er),ea&&ea.publishConnectedList.push(eA.streamID)}),ea.playWaitingList.forEach(function(eA){eA.success&&eA.success(eA.streamID,ea,er),ea&&ea.playConnectedList.push(eA.streamID)}),ea.publishWaitingList=[],ea.playWaitingList=[],eg||null!=es.heartbeatTimer||es.startSignalHeartbeat(),es.stateCenter.billingTimer.startChargeInfosUpload(),es.activeSoundLevel()})}},er.prototype.setPlayStateStart=function(eA,er,ei,eo){var en=this;if(this.logger.info("zsc.pss.1 call "+eA),this.rtm.isDisConnect()&&this.stateCenter.networkState==eg.ENUM_NETWORK_STATE.offline)return this.logger.error("zsc.pss.1 network offline"),eS.error.kPlayNetworkBrokenError;if(this.playerList[eA])return this.logger.error("zsc.pss.1 player already exist"),this.stateCenter.reporter.spanEnd({key:eS.event,par:eA},{error:eS.error.kIsPlaying.code,message:eS.error.kIsPlaying.message}),eS.error.kPlayRepeatedPullError;var es=this.getPlayRoom(eA)||this.stateCenter.roomList[0];if(!es)return this.logger.error("zsc.pss.1 not login room"),this.stateCenter.reporter.spanEnd({key:eS.event,par:eA},{error:eS.error.kPlayNoLoginError.code,message:eS.error.kPlayNoLoginError.message}),eS.error.kPlayNoLoginError;var ea=new eI.ZegoPlayWeb(eA,this.logger,null,this.dataReport,this.qualityTimerInterval,this,this.ac,this.stateCenter);es.streamList.find(function(er){return er.stream_id===eA})||(ea.streamInRoom=!1),er&&[0,1,2,3].includes(er.resourceMode)&&(ea.resourceMode=er.resourceMode),ea.state=ed.ENUM_PLAY_STATE.start,ea.isPeer=this.isPeer,ea.reportSeq=this.stateCenter.reportSeqList.startPlay[eA],ea.isExternal=!0,ea.cachedGwNodesMode=this.cachedGwNodesMode,ea.parentSpanKey=ep.ZegoRTCLogEvent.kZegoStartPlay.event,ea.beginTime=(new Date).getTime();var ec=new eC.RetryStreamHandler(this.logger,this.stateCenter,this,!1),eu=eg.PlayMode.CDN,el="cdn",eE=(new Date).getTime();for(var eB in this.playerList)if(this.playerList[eB].playMode==eg.PlayMode.L3){eu=eg.PlayMode.L3,el="l3";break}return this.cdnProtocolBadTimestamp&&this.cdnProtocolBadTimestamp+this.protocolQualityCacheExpiredTime>eE&&0==this.l3ProtocolBadTimestamp&&(eu=eg.PlayMode.L3,el="l3"),this.stateCenter.reporter.spanSetAttributes({key:eS.event,par:eA},{resource_mode:eS.resource_mode(ea.resourceMode),src:eS.src(ea.resourceMode===eg.ResourceMode.DG?el:(0,em.getPlaySourceType)(ea.resourceMode)),room_id:eS.room_id(null==es?void 0:es.roomID),room_sid_string:eS.room_sid_string(null==es?void 0:es.roomSessionID),is_multi:eS.is_multi(this.stateCenter.isMultiRoom)}),this.playerList[eA]={seq:0,room:es,player:ea,signal:null,serverUrls:[],ttl:0,isCenterNode:!0,streamID:eA,playOption:er,retryStreamHandler:ec,retryDispatchHandler:new eh.RetryDispatchHandler(this.logger,this.stateCenter,this.rtm,this),isDataChannel:eo,cdnPlayer:null==er?void 0:er.CDNPlayer,playMode:eu,streamSid:ei},ea.onPlayStateUpdate=function(eA,er,ei,eo,es,ea){var eg=en.playerList[er];eg?ec.playStateHandle(eA,eg.streamID,ei,eo,es,ea):en.logger.error("zsc.pss.1 cannot find play "+er)},ea.onPlayQualityUpdate=function(eA,er){var ei=en.playerList[eA];ei?en.onPlayQualityUpdate(ei.streamID,er):en.logger.error("zsc.pss.1 cannot find play "+eA)},ea.onRemoteCameraStatusUpdate=function(eA,er,ei){var eo=en.playerList[eA];eo?en.onRemoteCameraStatusUpdate(eo.streamID,er,ei):en.logger.error("zsc.pss.1 cannot find play "+eA)},ea.onRemoteMicStatusUpdate=function(eA,er,ei){var eo=en.playerList[eA];eo?en.onRemoteMicStatusUpdate(eo.streamID,er,ei):en.logger.error("zsc.pss.1 cannot find play "+eA)},!0},er.prototype.onRemoteMicStatusUpdate=function(eA,er,ei){},er.prototype.onRemoteCameraStatusUpdate=function(eA,er,ei){},er.prototype.startPlayingStream=function(eA,er,ei,eo){void 0===er&&(er=!1),this.logger.info("zsc.sps.1 start play called");var en,es=this.playerList[eA];if((null===(en=es.playOption)||void 0===en?void 0:en.CDNVideo)&&es.player.firstPlay){var ea=es.playOption.CDNVideo;es.player._CDNPlayerClone=ea.cloneNode(),es.player.initPoster=(null==ea?void 0:ea.getAttribute("poster"))||"",es.player.initVideoStyle=(null==ea?void 0:ea.getAttribute("style"))||"",es.player.firstPlay=!1}if(eo)return this.playCDN(eA,this.playerList[eA].playOption,this.playSuccessCallBackList[eA],this.playErrorCallBackList[eA]),!0;if(!es)return this.logger.error("zsc.sps.1 player don't exist"),!1;var ec=es.player;if(-1==eA.indexOf("zegoprobe-")&&es.playMode==eg.PlayMode.L3&&this.stateCenter.reporter.createSpan(eg.TRACER_LEVEL.H,{key:ep.ZegoRTCLogEvent.kZegoTaskPlayStart.event,par:eA},{key:ep.ZegoRTCLogEvent.kZegoTaskL3Play.event,par:eA},ep.ZegoRTCLogEvent.kZegoTaskL3Play.event).setAttributes({tryidx:ep.ZegoRTCLogEvent.kZegoTaskL3Play.tryidx(ec.tryidx),biz_product:ep.ZegoRTCLogEvent.kZegoTaskL3Play.biz_product(es.playOption.resourceMode==eg.ResourceMode.DG?1:0)}),this.stateCenter.reporter.spanSetAttributes({key:eS.event,par:eA},{urls:eS.urls(es.serverUrls),is_center:eS.is_center(es.isCenterNode)}),!er){if(0==es.serverUrls.length)return es.retryStreamHandler.playStateHandle(ed.ENUM_PLAY_STATE_UPDATE.error,eA,eB.errorCodeList.DISPATCH_ERROR),this.logger.info("zsc.sps.1 server don't have signal url"),!1;var eu=es.serverUrls.indexOf(this.server);-1!==eu&&(es.serverUrls.splice(eu,1),es.serverUrls.unshift(this.server))}var el=es.retryStreamHandler;return el.invalid(),el.init(this.stateCenter.streamRetryTime),el.initStream(eA,es.serverUrls),el.startMaxTime(),el.activePull(0,ei)},er.prototype.connectPlayServer=function(eA,er,ei){var eo=this,en=this.playerList[eA];if(!en)return this.logger.error("zsc.cps.1 player don't exist"),!1;this.stateCenter.reporter.createSpan(eg.TRACER_LEVEL.H,{key:en.player.parentSpanKey,par:eA},{key:ep.ZegoRTCLogEvent.kZegoPlayServerConnect.event,par:eA},ep.ZegoRTCLogEvent.kZegoPlayServerConnect.event,!0);var ea=Date.now();return this.connectWithReuseSignalServer(eA,!1,ei,function(eA,ei,en){var es=eo.playerList[eA];if(es){var eg=es.player;if(eg){eg.reportSpan.setAttributes({server_url:ep.ZegoRTCLogEvent.kZegoTaskSDKPlayStream.server_url(en)});var ec=Date.now()-ea;eo.stateCenter.reporter.spanSetAttributes({key:eg.parentSpanKey,par:eA},{dispatch_consume:ep.ZegoRTCLogEvent.kZegoStartPlay.dispatch_consume(ec)}),eo.stateCenter.reporter.spanSetAttributes({key:eS.event,par:eA},{server_url:eS.server_url(en)}),eo.stateCenter.reporter.spanEnd({key:ep.ZegoRTCLogEvent.kZegoPlayServerConnect.event,par:eA},{result:0,server_url:en});var eu=ei.tokenInfo;eo.logger.info("zsc.cps.1 update token success"),eu&&eu.report&&(eg.qualityHandler.qualityUpload=eu.report,eg.qualityHandler.qualityUploadInterval=eu.report_interval),eg.signal=ei.signal,eo.server=en,eo.playStream(eA,er),eo.getTokenSuccess()}else eo.logger.error("zsc.cps.1 checkplayer don't exist")}else eo.logger.error("zsc.cps.1 after connect player don't exist")},function(eA,er){var en=eo.playerList[eA];if(en){var ea=es({},eB.errorCodeList.CONNECT_FAILED);ea.message=ea.message+" "+er,1008===er&&(ea=eB.errorCodeList.TOKEN_EXPIRED),eo.stateCenter.reporter.spanEnd({key:ep.ZegoRTCLogEvent.kZegoPlayServerConnect.event,par:eA},{result:er,error:ea.code,message:ea.message});var eg=1008==er;20010===er&&(eg=!0,ea="unified_l3"===ei?eB.errorCodeList.PLAYER_UNSUPPORTED_PROTOCOL:eB.errorCodeList.PLAYER_SESSION_REQUEST_FAIL),en.retryStreamHandler.playStateHandle(ed.ENUM_PLAY_STATE_UPDATE.error,eA,ea,eg)}else eo.logger.error("zsc.cps.1 after connect player don't exist")}),!0},er.prototype.playStream=function(eA,er){var ei=this.playerList[eA].player;ei?(this.logger.info("zsc.ps.1 call success"),this.setStreamGwNode(ei,!1),ei.startPlay(eA,er,this.playerList[eA].playOption)):this.logger.warn("zsc.ps.1 player don't exist")},er.prototype.stopSignalHeartbeat=function(){this.logger.debug("zsc.ssh.1 call");var eA=0;for(var er in this.signalList)eA+=1;this.heartbeatTimer&&0==eA&&(this.logger.info("zsc.ssh.1 stop"),clearTimeout(this.heartbeatTimer),this.heartbeatTimer=null)},er.prototype.removeStreamFromSignal=function(eA,er){this.logger.info("zsc.rsfs.0 call "+eA+" "+er);var ei=[];for(var eo in this.signalList){var en=this.signalList[eo];if(eA){for(var es=0;es<en.publishConnectedList.length;es++)if(en.publishConnectedList[es]===er){this.logger.debug("zsc.rsfs.0 found from publish"),en.publishConnectedList.splice(es,1);break}for(es=0;es<en.publishWaitingList.length;es++)if(en.publishWaitingList[es].streamID===er){this.logger.debug("zsc.rsfs.0 found from publish"),en.publishWaitingList.splice(es,1);break}}else{for(var ea=0;ea<en.playConnectedList.length;ea++)if(en.playConnectedList[ea]===er){this.logger.debug("zsc.rsfs.0 found from play"),en.playConnectedList.splice(ea,1);break}for(ea=0;ea<en.playWaitingList.length;ea++)if(en.playWaitingList[ea].streamID===er){this.logger.debug("zsc.rsfs.0 found from play"),en.playWaitingList.splice(ea,1);break}}0==en.publishConnectedList.length&&0==en.playConnectedList.length&&0==en.publishWaitingList.length&&0==en.playWaitingList.length&&(en.signal.disconnectServer(),ei.push(eo))}for(var eg=0;eg<ei.length;eg++)delete this.signalList[ei[eg]],this.server==ei[eg]&&(this.server="")},er.prototype.stopPlayingStream=function(eA,er,ei){var eo=this.playerList[eA];if(eo){var en=eo.retryStreamHandler,es=eo.cdnPlayer;for(var ea in en&&(en.stopMaxTime(),en.invalid()),this.signalList)this.signalList[ea].playWaitingList=this.signalList[ea].playWaitingList.filter(function(er){return er.streamID!==eA});if(eo.playMode==eg.PlayMode.CDN&&es&&(this.stateCenter.reporter.spanEnd({key:ep.ZegoRTCLogEvent.kZegoTaskCDNPlay.event,par:eA}),es.stop()),-1==eA.indexOf("zegoprobe-")&&eo.playMode==eg.PlayMode.L3&&this.stateCenter.reporter.spanEnd({key:ep.ZegoRTCLogEvent.kZegoTaskL3Play.event,par:eA}),delete this.playerList[eA],this.resetNetworkData(),eo.player){eo.player.stopPlay(er,ei);var ec=eo.player.rtcViewer;ec&&ec.stop()}this.removeStreamFromSignal(!1,eA),this.stopSignalHeartbeat(),this.stateCenter.billingTimer.stopChargeInfosUpload(),this.stopSoundLevel(),delete this.playSuccessCallBackList[eA],delete this.playErrorCallBackList[eA],this.logger.debug("zsc.sps.1.1 call success")}else this.logger.info("zsc.sps.1.1 player don't exist")},er.prototype.reset=function(eA,er,ei){for(var eo in this.logger.info("zsc.rs call "+eA+" "+er+" "+ei),this.publisherList)if(this.publisherList[eo].room.roomID==eA||!eA){0===er?this.publisherList[eo].publisher.stopReason="Logout":1002031==er&&(this.publisherList[eo].publisher.stopReason="ReachMaxAVRetryTime");var en,es,ea,eg,ec=1002031==er?ey.error.kPublishRetryTimeoutError:{code:er||0,message:""};null===(es=null===(en=this.publisherList[eo].room)||void 0===en?void 0:en.streamHandler)||void 0===es||es.onPublishStateUpdate(ed.ENUM_PUBLISH_STATE_UPDATE.error,eo,ec),ei&&this.stateCenter.waitPublishStreamList[eo]?this.stateCenter.waitPublishStreamList[eo].retryStart=!0:ei||delete this.stateCenter.waitPublishStreamList[eo],this.stopPublishingStream(eo,ec),delete this.stateCenter.publishStreamList[eo]}var eu=function(eo){el.playerList[eo].player.stopReason=0===er?"Logout":"ReachMaxAVRetryTime";var en=el.playerList[eo].room;if(ei&&(null===(eg=null===(ea=el.playerList[eo])||void 0===ea?void 0:ea.player)||void 0===eg?void 0:eg.state)<=ed.ENUM_PLAY_STATE.playing){var es=el.playerList[eo],ec=null==es?void 0:es.player;el.stopedPlayerList[eo]={streamID:eo,playStream:ec.playStream,roomID:es.room.roomID,playOption:es.playOption,state:ec.state,sucCallBack:(null==ec?void 0:ec.state)!==ed.ENUM_PLAY_STATE.playing?el.playSuccessCallBackList[eo]:void 0,errCallBack:(null==ec?void 0:ec.state)!==ed.ENUM_PLAY_STATE.playing?el.playErrorCallBackList[eo]:void 0}}if(en.roomID==eA&&(en.streamList.find(function(eA){return eA.stream_id==eo})||1==el.stateCenter.roomList.length)){var eu=1002031==er?eS.error.kPlayRetryTimeoutError:{code:er||0,message:""};el.onPlayStateUpdate(ed.ENUM_PLAY_STATE_UPDATE.error,eo,eu),el.stopPlayingStream(eo,eu)}else if(en.roomID==eA&&el.stateCenter.roomList.length>1){var eE=el.stateCenter.roomList.find(function(er){return er.roomID!==eA});eE?el.playerList[eo].room=eE:(el.stopPlayingStream(eo),el.onPlayStateUpdate(ed.ENUM_PLAY_STATE_UPDATE.error,eo,eS.error.kPlayRetryTimeoutError))}},el=this;for(var eE in this.playerList)eu(eE);0==Object.keys(this.publisherList).length&&0==Object.keys(this.playerList).length&&(this.probeList={}),this.waitPublishList=[],this.waitPlayList=[],this.l3DetectedTimestamp=0,this.l3DetectResult=0,this.isL3Fallback=!1,this.cdnProtocolBadTimestamp=0,this.l3ProtocolBadTimestamp=0,this.lastHandleCDNBadTimestamp=0,this.lastHandleL3BadTimestamp=0,this.cdnProtocolBadTime=0,this.l3ProtocolBadTime=0,this.streamReport.resetReport(),this.logger.info("zsc.rs call success")},er.prototype.startSignalHeartbeat=function(){var eA=this;this.logger.debug("zsc.ssh.0 call"),this.heartbeatTimer&&(clearTimeout(this.heartbeatTimer),this.heartbeatTimer=null),this.heartbeatTimer=setTimeout(function(){eA.checkSignalHeartbeat()},this.heartbeatInterval)},er.prototype.checkSignalHeartbeat=function(){for(var eA in this.logger.debug("zsc.csh.0 call"),this.signalList)this.signalList[eA].signal&&this.signalList[eA].signal.sendHeartbeat();this.heartbeatTimer&&this.startSignalHeartbeat()},er.prototype.getChargeInfos=function(){this.logger.debug("zsc.cci.0 call");var eA={is_publishing:0,play_max_audio_bitrate:0,play_stream_resolution_infos:[]};for(var er in this.shouldReportNoPlaying&&(eA.no_playing=1),this.chargeInfos.timestamp_begin=(new Date).getTime(),this.publisherList){this.publisherList[er].publisher.state===ed.ENUM_PUBLISH_STATE.publishing&&(eA.is_publishing=1);break}eA.play_max_audio_bitrate=0;var ei=function(er){var ei={width:eo.playerList[er].player.qualityHandler.lastPlayStats.frameWidth,height:eo.playerList[er].player.qualityHandler.lastPlayStats.frameHeight};if(!ei.height||!ei.width){var en=eo.playerList[er].player.playStream;ei=en&&0!==en.getVideoTracks().length?en.getVideoTracks()[0].getSettings():void 0}var es={video_width:ei&&ei.width?ei.width:0,video_height:ei&&ei.height?ei.height:0,count:1};if(eA.play_stream_resolution_infos.find(function(eA){return eA.video_width==es.video_width&&eA.video_height==es.video_height&&(eA.count++,!0)})||eA.play_stream_resolution_infos.push(es),0==es.video_width&&0==es.video_height){var ea=1e3*eo.playerList[er].player.qualityHandler.lastPlayStats.audioBitrate;ea>eA.play_max_audio_bitrate&&(eA.play_max_audio_bitrate=ea)}},eo=this;for(var en in this.playerList)ei(en);return 0!==eA.play_stream_resolution_infos.length&&this.shouldReportNoPlaying&&(eA.no_playing=0),0!==this.chargeInfos.timestamp_end?(this.chargeInfos.timestamp_diff=this.chargeInfos.timestamp_begin-this.chargeInfos.timestamp_end,this.chargeInfos.timestamp_diff_flag=1):(this.chargeInfos.timestamp_diff=0,this.chargeInfos.timestamp_diff_flag=0),this.chargeInfos.timestamp_end=(new Date).getTime(),this.chargeInfos.infos=[eA],this.chargeInfos},er.prototype.getPublisher=function(eA){var er=null;if("string"==typeof eA&&this.publisherList[eA]&&this.publisherList[eA].publisher)er=this.publisherList[eA].publisher;else if(eA instanceof MediaStream){var ei=this.checkPublish(eA);ei&&(er=null==ei?void 0:ei.publisher)}return er},er.prototype.getPreviewer=function(eA){var er,ei=null;return"string"==typeof eA&&this.publisherList[eA]&&this.publisherList[eA].publisher?ei=null===(er=this.publisherList[eA].publisher)||void 0===er?void 0:er.previewer:eA instanceof MediaStream&&(ei=this.checkPreview(eA)),ei},er.prototype.checkPlayer=function(eA){var er=Object.values(this.playerList).find(function(er){return er.player.playStream===eA});return(null==er?void 0:er.player)||null},er.prototype.checkPreview=function(eA){for(var er=0;er<this.previewStreamList.length;er++)if(this.previewStreamList[er].localStream===eA)return this.previewStreamList[er];return null},er.prototype.checkPublish=function(eA){for(var er in this.publisherList)if(this.publisherList[er].localStream==eA)return this.publisherList[er];return null},er.prototype.getPublishList=function(eA){var er=[];for(var ei in this.publisherList)this.publisherList[ei].localStream==eA&&er.push(this.publisherList[ei]);return er},er.prototype.removePreview=function(eA){for(var er=0;er<this.previewStreamList.length;er++)if(this.previewStreamList[er]===eA){this.previewStreamList.splice(er,1);break}},er.prototype.onPlayerStreamUrlUpdate=function(eA,er,ei){},er.prototype.getScreenConstrains=function(eA){var er={};if("boolean"==typeof eA&&eA)er={audio:!1,video:{frameRate:ed.ENUM_SCREEM_RESOLUTION_TYPE.MEDIUM.frameRate},bitRate:this.stateCenter.settingConfig.getSetting("screen_video_bitrate")||ed.ENUM_SCREEM_RESOLUTION_TYPE.MEDIUM.bitRate};else if("object"==typeof eA){switch(eA.videoQuality){case 1:er={video:{frameRate:ed.ENUM_SCREEM_RESOLUTION_TYPE.LOW.frameRate},bitRate:ed.ENUM_SCREEM_RESOLUTION_TYPE.LOW.bitRate};break;case 3:er={video:{frameRate:ed.ENUM_SCREEM_RESOLUTION_TYPE.HIGH.frameRate},bitRate:ed.ENUM_SCREEM_RESOLUTION_TYPE.HIGH.bitRate};break;case 4:er={video:{frameRate:eA.frameRate,width:eA.width,height:eA.height},bitRate:eA.bitRate};break;case 2:er={video:{frameRate:ed.ENUM_SCREEM_RESOLUTION_TYPE.MEDIUM.frameRate},bitRate:ed.ENUM_SCREEM_RESOLUTION_TYPE.MEDIUM.bitRate};break;default:er={video:{frameRate:ed.ENUM_SCREEM_RESOLUTION_TYPE.MEDIUM.frameRate},bitRate:this.stateCenter.settingConfig.getSetting("screen_video_bitrate")||ed.ENUM_SCREEM_RESOLUTION_TYPE.MEDIUM.bitRate}}er.audio="boolean"==typeof eA.audio&&eA.audio,er=es(es(es({},eA),er),{width:void 0,height:void 0,frameRate:void 0})}return er},er.prototype.createScreenPreviewer=function(eA,er){var ei=new ec.ZegoPreview(this.logger,this.ac,this.stateCenter,this,"screen"),eo=eA.getVideoTracks()[0].getSettings();return this.previewStreamList.push(ei),ei.mediaStreamConfig=er,eA.getAudioTracks().length>0&&(ei.audioTrack=eA.getAudioTracks()[0]),ei.localStream=eA,ei.videoInfo={width:eo.width,height:eo.height,frameRate:eo.frameRate||15,bitRate:(null==er?void 0:er.bitRate)||1e3,startBitrate:(null==er?void 0:er.startBitrate)||this.stateCenter.settingConfig.getSetting("bitrate_mode"),minBitrate:null==er?void 0:er.minBitrate,keyFrameInterval:null==er?void 0:er.keyFrameInterval},ei.previewSuc=!0,ei.previewType="screen",(null==er?void 0:er.videoOptimizationMode)&&this.setVideoTrackContentHint(eA,null==er?void 0:er.videoOptimizationMode),ei},er.prototype.setSoundLevelDelegate=function(eA,er,ei){void 0===ei&&(ei=!1),this.logger.info("zsc.ssd.0 call"),this.soundLevelDelegate=eA,this.enableInBackground=ei,er&&this.setSoundLevelInterval(er),this.enableSoundLevelProcessor(eA),eA?(this.logger.info("zsc.ssd.0 start getting sound"),this.activeSoundLevel()):(this.logger.info("zsc.ssd.0 stop getting sound"),this.soundLevelTimer&&clearTimeout(this.soundLevelTimer),this.soundLevelTimer=null,this.soundLevelInterval=1e3)},er.prototype.setSoundLevelInterval=function(eA){var er,ei;if(eA&&this.soundLevelDelegate){for(var eo in this.soundLevelInterval=eA,this.previewStreamList)null===(er=this.previewStreamList[eo].soundMeterWorklet)||void 0===er||er.setInterval(eA);for(var eo in this.playerList)null===(ei=this.playerList[eo].player.soundMeterWorklet)||void 0===ei||ei.setInterval(eA)}},er.prototype.enableSoundLevelProcessor=function(eA){for(var er in this.previewStreamList){var ei=this.previewStreamList[er];eA?ei.startSoundLevel():ei.stopSoundLevel()}for(var er in this.playerList){var eo=this.playerList[er].player;eA?eo.startSoundLevel():eo.stopSoundLevel()}},Object.defineProperty(er.prototype,"hasRemoteStream",{get:function(){return Object.keys(this.signalList).length>0},enumerable:!1,configurable:!0}),er.prototype.activeSoundLevel=function(){!this.soundLevelTimer&&this.soundLevelDelegate&&this.startSoundLevel()},er.prototype.startSoundLevel=function(){var eA=this;this.soundLevelTimer&&(clearTimeout(this.soundLevelTimer),this.soundLevelTimer=null),this.soundLevelDelegate&&(this.hasRemoteStream&&this.checkSoundLevel(),this.checkMicSoundLevel(),this.soundLevelTimer=setTimeout(function(){eA.startSoundLevel()},this.soundLevelInterval))},er.prototype.checkSoundLevel=function(){this.logger.debug("zsc.csl.0 call");var eA=[];for(var er in this.publisherList){var ei=0,eo=this.publisherList[er].publisher,en=eo.previewer;en&&(ei=en.soundLevel),eA.push({streamID:this.getBackStreamId(eo.streamId),soundLevel:ei,type:"push"})}for(var er in this.playerList){var es=this.playerList[er].player;es.streamId&&!es.isProbe&&eA.push({streamID:this.getBackStreamId(es.streamId),soundLevel:es.soundLevel,type:"pull"})}this.soundLevelDelegate&&eA.length>0&&this.onSoundLevelUpdate(eA)},er.prototype.checkMicSoundLevel=function(){this.microphonePreviewStream&&this.soundLevelDelegate&&this.onMicSoundLevelUpdate(this.microphonePreviewStream.soundLevel)},er.prototype.getBackStreamId=function(eA){return this.testEnvironment&&eA?eA.replace("zegotest-"+this.appid+"-",""):eA},er.prototype.onSoundLevelUpdate=function(eA){},er.prototype.onMicSoundLevelUpdate=function(eA){},er.prototype.stopSoundLevel=function(){this.soundLevelTimer&&!this.hasRemoteStream&&0===this.previewStreamList.length&&(this.logger.info("zsc.ssl.0 stop"),clearTimeout(this.soundLevelTimer),this.soundLevelTimer=null)},er.prototype.startNetProbe=function(eA,er,ei,eo){var en=this,es=this.stateCenter.reporter.createSpan(eg.TRACER_LEVEL.H,{key:ep.ZegoRTCLogEvent.kZMInitSetting.event},{key:""},ep.ZegoRTCLogEvent.kZegoNetProbe.event);if(this.isPeer){if(eo){var ea="zegoprobe-"+(new Date).getTime();this.setPlayStateStart(ea);var ec=this.playerList[ea]?this.playerList[ea].player:null;if(!ec)return;ec.isProbe=!0,this.playerList[ea].serverUrls=["unified_l3"],this.startPlayingStream(ea,!0,function(){}),this.playerList[ea].player.isProbeByDG=!0,ec.onCalNetQualityResult=function(eA,er){en.logger.info("zc.ocnqr.0 l3 detect "+eA+" "+er),en.stopPlayingStream(ea),en.l3DetectResult=er,en.l3DetectedTimestamp=(new Date).getTime()}}else{var eu=!0;ei&&0==ei.length&&er&&(eu=!1,ei=eA?this.publisherList[er.streamId].serverUrls:this.playerList[er.streamId].serverUrls),ei&&er&&ei.forEach(function(eo){if(!(en.probeList[eo]&&en.probeList[eo].timeStamp+9e5<(new Date).getTime()||er.probeState==ed.ENUM_PROBE_STATE.probed)){var ea="zegoprobe-"+(new Date).getTime();en.setPlayStateStart(ea);var eg=en.playerList[ea]?en.playerList[ea].player:null;eg&&(eg.isProbe=!0,eu?(eg.gwNode=eo,eg.signal=er.signal,eg.startPlay(ea,function(){})):en.connectPlayServer(ea,function(){},eo),eg.onCalNetQualityResult=function(ec,eu){en.logger.info("zc.ocnqr.0 "+eg.gwNode+" "+ec+" "+eu),en.probeList[eo]={result:ec,netQuality:eu,timeStamp:(new Date).getTime()};var el=Object.keys(en.probeList),ed=ei&&ei.every(function(eA){return el.findIndex(function(er){return er===eA})>=0});er.gwNode==eo||er.signal.server==eo?er.netQuality=eu:en.handleCalNetQualityResult(eA,ec,eu,er,eo,ed),en.stopPlayingStream(ea),es.setAttributes({net_quality:ep.ZegoRTCLogEvent.kZegoNetProbe.net_quality(parseInt(er.netQuality+"")),node_list:ep.ZegoRTCLogEvent.kZegoNetProbe.node_list(ei)}),es.end()})}})}}else this.stateCenter.reporter.setError(es,{code:-1,message:"not support peer"})},er.prototype.handleCalNetQualityResult=function(eA,er,ei,eo,en,es){if(this.logger.info("zc.hcqr.0 "+eo.netQuality+" probe "+ei+" "+en),0===er){var ea=this.stateCenter.reporter.createSpan(eg.TRACER_LEVEL.H,{key:ep.ZegoRTCLogEvent.kZMInitSetting.event},{key:""},ep.ZegoRTCLogEvent.kZegoNetProbeResult.event),ec=!1;ei>Math.max(75,eo.netQuality+20)&&eo.probeState==ed.ENUM_PROBE_STATE.tryProbe?(this.logger.info("zc.hcqr.0 "+eo.streamId+" switch "+en),ec=!0,this.retryStream(eo,eA,en),eo.probeState=ed.ENUM_PROBE_STATE.probed):(ec=!1,eo.probeState==ed.ENUM_PROBE_STATE.tryProbe&&es&&(this.logger.info("zc.hcqr.0 "+eo.streamId+" last "),eo.isProbeDispatch||eo.netProbeToReDispatch()));var eu=ep.ZegoRTCLogEvent.kZegoNetProbeResult;ea.setAttributes({is_switch:eu.is_switch(ec),is_publish:eu.is_publish(eA),stream_id:eu.stream_id(eo.streamId),result:eu.result(er),node:eu.node(en),net_quality:eu.net_quality(parseInt(eo.netQuality+"")),probe_net_quality:eu.probe_net_quality(parseInt(ei+""))}),ea.end()}},er.prototype.retryStream=function(eA,er,ei){if(er){var eo=eA,en=eo.streamId,es=eo.localStream,ea=eo.videoInfo,eg=eo.mediaStreamConfig,ec=eo.publishOption;0!=eo.sessionId&&eo.signal&&eo.shouldSendCloseSession()&&(eo.signal.sendCloseSession(this.stateCenter.getSeq(),eo.sessionId,1),eo.signal.removeSession(eo.sessionId),eo.closeSessionSignal=!0),eo.resetPublish(),this.publisherList[en].isCenterNode?(eo.gwNode=ei,eo.startPublish(en,es,ea,eg,ec)):(eo.isExternal=!1,this.connectPublishServer(en,ei))}else{var eu=eA,el=(en=eu.streamId,eu.getRemoteStreamSuc),eE=eu.playOption;0!=eu.sessionId&&eu.signal&&eu.shouldSendCloseSession()&&(eu.signal.sendCloseSession(this.stateCenter.getSeq(),eu.sessionId,1),eu.signal.removeSession(eu.sessionId),eu.closeSessionSignal=!0),eu.resetPlay(),this.onPlayStateUpdate(ed.ENUM_PLAY_STATE_UPDATE.retry,en,{code:eB.errorCodeList.PLAYER_SESSION_CLOSED.code,message:eB.errorCodeList.PLAYER_SESSION_CLOSED.message}),this.playerList[en].isCenterNode?(eu.gwNode=ei,eu.startPlay(en,el,eE)):(eu.isExternal=!1,this.connectPlayServer(en,el,ei))}},er.prototype.getRoomByStreamID=function(eA){return this.publisherList[eA]?this.publisherList[eA].room:this.playerList[eA]?this.playerList[eA].room:void 0},er.prototype.setVideoTrackContentHint=function(eA,er){if("string"==typeof er){var ei=er.toLowerCase();if(["default","motion","detail","text"].includes(ei)){var eo=eA.getVideoTracks()[0];eo?"contentHint"in eo?(this.logger.info("zc.svtch "+ei),eo.contentHint="default"==ei?"":ei):this.logger.warn("zc.svtch mediaStreamTrack contentHint attribute not supported"):this.logger.warn("zc.svtch video track no found")}else this.logger.warn("zc.svtch videoOptimizationMode wrong")}else this.logger.warn("zc.svtch videoOptimizationMode type wrong")},er.prototype.getPlayRoom=function(eA){return this.stateCenter.roomList.find(function(er){return!!er.streamList.find(function(er){return er.stream_id==eA})})},er.prototype.updateQuality=function(eA,er){this.streamReport.updateQuality(eA,er)},er.prototype.checkStreamReport=function(){this.streamReport.checkStreamReport()},er.prototype.stopToReport=function(eA){this.streamReport.updateQuality(eA,void 0,!0)},er.prototype.setIsPeer=function(eA){this.isPeer=eA,Object.values(this.publisherList).forEach(function(er){er.publisher.isPeer=eA}),Object.values(this.playerList).forEach(function(er){er.player.isPeer=eA})},er.prototype.getCDNUrl=function(eA,er){var ei,eo,en,es=((ei={})[eg.ResourceMode.RTC]=1,ei[eg.ResourceMode.CDN]=0,ei[eg.ResourceMode.L3]=2,ei[eg.ResourceMode.DG]=3,ei),ea=this.stateCenter.appConfig.media_config.play_config.resource_info;if(ea.length){var ec=ea.find(function(eA){return eA.resource_type==es[er]});if(ec)for(var eu=0;eu<ec.service_info.length;eu++){var el=ec.service_info[eu],ed=el.protocol,eE=el.url_template.replace("{STREAM_NAME}",eA);switch(ed){case eg.ProtocolType.FLV:eo=eE;break;case eg.ProtocolType.HLS:en=eE}}}return{flv:eo,hls:en}},er.prototype.playCDN=function(eA,er,ei,eo){var en,es=this;if(!er.CDNVideo)return this.logger.error("zsc.pc.1 cdn video no found"),eo&&eo(),!1;var ea=this.stateCenter.reporter.createSpan(eg.TRACER_LEVEL.H,{key:ep.ZegoRTCLogEvent.kZegoTaskPlayStart.event,par:eA},{key:ep.ZegoRTCLogEvent.kZegoTaskCDNPlay.event,par:eA},ep.ZegoRTCLogEvent.kZegoTaskCDNPlay.event,!0),ec="",eu=null===(en=this.getPlayRoom(eA))||void 0===en?void 0:en.streamList.find(function(er){return er.stream_id==eA}),el=this.playerList[eA],eE=el.cdnPlayer,eI=el.playOption.resourceMode;el.player.streamId=eA,el.player.playOption=el.playOption,el.player.tryidx++,ea.setAttributes({tryidx:ep.ZegoRTCLogEvent.kZegoTaskL3Play.tryidx(el.player.tryidx),biz_product:ep.ZegoRTCLogEvent.kZegoTaskL3Play.biz_product(eI==eg.ResourceMode.DG?1:0)});var eC=eu||{},eh=eC.urls_flv,eB=eC.urls_flv_plus,ef=eC.urls_m3u8,em=eC.urls_m3u8_plus;if(!(eu&&(eI!=eg.ResourceMode.CDN||eh&&ef)&&(eI!=eg.ResourceMode.DG||eB&&em))){if(!this.stateCenter.appConfig||!eI)return this.logger.error("zsc.pss.1 stream info no found"),eo&&eo(),!1;var eQ=this.getCDNUrl(eA,eI),ev=eQ.flv,e_=eQ.hls;eI==eg.ResourceMode.DG?(eB=ev?[ev]:[],em=e_?[e_]:[]):(eh=ev?[ev]:[],ef=e_?[e_]:[])}if(!el||!eE)return eo&&eo(),!1;eI===eg.ResourceMode.DG&&(el.player.useResourceTypes.push("cdn"),el.player.useResourceTypes=Array.from(new Set(el.player.useResourceTypes)));var ey=eI==eg.ResourceMode.DG?eB:eh,eS=eI==eg.ResourceMode.DG?em:ef;if(eE.isSupportFLV()&&(null==ey?void 0:ey.length)>0)ec=ey[0],ea.setAttributes({protocol:ep.ZegoRTCLogEvent.kZegoTaskCDNPlay.protocol("flv")});else if(eE.isSupportHLS()&&(null==eS?void 0:eS.length)>0)ec=eS[0],ea.setAttributes({protocol:ep.ZegoRTCLogEvent.kZegoTaskCDNPlay.protocol("hls")});else if(!el.cdnUrl)return this.logger.error("zsc.pc.1 can not find cdn urls"),eo&&eo(),!1;if((ec=ec.replace("http://","https://"))!==el.cdnUrl&&el.player.tryidx>1){var eR=this.stateCenter.reporter.createSpan(eg.TRACER_LEVEL.H,{key:ep.ZegoRTCLogEvent.kZegoTaskPlayStart.event,par:eA},{key:""},ep.ZegoRTCLogEvent.kZegoTaskSrcChange.event);eR.setAttributes({src:ep.ZegoRTCLogEvent.kZegoTaskSrcChange.src(ec),last_src:ep.ZegoRTCLogEvent.kZegoTaskSrcChange.last_src(el.cdnUrl)}),eR.end()}return el.cdnUrl=ec||el.cdnUrl,ea.setAttributes({url:ep.ZegoRTCLogEvent.kZegoTaskCDNPlay.url(el.cdnUrl)}),el.playMode==eg.PlayMode.CDN&&(eE.play(el.cdnUrl,er.CDNVideo),er.CDNVideo.srcObject=null,this.onPlayStateUpdate(ed.ENUM_PLAY_STATE_UPDATE.start,eA,{code:0,message:"success"},{isCDN:!0}),eE.onQualityUpdate=function(ei,eo){eo<=es.cdnBadQualityScore?es.handleQualityBad(eA,er.resourceMode,eg.PlayMode.CDN):(el.qualityBadCount=0,es.cdnProtocolBadTimestamp=0,es.lastHandleCDNBadTimestamp=0)},eE.onComplete=function(){if(el.playMode==eg.PlayMode.CDN&&el.player.state==ed.ENUM_PLAY_STATE.playing)eE.retry();else var eA=el.player,er=eA.initPoster,ei=eA.initVideoStyle,eo=el.playOption.CDNVideo,en=setTimeout(function(){clearTimeout(en),eo&&eo.setAttribute("style",ei),eo&&eo.setAttribute("poster",er)},1e3)},eE.onError=function(eA){es.stateCenter.networkState==eg.ENUM_NETWORK_STATE.offline&&(eE.canRetry=!1),ea.setAttributes({stop_reason:ep.ZegoRTCLogEvent.kZegoTaskCDNPlay.stop_reason(eA)})},eE.onCanplay=function(){if(el.player.state!=ed.ENUM_PLAY_STATE.playing&&(el.player.state=ed.ENUM_PLAY_STATE.playing,0==el.player.firstFrameTime)){el.player.firstFrameTime=Date.now()-el.player.beginTime;var ei=es.stateCenter.reporter.createSpan(eg.TRACER_LEVEL.H,{key:ep.ZegoRTCLogEvent.kZegoTaskPlayStart.event,par:eA},{key:""},ep.ZegoRTCLogEvent.kZegoTaskPlayNetFirstVideoFrame.event);ei.setAttributes({fft_consumed:ep.ZegoRTCLogEvent.kZegoTaskPlayNetFirstVideoFrame.fft_consumed(el.player.firstFrameTime),biz_product:ep.ZegoRTCLogEvent.kZegoTaskPlayNetFirstVideoFrame.biz_product(er.resourceMode==eg.ResourceMode.DG?1:0)}),ei.end()}},ei&&ei(),!0)},er.prototype.handleQualityBad=function(eA,er,ei){var eo=this;if(this.logger.info("zsc.hqb.0 call ".concat(eA," ").concat(er," ").concat(ei)),er!==eg.ResourceMode.DG)return!1;this.fetchL3CDNCloudSetting();var en=(new Date).getTime(),es=0;for(var ea in this.playerList)this.playerList[ea].isQualityBad&&es++;ei==eg.PlayMode.CDN?(this.cdnProtocolBadTime=this.cdnProtocolBadTime+(0==this.lastHandleCDNBadTimestamp?this.qualityInterval:en-this.lastHandleCDNBadTimestamp),(es>=this.protocolBadQualityCount||this.cdnProtocolBadTime>=this.protocolBadQualityTime)&&(this.cdnProtocolBadTime=0,this.cdnProtocolBadTimestamp=(new Date).getTime())):ei==eg.PlayMode.L3&&(this.l3ProtocolBadTime=this.l3ProtocolBadTime+(0==this.lastHandleL3BadTimestamp?this.qualityInterval:en-this.lastHandleL3BadTimestamp),(es>=this.protocolBadQualityCount||this.l3ProtocolBadTime>=this.protocolBadQualityTime)&&(this.l3ProtocolBadTime=0,this.l3ProtocolBadTimestamp=(new Date).getTime()));var ec=!1,eu=this.playerList[eA],el=eu.qualityBadCount?eu.qualityBadCount*this.qualityInterval:0;if((ei==eg.PlayMode.L3&&el>this.l3BadQualityTime||ei==eg.PlayMode.CDN&&this.isL3Fallback&&el>this.fallbackInhibitionTime||ei==eg.PlayMode.CDN&&!this.isL3Fallback&&el>this.defaultBadQualityTime)&&(ec=!0),ec){for(var ed in eu.isQualityBad=!0,es=0,this.playerList)this.playerList[ed].isQualityBad&&es++;if(ei==eg.PlayMode.CDN&&(0==this.l3DetectedTimestamp||this.l3DetectedTimestamp+this.probeExpiredTime<en&&this.l3DetectedTimestamp+this.minProbeInterval<en)&&(this.l3DetectedTimestamp=(new Date).getTime(),this.startNetProbe(!1,void 0,void 0,!0)),es/Object.keys(this.playerList).filter(function(eA){return!eA.includes("zegoprobe")}).length>this.multiPlaySwitchRate){this.logger.error("zsc.hqb.0 low quality "+(0==ei?"CDN":"L3"));var eE=Object.keys(this.playerList).filter(function(eA){return!eA.includes("zegoprobe")});return eE.forEach(function(eA,er){var en=eo.playerList[eA];ei==eg.PlayMode.L3?(eo.stopPlayingStream(eA,void 0,!0),eo.playerList[eA]=en,en.isQualityBad=!1,en.playMode=eg.PlayMode.CDN,en.qualityBadCount=0,eo.playCDN(eA,en.playOption,eo.playSuccessCallBackList[eA],eo.playErrorCallBackList[eA])):eo.l3DetectResult>eo.switchDetectResultScore&&(en.qualityBadCount=0,eo.l3DetectedTimestamp=0,er==eE.length-1&&(eo.l3DetectResult=0),eo.cdnSwitchL3(en))}),ei==eg.PlayMode.L3&&(this.isL3Fallback=!0),!0}}return"number"==typeof eu.qualityBadCount?eu.qualityBadCount++:eu.qualityBadCount=1,!1},er.prototype.cdnSwitchL3=function(eA){var er,ei=this,eo=eA.streamID,en=this.stateCenter.useNetAgent;if(eA.playMode=eg.PlayMode.L3,this.stopPlayingStream(eo,void 0,!0),this.playerList[eo]=eA,eA.isQualityBad=!1,(null===(er=eA.playOption)||void 0===er?void 0:er.resourceMode)==eg.ResourceMode.DG&&(eA.player.useResourceTypes.push("l3"),eA.player.useResourceTypes=Array.from(new Set(eA.player.useResourceTypes))),en)this.stateCenter.appConfig?(eA.serverUrls=["unified_l3"],this.startPlayingStream(eo,en,function(er){ei.logger.info("zsc.cqi.1 switch l3 success");var en,es=eA.player,ea=es.initPoster,eg=es.initVideoStyle,ec=eA.playOption.CDNVideo;if("safari"===ei.stateCenter.browser&&ec&&eA.player._CDNPlayerClone){var eu=ec.parentElement;if(eu){var el=document.createElement("style"),ed=ec.cloneNode(!0),eE=Date.now().toString(16);el.innerText=".zego_cdn_video_".concat(eE," .zego_clone_video_").concat(eE,"{width:").concat(ec.offsetWidth,"px;height:").concat(ec.offsetHeight,"px;}")+".zego_cdn_video_".concat(eE," .hide_").concat(eE,"{display:none!important;width:0;height:0}"),document.head.append(el),ed.classList.add("zego_clone_video_".concat(eE)),ed.id=eA.streamID+"_clone",ed.src="",ed.srcObject=er,ed.classList.add("hide_".concat(eE)),ec.before(ed),eu.classList.add("zego_cdn_video_".concat(eE));var eI=setTimeout(function(){clearTimeout(eI),ec.classList.add("hide_".concat(eE)),ed.classList.remove("hide_".concat(eE))},2e3),eC=setTimeout(function(){var er;clearTimeout(eC),eA.playOption.CDNVideo=ed,null===(er=eA.cdnPlayer)||void 0===er||er.stop(),ei.stateCenter.reporter.spanEnd({key:ep.ZegoRTCLogEvent.kZegoTaskCDNPlay.event,par:eo}),eu.classList.remove("zego_cdn_video_".concat(eE)),ec.classList.remove("zego_cdn_video_".concat(eE)),ed.classList.remove("zego_clone_video_".concat(eE)),ed.id=ec.id,el.remove(),ec.remove()},4e3)}}else{null===(en=eA.cdnPlayer)||void 0===en||en.stop(),ei.stateCenter.reporter.spanEnd({key:ep.ZegoRTCLogEvent.kZegoTaskCDNPlay.event,par:eo});var eh=setTimeout(function(){clearTimeout(eh),ec&&ec.setAttribute("style",eg),ec&&ec.setAttribute("poster",ea)},1e3);er&&ec&&(ec.srcObject=er)}})):this.waitPlayList.push(eo);else{var es=this.playerList[eo].retryDispatchHandler;es.stopMaxTime(),es.invalid(),es.initStream(eo,eA.playOption,!1),es.startMaxTime(),es.active(0)}},er.prototype.fetchL3CDNCloudSetting=function(){this.switchScore=this.stateCenter.settingConfig.getSetting("switch_score")||60,this.defaultBadQualityTime=this.stateCenter.settingConfig.getSetting("default_bad_quality_time")||3e4,this.l3BadQualityTime=this.stateCenter.settingConfig.getSetting("l3_bad_quality_time")||1e4,this.switchDetectResultScore=this.stateCenter.settingConfig.getSetting("switch_detect_result_score")||60,this.cdnBadQualityScore=this.stateCenter.settingConfig.getSetting("cdn_bad_quality_score")||60,this.l3BadQualityScore=this.stateCenter.settingConfig.getSetting("l3_bad_quality_score")||60,this.multiPlaySwitchRate=this.stateCenter.settingConfig.getSetting("multi_play_switch_rate")||.8,this.protocolBadQualityCount=this.stateCenter.settingConfig.getSetting("protocol_bad_quality_count")||3,this.protocolBadQualityTime=this.stateCenter.settingConfig.getSetting("protocol_bad_quality_time")||12e3,this.protocolQualityCacheExpiredTime=this.stateCenter.settingConfig.getSetting("protocol_quality_cache_expired_time	")||18e4,this.fallbackInhibitionTime=this.stateCenter.settingConfig.getSetting("fallback_inhibition_time")||18e4,this.probeExpiredTime=this.stateCenter.settingConfig.getSetting("probe_expired_time")||3e4,this.minProbeInterval=this.stateCenter.settingConfig.getSetting("min_probe_interval")||15e3},er.prototype.setStreamGwNode=function(eA,er){this.logger.info(ef.ZEGO_WEBRTC_ACTION.STREAMCENTER_SET_STREAM_GW_NODE+" call "+eA.streamId),this.checkCachedNodesUse(eA,er),eA.gwNodesTTL&&eA.gwNodesTTL<(new Date).getTime()&&(this.logger.info(ef.ZEGO_WEBRTC_ACTION.STREAMCENTER_SET_STREAM_GW_NODE+" call "+eA.streamId+" ttl timeout, reset gw"),eA.gwNode="",eA.gwNodeList=[],eA.gwNodesTTL=0),this.gwNode&&(eA.gwNode=this.gwNode);var ei=this.stateCenter.settingConfig.getSetting("gw_nodes");ei&&ei instanceof Array&&ei.length>0&&(this.logger.info(ef.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" setting "+JSON.stringify(ei)),eA.gwNodeList=ei,eA.gwNode=eA.gwNodeList[0]||eA.gwNode),this.logger.info(ef.ZEGO_WEBRTC_ACTION.STREAMCENTER_SET_STREAM_GW_NODE+" end "+eA.streamId+" "+eA.gwNode)},er.prototype.getNodeIndex=function(eA,er){var ei="",eo=er?"publish":"play",en="";switch(er||(0==eA.resourceMode?en="_rtc":[2,3].includes(eA.resourceMode)&&(en="_l3")),eA.cachedGwNodesMode){case ea.NotReUse:break;case ea.TheSameReUse:ei=eo+"_"+eA.streamId+en;break;case ea.DiffReUse:ei=eo;break;case ea.AllReUse:ei="stream"}return ei},er.prototype.checkCachedNodesUse=function(eA,er){if(this.logger.info(ef.ZEGO_WEBRTC_ACTION.STREAMCENTER_CHECK_CACHED_NODES_USE+" call "+eA.streamId+" "+eA.cachedGwNodesMode),eA.isExternal){if(er&&eA.isCustomCdn())this.logger.info(ef.ZEGO_WEBRTC_ACTION.STREAMCENTER_CHECK_CACHED_NODES_USE+" call "+eA.streamId+" custom cdn");else if(this.stateCenter.useNetAgent&&this.stateCenter.isMultiOuter)this.logger.info(ef.ZEGO_WEBRTC_ACTION.STREAMCENTER_CHECK_CACHED_NODES_USE+" call "+eA.streamId+" multi outer");else{var ei=this.getNodeIndex(eA,er);if(this.logger.info(ef.ZEGO_WEBRTC_ACTION.STREAMCENTER_CHECK_CACHED_NODES_USE+" "+eA.streamId+" "+ei),ei){var eo=this.cachedGwNodesList[ei];eo&&eo.gwNodesTTL>(new Date).getTime()&&(null==eo?void 0:eo.gwNodes.length)>0&&(this.logger.info(ef.ZEGO_WEBRTC_ACTION.STREAMCENTER_CHECK_CACHED_NODES_USE+" "+eA.streamId+" use cache gwnodes"),eA.gwNodeList=eo.gwNodes,eA.gwNodesTTL=eo.gwNodesTTL,eA.gwNode=eA.gwNodeList[0])}this.logger.info(ef.ZEGO_WEBRTC_ACTION.STREAMCENTER_CHECK_CACHED_NODES_USE+" end "+eA.streamId+" "+eA.gwNode)}}else this.logger.info(ef.ZEGO_WEBRTC_ACTION.STREAMCENTER_CHECK_CACHED_NODES_USE+" "+eA.streamId+" retry internal")},er.prototype.updateCachedGwNodesList=function(eA,er,ei,eo){if(this.logger.info(ef.ZEGO_WEBRTC_ACTION.STREAMCENTER_UPDATE_CACHED_GWNODES_LIST+" call "+eA.streamId),0===eo)this.setCachedGwNodesMode(ea.NotReUse);else if(eo>0){var en=this.getNodeIndex(eA,er);this.logger.info(ef.ZEGO_WEBRTC_ACTION.STREAMCENTER_UPDATE_CACHED_GWNODES_LIST+" "+eA.streamId+" nodeIndex "+en),en&&(this.cachedGwNodesList[en]={gwNodes:ei,gwNodesTTL:(new Date).getTime()+1e3*eo})}},er.prototype.clearCachedGwNodesList=function(eA,er){var ei=this.getNodeIndex(eA,er);this.logger.info(ef.ZEGO_WEBRTC_ACTION.STREAMCENTER_CLEAR_CACHED_GWNODES_LIST+" "+eA.streamId+" nodeIndex "+ei),ei&&delete this.cachedGwNodesList[ei]},er.prototype.setCachedGwNodesMode=function(eA){this.cachedGwNodesMode=eA,Object.values(this.publisherList).forEach(function(er){er.publisher.cachedGwNodesMode=eA}),Object.values(this.playerList).forEach(function(er){er.player.cachedGwNodesMode=eA})},er.prototype.updateTimeOffsetInterval=function(){var eA,er,ei=this;"number"==typeof(null===(eA=this.rtm)||void 0===eA?void 0:eA.netAgent.timeOffset)&&(this.stateCenter.clientTimeOffset=null===(er=this.rtm)||void 0===er?void 0:er.netAgent.timeOffset),this.timeOffsetUpdateTimer=setTimeout(function(){ei.updateTimeOffsetInterval()},9e5)},er.prototype.changeRxQuality=function(eA){this.rxQuality=eA,this.startPublishNetWorkQuality()},er.prototype.changeTxQuality=function(eA,er,ei){this.txQuality=eA,this.sendNetQuality(er,ei),this.startPublishNetWorkQuality()},er.prototype.sendNetQuality=function(eA,er){this.logger.info("zc.sc.snq call");var ei,eo=e_.webrtc_cmd.WebrtcCmdReqMsg.encode({net_quality_grade:{rx_quality:this.rxQuality,tx_quality:this.txQuality}}).finish(),en=em.ClientUtil.uint8arrayToBase64(eo);null===(ei=this.signalList[this.server])||void 0===ei||ei.signal.sendGWCmd(this.stateCenter.getSeq(),eA,{peer_id:er,cmd_id:6,body:en},function(eA,er,ei){var eo=ev.WebRTCUtil.base64ToUint8Array(ei.body);e_.webrtc_cmd.WebrtcCmdRspMsg.decode(eo)},function(eA){})},er.prototype.startPublishNetWorkQuality=function(){var eA=this;null===this.netTimer&&(this.netTimer=setInterval(function(){eA.stateCenter.actionListener("networkQuality","",eA.txQuality,eA.rxQuality)},3e3))},er.prototype.resetNetworkData=function(){Object.keys(this.playerList).length<1&&(this.rxQuality=-1),Object.keys(this.publisherList).length<1&&(this.txQuality=-1),Object.keys(this.playerList).length<1&&Object.keys(this.publisherList).length<1&&(clearInterval(this.netTimer),this.netTimer=null)},er}(el.ZegoStreamCenter);er.ZegoStreamCenterWeb=eR},2990:function(eA,er,ei){"use strict";var eo,en=ei(2100),es=en.Writer,ea=en.util,eg=en.roots.default||(en.roots.default={});eg.logreport=((eo={}).SpeedLogHead=function(){var eA,er;function ei(eA){if(eA)for(var er=Object.keys(eA),ei=0;ei<er.length;++ei)null!=eA[er[ei]]&&(this[er[ei]]=eA[er[ei]])}return ei.prototype.version=0,ei.prototype.signature=ea.newBuffer([]),ei.prototype.timestamp=0,ei.prototype.event=0,ei.prototype.app_id=0,ei.prototype.user_id="",ei.prototype.biz_type=0,ei.prototype.device_id="",ei.prototype.lite_sign=ea.newBuffer([]),ei.prototype.token=ea.newBuffer([]),ei.prototype.os_type="",ei.prototype.sdk_version="",ei.prototype.time_offset=ea.Long?ea.Long.fromBits(0,0,!1):0,ei.prototype.scenario=0,ei.create=function(eA){return new ei(eA)},ei.encode=function(eA,er){return er||(er=es.create()),null!=eA.version&&Object.hasOwnProperty.call(eA,"version")&&er.uint32(8).uint32(eA.version),null!=eA.signature&&Object.hasOwnProperty.call(eA,"signature")&&er.uint32(18).bytes(eA.signature),null!=eA.timestamp&&Object.hasOwnProperty.call(eA,"timestamp")&&er.uint32(24).uint32(eA.timestamp),null!=eA.event&&Object.hasOwnProperty.call(eA,"event")&&er.uint32(32).uint32(eA.event),null!=eA.app_id&&Object.hasOwnProperty.call(eA,"app_id")&&er.uint32(40).uint32(eA.app_id),null!=eA.user_id&&Object.hasOwnProperty.call(eA,"user_id")&&er.uint32(50).string(eA.user_id),null!=eA.biz_type&&Object.hasOwnProperty.call(eA,"biz_type")&&er.uint32(56).uint32(eA.biz_type),null!=eA.device_id&&Object.hasOwnProperty.call(eA,"device_id")&&er.uint32(66).string(eA.device_id),null!=eA.lite_sign&&Object.hasOwnProperty.call(eA,"lite_sign")&&er.uint32(74).bytes(eA.lite_sign),null!=eA.token&&Object.hasOwnProperty.call(eA,"token")&&er.uint32(82).bytes(eA.token),null!=eA.os_type&&Object.hasOwnProperty.call(eA,"os_type")&&er.uint32(90).string(eA.os_type),null!=eA.sdk_version&&Object.hasOwnProperty.call(eA,"sdk_version")&&er.uint32(98).string(eA.sdk_version),null!=eA.time_offset&&Object.hasOwnProperty.call(eA,"time_offset")&&er.uint32(104).int64(eA.time_offset),null!=eA.scenario&&Object.hasOwnProperty.call(eA,"scenario")&&er.uint32(112).uint32(eA.scenario),er},ei.ProtoVersion=((er=Object.create(eA={}))[eA[0]="PROTO_VERSION"]=0,er[eA[1]="PROTO_VERSION1"]=1,er[eA[2]="PROTO_VERSION2"]=2,er[eA[3]="PROTO_VERSION3"]=3,er[eA[4]="PROTO_VERSION4"]=4,er[eA[5]="PROTO_VERSION5"]=5,er[eA[6]="PROTO_VERSION6"]=6,er[eA[7]="PROTO_VERSION7"]=7,er[eA[8]="PROTO_VERSION8"]=8,er[eA[9]="PROTO_VERSION9"]=9,er[eA[10]="PROTO_VERSION10"]=10,er[eA[11]="PROTO_VERSION11"]=11,er[eA[12]="PROTO_VERSION12"]=12,er[eA[13]="PROTO_VERSION13"]=13,er[eA[14]="PROTO_VERSION14"]=14,er),ei.Event=function(){var eA={},er=Object.create(eA);return er[eA[0]="QUALITY_EVENT"]=0,er[eA[100]="NO_BILLING_EVENT"]=100,er[eA[300]="DETECT_QUALITY_EVENT"]=300,er}(),ei.BizType=function(){var eA={},er=Object.create(eA);return er[eA[0]="UNKNOWN"]=0,er[eA[1]="LIVE"]=1,er[eA[2]="RTV"]=2,er}(),ei.ZegoScenario=function(){var eA={},er=Object.create(eA);return er[eA[0]="ZEGO_SCENARIO_GENERAL"]=0,er[eA[1]="ZEGO_SCENARIO_COMMUNICATION"]=1,er[eA[2]="ZEGO_SCENARIO_LIVE"]=2,er[eA[3]="ZEGO_SCENARIO_DEFAULT"]=3,er[eA[4]="ZEGO_SCENARIO_STANDARD_VIDEO_CALL"]=4,er[eA[5]="ZEGO_SCENARIO_HIGH_QUALITY_VIDEO_CALL"]=5,er[eA[6]="ZEGO_SCENARIO_STANDARD_CHATROOM"]=6,er[eA[7]="ZEGO_SCENARIO_HIGH_QUALITY_CHATROOM"]=7,er[eA[8]="ZEGO_SCENARIO_BROADCAST"]=8,er[eA[9]="ZEGO_SCENARIO_KARAOKE"]=9,er[eA[99]="ZEGO_SCENARIO_UNDEFINED"]=99,er}(),ei}(),eo.SpeedLogRsp=function(){function eA(eA){if(eA)for(var er=Object.keys(eA),ei=0;ei<er.length;++ei)null!=eA[er[ei]]&&(this[er[ei]]=eA[er[ei]])}return eA.prototype.code=0,eA.prototype.message="",eA.create=function(er){return new eA(er)},eA.encode=function(eA,er){return er||(er=es.create()),null!=eA.code&&Object.hasOwnProperty.call(eA,"code")&&er.uint32(8).uint32(eA.code),null!=eA.message&&Object.hasOwnProperty.call(eA,"message")&&er.uint32(18).string(eA.message),er},eA}(),eo.QualityEvent=function(){var eA,er;function ei(eA){if(this.publish_quality_infos=[],this.play_quality_infos=[],eA)for(var er=Object.keys(eA),ei=0;ei<er.length;++ei)null!=eA[er[ei]]&&(this[er[ei]]=eA[er[ei]])}return ei.prototype.hardware_infos=null,ei.prototype.publish_quality_infos=ea.emptyArray,ei.prototype.play_quality_infos=ea.emptyArray,ei.prototype.network_type=0,ei.prototype.charge_infos=null,ei.prototype.server_time=ea.Long?ea.Long.fromBits(0,0,!1):0,ei.prototype.client_type=0,ei.create=function(eA){return new ei(eA)},ei.encode=function(eA,er){if(er||(er=es.create()),null!=eA.hardware_infos&&Object.hasOwnProperty.call(eA,"hardware_infos")&&eg.logreport.HardwareInfos.encode(eA.hardware_infos,er.uint32(10).fork()).ldelim(),null!=eA.publish_quality_infos&&eA.publish_quality_infos.length)for(var ei=0;ei<eA.publish_quality_infos.length;++ei)eg.logreport.PublishQualityInfos.encode(eA.publish_quality_infos[ei],er.uint32(18).fork()).ldelim();if(null!=eA.play_quality_infos&&eA.play_quality_infos.length)for(ei=0;ei<eA.play_quality_infos.length;++ei)eg.logreport.PlayQualityInfos.encode(eA.play_quality_infos[ei],er.uint32(26).fork()).ldelim();return null!=eA.network_type&&Object.hasOwnProperty.call(eA,"network_type")&&er.uint32(32).uint32(eA.network_type),null!=eA.charge_infos&&Object.hasOwnProperty.call(eA,"charge_infos")&&eg.logreport.ChargeInfos.encode(eA.charge_infos,er.uint32(42).fork()).ldelim(),null!=eA.server_time&&Object.hasOwnProperty.call(eA,"server_time")&&er.uint32(48).int64(eA.server_time),null!=eA.client_type&&Object.hasOwnProperty.call(eA,"client_type")&&er.uint32(800).uint32(eA.client_type),er},ei.ResourceType=((er=Object.create(eA={}))[eA[0]="UNKNOWN"]=0,er[eA[1]="CDN"]=1,er[eA[2]="RTC"]=2,er[eA[3]="L3"]=3,er[eA[4]="P2P"]=4,er),ei}(),eo.HardwareInfos=function(){function eA(eA){if(this.infos=[],eA)for(var er=Object.keys(eA),ei=0;ei<er.length;++ei)null!=eA[er[ei]]&&(this[er[ei]]=eA[er[ei]])}return eA.prototype.timestamp_offset_begin=0,eA.prototype.timestamp_offset_end=0,eA.prototype.infos=ea.emptyArray,eA.prototype.sys_mem_total=0,eA.create=function(er){return new eA(er)},eA.encode=function(eA,er){if(er||(er=es.create()),null!=eA.timestamp_offset_begin&&Object.hasOwnProperty.call(eA,"timestamp_offset_begin")&&er.uint32(8).uint32(eA.timestamp_offset_begin),null!=eA.timestamp_offset_end&&Object.hasOwnProperty.call(eA,"timestamp_offset_end")&&er.uint32(16).uint32(eA.timestamp_offset_end),null!=eA.infos&&eA.infos.length)for(var ei=0;ei<eA.infos.length;++ei)eg.logreport.HardwareInfo.encode(eA.infos[ei],er.uint32(26).fork()).ldelim();return null!=eA.sys_mem_total&&Object.hasOwnProperty.call(eA,"sys_mem_total")&&er.uint32(32).uint32(eA.sys_mem_total),er},eA}(),eo.PublishQualityInfos=function(){function eA(eA){if(this.infos=[],eA)for(var er=Object.keys(eA),ei=0;ei<er.length;++ei)null!=eA[er[ei]]&&(this[er[ei]]=eA[er[ei]])}return eA.prototype.timestamp_offset_begin=0,eA.prototype.timestamp_offset_end=0,eA.prototype.stream_id="",eA.prototype.session_id=0,eA.prototype.video_width=0,eA.prototype.video_height=0,eA.prototype.ipv4=0,eA.prototype.ipv6="",eA.prototype.resource_type=0,eA.prototype.infos=ea.emptyArray,eA.prototype.room_id="",eA.prototype.evnvironment=0,eA.prototype.ap="",eA.prototype.session="",eA.prototype.room_session_id=ea.Long?ea.Long.fromBits(0,0,!0):0,eA.prototype.protocol_type=0,eA.prototype.setting_video_bitrate=0,eA.prototype.setting_audio_bitrate=0,eA.prototype.setting_video_fps=0,eA.create=function(er){return new eA(er)},eA.encode=function(eA,er){if(er||(er=es.create()),null!=eA.timestamp_offset_begin&&Object.hasOwnProperty.call(eA,"timestamp_offset_begin")&&er.uint32(8).uint32(eA.timestamp_offset_begin),null!=eA.timestamp_offset_end&&Object.hasOwnProperty.call(eA,"timestamp_offset_end")&&er.uint32(16).uint32(eA.timestamp_offset_end),null!=eA.stream_id&&Object.hasOwnProperty.call(eA,"stream_id")&&er.uint32(26).string(eA.stream_id),null!=eA.session_id&&Object.hasOwnProperty.call(eA,"session_id")&&er.uint32(32).uint32(eA.session_id),null!=eA.video_width&&Object.hasOwnProperty.call(eA,"video_width")&&er.uint32(40).uint32(eA.video_width),null!=eA.video_height&&Object.hasOwnProperty.call(eA,"video_height")&&er.uint32(48).uint32(eA.video_height),null!=eA.ipv4&&Object.hasOwnProperty.call(eA,"ipv4")&&er.uint32(56).uint32(eA.ipv4),null!=eA.ipv6&&Object.hasOwnProperty.call(eA,"ipv6")&&er.uint32(66).string(eA.ipv6),null!=eA.resource_type&&Object.hasOwnProperty.call(eA,"resource_type")&&er.uint32(72).uint32(eA.resource_type),null!=eA.infos&&eA.infos.length)for(var ei=0;ei<eA.infos.length;++ei)eg.logreport.PublishQualityInfo.encode(eA.infos[ei],er.uint32(82).fork()).ldelim();return null!=eA.room_id&&Object.hasOwnProperty.call(eA,"room_id")&&er.uint32(90).string(eA.room_id),null!=eA.evnvironment&&Object.hasOwnProperty.call(eA,"evnvironment")&&er.uint32(104).uint32(eA.evnvironment),null!=eA.ap&&Object.hasOwnProperty.call(eA,"ap")&&er.uint32(114).string(eA.ap),null!=eA.session&&Object.hasOwnProperty.call(eA,"session")&&er.uint32(122).string(eA.session),null!=eA.room_session_id&&Object.hasOwnProperty.call(eA,"room_session_id")&&er.uint32(128).uint64(eA.room_session_id),null!=eA.protocol_type&&Object.hasOwnProperty.call(eA,"protocol_type")&&er.uint32(136).uint32(eA.protocol_type),null!=eA.setting_video_bitrate&&Object.hasOwnProperty.call(eA,"setting_video_bitrate")&&er.uint32(144).uint32(eA.setting_video_bitrate),null!=eA.setting_audio_bitrate&&Object.hasOwnProperty.call(eA,"setting_audio_bitrate")&&er.uint32(152).uint32(eA.setting_audio_bitrate),null!=eA.setting_video_fps&&Object.hasOwnProperty.call(eA,"setting_video_fps")&&er.uint32(160).uint32(eA.setting_video_fps),er},eA}(),eo.PlayQualityInfos=function(){function eA(eA){if(this.infos=[],eA)for(var er=Object.keys(eA),ei=0;ei<er.length;++ei)null!=eA[er[ei]]&&(this[er[ei]]=eA[er[ei]])}return eA.prototype.timestamp_offset_begin=0,eA.prototype.timestamp_offset_end=0,eA.prototype.stream_id="",eA.prototype.session_id=0,eA.prototype.video_width=0,eA.prototype.video_height=0,eA.prototype.ipv4=0,eA.prototype.ipv6="",eA.prototype.resource_type=0,eA.prototype.infos=ea.emptyArray,eA.prototype.room_id="",eA.prototype.session="",eA.prototype.room_session_id=ea.Long?ea.Long.fromBits(0,0,!0):0,eA.prototype.protocol_type=0,eA.prototype.product=0,eA.create=function(er){return new eA(er)},eA.encode=function(eA,er){if(er||(er=es.create()),null!=eA.timestamp_offset_begin&&Object.hasOwnProperty.call(eA,"timestamp_offset_begin")&&er.uint32(8).uint32(eA.timestamp_offset_begin),null!=eA.timestamp_offset_end&&Object.hasOwnProperty.call(eA,"timestamp_offset_end")&&er.uint32(16).uint32(eA.timestamp_offset_end),null!=eA.stream_id&&Object.hasOwnProperty.call(eA,"stream_id")&&er.uint32(26).string(eA.stream_id),null!=eA.session_id&&Object.hasOwnProperty.call(eA,"session_id")&&er.uint32(32).uint32(eA.session_id),null!=eA.video_width&&Object.hasOwnProperty.call(eA,"video_width")&&er.uint32(40).uint32(eA.video_width),null!=eA.video_height&&Object.hasOwnProperty.call(eA,"video_height")&&er.uint32(48).uint32(eA.video_height),null!=eA.ipv4&&Object.hasOwnProperty.call(eA,"ipv4")&&er.uint32(56).uint32(eA.ipv4),null!=eA.ipv6&&Object.hasOwnProperty.call(eA,"ipv6")&&er.uint32(66).string(eA.ipv6),null!=eA.resource_type&&Object.hasOwnProperty.call(eA,"resource_type")&&er.uint32(72).uint32(eA.resource_type),null!=eA.infos&&eA.infos.length)for(var ei=0;ei<eA.infos.length;++ei)eg.logreport.PlayQualityInfo.encode(eA.infos[ei],er.uint32(82).fork()).ldelim();return null!=eA.room_id&&Object.hasOwnProperty.call(eA,"room_id")&&er.uint32(90).string(eA.room_id),null!=eA.session&&Object.hasOwnProperty.call(eA,"session")&&er.uint32(106).string(eA.session),null!=eA.room_session_id&&Object.hasOwnProperty.call(eA,"room_session_id")&&er.uint32(112).uint64(eA.room_session_id),null!=eA.protocol_type&&Object.hasOwnProperty.call(eA,"protocol_type")&&er.uint32(120).uint32(eA.protocol_type),null!=eA.product&&Object.hasOwnProperty.call(eA,"product")&&er.uint32(128).uint32(eA.product),er},eA}(),eo.ChargeInfos=function(){function eA(eA){if(this.infos=[],eA)for(var er=Object.keys(eA),ei=0;ei<er.length;++ei)null!=eA[er[ei]]&&(this[er[ei]]=eA[er[ei]])}return eA.prototype.timestamp_offset_begin=0,eA.prototype.timestamp_offset_end=0,eA.prototype.timestamp_diff_flag=0,eA.prototype.timestamp_diff=0,eA.prototype.room_id="",eA.prototype.infos=ea.emptyArray,eA.create=function(er){return new eA(er)},eA.encode=function(eA,er){if(er||(er=es.create()),null!=eA.timestamp_offset_begin&&Object.hasOwnProperty.call(eA,"timestamp_offset_begin")&&er.uint32(8).uint32(eA.timestamp_offset_begin),null!=eA.timestamp_offset_end&&Object.hasOwnProperty.call(eA,"timestamp_offset_end")&&er.uint32(16).uint32(eA.timestamp_offset_end),null!=eA.timestamp_diff_flag&&Object.hasOwnProperty.call(eA,"timestamp_diff_flag")&&er.uint32(24).uint32(eA.timestamp_diff_flag),null!=eA.timestamp_diff&&Object.hasOwnProperty.call(eA,"timestamp_diff")&&er.uint32(32).uint32(eA.timestamp_diff),null!=eA.room_id&&Object.hasOwnProperty.call(eA,"room_id")&&er.uint32(42).string(eA.room_id),null!=eA.infos&&eA.infos.length)for(var ei=0;ei<eA.infos.length;++ei)eg.logreport.ChargeInfo.encode(eA.infos[ei],er.uint32(802).fork()).ldelim();return er},eA}(),eo.HardwareInfo=function(){function eA(eA){if(eA)for(var er=Object.keys(eA),ei=0;ei<er.length;++ei)null!=eA[er[ei]]&&(this[er[ei]]=eA[er[ei]])}return eA.prototype.sys_cpu_used=0,eA.prototype.app_cpu_used=0,eA.prototype.sys_mem_used=0,eA.prototype.app_mem_used=0,eA.prototype.sample_time_offset=0,eA.create=function(er){return new eA(er)},eA.encode=function(eA,er){return er||(er=es.create()),null!=eA.sys_cpu_used&&Object.hasOwnProperty.call(eA,"sys_cpu_used")&&er.uint32(8).uint32(eA.sys_cpu_used),null!=eA.app_cpu_used&&Object.hasOwnProperty.call(eA,"app_cpu_used")&&er.uint32(16).uint32(eA.app_cpu_used),null!=eA.sys_mem_used&&Object.hasOwnProperty.call(eA,"sys_mem_used")&&er.uint32(24).uint32(eA.sys_mem_used),null!=eA.app_mem_used&&Object.hasOwnProperty.call(eA,"app_mem_used")&&er.uint32(32).uint32(eA.app_mem_used),null!=eA.sample_time_offset&&Object.hasOwnProperty.call(eA,"sample_time_offset")&&er.uint32(40).uint32(eA.sample_time_offset),er},eA}(),eo.PublishQualityInfo=function(){function eA(eA){if(eA)for(var er=Object.keys(eA),ei=0;ei<er.length;++ei)null!=eA[er[ei]]&&(this[er[ei]]=eA[er[ei]])}return eA.prototype.audio_bitrate=0,eA.prototype.video_bitrate=0,eA.prototype.video_capture_fps=0,eA.prototype.video_network_fps=0,eA.prototype.uplink_plr=0,eA.prototype.rtt=0,eA.prototype.audio_network_fps=0,eA.prototype.captured_sound_level=0,eA.prototype.quality=0,eA.prototype.sample_time_offset=0,eA.prototype.sample_time_window=0,eA.create=function(er){return new eA(er)},eA.encode=function(eA,er){return er||(er=es.create()),null!=eA.audio_bitrate&&Object.hasOwnProperty.call(eA,"audio_bitrate")&&er.uint32(8).uint32(eA.audio_bitrate),null!=eA.video_bitrate&&Object.hasOwnProperty.call(eA,"video_bitrate")&&er.uint32(16).uint32(eA.video_bitrate),null!=eA.video_capture_fps&&Object.hasOwnProperty.call(eA,"video_capture_fps")&&er.uint32(24).uint32(eA.video_capture_fps),null!=eA.video_network_fps&&Object.hasOwnProperty.call(eA,"video_network_fps")&&er.uint32(32).uint32(eA.video_network_fps),null!=eA.uplink_plr&&Object.hasOwnProperty.call(eA,"uplink_plr")&&er.uint32(40).uint32(eA.uplink_plr),null!=eA.rtt&&Object.hasOwnProperty.call(eA,"rtt")&&er.uint32(48).uint32(eA.rtt),null!=eA.audio_network_fps&&Object.hasOwnProperty.call(eA,"audio_network_fps")&&er.uint32(56).uint32(eA.audio_network_fps),null!=eA.captured_sound_level&&Object.hasOwnProperty.call(eA,"captured_sound_level")&&er.uint32(64).uint32(eA.captured_sound_level),null!=eA.quality&&Object.hasOwnProperty.call(eA,"quality")&&er.uint32(72).uint32(eA.quality),null!=eA.sample_time_offset&&Object.hasOwnProperty.call(eA,"sample_time_offset")&&er.uint32(80).uint32(eA.sample_time_offset),null!=eA.sample_time_window&&Object.hasOwnProperty.call(eA,"sample_time_window")&&er.uint32(800).uint32(eA.sample_time_window),er},eA}(),eo.PlayQualityInfo=function(){function eA(eA){if(eA)for(var er=Object.keys(eA),ei=0;ei<er.length;++ei)null!=eA[er[ei]]&&(this[er[ei]]=eA[er[ei]])}return eA.prototype.audio_bitrate=0,eA.prototype.video_bitrate=0,eA.prototype.video_network_fps=0,eA.prototype.audio_break_count=0,eA.prototype.video_break_count=0,eA.prototype.downlink_plr=0,eA.prototype.peer_to_peer_plr=0,eA.prototype.peer_to_peer_delay=0,eA.prototype.audio_network_fps=0,eA.prototype.audio_break_duration=0,eA.prototype.video_break_duration=0,eA.prototype.audio_break_rate=0,eA.prototype.video_break_rate=0,eA.prototype.audio_break_cancel=0,eA.prototype.video_break_cancel=0,eA.prototype.rtt=0,eA.prototype.rendered_sound_level=0,eA.prototype.audio_break_cancel_duration=0,eA.prototype.video_break_cancel_duration=0,eA.prototype.audio_decode_time=0,eA.prototype.video_decode_time=0,eA.prototype.real_sampling_interval=0,eA.prototype.mos=0,eA.prototype.audio_decode_fps=0,eA.prototype.video_decode_fps=0,eA.prototype.video_frames_decoded=0,eA.prototype.video_frames_dropped=0,eA.prototype.quality=0,eA.prototype.evaluation_quality=0,eA.prototype.break_stat_duration=0,eA.prototype.sample_time_offset=0,eA.prototype.sample_time_window=0,eA.create=function(er){return new eA(er)},eA.encode=function(eA,er){return er||(er=es.create()),null!=eA.audio_bitrate&&Object.hasOwnProperty.call(eA,"audio_bitrate")&&er.uint32(8).uint32(eA.audio_bitrate),null!=eA.video_bitrate&&Object.hasOwnProperty.call(eA,"video_bitrate")&&er.uint32(16).uint32(eA.video_bitrate),null!=eA.video_network_fps&&Object.hasOwnProperty.call(eA,"video_network_fps")&&er.uint32(24).uint32(eA.video_network_fps),null!=eA.audio_break_count&&Object.hasOwnProperty.call(eA,"audio_break_count")&&er.uint32(32).uint32(eA.audio_break_count),null!=eA.video_break_count&&Object.hasOwnProperty.call(eA,"video_break_count")&&er.uint32(40).uint32(eA.video_break_count),null!=eA.downlink_plr&&Object.hasOwnProperty.call(eA,"downlink_plr")&&er.uint32(48).uint32(eA.downlink_plr),null!=eA.peer_to_peer_plr&&Object.hasOwnProperty.call(eA,"peer_to_peer_plr")&&er.uint32(56).uint32(eA.peer_to_peer_plr),null!=eA.peer_to_peer_delay&&Object.hasOwnProperty.call(eA,"peer_to_peer_delay")&&er.uint32(64).uint32(eA.peer_to_peer_delay),null!=eA.audio_network_fps&&Object.hasOwnProperty.call(eA,"audio_network_fps")&&er.uint32(72).uint32(eA.audio_network_fps),null!=eA.audio_break_duration&&Object.hasOwnProperty.call(eA,"audio_break_duration")&&er.uint32(80).uint32(eA.audio_break_duration),null!=eA.video_break_duration&&Object.hasOwnProperty.call(eA,"video_break_duration")&&er.uint32(88).uint32(eA.video_break_duration),null!=eA.audio_break_rate&&Object.hasOwnProperty.call(eA,"audio_break_rate")&&er.uint32(96).uint32(eA.audio_break_rate),null!=eA.video_break_rate&&Object.hasOwnProperty.call(eA,"video_break_rate")&&er.uint32(104).uint32(eA.video_break_rate),null!=eA.audio_break_cancel&&Object.hasOwnProperty.call(eA,"audio_break_cancel")&&er.uint32(112).uint32(eA.audio_break_cancel),null!=eA.video_break_cancel&&Object.hasOwnProperty.call(eA,"video_break_cancel")&&er.uint32(120).uint32(eA.video_break_cancel),null!=eA.rtt&&Object.hasOwnProperty.call(eA,"rtt")&&er.uint32(128).uint32(eA.rtt),null!=eA.rendered_sound_level&&Object.hasOwnProperty.call(eA,"rendered_sound_level")&&er.uint32(136).uint32(eA.rendered_sound_level),null!=eA.audio_break_cancel_duration&&Object.hasOwnProperty.call(eA,"audio_break_cancel_duration")&&er.uint32(144).uint32(eA.audio_break_cancel_duration),null!=eA.video_break_cancel_duration&&Object.hasOwnProperty.call(eA,"video_break_cancel_duration")&&er.uint32(152).uint32(eA.video_break_cancel_duration),null!=eA.audio_decode_time&&Object.hasOwnProperty.call(eA,"audio_decode_time")&&er.uint32(160).uint32(eA.audio_decode_time),null!=eA.video_decode_time&&Object.hasOwnProperty.call(eA,"video_decode_time")&&er.uint32(168).uint32(eA.video_decode_time),null!=eA.real_sampling_interval&&Object.hasOwnProperty.call(eA,"real_sampling_interval")&&er.uint32(176).uint32(eA.real_sampling_interval),null!=eA.mos&&Object.hasOwnProperty.call(eA,"mos")&&er.uint32(184).int32(eA.mos),null!=eA.audio_decode_fps&&Object.hasOwnProperty.call(eA,"audio_decode_fps")&&er.uint32(192).uint32(eA.audio_decode_fps),null!=eA.video_decode_fps&&Object.hasOwnProperty.call(eA,"video_decode_fps")&&er.uint32(200).uint32(eA.video_decode_fps),null!=eA.video_frames_decoded&&Object.hasOwnProperty.call(eA,"video_frames_decoded")&&er.uint32(208).uint32(eA.video_frames_decoded),null!=eA.video_frames_dropped&&Object.hasOwnProperty.call(eA,"video_frames_dropped")&&er.uint32(216).uint32(eA.video_frames_dropped),null!=eA.quality&&Object.hasOwnProperty.call(eA,"quality")&&er.uint32(224).int32(eA.quality),null!=eA.evaluation_quality&&Object.hasOwnProperty.call(eA,"evaluation_quality")&&er.uint32(232).int32(eA.evaluation_quality),null!=eA.break_stat_duration&&Object.hasOwnProperty.call(eA,"break_stat_duration")&&er.uint32(240).uint32(eA.break_stat_duration),null!=eA.sample_time_offset&&Object.hasOwnProperty.call(eA,"sample_time_offset")&&er.uint32(248).uint32(eA.sample_time_offset),null!=eA.sample_time_window&&Object.hasOwnProperty.call(eA,"sample_time_window")&&er.uint32(800).uint32(eA.sample_time_window),er},eA}(),eo.ChargeInfo=function(){function eA(eA){if(this.play_stream_resolution_infos=[],eA)for(var er=Object.keys(eA),ei=0;ei<er.length;++ei)null!=eA[er[ei]]&&(this[er[ei]]=eA[er[ei]])}return eA.prototype.is_publishing=0,eA.prototype.play_stream_resolution_infos=ea.emptyArray,eA.prototype.play_max_audio_bitrate=0,eA.prototype.no_playing=0,eA.prototype.p2p_charge_info=null,eA.prototype.sample_time_offset=0,eA.create=function(er){return new eA(er)},eA.encode=function(eA,er){if(er||(er=es.create()),null!=eA.is_publishing&&Object.hasOwnProperty.call(eA,"is_publishing")&&er.uint32(8).uint32(eA.is_publishing),null!=eA.play_stream_resolution_infos&&eA.play_stream_resolution_infos.length)for(var ei=0;ei<eA.play_stream_resolution_infos.length;++ei)eg.logreport.ResolutionInfo.encode(eA.play_stream_resolution_infos[ei],er.uint32(18).fork()).ldelim();return null!=eA.play_max_audio_bitrate&&Object.hasOwnProperty.call(eA,"play_max_audio_bitrate")&&er.uint32(24).uint32(eA.play_max_audio_bitrate),null!=eA.no_playing&&Object.hasOwnProperty.call(eA,"no_playing")&&er.uint32(32).uint32(eA.no_playing),null!=eA.p2p_charge_info&&Object.hasOwnProperty.call(eA,"p2p_charge_info")&&eg.logreport.P2PChargeInfo.encode(eA.p2p_charge_info,er.uint32(42).fork()).ldelim(),null!=eA.sample_time_offset&&Object.hasOwnProperty.call(eA,"sample_time_offset")&&er.uint32(48).uint32(eA.sample_time_offset),er},eA}(),eo.ResolutionInfo=function(){function eA(eA){if(eA)for(var er=Object.keys(eA),ei=0;ei<er.length;++ei)null!=eA[er[ei]]&&(this[er[ei]]=eA[er[ei]])}return eA.prototype.video_width=0,eA.prototype.video_height=0,eA.prototype.count=0,eA.create=function(er){return new eA(er)},eA.encode=function(eA,er){return er||(er=es.create()),null!=eA.video_width&&Object.hasOwnProperty.call(eA,"video_width")&&er.uint32(8).uint32(eA.video_width),null!=eA.video_height&&Object.hasOwnProperty.call(eA,"video_height")&&er.uint32(16).uint32(eA.video_height),null!=eA.count&&Object.hasOwnProperty.call(eA,"count")&&er.uint32(24).uint32(eA.count),er},eA}(),eo.P2PChargeInfo=function(){function eA(eA){if(eA)for(var er=Object.keys(eA),ei=0;ei<er.length;++ei)null!=eA[er[ei]]&&(this[er[ei]]=eA[er[ei]])}return eA.prototype.media_inc=ea.Long?ea.Long.fromBits(0,0,!0):0,eA.prototype.data_inc=ea.Long?ea.Long.fromBits(0,0,!0):0,eA.create=function(er){return new eA(er)},eA.encode=function(eA,er){return er||(er=es.create()),null!=eA.media_inc&&Object.hasOwnProperty.call(eA,"media_inc")&&er.uint32(8).uint64(eA.media_inc),null!=eA.data_inc&&Object.hasOwnProperty.call(eA,"data_inc")&&er.uint32(16).uint64(eA.data_inc),er},eA}(),eo.NoBillingEvent=function(){function eA(eA){if(eA)for(var er=Object.keys(eA),ei=0;ei<er.length;++ei)null!=eA[er[ei]]&&(this[er[ei]]=eA[er[ei]])}return eA.prototype.platform_info="",eA.prototype.room_id="",eA.create=function(er){return new eA(er)},eA.encode=function(eA,er){return er||(er=es.create()),null!=eA.platform_info&&Object.hasOwnProperty.call(eA,"platform_info")&&er.uint32(10).string(eA.platform_info),null!=eA.room_id&&Object.hasOwnProperty.call(eA,"room_id")&&er.uint32(18).string(eA.room_id),er},eA}(),eo.DynQualityEvent=function(){function eA(eA){if(this.dyn_quality_infos=[],eA)for(var er=Object.keys(eA),ei=0;ei<er.length;++ei)null!=eA[er[ei]]&&(this[er[ei]]=eA[er[ei]])}return eA.prototype.seq_no="",eA.prototype.num=0,eA.prototype.dyn_quality_infos=ea.emptyArray,eA.prototype.device_id="",eA.prototype.latitude=0,eA.prototype.longitude=0,eA.prototype.country="",eA.prototype.region="",eA.prototype.city="",eA.prototype.isp="",eA.prototype.ve_mode=0,eA.create=function(er){return new eA(er)},eA.encode=function(eA,er){if(er||(er=es.create()),null!=eA.seq_no&&Object.hasOwnProperty.call(eA,"seq_no")&&er.uint32(10).string(eA.seq_no),null!=eA.num&&Object.hasOwnProperty.call(eA,"num")&&er.uint32(16).uint32(eA.num),null!=eA.dyn_quality_infos&&eA.dyn_quality_infos.length)for(var ei=0;ei<eA.dyn_quality_infos.length;++ei)eg.logreport.DynQualityInfos.encode(eA.dyn_quality_infos[ei],er.uint32(26).fork()).ldelim();return null!=eA.device_id&&Object.hasOwnProperty.call(eA,"device_id")&&er.uint32(34).string(eA.device_id),null!=eA.latitude&&Object.hasOwnProperty.call(eA,"latitude")&&er.uint32(40).uint32(eA.latitude),null!=eA.longitude&&Object.hasOwnProperty.call(eA,"longitude")&&er.uint32(48).uint32(eA.longitude),null!=eA.country&&Object.hasOwnProperty.call(eA,"country")&&er.uint32(58).string(eA.country),null!=eA.region&&Object.hasOwnProperty.call(eA,"region")&&er.uint32(66).string(eA.region),null!=eA.city&&Object.hasOwnProperty.call(eA,"city")&&er.uint32(74).string(eA.city),null!=eA.isp&&Object.hasOwnProperty.call(eA,"isp")&&er.uint32(82).string(eA.isp),null!=eA.ve_mode&&Object.hasOwnProperty.call(eA,"ve_mode")&&er.uint32(88).uint32(eA.ve_mode),er},eA}(),eo.DynQualityInfos=function(){function eA(eA){if(this.infos=[],eA)for(var er=Object.keys(eA),ei=0;ei<er.length;++ei)null!=eA[er[ei]]&&(this[er[ei]]=eA[er[ei]])}return eA.prototype.timestamp_offset_begin=ea.Long?ea.Long.fromBits(0,0,!0):0,eA.prototype.timestamp_offset_end=ea.Long?ea.Long.fromBits(0,0,!0):0,eA.prototype.server_ip="",eA.prototype.infos=ea.emptyArray,eA.prototype.network_type=0,eA.prototype.stream_id="",eA.create=function(er){return new eA(er)},eA.encode=function(eA,er){if(er||(er=es.create()),null!=eA.timestamp_offset_begin&&Object.hasOwnProperty.call(eA,"timestamp_offset_begin")&&er.uint32(8).uint64(eA.timestamp_offset_begin),null!=eA.timestamp_offset_end&&Object.hasOwnProperty.call(eA,"timestamp_offset_end")&&er.uint32(16).uint64(eA.timestamp_offset_end),null!=eA.server_ip&&Object.hasOwnProperty.call(eA,"server_ip")&&er.uint32(26).string(eA.server_ip),null!=eA.infos&&eA.infos.length)for(var ei=0;ei<eA.infos.length;++ei)eg.logreport.DynQualityInfo.encode(eA.infos[ei],er.uint32(34).fork()).ldelim();return null!=eA.network_type&&Object.hasOwnProperty.call(eA,"network_type")&&er.uint32(40).uint32(eA.network_type),null!=eA.stream_id&&Object.hasOwnProperty.call(eA,"stream_id")&&er.uint32(50).string(eA.stream_id),er},eA}(),eo.DynQualityInfo=function(){function eA(eA){if(eA)for(var er=Object.keys(eA),ei=0;ei<er.length;++ei)null!=eA[er[ei]]&&(this[er[ei]]=eA[er[ei]])}return eA.prototype.time=ea.Long?ea.Long.fromBits(0,0,!0):0,eA.prototype.plr=0,eA.prototype.rtt=0,eA.prototype.score=0,eA.prototype.sample_time=0,eA.create=function(er){return new eA(er)},eA.encode=function(eA,er){return er||(er=es.create()),null!=eA.time&&Object.hasOwnProperty.call(eA,"time")&&er.uint32(8).uint64(eA.time),null!=eA.plr&&Object.hasOwnProperty.call(eA,"plr")&&er.uint32(16).uint32(eA.plr),null!=eA.rtt&&Object.hasOwnProperty.call(eA,"rtt")&&er.uint32(24).uint32(eA.rtt),null!=eA.score&&Object.hasOwnProperty.call(eA,"score")&&er.uint32(32).uint32(eA.score),null!=eA.sample_time&&Object.hasOwnProperty.call(eA,"sample_time")&&er.uint32(40).uint32(eA.sample_time),er},eA}(),eo),eA.exports=eg},6348:function(eA,er,ei){"use strict";var eo,en=ei(2100),es=en.Reader,ea=en.Writer,eg=en.util,ec=en.roots.default||(en.roots.default={});ec.webrtc_cmd=((eo={}).MetadataPush=function(){function eA(eA){if(eA)for(var er=Object.keys(eA),ei=0;ei<er.length;++ei)null!=eA[er[ei]]&&(this[er[ei]]=eA[er[ei]])}return eA.prototype.width=0,eA.prototype.height=0,eA.create=function(er){return new eA(er)},eA.encode=function(eA,er){return er||(er=ea.create()),null!=eA.width&&Object.hasOwnProperty.call(eA,"width")&&er.uint32(8).uint32(eA.width),null!=eA.height&&Object.hasOwnProperty.call(eA,"height")&&er.uint32(16).uint32(eA.height),er},eA.decode=function(eA,er){eA instanceof es||(eA=es.create(eA));for(var ei=void 0===er?eA.len:eA.pos+er,eo=new ec.webrtc_cmd.MetadataPush;eA.pos<ei;){var en=eA.uint32();switch(en>>>3){case 1:eo.width=eA.uint32();break;case 2:eo.height=eA.uint32();break;default:eA.skipType(7&en)}}return eo},eA}(),eo.MetadataAck=function(){function eA(eA){if(eA)for(var er=Object.keys(eA),ei=0;ei<er.length;++ei)null!=eA[er[ei]]&&(this[er[ei]]=eA[er[ei]])}return eA.prototype.result=0,eA.create=function(er){return new eA(er)},eA.encode=function(eA,er){return er||(er=ea.create()),null!=eA.result&&Object.hasOwnProperty.call(eA,"result")&&er.uint32(8).sint32(eA.result),er},eA.decode=function(eA,er){eA instanceof es||(eA=es.create(eA));for(var ei=void 0===er?eA.len:eA.pos+er,eo=new ec.webrtc_cmd.MetadataAck;eA.pos<ei;){var en=eA.uint32();en>>>3==1?eo.result=eA.sint32():eA.skipType(7&en)}return eo},eA}(),eo.VideoStreamSubscribeReq=function(){function eA(eA){if(eA)for(var er=Object.keys(eA),ei=0;ei<er.length;++ei)null!=eA[er[ei]]&&(this[er[ei]]=eA[er[ei]])}return eA.prototype.type=0,eA.create=function(er){return new eA(er)},eA.encode=function(eA,er){return er||(er=ea.create()),null!=eA.type&&Object.hasOwnProperty.call(eA,"type")&&er.uint32(8).uint32(eA.type),er},eA.decode=function(eA,er){eA instanceof es||(eA=es.create(eA));for(var ei=void 0===er?eA.len:eA.pos+er,eo=new ec.webrtc_cmd.VideoStreamSubscribeReq;eA.pos<ei;){var en=eA.uint32();en>>>3==1?eo.type=eA.uint32():eA.skipType(7&en)}return eo},eA}(),eo.VideoStreamSubscribeRsp=function(){function eA(eA){if(eA)for(var er=Object.keys(eA),ei=0;ei<er.length;++ei)null!=eA[er[ei]]&&(this[er[ei]]=eA[er[ei]])}return eA.prototype.result=0,eA.create=function(er){return new eA(er)},eA.encode=function(eA,er){return er||(er=ea.create()),null!=eA.result&&Object.hasOwnProperty.call(eA,"result")&&er.uint32(8).sint32(eA.result),er},eA.decode=function(eA,er){eA instanceof es||(eA=es.create(eA));for(var ei=void 0===er?eA.len:eA.pos+er,eo=new ec.webrtc_cmd.VideoStreamSubscribeRsp;eA.pos<ei;){var en=eA.uint32();en>>>3==1?eo.result=eA.sint32():eA.skipType(7&en)}return eo},eA}(),eo.VideoStreamFallbackTypeReq=function(){function eA(eA){if(eA)for(var er=Object.keys(eA),ei=0;ei<er.length;++ei)null!=eA[er[ei]]&&(this[er[ei]]=eA[er[ei]])}return eA.prototype.type=0,eA.create=function(er){return new eA(er)},eA.encode=function(eA,er){return er||(er=ea.create()),null!=eA.type&&Object.hasOwnProperty.call(eA,"type")&&er.uint32(8).uint32(eA.type),er},eA.decode=function(eA,er){eA instanceof es||(eA=es.create(eA));for(var ei=void 0===er?eA.len:eA.pos+er,eo=new ec.webrtc_cmd.VideoStreamFallbackTypeReq;eA.pos<ei;){var en=eA.uint32();en>>>3==1?eo.type=eA.uint32():eA.skipType(7&en)}return eo},eA}(),eo.VideoStreamFallbackTypeRsp=function(){function eA(eA){if(eA)for(var er=Object.keys(eA),ei=0;ei<er.length;++ei)null!=eA[er[ei]]&&(this[er[ei]]=eA[er[ei]])}return eA.prototype.result=0,eA.create=function(er){return new eA(er)},eA.encode=function(eA,er){return er||(er=ea.create()),null!=eA.result&&Object.hasOwnProperty.call(eA,"result")&&er.uint32(8).sint32(eA.result),er},eA.decode=function(eA,er){eA instanceof es||(eA=es.create(eA));for(var ei=void 0===er?eA.len:eA.pos+er,eo=new ec.webrtc_cmd.VideoStreamFallbackTypeRsp;eA.pos<ei;){var en=eA.uint32();en>>>3==1?eo.result=eA.sint32():eA.skipType(7&en)}return eo},eA}(),eo.VideoStreamChangePush=function(){function eA(eA){if(eA)for(var er=Object.keys(eA),ei=0;ei<er.length;++ei)null!=eA[er[ei]]&&(this[er[ei]]=eA[er[ei]])}return eA.prototype.change_type=0,eA.prototype.video_type=0,eA.create=function(er){return new eA(er)},eA.encode=function(eA,er){return er||(er=ea.create()),null!=eA.change_type&&Object.hasOwnProperty.call(eA,"change_type")&&er.uint32(8).uint32(eA.change_type),null!=eA.video_type&&Object.hasOwnProperty.call(eA,"video_type")&&er.uint32(16).uint32(eA.video_type),er},eA.decode=function(eA,er){eA instanceof es||(eA=es.create(eA));for(var ei=void 0===er?eA.len:eA.pos+er,eo=new ec.webrtc_cmd.VideoStreamChangePush;eA.pos<ei;){var en=eA.uint32();switch(en>>>3){case 1:eo.change_type=eA.uint32();break;case 2:eo.video_type=eA.uint32();break;default:eA.skipType(7&en)}}return eo},eA}(),eo.VideoStreamChangeAck=function(){function eA(eA){if(eA)for(var er=Object.keys(eA),ei=0;ei<er.length;++ei)null!=eA[er[ei]]&&(this[er[ei]]=eA[er[ei]])}return eA.prototype.result=0,eA.create=function(er){return new eA(er)},eA.encode=function(eA,er){return er||(er=ea.create()),null!=eA.result&&Object.hasOwnProperty.call(eA,"result")&&er.uint32(8).sint32(eA.result),er},eA.decode=function(eA,er){eA instanceof es||(eA=es.create(eA));for(var ei=void 0===er?eA.len:eA.pos+er,eo=new ec.webrtc_cmd.VideoStreamChangeAck;eA.pos<ei;){var en=eA.uint32();en>>>3==1?eo.result=eA.sint32():eA.skipType(7&en)}return eo},eA}(),eo.UserUnregisteredSEIFilterReq=function(){function eA(eA){if(eA)for(var er=Object.keys(eA),ei=0;ei<er.length;++ei)null!=eA[er[ei]]&&(this[er[ei]]=eA[er[ei]])}return eA.prototype.sei_filter="",eA.create=function(er){return new eA(er)},eA.encode=function(eA,er){return er||(er=ea.create()),null!=eA.sei_filter&&Object.hasOwnProperty.call(eA,"sei_filter")&&er.uint32(10).string(eA.sei_filter),er},eA.decode=function(eA,er){eA instanceof es||(eA=es.create(eA));for(var ei=void 0===er?eA.len:eA.pos+er,eo=new ec.webrtc_cmd.UserUnregisteredSEIFilterReq;eA.pos<ei;){var en=eA.uint32();en>>>3==1?eo.sei_filter=eA.string():eA.skipType(7&en)}return eo},eA}(),eo.UserUnregisteredSEIFilterRsp=function(){function eA(eA){if(eA)for(var er=Object.keys(eA),ei=0;ei<er.length;++ei)null!=eA[er[ei]]&&(this[er[ei]]=eA[er[ei]])}return eA.prototype.result=0,eA.create=function(er){return new eA(er)},eA.encode=function(eA,er){return er||(er=ea.create()),null!=eA.result&&Object.hasOwnProperty.call(eA,"result")&&er.uint32(8).sint32(eA.result),er},eA.decode=function(eA,er){eA instanceof es||(eA=es.create(eA));for(var ei=void 0===er?eA.len:eA.pos+er,eo=new ec.webrtc_cmd.UserUnregisteredSEIFilterRsp;eA.pos<ei;){var en=eA.uint32();en>>>3==1?eo.result=eA.sint32():eA.skipType(7&en)}return eo},eA}(),eo.NetQualityGradeReq=function(){function eA(eA){if(eA)for(var er=Object.keys(eA),ei=0;ei<er.length;++ei)null!=eA[er[ei]]&&(this[er[ei]]=eA[er[ei]])}return eA.prototype.tx_quality=-1,eA.prototype.rx_quality=-1,eA.create=function(er){return new eA(er)},eA.encode=function(eA,er){return er||(er=ea.create()),null!=eA.tx_quality&&Object.hasOwnProperty.call(eA,"tx_quality")&&er.uint32(8).sint32(eA.tx_quality),null!=eA.rx_quality&&Object.hasOwnProperty.call(eA,"rx_quality")&&er.uint32(16).sint32(eA.rx_quality),er},eA.decode=function(eA,er){eA instanceof es||(eA=es.create(eA));for(var ei=void 0===er?eA.len:eA.pos+er,eo=new ec.webrtc_cmd.NetQualityGradeReq;eA.pos<ei;){var en=eA.uint32();switch(en>>>3){case 1:eo.tx_quality=eA.sint32();break;case 2:eo.rx_quality=eA.sint32();break;default:eA.skipType(7&en)}}return eo},eA}(),eo.NetQualityGradeRsp=function(){function eA(eA){if(eA)for(var er=Object.keys(eA),ei=0;ei<er.length;++ei)null!=eA[er[ei]]&&(this[er[ei]]=eA[er[ei]])}return eA.prototype.result=0,eA.create=function(er){return new eA(er)},eA.encode=function(eA,er){return er||(er=ea.create()),null!=eA.result&&Object.hasOwnProperty.call(eA,"result")&&er.uint32(8).sint32(eA.result),er},eA.decode=function(eA,er){eA instanceof es||(eA=es.create(eA));for(var ei=void 0===er?eA.len:eA.pos+er,eo=new ec.webrtc_cmd.UserUnregisteredSEIFilterRsp;eA.pos<ei;){var en=eA.uint32();en>>>3==1?eo.result=eA.sint32():eA.skipType(7&en)}return eo},eA}(),eo.NetQualityGradePush=function(){function eA(eA){if(eA)for(var er=Object.keys(eA),ei=0;ei<er.length;++ei)null!=eA[er[ei]]&&(this[er[ei]]=eA[er[ei]])}return eA.prototype.tx_quality=0,eA.prototype.rx_quality=0,eA.create=function(er){return new eA(er)},eA.encode=function(eA,er){return er||(er=ea.create()),null!=eA.tx_quality&&Object.hasOwnProperty.call(eA,"tx_quality")&&er.uint32(8).sint32(eA.tx_quality),null!=eA.rx_quality&&Object.hasOwnProperty.call(eA,"rx_quality")&&er.uint32(16).sint32(eA.rx_quality),er},eA.decode=function(eA,er){eA instanceof es||(eA=es.create(eA));for(var ei=void 0===er?eA.len:eA.pos+er,eo=new ec.webrtc_cmd.NetQualityGradePush;eA.pos<ei;){var en=eA.uint32();switch(en>>>3){case 1:eo.tx_quality=eA.sint32();break;case 2:eo.rx_quality=eA.sint32();break;default:eA.skipType(7&en)}}return eo},eA}(),eo.NetQualityGradeAck=function(){function eA(eA){if(eA)for(var er=Object.keys(eA),ei=0;ei<er.length;++ei)null!=eA[er[ei]]&&(this[er[ei]]=eA[er[ei]])}return eA.prototype.result=0,eA.create=function(er){return new eA(er)},eA.encode=function(eA,er){return er||(er=ea.create()),null!=eA.result&&Object.hasOwnProperty.call(eA,"result")&&er.uint32(8).sint32(eA.result),er},eA.decode=function(eA,er){eA instanceof es||(eA=es.create(eA));for(var ei=void 0===er?eA.len:eA.pos+er,eo=new ec.webrtc_cmd.UserUnregisteredSEIFilterRsp;eA.pos<ei;){var en=eA.uint32();en>>>3==1?eo.result=eA.sint32():eA.skipType(7&en)}return eo},eA}(),eo.WebrtcCmdReqMsg=function(){var eA;function er(eA){if(eA)for(var er=Object.keys(eA),ei=0;ei<er.length;++ei)null!=eA[er[ei]]&&(this[er[ei]]=eA[er[ei]])}return er.prototype.meta_data_push=null,er.prototype.video_stream_sub=null,er.prototype.video_fallback_type=null,er.prototype.video_change_push=null,er.prototype.usr_sei_filter=null,er.prototype.net_quality_grade=null,er.prototype.net_quality_grade_push=null,Object.defineProperty(er.prototype,"body",{get:eg.oneOfGetter(eA=["meta_data_push","video_stream_sub","video_fallback_type","video_change_push","usr_sei_filter","net_quality_grade","net_quality_grade_push"]),set:eg.oneOfSetter(eA)}),er.create=function(eA){return new er(eA)},er.encode=function(eA,er){return er||(er=ea.create()),null!=eA.meta_data_push&&Object.hasOwnProperty.call(eA,"meta_data_push")&&ec.webrtc_cmd.MetadataPush.encode(eA.meta_data_push,er.uint32(10).fork()).ldelim(),null!=eA.video_stream_sub&&Object.hasOwnProperty.call(eA,"video_stream_sub")&&ec.webrtc_cmd.VideoStreamSubscribeReq.encode(eA.video_stream_sub,er.uint32(18).fork()).ldelim(),null!=eA.video_fallback_type&&Object.hasOwnProperty.call(eA,"video_fallback_type")&&ec.webrtc_cmd.VideoStreamFallbackTypeReq.encode(eA.video_fallback_type,er.uint32(26).fork()).ldelim(),null!=eA.video_change_push&&Object.hasOwnProperty.call(eA,"video_change_push")&&ec.webrtc_cmd.VideoStreamChangePush.encode(eA.video_change_push,er.uint32(34).fork()).ldelim(),null!=eA.usr_sei_filter&&Object.hasOwnProperty.call(eA,"usr_sei_filter")&&ec.webrtc_cmd.UserUnregisteredSEIFilterReq.encode(eA.usr_sei_filter,er.uint32(42).fork()).ldelim(),null!=eA.net_quality_grade&&Object.hasOwnProperty.call(eA,"net_quality_grade")&&ec.webrtc_cmd.NetQualityGradeReq.encode(eA.net_quality_grade,er.uint32(50).fork()).ldelim(),null!=eA.net_quality_grade_push&&Object.hasOwnProperty.call(eA,"net_quality_grade_push")&&ec.webrtc_cmd.NetQualityGradePush.encode(eA.net_quality_grade_push,er.uint32(58).fork()).ldelim(),er},er.decode=function(eA,er){eA instanceof es||(eA=es.create(eA));for(var ei=void 0===er?eA.len:eA.pos+er,eo=new ec.webrtc_cmd.WebrtcCmdReqMsg;eA.pos<ei;){var en=eA.uint32();switch(en>>>3){case 1:eo.meta_data_push=ec.webrtc_cmd.MetadataPush.decode(eA,eA.uint32());break;case 2:eo.video_stream_sub=ec.webrtc_cmd.VideoStreamSubscribeReq.decode(eA,eA.uint32());break;case 3:eo.video_fallback_type=ec.webrtc_cmd.VideoStreamFallbackTypeReq.decode(eA,eA.uint32());break;case 4:eo.video_change_push=ec.webrtc_cmd.VideoStreamChangePush.decode(eA,eA.uint32());break;case 5:eo.usr_sei_filter=ec.webrtc_cmd.UserUnregisteredSEIFilterReq.decode(eA,eA.uint32());break;case 6:eo.net_quality_grade=ec.webrtc_cmd.NetQualityGradeReq.decode(eA,eA.uint32());break;case 7:eo.net_quality_grade_push=ec.webrtc_cmd.NetQualityGradePush.decode(eA,eA.uint32());break;default:eA.skipType(7&en)}}return eo},er}(),eo.WebrtcCmdRspMsg=function(){var eA;function er(eA){if(eA)for(var er=Object.keys(eA),ei=0;ei<er.length;++ei)null!=eA[er[ei]]&&(this[er[ei]]=eA[er[ei]])}return er.prototype.meta_data_ack=null,er.prototype.video_stream_sub=null,er.prototype.video_fallback_type=null,er.prototype.video_change_ack=null,er.prototype.usr_sei_filter=null,er.prototype.net_quality_grade=null,er.prototype.net_quality_grade_ack=null,Object.defineProperty(er.prototype,"body",{get:eg.oneOfGetter(eA=["meta_data_ack","video_stream_sub","video_fallback_type","video_change_ack","usr_sei_filter","net_quality_grade","net_quality_grade_ack"]),set:eg.oneOfSetter(eA)}),er.create=function(eA){return new er(eA)},er.encode=function(eA,er){return er||(er=ea.create()),null!=eA.meta_data_ack&&Object.hasOwnProperty.call(eA,"meta_data_ack")&&ec.webrtc_cmd.MetadataAck.encode(eA.meta_data_ack,er.uint32(10).fork()).ldelim(),null!=eA.video_stream_sub&&Object.hasOwnProperty.call(eA,"video_stream_sub")&&ec.webrtc_cmd.VideoStreamSubscribeRsp.encode(eA.video_stream_sub,er.uint32(18).fork()).ldelim(),null!=eA.video_fallback_type&&Object.hasOwnProperty.call(eA,"video_fallback_type")&&ec.webrtc_cmd.VideoStreamFallbackTypeRsp.encode(eA.video_fallback_type,er.uint32(26).fork()).ldelim(),null!=eA.video_change_ack&&Object.hasOwnProperty.call(eA,"video_change_ack")&&ec.webrtc_cmd.VideoStreamChangeAck.encode(eA.video_change_ack,er.uint32(34).fork()).ldelim(),null!=eA.usr_sei_filter&&Object.hasOwnProperty.call(eA,"usr_sei_filter")&&ec.webrtc_cmd.UserUnregisteredSEIFilterRsp.encode(eA.usr_sei_filter,er.uint32(42).fork()).ldelim(),null!=eA.net_quality_grade&&Object.hasOwnProperty.call(eA,"net_quality_grade")&&ec.webrtc_cmd.NetQualityGradeRsp.encode(eA.net_quality_grade,er.uint32(50).fork()).ldelim(),null!=eA.net_quality_grade_ack&&Object.hasOwnProperty.call(eA,"net_quality_grade_ack")&&ec.webrtc_cmd.NetQualityGradeAck.encode(eA.net_quality_grade_ack,er.uint32(58).fork()).ldelim(),er},er.decode=function(eA,er){eA instanceof es||(eA=es.create(eA));for(var ei=void 0===er?eA.len:eA.pos+er,eo=new ec.webrtc_cmd.WebrtcCmdRspMsg;eA.pos<ei;){var en=eA.uint32();switch(en>>>3){case 1:eo.meta_data_ack=ec.webrtc_cmd.MetadataAck.decode(eA,eA.uint32());break;case 2:eo.video_stream_sub=ec.webrtc_cmd.VideoStreamSubscribeRsp.decode(eA,eA.uint32());break;case 3:eo.video_fallback_type=ec.webrtc_cmd.VideoStreamFallbackTypeRsp.decode(eA,eA.uint32());break;case 4:eo.video_change_ack=ec.webrtc_cmd.VideoStreamChangeAck.decode(eA,eA.uint32());break;case 5:eo.usr_sei_filter=ec.webrtc_cmd.UserUnregisteredSEIFilterRsp.decode(eA,eA.uint32());break;case 6:eo.net_quality_grade=ec.webrtc_cmd.NetQualityGradeRsp.decode(eA,eA.uint32());break;case 7:eo.net_quality_grade_ack=ec.webrtc_cmd.NetQualityGradeAck.decode(eA,eA.uint32());break;default:eA.skipType(7&en)}}return eo},er}(),eo),eA.exports=ec},5515:function(eA){eA.exports=(function(){function eA(er,ei,eo){function en(ea,eg){if(!ei[ea]){if(!er[ea]){if(es)return es(ea,!0);var ec=Error("Cannot find module '"+ea+"'");throw ec.code="MODULE_NOT_FOUND",ec}var eu=ei[ea]={exports:{}};er[ea][0].call(eu.exports,function(eA){return en(er[ea][1][eA]||eA)},eu,eu.exports,eA,er,ei,eo)}return ei[ea].exports}for(var es=void 0,ea=0;ea<eo.length;ea++)en(eo[ea]);return en}return eA})()({1:[function(eA,er,ei){"use strict";var eo=(0,eA("./adapter_factory.js").adapterFactory)({window:window});er.exports=eo},{"./adapter_factory.js":2}],2:[function(eA,er,ei){"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.adapterFactory=el;var eo=eu(eA("./utils")),en=eu(eA("./chrome/chrome_shim")),es=eu(eA("./edge/edge_shim")),ea=eu(eA("./firefox/firefox_shim")),eg=eu(eA("./safari/safari_shim")),ec=eu(eA("./common_shim"));function eu(eA){if(eA&&eA.__esModule)return eA;var er={};if(null!=eA)for(var ei in eA)Object.prototype.hasOwnProperty.call(eA,ei)&&(er[ei]=eA[ei]);return er.default=eA,er}function el(){var eA=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).window,er=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},ei=eo.log,eu=eo.detectBrowser(eA),el={browserDetails:eu,commonShim:ec,extractVersion:eo.extractVersion,disableLog:eo.disableLog,disableWarnings:eo.disableWarnings};switch(eu.browser){case"chrome":if(!en||!en.shimPeerConnection||!er.shimChrome)return ei("Chrome shim is not included in this adapter release."),el;ei("adapter.js shimming chrome."),el.browserShim=en,en.shimGetUserMedia(eA),en.shimMediaStream(eA),en.shimPeerConnection(eA),en.shimOnTrack(eA),en.shimAddTrackRemoveTrack(eA),en.shimGetSendersWithDtmf(eA),en.shimGetStats(eA),en.shimSenderReceiverGetStats(eA),en.fixNegotiationNeeded(eA),ec.shimRTCIceCandidate(eA),ec.shimConnectionState(eA),ec.shimMaxMessageSize(eA),ec.shimSendThrowTypeError(eA),ec.removeAllowExtmapMixed(eA);break;case"firefox":if(!ea||!ea.shimPeerConnection||!er.shimFirefox)return ei("Firefox shim is not included in this adapter release."),el;ei("adapter.js shimming firefox."),el.browserShim=ea,ea.shimGetUserMedia(eA),ea.shimPeerConnection(eA),ea.shimOnTrack(eA),ea.shimRemoveStream(eA),ea.shimSenderGetStats(eA),ea.shimReceiverGetStats(eA),ea.shimRTCDataChannel(eA),ec.shimRTCIceCandidate(eA),ec.shimConnectionState(eA),ec.shimMaxMessageSize(eA),ec.shimSendThrowTypeError(eA);break;case"edge":if(!es||!es.shimPeerConnection||!er.shimEdge)return ei("MS edge shim is not included in this adapter release."),el;ei("adapter.js shimming edge."),el.browserShim=es,es.shimGetUserMedia(eA),es.shimGetDisplayMedia(eA),es.shimPeerConnection(eA),es.shimReplaceTrack(eA),ec.shimMaxMessageSize(eA),ec.shimSendThrowTypeError(eA);break;case"safari":if(!eg||!er.shimSafari)return ei("Safari shim is not included in this adapter release."),el;ei("adapter.js shimming safari."),el.browserShim=eg,eg.shimRTCIceServerUrls(eA),eg.shimCreateOfferLegacy(eA),eg.shimCallbacksAPI(eA),eg.shimLocalStreamsAPI(eA),eg.shimRemoteStreamsAPI(eA),eg.shimTrackEventTransceiver(eA),eg.shimGetUserMedia(eA),ec.shimRTCIceCandidate(eA),ec.shimMaxMessageSize(eA),ec.shimSendThrowTypeError(eA),ec.removeAllowExtmapMixed(eA);break;default:ei("Unsupported browser!")}return el}},{"./chrome/chrome_shim":3,"./common_shim":6,"./edge/edge_shim":7,"./firefox/firefox_shim":11,"./safari/safari_shim":14,"./utils":15}],3:[function(eA,er,ei){"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.shimGetDisplayMedia=ei.shimGetUserMedia=void 0;var eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(eA){return typeof eA}:function(eA){return eA&&"function"==typeof Symbol&&eA.constructor===Symbol&&eA!==Symbol.prototype?"symbol":typeof eA},en=eA("./getusermedia");Object.defineProperty(ei,"shimGetUserMedia",{enumerable:!0,get:function(){return en.shimGetUserMedia}});var es=eA("./getdisplaymedia");Object.defineProperty(ei,"shimGetDisplayMedia",{enumerable:!0,get:function(){return es.shimGetDisplayMedia}}),ei.shimMediaStream=ec,ei.shimOnTrack=eu,ei.shimGetSendersWithDtmf=el,ei.shimGetStats=ed,ei.shimSenderReceiverGetStats=eE,ei.shimAddTrackRemoveTrackWithNative=eI,ei.shimAddTrackRemoveTrack=eC,ei.shimPeerConnection=eh,ei.fixNegotiationNeeded=eB;var ea=eg(eA("../utils.js"));function eg(eA){if(eA&&eA.__esModule)return eA;var er={};if(null!=eA)for(var ei in eA)Object.prototype.hasOwnProperty.call(eA,ei)&&(er[ei]=eA[ei]);return er.default=eA,er}function ec(eA){eA.MediaStream=eA.MediaStream||eA.webkitMediaStream}function eu(eA){if("object"!==(void 0===eA?"undefined":eo(eA))||!eA.RTCPeerConnection||"ontrack"in eA.RTCPeerConnection.prototype)ea.wrapPeerConnectionEvent(eA,"track",function(eA){return eA.transceiver||Object.defineProperty(eA,"transceiver",{value:{receiver:eA.receiver}}),eA});else{Object.defineProperty(eA.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(eA){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=eA)},enumerable:!0,configurable:!0});var er=eA.RTCPeerConnection.prototype.setRemoteDescription;eA.RTCPeerConnection.prototype.setRemoteDescription=function(){var ei=this;return this._ontrackpoly||(this._ontrackpoly=function(er){er.stream.addEventListener("addtrack",function(eo){var en=void 0;en=eA.RTCPeerConnection.prototype.getReceivers?ei.getReceivers().find(function(eA){return eA.track&&eA.track.id===eo.track.id}):{track:eo.track};var es=new Event("track");es.track=eo.track,es.receiver=en,es.transceiver={receiver:en},es.streams=[er.stream],ei.dispatchEvent(es)}),er.stream.getTracks().forEach(function(eo){var en=void 0;en=eA.RTCPeerConnection.prototype.getReceivers?ei.getReceivers().find(function(eA){return eA.track&&eA.track.id===eo.id}):{track:eo};var es=new Event("track");es.track=eo,es.receiver=en,es.transceiver={receiver:en},es.streams=[er.stream],ei.dispatchEvent(es)})},this.addEventListener("addstream",this._ontrackpoly)),er.apply(this,arguments)}}}function el(eA){if("object"===(void 0===eA?"undefined":eo(eA))&&eA.RTCPeerConnection&&!("getSenders"in eA.RTCPeerConnection.prototype)&&"createDTMFSender"in eA.RTCPeerConnection.prototype){var er=function(eA,er){return{track:er,get dtmf(){return void 0===this._dtmf&&(this._dtmf="audio"===er.kind?eA.createDTMFSender(er):null),this._dtmf},_pc:eA}};if(!eA.RTCPeerConnection.prototype.getSenders){eA.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var ei=eA.RTCPeerConnection.prototype.addTrack;eA.RTCPeerConnection.prototype.addTrack=function(eA,eo){var en=ei.apply(this,arguments);return en||(en=er(this,eA),this._senders.push(en)),en};var en=eA.RTCPeerConnection.prototype.removeTrack;eA.RTCPeerConnection.prototype.removeTrack=function(eA){en.apply(this,arguments);var er=this._senders.indexOf(eA);-1!==er&&this._senders.splice(er,1)}}var es=eA.RTCPeerConnection.prototype.addStream;eA.RTCPeerConnection.prototype.addStream=function(eA){var ei=this;this._senders=this._senders||[],es.apply(this,[eA]),eA.getTracks().forEach(function(eA){ei._senders.push(er(ei,eA))})};var ea=eA.RTCPeerConnection.prototype.removeStream;eA.RTCPeerConnection.prototype.removeStream=function(eA){var er=this;this._senders=this._senders||[],ea.apply(this,[eA]),eA.getTracks().forEach(function(eA){var ei=er._senders.find(function(er){return er.track===eA});ei&&er._senders.splice(er._senders.indexOf(ei),1)})}}else if("object"===(void 0===eA?"undefined":eo(eA))&&eA.RTCPeerConnection&&"getSenders"in eA.RTCPeerConnection.prototype&&"createDTMFSender"in eA.RTCPeerConnection.prototype&&eA.RTCRtpSender&&!("dtmf"in eA.RTCRtpSender.prototype)){var eg=eA.RTCPeerConnection.prototype.getSenders;eA.RTCPeerConnection.prototype.getSenders=function(){var eA=this,er=eg.apply(this,[]);return er.forEach(function(er){return er._pc=eA}),er},Object.defineProperty(eA.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&(this._dtmf="audio"===this.track.kind?this._pc.createDTMFSender(this.track):null),this._dtmf}})}}function ed(eA){if(eA.RTCPeerConnection){var er=eA.RTCPeerConnection.prototype.getStats;eA.RTCPeerConnection.prototype.getStats=function(eA,ei,eo){var en=this,es=arguments;if(arguments.length>0&&"function"==typeof eA)return er.apply(this,arguments);if(0===er.length&&(0==arguments.length||"function"!=typeof arguments[0]))return er.apply(this,[]);var ea=function(eA){var er={};return eA.result().forEach(function(eA){var ei={id:eA.id,timestamp:eA.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[eA.type]||eA.type};eA.names().forEach(function(er){ei[er]=eA.stat(er)}),er[ei.id]=ei}),er},eg=function(eA){return new Map(Object.keys(eA).map(function(er){return[er,eA[er]]}))};return arguments.length>=2?er.apply(this,[function(eA){es[1](eg(ea(eA)))},arguments[0]]):new Promise(function(eA,ei){er.apply(en,[function(er){eA(eg(ea(er)))},ei])}).then(ei,eo)}}}function eE(eA){if("object"===(void 0===eA?"undefined":eo(eA))&&eA.RTCPeerConnection&&eA.RTCRtpSender&&eA.RTCRtpReceiver){if(!("getStats"in eA.RTCRtpSender.prototype)){var er=eA.RTCPeerConnection.prototype.getSenders;er&&(eA.RTCPeerConnection.prototype.getSenders=function(){var eA=this,ei=er.apply(this,[]);return ei.forEach(function(er){return er._pc=eA}),ei});var ei=eA.RTCPeerConnection.prototype.addTrack;ei&&(eA.RTCPeerConnection.prototype.addTrack=function(){var eA=ei.apply(this,arguments);return eA._pc=this,eA}),eA.RTCRtpSender.prototype.getStats=function(){var eA=this;return this._pc.getStats().then(function(er){return ea.filterStats(er,eA.track,!0)})}}if(!("getStats"in eA.RTCRtpReceiver.prototype)){var en=eA.RTCPeerConnection.prototype.getReceivers;en&&(eA.RTCPeerConnection.prototype.getReceivers=function(){var eA=this,er=en.apply(this,[]);return er.forEach(function(er){return er._pc=eA}),er}),ea.wrapPeerConnectionEvent(eA,"track",function(eA){return eA.receiver._pc=eA.srcElement,eA}),eA.RTCRtpReceiver.prototype.getStats=function(){var eA=this;return this._pc.getStats().then(function(er){return ea.filterStats(er,eA.track,!1)})}}if("getStats"in eA.RTCRtpSender.prototype&&"getStats"in eA.RTCRtpReceiver.prototype){var es=eA.RTCPeerConnection.prototype.getStats;eA.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof eA.MediaStreamTrack){var er=arguments[0],ei=void 0,eo=void 0,en=void 0;return this.getSenders().forEach(function(eA){eA.track===er&&(ei?en=!0:ei=eA)}),this.getReceivers().forEach(function(eA){return eA.track===er&&(eo?en=!0:eo=eA),eA.track===er}),en||ei&&eo?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):ei?ei.getStats():eo?eo.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return es.apply(this,arguments)}}}}function eI(eA){eA.RTCPeerConnection.prototype.getLocalStreams=function(){var eA=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(function(er){return eA._shimmedLocalStreams[er][0]})};var er=eA.RTCPeerConnection.prototype.addTrack;eA.RTCPeerConnection.prototype.addTrack=function(eA,ei){if(!ei)return er.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var eo=er.apply(this,arguments);return this._shimmedLocalStreams[ei.id]?-1===this._shimmedLocalStreams[ei.id].indexOf(eo)&&this._shimmedLocalStreams[ei.id].push(eo):this._shimmedLocalStreams[ei.id]=[ei,eo],eo};var ei=eA.RTCPeerConnection.prototype.addStream;eA.RTCPeerConnection.prototype.addStream=function(eA){var er=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},eA.getTracks().forEach(function(eA){if(er.getSenders().find(function(er){return er.track===eA}))throw new DOMException("Track already exists.","InvalidAccessError")});var eo=this.getSenders();ei.apply(this,arguments);var en=this.getSenders().filter(function(eA){return -1===eo.indexOf(eA)});this._shimmedLocalStreams[eA.id]=[eA].concat(en)};var eo=eA.RTCPeerConnection.prototype.removeStream;eA.RTCPeerConnection.prototype.removeStream=function(eA){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[eA.id],eo.apply(this,arguments)};var en=eA.RTCPeerConnection.prototype.removeTrack;eA.RTCPeerConnection.prototype.removeTrack=function(eA){var er=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},eA&&Object.keys(this._shimmedLocalStreams).forEach(function(ei){var eo=er._shimmedLocalStreams[ei].indexOf(eA);-1!==eo&&er._shimmedLocalStreams[ei].splice(eo,1),1===er._shimmedLocalStreams[ei].length&&delete er._shimmedLocalStreams[ei]}),en.apply(this,arguments)}}function eC(eA){if(eA.RTCPeerConnection){var er=ea.detectBrowser(eA);if(eA.RTCPeerConnection.prototype.addTrack&&er.version>=65)return eI(eA);var ei=eA.RTCPeerConnection.prototype.getLocalStreams;eA.RTCPeerConnection.prototype.getLocalStreams=function(){var eA=this,er=ei.apply(this);return this._reverseStreams=this._reverseStreams||{},er.map(function(er){return eA._reverseStreams[er.id]})};var eo=eA.RTCPeerConnection.prototype.addStream;eA.RTCPeerConnection.prototype.addStream=function(er){var ei=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},er.getTracks().forEach(function(eA){if(ei.getSenders().find(function(er){return er.track===eA}))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[er.id]){var en=new eA.MediaStream(er.getTracks());this._streams[er.id]=en,this._reverseStreams[en.id]=er,er=en}eo.apply(this,[er])};var en=eA.RTCPeerConnection.prototype.removeStream;eA.RTCPeerConnection.prototype.removeStream=function(eA){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},en.apply(this,[this._streams[eA.id]||eA]),delete this._reverseStreams[this._streams[eA.id]?this._streams[eA.id].id:eA.id],delete this._streams[eA.id]},eA.RTCPeerConnection.prototype.addTrack=function(er,ei){var eo=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var en=[].slice.call(arguments,1);if(1!==en.length||!en[0].getTracks().find(function(eA){return eA===er}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(function(eA){return eA.track===er}))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var es=this._streams[ei.id];if(es)es.addTrack(er),Promise.resolve().then(function(){eo.dispatchEvent(new Event("negotiationneeded"))});else{var ea=new eA.MediaStream([er]);this._streams[ei.id]=ea,this._reverseStreams[ea.id]=ei,this.addStream(ea)}return this.getSenders().find(function(eA){return eA.track===er})},["createOffer","createAnswer"].forEach(function(er){var ei=eA.RTCPeerConnection.prototype[er];eA.RTCPeerConnection.prototype[er]=function(){var eA=this,er=arguments;return arguments.length&&"function"==typeof arguments[0]?ei.apply(this,[function(ei){var eo=ec(eA,ei);er[0].apply(null,[eo])},function(eA){er[1]&&er[1].apply(null,eA)},arguments[2]]):ei.apply(this,arguments).then(function(er){return ec(eA,er)})}});var es=eA.RTCPeerConnection.prototype.setLocalDescription;eA.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type&&(arguments[0]=eu(this,arguments[0])),es.apply(this,arguments)};var eg=Object.getOwnPropertyDescriptor(eA.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(eA.RTCPeerConnection.prototype,"localDescription",{get:function(){var eA=eg.get.apply(this);return""===eA.type?eA:ec(this,eA)}}),eA.RTCPeerConnection.prototype.removeTrack=function(eA){var er=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!eA._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(eA._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};var ei=void 0;Object.keys(this._streams).forEach(function(eo){er._streams[eo].getTracks().find(function(er){return eA.track===er})&&(ei=er._streams[eo])}),ei&&(1===ei.getTracks().length?this.removeStream(this._reverseStreams[ei.id]):ei.removeTrack(eA.track),this.dispatchEvent(new Event("negotiationneeded")))}}function ec(eA,er){var ei=er.sdp;return Object.keys(eA._reverseStreams||[]).forEach(function(er){var eo=eA._reverseStreams[er];ei=ei.replace(RegExp(eA._streams[eo.id].id,"g"),eo.id)}),new RTCSessionDescription({type:er.type,sdp:ei})}function eu(eA,er){var ei=er.sdp;return Object.keys(eA._reverseStreams||[]).forEach(function(er){var eo=eA._reverseStreams[er],en=eA._streams[eo.id];ei=ei.replace(RegExp(eo.id,"g"),en.id)}),new RTCSessionDescription({type:er.type,sdp:ei})}}function eh(eA){if(!eA.RTCPeerConnection&&eA.webkitRTCPeerConnection&&(eA.RTCPeerConnection=eA.webkitRTCPeerConnection),eA.RTCPeerConnection){["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(er){var ei=eA.RTCPeerConnection.prototype[er];eA.RTCPeerConnection.prototype[er]=function(){return arguments[0]=new("addIceCandidate"===er?eA.RTCIceCandidate:eA.RTCSessionDescription)(arguments[0]),ei.apply(this,arguments)}});var er=eA.RTCPeerConnection.prototype.addIceCandidate;eA.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?er.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}}function eB(eA){ea.wrapPeerConnectionEvent(eA,"negotiationneeded",function(eA){if("stable"===eA.target.signalingState)return eA})}},{"../utils.js":15,"./getdisplaymedia":4,"./getusermedia":5}],4:[function(eA,er,ei){"use strict";function eo(eA,er){eA.navigator.mediaDevices&&"getDisplayMedia"in eA.navigator.mediaDevices||eA.navigator.mediaDevices&&("function"==typeof er?eA.navigator.mediaDevices.getDisplayMedia=function(ei){return er(ei).then(function(er){var eo=ei.video&&ei.video.width,en=ei.video&&ei.video.height;return ei.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:er,maxFrameRate:ei.video&&ei.video.frameRate||3}},eo&&(ei.video.mandatory.maxWidth=eo),en&&(ei.video.mandatory.maxHeight=en),eA.navigator.mediaDevices.getUserMedia(ei)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}Object.defineProperty(ei,"__esModule",{value:!0}),ei.shimGetDisplayMedia=eo},{}],5:[function(eA,er,ei){"use strict";Object.defineProperty(ei,"__esModule",{value:!0});var eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(eA){return typeof eA}:function(eA){return eA&&"function"==typeof Symbol&&eA.constructor===Symbol&&eA!==Symbol.prototype?"symbol":typeof eA};ei.shimGetUserMedia=eg;var en=es(eA("../utils.js"));function es(eA){if(eA&&eA.__esModule)return eA;var er={};if(null!=eA)for(var ei in eA)Object.prototype.hasOwnProperty.call(eA,ei)&&(er[ei]=eA[ei]);return er.default=eA,er}var ea=en.log;function eg(eA){var er=eA&&eA.navigator;if(er.mediaDevices){var ei=en.detectBrowser(eA),es=function(eA){if("object"!==(void 0===eA?"undefined":eo(eA))||eA.mandatory||eA.optional)return eA;var er={};return Object.keys(eA).forEach(function(ei){if("require"!==ei&&"advanced"!==ei&&"mediaSource"!==ei){var en="object"===eo(eA[ei])?eA[ei]:{ideal:eA[ei]};void 0!==en.exact&&"number"==typeof en.exact&&(en.min=en.max=en.exact);var es=function(eA,er){return eA?eA+er.charAt(0).toUpperCase()+er.slice(1):"deviceId"===er?"sourceId":er};if(void 0!==en.ideal){er.optional=er.optional||[];var ea={};"number"==typeof en.ideal?(ea[es("min",ei)]=en.ideal,er.optional.push(ea),(ea={})[es("max",ei)]=en.ideal):ea[es("",ei)]=en.ideal,er.optional.push(ea)}void 0!==en.exact&&"number"!=typeof en.exact?(er.mandatory=er.mandatory||{},er.mandatory[es("",ei)]=en.exact):["min","max"].forEach(function(eA){void 0!==en[eA]&&(er.mandatory=er.mandatory||{},er.mandatory[es(eA,ei)]=en[eA])})}}),eA.advanced&&(er.optional=(er.optional||[]).concat(eA.advanced)),er},eg=function(eA,en){if(ei.version>=61)return en(eA);if((eA=JSON.parse(JSON.stringify(eA)))&&"object"===eo(eA.audio)){var eg=function(eA,er,ei){er in eA&&!(ei in eA)&&(eA[ei]=eA[er],delete eA[er])};eg((eA=JSON.parse(JSON.stringify(eA))).audio,"autoGainControl","googAutoGainControl"),eg(eA.audio,"noiseSuppression","googNoiseSuppression"),eA.audio=es(eA.audio)}if(eA&&"object"===eo(eA.video)){var ec=eA.video.facingMode;ec=ec&&("object"===(void 0===ec?"undefined":eo(ec))?ec:{ideal:ec});var eu=ei.version<66;if(ec&&("user"===ec.exact||"environment"===ec.exact||"user"===ec.ideal||"environment"===ec.ideal)&&(!er.mediaDevices.getSupportedConstraints||!er.mediaDevices.getSupportedConstraints().facingMode||eu)){delete eA.video.facingMode;var el=void 0;if("environment"===ec.exact||"environment"===ec.ideal?el=["back","rear"]:"user"!==ec.exact&&"user"!==ec.ideal||(el=["front"]),el)return er.mediaDevices.enumerateDevices().then(function(er){var ei=(er=er.filter(function(eA){return"videoinput"===eA.kind})).find(function(eA){return el.some(function(er){return eA.label.toLowerCase().includes(er)})});return!ei&&er.length&&el.includes("back")&&(ei=er[er.length-1]),ei&&(eA.video.deviceId=ec.exact?{exact:ei.deviceId}:{ideal:ei.deviceId}),eA.video=es(eA.video),ea("chrome: "+JSON.stringify(eA)),en(eA)})}eA.video=es(eA.video)}return ea("chrome: "+JSON.stringify(eA)),en(eA)},ec=function(eA){return ei.version>=64?eA:{name:({PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"})[eA.name]||eA.name,message:eA.message,constraint:eA.constraint||eA.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},eu=function(eA,ei,eo){eg(eA,function(eA){er.webkitGetUserMedia(eA,ei,function(eA){eo&&eo(ec(eA))})})};if(er.getUserMedia=eu.bind(er),er.mediaDevices.getUserMedia){var el=er.mediaDevices.getUserMedia.bind(er.mediaDevices);er.mediaDevices.getUserMedia=function(eA){return eg(eA,function(eA){return el(eA).then(function(er){if(eA.audio&&!er.getAudioTracks().length||eA.video&&!er.getVideoTracks().length)throw er.getTracks().forEach(function(eA){eA.stop()}),new DOMException("","NotFoundError");return er},function(eA){return Promise.reject(ec(eA))})})}}}}},{"../utils.js":15}],6:[function(eA,er,ei){"use strict";Object.defineProperty(ei,"__esModule",{value:!0});var eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(eA){return typeof eA}:function(eA){return eA&&"function"==typeof Symbol&&eA.constructor===Symbol&&eA!==Symbol.prototype?"symbol":typeof eA};ei.shimRTCIceCandidate=ec,ei.shimMaxMessageSize=eu,ei.shimSendThrowTypeError=el,ei.shimConnectionState=ed,ei.removeAllowExtmapMixed=eE;var en=eg(eA("sdp")),es=ea(eA("./utils"));function ea(eA){if(eA&&eA.__esModule)return eA;var er={};if(null!=eA)for(var ei in eA)Object.prototype.hasOwnProperty.call(eA,ei)&&(er[ei]=eA[ei]);return er.default=eA,er}function eg(eA){return eA&&eA.__esModule?eA:{default:eA}}function ec(eA){if(!(!eA.RTCIceCandidate||eA.RTCIceCandidate&&"foundation"in eA.RTCIceCandidate.prototype)){var er=eA.RTCIceCandidate;eA.RTCIceCandidate=function(eA){if("object"===(void 0===eA?"undefined":eo(eA))&&eA.candidate&&0===eA.candidate.indexOf("a=")&&((eA=JSON.parse(JSON.stringify(eA))).candidate=eA.candidate.substr(2)),eA.candidate&&eA.candidate.length){var ei=Object.assign(new er(eA),en.default.parseCandidate(eA.candidate));return ei.toJSON=function(){return{candidate:ei.candidate,sdpMid:ei.sdpMid,sdpMLineIndex:ei.sdpMLineIndex,usernameFragment:ei.usernameFragment}},ei}return new er(eA)},eA.RTCIceCandidate.prototype=er.prototype,es.wrapPeerConnectionEvent(eA,"icecandidate",function(er){return er.candidate&&Object.defineProperty(er,"candidate",{value:new eA.RTCIceCandidate(er.candidate),writable:"false"}),er})}}function eu(eA){if(!eA.RTCSctpTransport&&eA.RTCPeerConnection){var er=es.detectBrowser(eA);"sctp"in eA.RTCPeerConnection.prototype||Object.defineProperty(eA.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var ei=function(eA){if(!eA||!eA.sdp)return!1;var er=en.default.splitSections(eA.sdp);return er.shift(),er.some(function(eA){var er=en.default.parseMLine(eA);return er&&"application"===er.kind&&-1!==er.protocol.indexOf("SCTP")})},eo=function(eA){var er=eA.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===er||er.length<2)return -1;var ei=parseInt(er[1],10);return ei!=ei?-1:ei},ea=function(eA){var ei=65536;return"firefox"===er.browser&&(ei=er.version<57?-1===eA?16384:2147483637:er.version<60?57===er.version?65535:65536:2147483637),ei},eg=function(eA,ei){var eo=65536;"firefox"===er.browser&&57===er.version&&(eo=65535);var es=en.default.matchPrefix(eA.sdp,"a=max-message-size:");return es.length>0?eo=parseInt(es[0].substr(19),10):"firefox"===er.browser&&-1!==ei&&(eo=2147483637),eo},ec=eA.RTCPeerConnection.prototype.setRemoteDescription;eA.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,ei(arguments[0])){var eA=eo(arguments[0]),er=ea(eA),en=eg(arguments[0],eA),es=void 0;es=0===er&&0===en?Number.POSITIVE_INFINITY:0===er||0===en?Math.max(er,en):Math.min(er,en);var eu={};Object.defineProperty(eu,"maxMessageSize",{get:function(){return es}}),this._sctp=eu}return ec.apply(this,arguments)}}}function el(eA){if(eA.RTCPeerConnection&&"createDataChannel"in eA.RTCPeerConnection.prototype){var er=eA.RTCPeerConnection.prototype.createDataChannel;eA.RTCPeerConnection.prototype.createDataChannel=function(){var eA=er.apply(this,arguments);return ei(eA,this),eA},es.wrapPeerConnectionEvent(eA,"datachannel",function(eA){return ei(eA.channel,eA.target),eA})}function ei(eA,er){var ei=eA.send;eA.send=function(){var eo=arguments[0];if("open"===eA.readyState&&er.sctp&&(eo.length||eo.size||eo.byteLength)>er.sctp.maxMessageSize)throw TypeError("Message too large (can send a maximum of "+er.sctp.maxMessageSize+" bytes)");return ei.apply(eA,arguments)}}}function ed(eA){if(eA.RTCPeerConnection&&!("connectionState"in eA.RTCPeerConnection.prototype)){var er=eA.RTCPeerConnection.prototype;Object.defineProperty(er,"connectionState",{get:function(){return({completed:"connected",checking:"connecting"})[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(er,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(eA){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),eA&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=eA)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(function(eA){var ei=er[eA];er[eA]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(eA){var er=eA.target;if(er._lastConnectionState!==er.connectionState){er._lastConnectionState=er.connectionState;var ei=new Event("connectionstatechange",eA);er.dispatchEvent(ei)}return eA},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),ei.apply(this,arguments)}})}}function eE(eA){if(eA.RTCPeerConnection){var er=es.detectBrowser(eA);if(!("chrome"===er.browser&&er.version>=71)){var ei=eA.RTCPeerConnection.prototype.setRemoteDescription;eA.RTCPeerConnection.prototype.setRemoteDescription=function(eA){return eA&&eA.sdp&&-1!==eA.sdp.indexOf("\na=extmap-allow-mixed")&&(eA.sdp=eA.sdp.split("\n").filter(function(eA){return"a=extmap-allow-mixed"!==eA.trim()}).join("\n")),ei.apply(this,arguments)}}}}},{"./utils":15,sdp:17}],7:[function(eA,er,ei){"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.shimGetDisplayMedia=ei.shimGetUserMedia=void 0;var eo=eA("./getusermedia");Object.defineProperty(ei,"shimGetUserMedia",{enumerable:!0,get:function(){return eo.shimGetUserMedia}});var en=eA("./getdisplaymedia");Object.defineProperty(ei,"shimGetDisplayMedia",{enumerable:!0,get:function(){return en.shimGetDisplayMedia}}),ei.shimPeerConnection=el,ei.shimReplaceTrack=ed;var es=eu(eA("../utils")),ea=eA("./filtericeservers"),eg=ec(eA("rtcpeerconnection-shim"));function ec(eA){return eA&&eA.__esModule?eA:{default:eA}}function eu(eA){if(eA&&eA.__esModule)return eA;var er={};if(null!=eA)for(var ei in eA)Object.prototype.hasOwnProperty.call(eA,ei)&&(er[ei]=eA[ei]);return er.default=eA,er}function el(eA){var er=es.detectBrowser(eA);if(eA.RTCIceGatherer&&(eA.RTCIceCandidate||(eA.RTCIceCandidate=function(eA){return eA}),eA.RTCSessionDescription||(eA.RTCSessionDescription=function(eA){return eA}),er.version<15025)){var ei=Object.getOwnPropertyDescriptor(eA.MediaStreamTrack.prototype,"enabled");Object.defineProperty(eA.MediaStreamTrack.prototype,"enabled",{set:function(eA){ei.set.call(this,eA);var er=new Event("enabled");er.enabled=eA,this.dispatchEvent(er)}})}!eA.RTCRtpSender||"dtmf"in eA.RTCRtpSender.prototype||Object.defineProperty(eA.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new eA.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),eA.RTCDtmfSender&&!eA.RTCDTMFSender&&(eA.RTCDTMFSender=eA.RTCDtmfSender);var eo=(0,eg.default)(eA,er.version);eA.RTCPeerConnection=function(eA){return eA&&eA.iceServers&&(eA.iceServers=(0,ea.filterIceServers)(eA.iceServers,er.version),es.log("ICE servers after filtering:",eA.iceServers)),new eo(eA)},eA.RTCPeerConnection.prototype=eo.prototype}function ed(eA){!eA.RTCRtpSender||"replaceTrack"in eA.RTCRtpSender.prototype||(eA.RTCRtpSender.prototype.replaceTrack=eA.RTCRtpSender.prototype.setTrack)}},{"../utils":15,"./filtericeservers":8,"./getdisplaymedia":9,"./getusermedia":10,"rtcpeerconnection-shim":16}],8:[function(eA,er,ei){"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.filterIceServers=es;var eo=en(eA("../utils"));function en(eA){if(eA&&eA.__esModule)return eA;var er={};if(null!=eA)for(var ei in eA)Object.prototype.hasOwnProperty.call(eA,ei)&&(er[ei]=eA[ei]);return er.default=eA,er}function es(eA,er){var ei=!1;return(eA=JSON.parse(JSON.stringify(eA))).filter(function(eA){if(eA&&(eA.urls||eA.url)){var er=eA.urls||eA.url;eA.url&&!eA.urls&&eo.deprecated("RTCIceServer.url","RTCIceServer.urls");var en="string"==typeof er;return en&&(er=[er]),er=er.filter(function(eA){if(0===eA.indexOf("stun:"))return!1;var er=eA.startsWith("turn")&&!eA.startsWith("turn:[")&&eA.includes("transport=udp");return er&&!ei?(ei=!0,!0):er&&!ei}),delete eA.url,eA.urls=en?er[0]:er,!!er.length}})}},{"../utils":15}],9:[function(eA,er,ei){"use strict";function eo(eA){"getDisplayMedia"in eA.navigator&&eA.navigator.mediaDevices&&(eA.navigator.mediaDevices&&"getDisplayMedia"in eA.navigator.mediaDevices||(eA.navigator.mediaDevices.getDisplayMedia=eA.navigator.getDisplayMedia.bind(eA.navigator)))}Object.defineProperty(ei,"__esModule",{value:!0}),ei.shimGetDisplayMedia=eo},{}],10:[function(eA,er,ei){"use strict";function eo(eA){var er=eA&&eA.navigator,ei=function(eA){return{name:({PermissionDeniedError:"NotAllowedError"})[eA.name]||eA.name,message:eA.message,constraint:eA.constraint,toString:function(){return this.name}}},eo=er.mediaDevices.getUserMedia.bind(er.mediaDevices);er.mediaDevices.getUserMedia=function(eA){return eo(eA).catch(function(eA){return Promise.reject(ei(eA))})}}Object.defineProperty(ei,"__esModule",{value:!0}),ei.shimGetUserMedia=eo},{}],11:[function(eA,er,ei){"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.shimGetDisplayMedia=ei.shimGetUserMedia=void 0;var eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(eA){return typeof eA}:function(eA){return eA&&"function"==typeof Symbol&&eA.constructor===Symbol&&eA!==Symbol.prototype?"symbol":typeof eA},en=eA("./getusermedia");Object.defineProperty(ei,"shimGetUserMedia",{enumerable:!0,get:function(){return en.shimGetUserMedia}});var es=eA("./getdisplaymedia");Object.defineProperty(ei,"shimGetDisplayMedia",{enumerable:!0,get:function(){return es.shimGetDisplayMedia}}),ei.shimOnTrack=ec,ei.shimPeerConnection=eu,ei.shimSenderGetStats=el,ei.shimReceiverGetStats=ed,ei.shimRemoveStream=eE,ei.shimRTCDataChannel=eI;var ea=eg(eA("../utils"));function eg(eA){if(eA&&eA.__esModule)return eA;var er={};if(null!=eA)for(var ei in eA)Object.prototype.hasOwnProperty.call(eA,ei)&&(er[ei]=eA[ei]);return er.default=eA,er}function ec(eA){"object"===(void 0===eA?"undefined":eo(eA))&&eA.RTCTrackEvent&&"receiver"in eA.RTCTrackEvent.prototype&&!("transceiver"in eA.RTCTrackEvent.prototype)&&Object.defineProperty(eA.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function eu(eA){var er=ea.detectBrowser(eA);if("object"===(void 0===eA?"undefined":eo(eA))&&(eA.RTCPeerConnection||eA.mozRTCPeerConnection)){!eA.RTCPeerConnection&&eA.mozRTCPeerConnection&&(eA.RTCPeerConnection=eA.mozRTCPeerConnection),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(er){var ei=eA.RTCPeerConnection.prototype[er];eA.RTCPeerConnection.prototype[er]=function(){return arguments[0]=new("addIceCandidate"===er?eA.RTCIceCandidate:eA.RTCSessionDescription)(arguments[0]),ei.apply(this,arguments)}});var ei=eA.RTCPeerConnection.prototype.addIceCandidate;eA.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?ei.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var en={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},es=eA.RTCPeerConnection.prototype.getStats;eA.RTCPeerConnection.prototype.getStats=function(eA,ei,eo){return es.apply(this,[eA||null]).then(function(eA){if(er.version<53&&!ei)try{eA.forEach(function(eA){eA.type=en[eA.type]||eA.type})}catch(er){if("TypeError"!==er.name)throw er;eA.forEach(function(er,ei){eA.set(ei,Object.assign({},er,{type:en[er.type]||er.type}))})}return eA}).then(ei,eo)}}}function el(eA){if("object"===(void 0===eA?"undefined":eo(eA))&&eA.RTCPeerConnection&&eA.RTCRtpSender&&(!eA.RTCRtpSender||!("getStats"in eA.RTCRtpSender.prototype))){var er=eA.RTCPeerConnection.prototype.getSenders;er&&(eA.RTCPeerConnection.prototype.getSenders=function(){var eA=this,ei=er.apply(this,[]);return ei.forEach(function(er){return er._pc=eA}),ei});var ei=eA.RTCPeerConnection.prototype.addTrack;ei&&(eA.RTCPeerConnection.prototype.addTrack=function(){var eA=ei.apply(this,arguments);return eA._pc=this,eA}),eA.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}}function ed(eA){if("object"===(void 0===eA?"undefined":eo(eA))&&eA.RTCPeerConnection&&eA.RTCRtpSender&&(!eA.RTCRtpSender||!("getStats"in eA.RTCRtpReceiver.prototype))){var er=eA.RTCPeerConnection.prototype.getReceivers;er&&(eA.RTCPeerConnection.prototype.getReceivers=function(){var eA=this,ei=er.apply(this,[]);return ei.forEach(function(er){return er._pc=eA}),ei}),ea.wrapPeerConnectionEvent(eA,"track",function(eA){return eA.receiver._pc=eA.srcElement,eA}),eA.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}}function eE(eA){!eA.RTCPeerConnection||"removeStream"in eA.RTCPeerConnection.prototype||(eA.RTCPeerConnection.prototype.removeStream=function(eA){var er=this;ea.deprecated("removeStream","removeTrack"),this.getSenders().forEach(function(ei){ei.track&&eA.getTracks().includes(ei.track)&&er.removeTrack(ei)})})}function eI(eA){eA.DataChannel&&!eA.RTCDataChannel&&(eA.RTCDataChannel=eA.DataChannel)}},{"../utils":15,"./getdisplaymedia":12,"./getusermedia":13}],12:[function(eA,er,ei){"use strict";function eo(eA,er){eA.navigator.mediaDevices&&"getDisplayMedia"in eA.navigator.mediaDevices||eA.navigator.mediaDevices&&(eA.navigator.mediaDevices.getDisplayMedia=function(ei){if(!ei||!ei.video){var eo=new DOMException("getDisplayMedia without video constraints is undefined");return eo.name="NotFoundError",eo.code=8,Promise.reject(eo)}return!0===ei.video?ei.video={mediaSource:er}:ei.video.mediaSource=er,eA.navigator.mediaDevices.getUserMedia(ei)})}Object.defineProperty(ei,"__esModule",{value:!0}),ei.shimGetDisplayMedia=eo},{}],13:[function(eA,er,ei){"use strict";Object.defineProperty(ei,"__esModule",{value:!0});var eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(eA){return typeof eA}:function(eA){return eA&&"function"==typeof Symbol&&eA.constructor===Symbol&&eA!==Symbol.prototype?"symbol":typeof eA};ei.shimGetUserMedia=ea;var en=es(eA("../utils"));function es(eA){if(eA&&eA.__esModule)return eA;var er={};if(null!=eA)for(var ei in eA)Object.prototype.hasOwnProperty.call(eA,ei)&&(er[ei]=eA[ei]);return er.default=eA,er}function ea(eA){var er=en.detectBrowser(eA),ei=eA&&eA.navigator,es=eA&&eA.MediaStreamTrack;if(ei.getUserMedia=function(eA,er,eo){en.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),ei.mediaDevices.getUserMedia(eA).then(er,eo)},!(er.version>55&&"autoGainControl"in ei.mediaDevices.getSupportedConstraints())){var ea=function(eA,er,ei){er in eA&&!(ei in eA)&&(eA[ei]=eA[er],delete eA[er])},eg=ei.mediaDevices.getUserMedia.bind(ei.mediaDevices);if(ei.mediaDevices.getUserMedia=function(eA){return"object"===(void 0===eA?"undefined":eo(eA))&&"object"===eo(eA.audio)&&(ea((eA=JSON.parse(JSON.stringify(eA))).audio,"autoGainControl","mozAutoGainControl"),ea(eA.audio,"noiseSuppression","mozNoiseSuppression")),eg(eA)},es&&es.prototype.getSettings){var ec=es.prototype.getSettings;es.prototype.getSettings=function(){var eA=ec.apply(this,arguments);return ea(eA,"mozAutoGainControl","autoGainControl"),ea(eA,"mozNoiseSuppression","noiseSuppression"),eA}}if(es&&es.prototype.applyConstraints){var eu=es.prototype.applyConstraints;es.prototype.applyConstraints=function(eA){return"audio"===this.kind&&"object"===(void 0===eA?"undefined":eo(eA))&&(ea(eA=JSON.parse(JSON.stringify(eA)),"autoGainControl","mozAutoGainControl"),ea(eA,"noiseSuppression","mozNoiseSuppression")),eu.apply(this,[eA])}}}}},{"../utils":15}],14:[function(eA,er,ei){"use strict";Object.defineProperty(ei,"__esModule",{value:!0});var eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(eA){return typeof eA}:function(eA){return eA&&"function"==typeof Symbol&&eA.constructor===Symbol&&eA!==Symbol.prototype?"symbol":typeof eA};ei.shimLocalStreamsAPI=ea,ei.shimRemoteStreamsAPI=eg,ei.shimCallbacksAPI=ec,ei.shimGetUserMedia=eu,ei.shimConstraints=el,ei.shimRTCIceServerUrls=ed,ei.shimTrackEventTransceiver=eE,ei.shimCreateOfferLegacy=eI;var en=es(eA("../utils"));function es(eA){if(eA&&eA.__esModule)return eA;var er={};if(null!=eA)for(var ei in eA)Object.prototype.hasOwnProperty.call(eA,ei)&&(er[ei]=eA[ei]);return er.default=eA,er}function ea(eA){if("object"===(void 0===eA?"undefined":eo(eA))&&eA.RTCPeerConnection){if("getLocalStreams"in eA.RTCPeerConnection.prototype||(eA.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in eA.RTCPeerConnection.prototype)){var er=eA.RTCPeerConnection.prototype.addTrack;eA.RTCPeerConnection.prototype.addStream=function(eA){var ei=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(eA)||this._localStreams.push(eA),eA.getTracks().forEach(function(eo){return er.call(ei,eo,eA)})},eA.RTCPeerConnection.prototype.addTrack=function(eA,ei){return ei&&(this._localStreams?this._localStreams.includes(ei)||this._localStreams.push(ei):this._localStreams=[ei]),er.call(this,eA,ei)}}"removeStream"in eA.RTCPeerConnection.prototype||(eA.RTCPeerConnection.prototype.removeStream=function(eA){var er=this;this._localStreams||(this._localStreams=[]);var ei=this._localStreams.indexOf(eA);if(-1!==ei){this._localStreams.splice(ei,1);var eo=eA.getTracks();this.getSenders().forEach(function(eA){eo.includes(eA.track)&&er.removeTrack(eA)})}})}}function eg(eA){if("object"===(void 0===eA?"undefined":eo(eA))&&eA.RTCPeerConnection&&("getRemoteStreams"in eA.RTCPeerConnection.prototype||(eA.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in eA.RTCPeerConnection.prototype))){Object.defineProperty(eA.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(eA){var er=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=eA),this.addEventListener("track",this._onaddstreampoly=function(eA){eA.streams.forEach(function(eA){if(er._remoteStreams||(er._remoteStreams=[]),!er._remoteStreams.includes(eA)){er._remoteStreams.push(eA);var ei=new Event("addstream");ei.stream=eA,er.dispatchEvent(ei)}})})}});var er=eA.RTCPeerConnection.prototype.setRemoteDescription;eA.RTCPeerConnection.prototype.setRemoteDescription=function(){var eA=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(er){er.streams.forEach(function(er){if(eA._remoteStreams||(eA._remoteStreams=[]),!(eA._remoteStreams.indexOf(er)>=0)){eA._remoteStreams.push(er);var ei=new Event("addstream");ei.stream=er,eA.dispatchEvent(ei)}})}),er.apply(eA,arguments)}}}function ec(eA){if("object"===(void 0===eA?"undefined":eo(eA))&&eA.RTCPeerConnection){var er=eA.RTCPeerConnection.prototype,ei=er.createOffer,en=er.createAnswer,es=er.setLocalDescription,ea=er.setRemoteDescription,eg=er.addIceCandidate;er.createOffer=function(eA,er){var eo=ei.apply(this,[arguments.length>=2?arguments[2]:arguments[0]]);return er?(eo.then(eA,er),Promise.resolve()):eo},er.createAnswer=function(eA,er){var ei=en.apply(this,[arguments.length>=2?arguments[2]:arguments[0]]);return er?(ei.then(eA,er),Promise.resolve()):ei};var ec=function(eA,er,ei){var eo=es.apply(this,[eA]);return ei?(eo.then(er,ei),Promise.resolve()):eo};er.setLocalDescription=ec,er.setRemoteDescription=ec=function(eA,er,ei){var eo=ea.apply(this,[eA]);return ei?(eo.then(er,ei),Promise.resolve()):eo},er.addIceCandidate=ec=function(eA,er,ei){var eo=eg.apply(this,[eA]);return ei?(eo.then(er,ei),Promise.resolve()):eo}}}function eu(eA){var er=eA&&eA.navigator;if(er.mediaDevices&&er.mediaDevices.getUserMedia){var ei=er.mediaDevices,eo=ei.getUserMedia.bind(ei);er.mediaDevices.getUserMedia=function(eA){return eo(el(eA))}}!er.getUserMedia&&er.mediaDevices&&er.mediaDevices.getUserMedia&&(er.getUserMedia=(function(eA,ei,eo){er.mediaDevices.getUserMedia(eA).then(ei,eo)}).bind(er))}function el(eA){return eA&&void 0!==eA.video?Object.assign({},eA,{video:en.compactObject(eA.video)}):eA}function ed(eA){var er=eA.RTCPeerConnection;eA.RTCPeerConnection=function(eA,ei){if(eA&&eA.iceServers){for(var eo=[],es=0;es<eA.iceServers.length;es++){var ea=eA.iceServers[es];!ea.hasOwnProperty("urls")&&ea.hasOwnProperty("url")?(en.deprecated("RTCIceServer.url","RTCIceServer.urls"),(ea=JSON.parse(JSON.stringify(ea))).urls=ea.url,delete ea.url,eo.push(ea)):eo.push(eA.iceServers[es])}eA.iceServers=eo}return new er(eA,ei)},eA.RTCPeerConnection.prototype=er.prototype,"generateCertificate"in eA.RTCPeerConnection&&Object.defineProperty(eA.RTCPeerConnection,"generateCertificate",{get:function(){return er.generateCertificate}})}function eE(eA){"object"===(void 0===eA?"undefined":eo(eA))&&eA.RTCPeerConnection&&"receiver"in eA.RTCTrackEvent.prototype&&!eA.RTCTransceiver&&Object.defineProperty(eA.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function eI(eA){var er=eA.RTCPeerConnection.prototype.createOffer;eA.RTCPeerConnection.prototype.createOffer=function(eA){if(eA){void 0!==eA.offerToReceiveAudio&&(eA.offerToReceiveAudio=!!eA.offerToReceiveAudio);var ei=this.getTransceivers().find(function(eA){return"audio"===eA.receiver.track.kind});!1===eA.offerToReceiveAudio&&ei?"sendrecv"===ei.direction?ei.setDirection?ei.setDirection("sendonly"):ei.direction="sendonly":"recvonly"===ei.direction&&(ei.setDirection?ei.setDirection("inactive"):ei.direction="inactive"):!0!==eA.offerToReceiveAudio||ei||this.addTransceiver("audio"),void 0!==eA.offerToReceiveVideo&&(eA.offerToReceiveVideo=!!eA.offerToReceiveVideo);var eo=this.getTransceivers().find(function(eA){return"video"===eA.receiver.track.kind});!1===eA.offerToReceiveVideo&&eo?"sendrecv"===eo.direction?eo.setDirection?eo.setDirection("sendonly"):eo.direction="sendonly":"recvonly"===eo.direction&&(eo.setDirection?eo.setDirection("inactive"):eo.direction="inactive"):!0!==eA.offerToReceiveVideo||eo||this.addTransceiver("video")}return er.apply(this,arguments)}}},{"../utils":15}],15:[function(eA,er,ei){"use strict";Object.defineProperty(ei,"__esModule",{value:!0});var eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(eA){return typeof eA}:function(eA){return eA&&"function"==typeof Symbol&&eA.constructor===Symbol&&eA!==Symbol.prototype?"symbol":typeof eA};function en(eA,er,ei){return er in eA?Object.defineProperty(eA,er,{value:ei,enumerable:!0,configurable:!0,writable:!0}):eA[er]=ei,eA}ei.extractVersion=eg,ei.wrapPeerConnectionEvent=ec,ei.disableLog=eu,ei.disableWarnings=el,ei.log=ed,ei.deprecated=eE,ei.detectBrowser=eI,ei.compactObject=eC,ei.walkStats=eh,ei.filterStats=eB;var es=!0,ea=!0;function eg(eA,er,ei){var eo=eA.match(er);return eo&&eo.length>=ei&&parseInt(eo[ei],10)}function ec(eA,er,ei){if(eA.RTCPeerConnection){var eo=eA.RTCPeerConnection.prototype,en=eo.addEventListener;eo.addEventListener=function(eA,eo){if(eA!==er)return en.apply(this,arguments);var es=function(eA){var er=ei(eA);er&&eo(er)};return this._eventMap=this._eventMap||{},this._eventMap[eo]=es,en.apply(this,[eA,es])};var es=eo.removeEventListener;eo.removeEventListener=function(eA,ei){if(eA!==er||!this._eventMap||!this._eventMap[ei])return es.apply(this,arguments);var eo=this._eventMap[ei];return delete this._eventMap[ei],es.apply(this,[eA,eo])},Object.defineProperty(eo,"on"+er,{get:function(){return this["_on"+er]},set:function(eA){this["_on"+er]&&(this.removeEventListener(er,this["_on"+er]),delete this["_on"+er]),eA&&this.addEventListener(er,this["_on"+er]=eA)},enumerable:!0,configurable:!0})}}function eu(eA){return"boolean"!=typeof eA?Error("Argument type: "+(void 0===eA?"undefined":eo(eA))+". Please use a boolean."):(es=eA,eA?"adapter.js logging disabled":"adapter.js logging enabled")}function el(eA){return"boolean"!=typeof eA?Error("Argument type: "+(void 0===eA?"undefined":eo(eA))+". Please use a boolean."):(ea=!eA,"adapter.js deprecation warnings "+(eA?"disabled":"enabled"))}function ed(){"object"!==("undefined"==typeof window?"undefined":eo(window))||es||"undefined"==typeof console||"function"!=typeof console.log||console.log.apply(console,arguments)}function eE(eA,er){ea&&console.warn(eA+" is deprecated, please use "+er+" instead.")}function eI(eA){var er=eA.navigator,ei={browser:null,version:null};if(void 0===eA||!eA.navigator)return ei.browser="Not a browser.",ei;if(er.mozGetUserMedia)ei.browser="firefox",ei.version=eg(er.userAgent,/Firefox\/(\d+)\./,1);else if(er.webkitGetUserMedia||!1===eA.isSecureContext&&eA.webkitRTCPeerConnection&&!eA.RTCIceGatherer)ei.browser="chrome",ei.version=eg(er.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(er.mediaDevices&&er.userAgent.match(/Edge\/(\d+).(\d+)$/))ei.browser="edge",ei.version=eg(er.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!eA.RTCPeerConnection||!er.userAgent.match(/AppleWebKit\/(\d+)\./))return ei.browser="Not a supported browser.",ei;ei.browser="safari",ei.version=eg(er.userAgent,/AppleWebKit\/(\d+)\./,1)}return ei}function eC(eA){return"object"!==(void 0===eA?"undefined":eo(eA))?eA:Object.keys(eA).reduce(function(er,ei){var es="object"===eo(eA[ei]),ea=es?eC(eA[ei]):eA[ei],eg=es&&!Object.keys(ea).length;return void 0===ea||eg?er:Object.assign(er,en({},ei,ea))},{})}function eh(eA,er,ei){er&&!ei.has(er.id)&&(ei.set(er.id,er),Object.keys(er).forEach(function(eo){eo.endsWith("Id")?eh(eA,eA.get(er[eo]),ei):eo.endsWith("Ids")&&er[eo].forEach(function(er){eh(eA,eA.get(er),ei)})}))}function eB(eA,er,ei){var eo=ei?"outbound-rtp":"inbound-rtp",en=new Map;if(null===er)return en;var es=[];return eA.forEach(function(eA){"track"===eA.type&&eA.trackIdentifier===er.id&&es.push(eA)}),es.forEach(function(er){eA.forEach(function(ei){ei.type===eo&&ei.trackId===er.id&&eh(eA,ei,en)})}),en}},{}],16:[function(eA,er,ei){"use strict";var eo=eA("sdp");function en(eA){return({inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"})[eA.type]||eA.type}function es(eA,er,ei,en,es){var ea=eo.writeRtpDescription(eA.kind,er);if(ea+=eo.writeIceParameters(eA.iceGatherer.getLocalParameters())+eo.writeDtlsParameters(eA.dtlsTransport.getLocalParameters(),"offer"===ei?"actpass":es||"active")+"a=mid:"+eA.mid+"\r\n"+(eA.rtpSender&&eA.rtpReceiver?"a=sendrecv\r\n":eA.rtpSender?"a=sendonly\r\n":eA.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n"),eA.rtpSender){var eg=eA.rtpSender._initialTrackId||eA.rtpSender.track.id;eA.rtpSender._initialTrackId=eg;var ec="msid:"+(en?en.id:"-")+" "+eg+"\r\n";ea+="a="+ec+("a=ssrc:"+eA.sendEncodingParameters[0].ssrc)+" "+ec,eA.sendEncodingParameters[0].rtx&&(ea+="a=ssrc:"+eA.sendEncodingParameters[0].rtx.ssrc+" "+ec+("a=ssrc-group:FID "+eA.sendEncodingParameters[0].ssrc+" ")+eA.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return ea+="a=ssrc:"+eA.sendEncodingParameters[0].ssrc+" cname:"+eo.localCName+"\r\n",eA.rtpSender&&eA.sendEncodingParameters[0].rtx&&(ea+="a=ssrc:"+eA.sendEncodingParameters[0].rtx.ssrc+" cname:"+eo.localCName+"\r\n"),ea}function ea(eA,er){var ei=!1;return(eA=JSON.parse(JSON.stringify(eA))).filter(function(eA){if(eA&&(eA.urls||eA.url)){var eo=eA.urls||eA.url;eA.url&&!eA.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var en="string"==typeof eo;return en&&(eo=[eo]),eo=eo.filter(function(eA){return 0!==eA.indexOf("turn:")||-1===eA.indexOf("transport=udp")||-1!==eA.indexOf("turn:[")||ei?0===eA.indexOf("stun:")&&er>=14393&&-1===eA.indexOf("?transport=udp"):(ei=!0,!0)}),delete eA.url,eA.urls=en?eo[0]:eo,!!eo.length}})}function eg(eA,er){var ei={codecs:[],headerExtensions:[],fecMechanisms:[]},eo=function(eA,er){eA=parseInt(eA,10);for(var ei=0;ei<er.length;ei++)if(er[ei].payloadType===eA||er[ei].preferredPayloadType===eA)return er[ei]},en=function(eA,er,ei,en){var es=eo(eA.parameters.apt,ei),ea=eo(er.parameters.apt,en);return es&&ea&&es.name.toLowerCase()===ea.name.toLowerCase()};return eA.codecs.forEach(function(eo){for(var es=0;es<er.codecs.length;es++){var ea=er.codecs[es];if(eo.name.toLowerCase()===ea.name.toLowerCase()&&eo.clockRate===ea.clockRate){if("rtx"===eo.name.toLowerCase()&&eo.parameters&&ea.parameters.apt&&!en(eo,ea,eA.codecs,er.codecs))continue;(ea=JSON.parse(JSON.stringify(ea))).numChannels=Math.min(eo.numChannels,ea.numChannels),ei.codecs.push(ea),ea.rtcpFeedback=ea.rtcpFeedback.filter(function(eA){for(var er=0;er<eo.rtcpFeedback.length;er++)if(eo.rtcpFeedback[er].type===eA.type&&eo.rtcpFeedback[er].parameter===eA.parameter)return!0;return!1});break}}}),eA.headerExtensions.forEach(function(eA){for(var eo=0;eo<er.headerExtensions.length;eo++){var en=er.headerExtensions[eo];if(eA.uri===en.uri){ei.headerExtensions.push(en);break}}}),ei}function ec(eA,er,ei){return -1!==({offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}})[er][eA].indexOf(ei)}function eu(eA,er){var ei=eA.getRemoteCandidates().find(function(eA){return er.foundation===eA.foundation&&er.ip===eA.ip&&er.port===eA.port&&er.priority===eA.priority&&er.protocol===eA.protocol&&er.type===eA.type});return ei||eA.addRemoteCandidate(er),!ei}function el(eA,er){var ei=Error(er);return ei.name=eA,ei.code=({NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0})[eA],ei}er.exports=function(eA,er){function ei(er,ei){ei.addTrack(er),ei.dispatchEvent(new eA.MediaStreamTrackEvent("addtrack",{track:er}))}function ed(er,ei){ei.removeTrack(er),ei.dispatchEvent(new eA.MediaStreamTrackEvent("removetrack",{track:er}))}function eE(er,ei,eo,en){var es=new Event("track");es.track=ei,es.receiver=eo,es.transceiver={receiver:eo},es.streams=en,eA.setTimeout(function(){er._dispatchEvent("track",es)})}var eI=function(ei){var en=this,es=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(eA){en[eA]=es[eA].bind(es)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",ei=JSON.parse(JSON.stringify(ei||{})),this.usingBundle="max-bundle"===ei.bundlePolicy,"negotiate"===ei.rtcpMuxPolicy)throw el("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(ei.rtcpMuxPolicy||(ei.rtcpMuxPolicy="require"),ei.iceTransportPolicy){case"all":case"relay":break;default:ei.iceTransportPolicy="all"}switch(ei.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:ei.bundlePolicy="balanced"}if(ei.iceServers=ea(ei.iceServers||[],er),this._iceGatherers=[],ei.iceCandidatePoolSize)for(var eg=ei.iceCandidatePoolSize;eg>0;eg--)this._iceGatherers.push(new eA.RTCIceGatherer({iceServers:ei.iceServers,gatherPolicy:ei.iceTransportPolicy}));else ei.iceCandidatePoolSize=0;this._config=ei,this.transceivers=[],this._sdpSessionId=eo.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(eI.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(eI.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),eI.prototype.onicecandidate=null,eI.prototype.onaddstream=null,eI.prototype.ontrack=null,eI.prototype.onremovestream=null,eI.prototype.onsignalingstatechange=null,eI.prototype.oniceconnectionstatechange=null,eI.prototype.onconnectionstatechange=null,eI.prototype.onicegatheringstatechange=null,eI.prototype.onnegotiationneeded=null,eI.prototype.ondatachannel=null,eI.prototype._dispatchEvent=function(eA,er){this._isClosed||(this.dispatchEvent(er),"function"==typeof this["on"+eA]&&this["on"+eA](er))},eI.prototype._emitGatheringStateChange=function(){var eA=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",eA)},eI.prototype.getConfiguration=function(){return this._config},eI.prototype.getLocalStreams=function(){return this.localStreams},eI.prototype.getRemoteStreams=function(){return this.remoteStreams},eI.prototype._createTransceiver=function(eA,er){var ei={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:eA,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&this.transceivers.length>0)ei.iceTransport=this.transceivers[0].iceTransport,ei.dtlsTransport=this.transceivers[0].dtlsTransport;else{var eo=this._createIceAndDtlsTransports();ei.iceTransport=eo.iceTransport,ei.dtlsTransport=eo.dtlsTransport}return er||this.transceivers.push(ei),ei},eI.prototype.addTrack=function(er,ei){if(this._isClosed)throw el("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");if(this.transceivers.find(function(eA){return eA.track===er}))throw el("InvalidAccessError","Track already exists.");for(var eo,en=0;en<this.transceivers.length;en++)this.transceivers[en].track||this.transceivers[en].kind!==er.kind||(eo=this.transceivers[en]);return eo||(eo=this._createTransceiver(er.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(ei)&&this.localStreams.push(ei),eo.track=er,eo.stream=ei,eo.rtpSender=new eA.RTCRtpSender(er,eo.dtlsTransport),eo.rtpSender},eI.prototype.addStream=function(eA){var ei=this;if(er>=15025)eA.getTracks().forEach(function(er){ei.addTrack(er,eA)});else{var eo=eA.clone();eA.getTracks().forEach(function(eA,er){var ei=eo.getTracks()[er];eA.addEventListener("enabled",function(eA){ei.enabled=eA.enabled})}),eo.getTracks().forEach(function(eA){ei.addTrack(eA,eo)})}},eI.prototype.removeTrack=function(er){if(this._isClosed)throw el("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(er instanceof eA.RTCRtpSender))throw TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var ei=this.transceivers.find(function(eA){return eA.rtpSender===er});if(!ei)throw el("InvalidAccessError","Sender was not created by this connection.");var eo=ei.stream;ei.rtpSender.stop(),ei.rtpSender=null,ei.track=null,ei.stream=null,-1===this.transceivers.map(function(eA){return eA.stream}).indexOf(eo)&&this.localStreams.indexOf(eo)>-1&&this.localStreams.splice(this.localStreams.indexOf(eo),1),this._maybeFireNegotiationNeeded()},eI.prototype.removeStream=function(eA){var er=this;eA.getTracks().forEach(function(eA){var ei=er.getSenders().find(function(er){return er.track===eA});ei&&er.removeTrack(ei)})},eI.prototype.getSenders=function(){return this.transceivers.filter(function(eA){return!!eA.rtpSender}).map(function(eA){return eA.rtpSender})},eI.prototype.getReceivers=function(){return this.transceivers.filter(function(eA){return!!eA.rtpReceiver}).map(function(eA){return eA.rtpReceiver})},eI.prototype._createIceGatherer=function(er,ei){var eo=this;if(ei&&er>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var en=new eA.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(en,"state",{value:"new",writable:!0}),this.transceivers[er].bufferedCandidateEvents=[],this.transceivers[er].bufferCandidates=function(eA){var ei=!eA.candidate||0===Object.keys(eA.candidate).length;en.state=ei?"completed":"gathering",null!==eo.transceivers[er].bufferedCandidateEvents&&eo.transceivers[er].bufferedCandidateEvents.push(eA)},en.addEventListener("localcandidate",this.transceivers[er].bufferCandidates),en},eI.prototype._gather=function(er,ei){var en=this,es=this.transceivers[ei].iceGatherer;if(!es.onlocalcandidate){var ea=this.transceivers[ei].bufferedCandidateEvents;this.transceivers[ei].bufferedCandidateEvents=null,es.removeEventListener("localcandidate",this.transceivers[ei].bufferCandidates),es.onlocalcandidate=function(eA){if(!(en.usingBundle&&ei>0)){var ea=new Event("icecandidate");ea.candidate={sdpMid:er,sdpMLineIndex:ei};var eg=eA.candidate,ec=!eg||0===Object.keys(eg).length;if(ec)"new"!==es.state&&"gathering"!==es.state||(es.state="completed");else{"new"===es.state&&(es.state="gathering"),eg.component=1,eg.ufrag=es.getLocalParameters().usernameFragment;var eu=eo.writeCandidate(eg);ea.candidate=Object.assign(ea.candidate,eo.parseCandidate(eu)),ea.candidate.candidate=eu,ea.candidate.toJSON=function(){return{candidate:ea.candidate.candidate,sdpMid:ea.candidate.sdpMid,sdpMLineIndex:ea.candidate.sdpMLineIndex,usernameFragment:ea.candidate.usernameFragment}}}var el=eo.getMediaSections(en._localDescription.sdp);el[ea.candidate.sdpMLineIndex]+=ec?"a=end-of-candidates\r\n":"a="+ea.candidate.candidate+"\r\n",en._localDescription.sdp=eo.getDescription(en._localDescription.sdp)+el.join("");var ed=en.transceivers.every(function(eA){return eA.iceGatherer&&"completed"===eA.iceGatherer.state});"gathering"!==en.iceGatheringState&&(en.iceGatheringState="gathering",en._emitGatheringStateChange()),ec||en._dispatchEvent("icecandidate",ea),ed&&(en._dispatchEvent("icecandidate",new Event("icecandidate")),en.iceGatheringState="complete",en._emitGatheringStateChange())}},eA.setTimeout(function(){ea.forEach(function(eA){es.onlocalcandidate(eA)})},0)}},eI.prototype._createIceAndDtlsTransports=function(){var er=this,ei=new eA.RTCIceTransport(null);ei.onicestatechange=function(){er._updateIceConnectionState(),er._updateConnectionState()};var eo=new eA.RTCDtlsTransport(ei);return eo.ondtlsstatechange=function(){er._updateConnectionState()},eo.onerror=function(){Object.defineProperty(eo,"state",{value:"failed",writable:!0}),er._updateConnectionState()},{iceTransport:ei,dtlsTransport:eo}},eI.prototype._disposeIceAndDtlsTransports=function(eA){var er=this.transceivers[eA].iceGatherer;er&&(delete er.onlocalcandidate,delete this.transceivers[eA].iceGatherer);var ei=this.transceivers[eA].iceTransport;ei&&(delete ei.onicestatechange,delete this.transceivers[eA].iceTransport);var eo=this.transceivers[eA].dtlsTransport;eo&&(delete eo.ondtlsstatechange,delete eo.onerror,delete this.transceivers[eA].dtlsTransport)},eI.prototype._transceive=function(eA,ei,en){var es=eg(eA.localCapabilities,eA.remoteCapabilities);ei&&eA.rtpSender&&(es.encodings=eA.sendEncodingParameters,es.rtcp={cname:eo.localCName,compound:eA.rtcpParameters.compound},eA.recvEncodingParameters.length&&(es.rtcp.ssrc=eA.recvEncodingParameters[0].ssrc),eA.rtpSender.send(es)),en&&eA.rtpReceiver&&es.codecs.length>0&&("video"===eA.kind&&eA.recvEncodingParameters&&er<15019&&eA.recvEncodingParameters.forEach(function(eA){delete eA.rtx}),es.encodings=eA.recvEncodingParameters.length?eA.recvEncodingParameters:[{}],es.rtcp={compound:eA.rtcpParameters.compound},eA.rtcpParameters.cname&&(es.rtcp.cname=eA.rtcpParameters.cname),eA.sendEncodingParameters.length&&(es.rtcp.ssrc=eA.sendEncodingParameters[0].ssrc),eA.rtpReceiver.receive(es))},eI.prototype.setLocalDescription=function(eA){var er,ei,en=this;if(-1===["offer","answer"].indexOf(eA.type))return Promise.reject(el("TypeError",'Unsupported type "'+eA.type+'"'));if(!ec("setLocalDescription",eA.type,en.signalingState)||en._isClosed)return Promise.reject(el("InvalidStateError","Can not set local "+eA.type+" in state "+en.signalingState));if("offer"===eA.type)ei=(er=eo.splitSections(eA.sdp)).shift(),er.forEach(function(eA,er){var ei=eo.parseRtpParameters(eA);en.transceivers[er].localCapabilities=ei}),en.transceivers.forEach(function(eA,er){en._gather(eA.mid,er)});else if("answer"===eA.type){ei=(er=eo.splitSections(en._remoteDescription.sdp)).shift();var es=eo.matchPrefix(ei,"a=ice-lite").length>0;er.forEach(function(eA,er){var ea=en.transceivers[er],ec=ea.iceGatherer,eu=ea.iceTransport,el=ea.dtlsTransport,ed=ea.localCapabilities,eE=ea.remoteCapabilities;if(!(eo.isRejected(eA)&&0===eo.matchPrefix(eA,"a=bundle-only").length||ea.rejected)){var eI=eo.getIceParameters(eA,ei),eC=eo.getDtlsParameters(eA,ei);es&&(eC.role="server"),en.usingBundle&&0!==er||(en._gather(ea.mid,er),"new"===eu.state&&eu.start(ec,eI,es?"controlling":"controlled"),"new"===el.state&&el.start(eC));var eh=eg(ed,eE);en._transceive(ea,eh.codecs.length>0,!1)}})}return en._localDescription={type:eA.type,sdp:eA.sdp},en._updateSignalingState("offer"===eA.type?"have-local-offer":"stable"),Promise.resolve()},eI.prototype.setRemoteDescription=function(en){var es=this;if(-1===["offer","answer"].indexOf(en.type))return Promise.reject(el("TypeError",'Unsupported type "'+en.type+'"'));if(!ec("setRemoteDescription",en.type,es.signalingState)||es._isClosed)return Promise.reject(el("InvalidStateError","Can not set remote "+en.type+" in state "+es.signalingState));var ea={};es.remoteStreams.forEach(function(eA){ea[eA.id]=eA});var eI=[],eC=eo.splitSections(en.sdp),eh=eC.shift(),eB=eo.matchPrefix(eh,"a=ice-lite").length>0,ep=eo.matchPrefix(eh,"a=group:BUNDLE ").length>0;es.usingBundle=ep;var ef=eo.matchPrefix(eh,"a=ice-options:")[0];return es.canTrickleIceCandidates=!!ef&&ef.substr(14).split(" ").indexOf("trickle")>=0,eC.forEach(function(ec,el){var eE=eo.splitLines(ec),eC=eo.getKind(ec),ef=eo.isRejected(ec)&&0===eo.matchPrefix(ec,"a=bundle-only").length,em=eE[0].substr(2).split(" ")[2],eQ=eo.getDirection(ec,eh),ev=eo.parseMsid(ec),e_=eo.getMid(ec)||eo.generateIdentifier();if(ef||"application"===eC&&("DTLS/SCTP"===em||"UDP/DTLS/SCTP"===em))es.transceivers[el]={mid:e_,kind:eC,protocol:em,rejected:!0};else{!ef&&es.transceivers[el]&&es.transceivers[el].rejected&&(es.transceivers[el]=es._createTransceiver(eC,!0));var ey,eS,eR,eT,eD,eb,eN,ek,eL,ew,eM,eO=eo.parseRtpParameters(ec);ef||(ew=eo.getIceParameters(ec,eh),(eM=eo.getDtlsParameters(ec,eh)).role="client"),eN=eo.parseRtpEncodingParameters(ec);var eP=eo.parseRtcpParameters(ec),eU=eo.matchPrefix(ec,"a=end-of-candidates",eh).length>0,eG=eo.matchPrefix(ec,"a=candidate:").map(function(eA){return eo.parseCandidate(eA)}).filter(function(eA){return 1===eA.component});if(("offer"===en.type||"answer"===en.type)&&!ef&&ep&&el>0&&es.transceivers[el]&&(es._disposeIceAndDtlsTransports(el),es.transceivers[el].iceGatherer=es.transceivers[0].iceGatherer,es.transceivers[el].iceTransport=es.transceivers[0].iceTransport,es.transceivers[el].dtlsTransport=es.transceivers[0].dtlsTransport,es.transceivers[el].rtpSender&&es.transceivers[el].rtpSender.setTransport(es.transceivers[0].dtlsTransport),es.transceivers[el].rtpReceiver&&es.transceivers[el].rtpReceiver.setTransport(es.transceivers[0].dtlsTransport)),"offer"!==en.type||ef)"answer"!==en.type||ef||(eS=(ey=es.transceivers[el]).iceGatherer,eR=ey.iceTransport,eT=ey.dtlsTransport,eD=ey.rtpReceiver,eb=ey.sendEncodingParameters,ek=ey.localCapabilities,es.transceivers[el].recvEncodingParameters=eN,es.transceivers[el].remoteCapabilities=eO,es.transceivers[el].rtcpParameters=eP,eG.length&&"new"===eR.state&&((eB||eU)&&(!ep||0===el)?eR.setRemoteCandidates(eG):eG.forEach(function(eA){eu(ey.iceTransport,eA)})),ep&&0!==el||("new"===eR.state&&eR.start(eS,ew,"controlling"),"new"===eT.state&&eT.start(eM)),!eg(ey.localCapabilities,ey.remoteCapabilities).codecs.filter(function(eA){return"rtx"===eA.name.toLowerCase()}).length&&ey.sendEncodingParameters[0].rtx&&delete ey.sendEncodingParameters[0].rtx,es._transceive(ey,"sendrecv"===eQ||"recvonly"===eQ,"sendrecv"===eQ||"sendonly"===eQ),eD&&("sendrecv"===eQ||"sendonly"===eQ)?(eL=eD.track,ev?(ea[ev.stream]||(ea[ev.stream]=new eA.MediaStream),ei(eL,ea[ev.stream]),eI.push([eL,eD,ea[ev.stream]])):(ea.default||(ea.default=new eA.MediaStream),ei(eL,ea.default),eI.push([eL,eD,ea.default]))):delete ey.rtpReceiver);else{(ey=es.transceivers[el]||es._createTransceiver(eC)).mid=e_,ey.iceGatherer||(ey.iceGatherer=es._createIceGatherer(el,ep)),eG.length&&"new"===ey.iceTransport.state&&(!eU||ep&&0!==el?eG.forEach(function(eA){eu(ey.iceTransport,eA)}):ey.iceTransport.setRemoteCandidates(eG)),ek=eA.RTCRtpReceiver.getCapabilities(eC),er<15019&&(ek.codecs=ek.codecs.filter(function(eA){return"rtx"!==eA.name})),eb=ey.sendEncodingParameters||[{ssrc:1001*(2*el+2)}];var eF,eH=!1;"sendrecv"===eQ||"sendonly"===eQ?(eH=!ey.rtpReceiver,eD=ey.rtpReceiver||new eA.RTCRtpReceiver(ey.dtlsTransport,eC),eH&&(eL=eD.track,ev&&"-"===ev.stream||(ev?(ea[ev.stream]||(ea[ev.stream]=new eA.MediaStream,Object.defineProperty(ea[ev.stream],"id",{get:function(){return ev.stream}})),Object.defineProperty(eL,"id",{get:function(){return ev.track}}),eF=ea[ev.stream]):(ea.default||(ea.default=new eA.MediaStream),eF=ea.default)),eF&&(ei(eL,eF),ey.associatedRemoteMediaStreams.push(eF)),eI.push([eL,eD,eF]))):ey.rtpReceiver&&ey.rtpReceiver.track&&(ey.associatedRemoteMediaStreams.forEach(function(eA){var er=eA.getTracks().find(function(eA){return eA.id===ey.rtpReceiver.track.id});er&&ed(er,eA)}),ey.associatedRemoteMediaStreams=[]),ey.localCapabilities=ek,ey.remoteCapabilities=eO,ey.rtpReceiver=eD,ey.rtcpParameters=eP,ey.sendEncodingParameters=eb,ey.recvEncodingParameters=eN,es._transceive(es.transceivers[el],!1,eH)}}}),void 0===es._dtlsRole&&(es._dtlsRole="offer"===en.type?"active":"passive"),es._remoteDescription={type:en.type,sdp:en.sdp},es._updateSignalingState("offer"===en.type?"have-remote-offer":"stable"),Object.keys(ea).forEach(function(er){var ei=ea[er];if(ei.getTracks().length){if(-1===es.remoteStreams.indexOf(ei)){es.remoteStreams.push(ei);var eo=new Event("addstream");eo.stream=ei,eA.setTimeout(function(){es._dispatchEvent("addstream",eo)})}eI.forEach(function(eA){ei.id===eA[2].id&&eE(es,eA[0],eA[1],[ei])})}}),eI.forEach(function(eA){eA[2]||eE(es,eA[0],eA[1],[])}),eA.setTimeout(function(){es&&es.transceivers&&es.transceivers.forEach(function(eA){eA.iceTransport&&"new"===eA.iceTransport.state&&eA.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),eA.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},eI.prototype.close=function(){this.transceivers.forEach(function(eA){eA.iceTransport&&eA.iceTransport.stop(),eA.dtlsTransport&&eA.dtlsTransport.stop(),eA.rtpSender&&eA.rtpSender.stop(),eA.rtpReceiver&&eA.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},eI.prototype._updateSignalingState=function(eA){this.signalingState=eA;var er=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",er)},eI.prototype._maybeFireNegotiationNeeded=function(){var er=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,eA.setTimeout(function(){if(er.needNegotiation){er.needNegotiation=!1;var eA=new Event("negotiationneeded");er._dispatchEvent("negotiationneeded",eA)}},0))},eI.prototype._updateIceConnectionState=function(){var eA,er={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(eA){eA.iceTransport&&!eA.rejected&&er[eA.iceTransport.state]++}),eA="new",er.failed>0?eA="failed":er.checking>0?eA="checking":er.disconnected>0?eA="disconnected":er.new>0?eA="new":er.connected>0?eA="connected":er.completed>0&&(eA="completed"),eA!==this.iceConnectionState){this.iceConnectionState=eA;var ei=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",ei)}},eI.prototype._updateConnectionState=function(){var eA,er={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(eA){eA.iceTransport&&eA.dtlsTransport&&!eA.rejected&&(er[eA.iceTransport.state]++,er[eA.dtlsTransport.state]++)}),er.connected+=er.completed,eA="new",er.failed>0?eA="failed":er.connecting>0?eA="connecting":er.disconnected>0?eA="disconnected":er.new>0?eA="new":er.connected>0&&(eA="connected"),eA!==this.connectionState){this.connectionState=eA;var ei=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",ei)}},eI.prototype.createOffer=function(){var ei=this;if(ei._isClosed)return Promise.reject(el("InvalidStateError","Can not call createOffer after close"));var en=ei.transceivers.filter(function(eA){return"audio"===eA.kind}).length,ea=ei.transceivers.filter(function(eA){return"video"===eA.kind}).length,eg=arguments[0];if(eg){if(eg.mandatory||eg.optional)throw TypeError("Legacy mandatory/optional constraints not supported.");void 0!==eg.offerToReceiveAudio&&(en=!0===eg.offerToReceiveAudio?1:!1===eg.offerToReceiveAudio?0:eg.offerToReceiveAudio),void 0!==eg.offerToReceiveVideo&&(ea=!0===eg.offerToReceiveVideo?1:!1===eg.offerToReceiveVideo?0:eg.offerToReceiveVideo)}for(ei.transceivers.forEach(function(eA){"audio"===eA.kind?--en<0&&(eA.wantReceive=!1):"video"===eA.kind&&--ea<0&&(eA.wantReceive=!1)});en>0||ea>0;)en>0&&(ei._createTransceiver("audio"),en--),ea>0&&(ei._createTransceiver("video"),ea--);var ec=eo.writeSessionBoilerplate(ei._sdpSessionId,ei._sdpSessionVersion++);return ei.transceivers.forEach(function(en,es){var ea=en.track,eg=en.kind,ec=en.mid||eo.generateIdentifier();en.mid=ec,en.iceGatherer||(en.iceGatherer=ei._createIceGatherer(es,ei.usingBundle));var eu=eA.RTCRtpSender.getCapabilities(eg);er<15019&&(eu.codecs=eu.codecs.filter(function(eA){return"rtx"!==eA.name})),eu.codecs.forEach(function(eA){"H264"===eA.name&&void 0===eA.parameters["level-asymmetry-allowed"]&&(eA.parameters["level-asymmetry-allowed"]="1"),en.remoteCapabilities&&en.remoteCapabilities.codecs&&en.remoteCapabilities.codecs.forEach(function(er){eA.name.toLowerCase()===er.name.toLowerCase()&&eA.clockRate===er.clockRate&&(eA.preferredPayloadType=er.payloadType)})}),eu.headerExtensions.forEach(function(eA){(en.remoteCapabilities&&en.remoteCapabilities.headerExtensions||[]).forEach(function(er){eA.uri===er.uri&&(eA.id=er.id)})});var el=en.sendEncodingParameters||[{ssrc:1001*(2*es+1)}];ea&&er>=15019&&"video"===eg&&!el[0].rtx&&(el[0].rtx={ssrc:el[0].ssrc+1}),en.wantReceive&&(en.rtpReceiver=new eA.RTCRtpReceiver(en.dtlsTransport,eg)),en.localCapabilities=eu,en.sendEncodingParameters=el}),"max-compat"!==ei._config.bundlePolicy&&(ec+="a=group:BUNDLE "+ei.transceivers.map(function(eA){return eA.mid}).join(" ")+"\r\n"),ec+="a=ice-options:trickle\r\n",ei.transceivers.forEach(function(eA,er){ec+=es(eA,eA.localCapabilities,"offer",eA.stream,ei._dtlsRole)+"a=rtcp-rsize\r\n",!eA.iceGatherer||"new"===ei.iceGatheringState||0!==er&&ei.usingBundle||(eA.iceGatherer.getLocalCandidates().forEach(function(eA){eA.component=1,ec+="a="+eo.writeCandidate(eA)+"\r\n"}),"completed"===eA.iceGatherer.state&&(ec+="a=end-of-candidates\r\n"))}),Promise.resolve(new eA.RTCSessionDescription({type:"offer",sdp:ec}))},eI.prototype.createAnswer=function(){var ei=this;if(ei._isClosed)return Promise.reject(el("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==ei.signalingState&&"have-local-pranswer"!==ei.signalingState)return Promise.reject(el("InvalidStateError","Can not call createAnswer in signalingState "+ei.signalingState));var en=eo.writeSessionBoilerplate(ei._sdpSessionId,ei._sdpSessionVersion++);ei.usingBundle&&(en+="a=group:BUNDLE "+ei.transceivers.map(function(eA){return eA.mid}).join(" ")+"\r\n"),en+="a=ice-options:trickle\r\n";var ea=eo.getMediaSections(ei._remoteDescription.sdp).length;return ei.transceivers.forEach(function(eA,eo){if(!(eo+1>ea)){if(eA.rejected)return"application"===eA.kind?en+="DTLS/SCTP"===eA.protocol?"m=application 0 DTLS/SCTP 5000\r\n":"m=application 0 "+eA.protocol+" webrtc-datachannel\r\n":"audio"===eA.kind?en+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===eA.kind&&(en+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(en+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+eA.mid+"\r\n");eA.stream&&("audio"===eA.kind?ec=eA.stream.getAudioTracks()[0]:"video"===eA.kind&&(ec=eA.stream.getVideoTracks()[0]),ec&&er>=15019&&"video"===eA.kind&&!eA.sendEncodingParameters[0].rtx&&(eA.sendEncodingParameters[0].rtx={ssrc:eA.sendEncodingParameters[0].ssrc+1}));var ec,eu=eg(eA.localCapabilities,eA.remoteCapabilities);!eu.codecs.filter(function(eA){return"rtx"===eA.name.toLowerCase()}).length&&eA.sendEncodingParameters[0].rtx&&delete eA.sendEncodingParameters[0].rtx,en+=es(eA,eu,"answer",eA.stream,ei._dtlsRole),eA.rtcpParameters&&eA.rtcpParameters.reducedSize&&(en+="a=rtcp-rsize\r\n")}}),Promise.resolve(new eA.RTCSessionDescription({type:"answer",sdp:en}))},eI.prototype.addIceCandidate=function(eA){var er,ei=this;return eA&&void 0===eA.sdpMLineIndex&&!eA.sdpMid?Promise.reject(TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(en,es){if(!ei._remoteDescription)return es(el("InvalidStateError","Can not add ICE candidate without a remote description"));if(eA&&""!==eA.candidate){var ea=eA.sdpMLineIndex;if(eA.sdpMid){for(var eg=0;eg<ei.transceivers.length;eg++)if(ei.transceivers[eg].mid===eA.sdpMid){ea=eg;break}}var ec=ei.transceivers[ea];if(!ec)return es(el("OperationError","Can not add ICE candidate"));if(ec.rejected)return en();var ed=Object.keys(eA.candidate).length>0?eo.parseCandidate(eA.candidate):{};if("tcp"===ed.protocol&&(0===ed.port||9===ed.port)||ed.component&&1!==ed.component)return en();if((0===ea||ea>0&&ec.iceTransport!==ei.transceivers[0].iceTransport)&&!eu(ec.iceTransport,ed))return es(el("OperationError","Can not add ICE candidate"));var eE=eA.candidate.trim();0===eE.indexOf("a=")&&(eE=eE.substr(2)),(er=eo.getMediaSections(ei._remoteDescription.sdp))[ea]+="a="+(ed.type?eE:"end-of-candidates")+"\r\n",ei._remoteDescription.sdp=eo.getDescription(ei._remoteDescription.sdp)+er.join("")}else for(var eI=0;eI<ei.transceivers.length&&(ei.transceivers[eI].rejected||(ei.transceivers[eI].iceTransport.addRemoteCandidate({}),(er=eo.getMediaSections(ei._remoteDescription.sdp))[eI]+="a=end-of-candidates\r\n",ei._remoteDescription.sdp=eo.getDescription(ei._remoteDescription.sdp)+er.join(""),!ei.usingBundle));eI++);en()})},eI.prototype.getStats=function(er){if(er&&er instanceof eA.MediaStreamTrack){var ei=null;if(this.transceivers.forEach(function(eA){eA.rtpSender&&eA.rtpSender.track===er?ei=eA.rtpSender:eA.rtpReceiver&&eA.rtpReceiver.track===er&&(ei=eA.rtpReceiver)}),!ei)throw el("InvalidAccessError","Invalid selector.");return ei.getStats()}var eo=[];return this.transceivers.forEach(function(eA){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(er){eA[er]&&eo.push(eA[er].getStats())})}),Promise.all(eo).then(function(eA){var er=new Map;return eA.forEach(function(eA){eA.forEach(function(eA){er.set(eA.id,eA)})}),er})},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(er){var ei=eA[er];if(ei&&ei.prototype&&ei.prototype.getStats){var eo=ei.prototype.getStats;ei.prototype.getStats=function(){return eo.apply(this).then(function(eA){var er=new Map;return Object.keys(eA).forEach(function(ei){eA[ei].type=en(eA[ei]),er.set(ei,eA[ei])}),er})}}});var eC=["createOffer","createAnswer"];return eC.forEach(function(eA){var er=eI.prototype[eA];eI.prototype[eA]=function(){var eA=arguments;return"function"==typeof eA[0]||"function"==typeof eA[1]?er.apply(this,[arguments[2]]).then(function(er){"function"==typeof eA[0]&&eA[0].apply(null,[er])},function(er){"function"==typeof eA[1]&&eA[1].apply(null,[er])}):er.apply(this,arguments)}}),(eC=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(eA){var er=eI.prototype[eA];eI.prototype[eA]=function(){var eA=arguments;return"function"==typeof eA[1]||"function"==typeof eA[2]?er.apply(this,arguments).then(function(){"function"==typeof eA[1]&&eA[1].apply(null)},function(er){"function"==typeof eA[2]&&eA[2].apply(null,[er])}):er.apply(this,arguments)}}),["getStats"].forEach(function(eA){var er=eI.prototype[eA];eI.prototype[eA]=function(){var eA=arguments;return"function"==typeof eA[1]?er.apply(this,arguments).then(function(){"function"==typeof eA[1]&&eA[1].apply(null)}):er.apply(this,arguments)}}),eI}},{sdp:17}],17:[function(eA,er,ei){"use strict";var eo={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};eo.localCName=eo.generateIdentifier(),eo.splitLines=function(eA){return eA.trim().split("\n").map(function(eA){return eA.trim()})},eo.splitSections=function(eA){return eA.split("\nm=").map(function(eA,er){return(er>0?"m="+eA:eA).trim()+"\r\n"})},eo.getDescription=function(eA){var er=eo.splitSections(eA);return er&&er[0]},eo.getMediaSections=function(eA){var er=eo.splitSections(eA);return er.shift(),er},eo.matchPrefix=function(eA,er){return eo.splitLines(eA).filter(function(eA){return 0===eA.indexOf(er)})},eo.parseCandidate=function(eA){for(var er,ei={foundation:(er=0===eA.indexOf("a=candidate:")?eA.substring(12).split(" "):eA.substring(10).split(" "))[0],component:parseInt(er[1],10),protocol:er[2].toLowerCase(),priority:parseInt(er[3],10),ip:er[4],address:er[4],port:parseInt(er[5],10),type:er[7]},eo=8;eo<er.length;eo+=2)switch(er[eo]){case"raddr":ei.relatedAddress=er[eo+1];break;case"rport":ei.relatedPort=parseInt(er[eo+1],10);break;case"tcptype":ei.tcpType=er[eo+1];break;case"ufrag":ei.ufrag=er[eo+1],ei.usernameFragment=er[eo+1];break;default:ei[er[eo]]=er[eo+1]}return ei},eo.writeCandidate=function(eA){var er=[];er.push(eA.foundation),er.push(eA.component),er.push(eA.protocol.toUpperCase()),er.push(eA.priority),er.push(eA.address||eA.ip),er.push(eA.port);var ei=eA.type;return er.push("typ"),er.push(ei),"host"!==ei&&eA.relatedAddress&&eA.relatedPort&&(er.push("raddr"),er.push(eA.relatedAddress),er.push("rport"),er.push(eA.relatedPort)),eA.tcpType&&"tcp"===eA.protocol.toLowerCase()&&(er.push("tcptype"),er.push(eA.tcpType)),(eA.usernameFragment||eA.ufrag)&&(er.push("ufrag"),er.push(eA.usernameFragment||eA.ufrag)),"candidate:"+er.join(" ")},eo.parseIceOptions=function(eA){return eA.substr(14).split(" ")},eo.parseRtpMap=function(eA){var er=eA.substr(9).split(" "),ei={payloadType:parseInt(er.shift(),10)};return er=er[0].split("/"),ei.name=er[0],ei.clockRate=parseInt(er[1],10),ei.channels=3===er.length?parseInt(er[2],10):1,ei.numChannels=ei.channels,ei},eo.writeRtpMap=function(eA){var er=eA.payloadType;void 0!==eA.preferredPayloadType&&(er=eA.preferredPayloadType);var ei=eA.channels||eA.numChannels||1;return"a=rtpmap:"+er+" "+eA.name+"/"+eA.clockRate+(1!==ei?"/"+ei:"")+"\r\n"},eo.parseExtmap=function(eA){var er=eA.substr(9).split(" ");return{id:parseInt(er[0],10),direction:er[0].indexOf("/")>0?er[0].split("/")[1]:"sendrecv",uri:er[1]}},eo.writeExtmap=function(eA){return"a=extmap:"+(eA.id||eA.preferredId)+(eA.direction&&"sendrecv"!==eA.direction?"/"+eA.direction:"")+" "+eA.uri+"\r\n"},eo.parseFmtp=function(eA){for(var er,ei={},eo=eA.substr(eA.indexOf(" ")+1).split(";"),en=0;en<eo.length;en++)ei[(er=eo[en].trim().split("="))[0].trim()]=er[1];return ei},eo.writeFmtp=function(eA){var er="",ei=eA.payloadType;if(void 0!==eA.preferredPayloadType&&(ei=eA.preferredPayloadType),eA.parameters&&Object.keys(eA.parameters).length){var eo=[];Object.keys(eA.parameters).forEach(function(er){eo.push(eA.parameters[er]?er+"="+eA.parameters[er]:er)}),er+="a=fmtp:"+ei+" "+eo.join(";")+"\r\n"}return er},eo.parseRtcpFb=function(eA){var er=eA.substr(eA.indexOf(" ")+1).split(" ");return{type:er.shift(),parameter:er.join(" ")}},eo.writeRtcpFb=function(eA){var er="",ei=eA.payloadType;return void 0!==eA.preferredPayloadType&&(ei=eA.preferredPayloadType),eA.rtcpFeedback&&eA.rtcpFeedback.length&&eA.rtcpFeedback.forEach(function(eA){er+="a=rtcp-fb:"+ei+" "+eA.type+(eA.parameter&&eA.parameter.length?" "+eA.parameter:"")+"\r\n"}),er},eo.parseSsrcMedia=function(eA){var er=eA.indexOf(" "),ei={ssrc:parseInt(eA.substr(7,er-7),10)},eo=eA.indexOf(":",er);return eo>-1?(ei.attribute=eA.substr(er+1,eo-er-1),ei.value=eA.substr(eo+1)):ei.attribute=eA.substr(er+1),ei},eo.parseSsrcGroup=function(eA){var er=eA.substr(13).split(" ");return{semantics:er.shift(),ssrcs:er.map(function(eA){return parseInt(eA,10)})}},eo.getMid=function(eA){var er=eo.matchPrefix(eA,"a=mid:")[0];if(er)return er.substr(6)},eo.parseFingerprint=function(eA){var er=eA.substr(14).split(" ");return{algorithm:er[0].toLowerCase(),value:er[1]}},eo.getDtlsParameters=function(eA,er){return{role:"auto",fingerprints:eo.matchPrefix(eA+er,"a=fingerprint:").map(eo.parseFingerprint)}},eo.writeDtlsParameters=function(eA,er){var ei="a=setup:"+er+"\r\n";return eA.fingerprints.forEach(function(eA){ei+="a=fingerprint:"+eA.algorithm+" "+eA.value+"\r\n"}),ei},eo.getIceParameters=function(eA,er){var ei=eo.splitLines(eA);return{usernameFragment:(ei=ei.concat(eo.splitLines(er))).filter(function(eA){return 0===eA.indexOf("a=ice-ufrag:")})[0].substr(12),password:ei.filter(function(eA){return 0===eA.indexOf("a=ice-pwd:")})[0].substr(10)}},eo.writeIceParameters=function(eA){return"a=ice-ufrag:"+eA.usernameFragment+"\r\na=ice-pwd:"+eA.password+"\r\n"},eo.parseRtpParameters=function(eA){for(var er={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},ei=eo.splitLines(eA)[0].split(" "),en=3;en<ei.length;en++){var es=ei[en],ea=eo.matchPrefix(eA,"a=rtpmap:"+es+" ")[0];if(ea){var eg=eo.parseRtpMap(ea),ec=eo.matchPrefix(eA,"a=fmtp:"+es+" ");switch(eg.parameters=ec.length?eo.parseFmtp(ec[0]):{},eg.rtcpFeedback=eo.matchPrefix(eA,"a=rtcp-fb:"+es+" ").map(eo.parseRtcpFb),er.codecs.push(eg),eg.name.toUpperCase()){case"RED":case"ULPFEC":er.fecMechanisms.push(eg.name.toUpperCase())}}}return eo.matchPrefix(eA,"a=extmap:").forEach(function(eA){er.headerExtensions.push(eo.parseExtmap(eA))}),er},eo.writeRtpDescription=function(eA,er){var ei="";ei+="m="+eA+" "+(er.codecs.length>0?"9":"0")+" UDP/TLS/RTP/SAVPF "+er.codecs.map(function(eA){return void 0!==eA.preferredPayloadType?eA.preferredPayloadType:eA.payloadType}).join(" ")+"\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\n",er.codecs.forEach(function(eA){ei+=eo.writeRtpMap(eA)+eo.writeFmtp(eA)+eo.writeRtcpFb(eA)});var en=0;return er.codecs.forEach(function(eA){eA.maxptime>en&&(en=eA.maxptime)}),en>0&&(ei+="a=maxptime:"+en+"\r\n"),ei+="a=rtcp-mux\r\n",er.headerExtensions&&er.headerExtensions.forEach(function(eA){ei+=eo.writeExtmap(eA)}),ei},eo.parseRtpEncodingParameters=function(eA){var er,ei=[],en=eo.parseRtpParameters(eA),es=-1!==en.fecMechanisms.indexOf("RED"),ea=-1!==en.fecMechanisms.indexOf("ULPFEC"),eg=eo.matchPrefix(eA,"a=ssrc:").map(function(eA){return eo.parseSsrcMedia(eA)}).filter(function(eA){return"cname"===eA.attribute}),ec=eg.length>0&&eg[0].ssrc,eu=eo.matchPrefix(eA,"a=ssrc-group:FID").map(function(eA){return eA.substr(17).split(" ").map(function(eA){return parseInt(eA,10)})});eu.length>0&&eu[0].length>1&&eu[0][0]===ec&&(er=eu[0][1]),en.codecs.forEach(function(eA){if("RTX"===eA.name.toUpperCase()&&eA.parameters.apt){var eo={ssrc:ec,codecPayloadType:parseInt(eA.parameters.apt,10)};ec&&er&&(eo.rtx={ssrc:er}),ei.push(eo),es&&((eo=JSON.parse(JSON.stringify(eo))).fec={ssrc:ec,mechanism:ea?"red+ulpfec":"red"},ei.push(eo))}}),0===ei.length&&ec&&ei.push({ssrc:ec});var el=eo.matchPrefix(eA,"b=");return el.length&&(el=0===el[0].indexOf("b=TIAS:")?parseInt(el[0].substr(7),10):0===el[0].indexOf("b=AS:")?1e3*parseInt(el[0].substr(5),10)*.95-16e3:void 0,ei.forEach(function(eA){eA.maxBitrate=el})),ei},eo.parseRtcpParameters=function(eA){var er={},ei=eo.matchPrefix(eA,"a=ssrc:").map(function(eA){return eo.parseSsrcMedia(eA)}).filter(function(eA){return"cname"===eA.attribute})[0];ei&&(er.cname=ei.value,er.ssrc=ei.ssrc);var en=eo.matchPrefix(eA,"a=rtcp-rsize");er.reducedSize=en.length>0,er.compound=0===en.length;var es=eo.matchPrefix(eA,"a=rtcp-mux");return er.mux=es.length>0,er},eo.parseMsid=function(eA){var er,ei=eo.matchPrefix(eA,"a=msid:");if(1===ei.length)return{stream:(er=ei[0].substr(7).split(" "))[0],track:er[1]};var en=eo.matchPrefix(eA,"a=ssrc:").map(function(eA){return eo.parseSsrcMedia(eA)}).filter(function(eA){return"msid"===eA.attribute});return en.length>0?{stream:(er=en[0].value.split(" "))[0],track:er[1]}:void 0},eo.generateSessionId=function(){return Math.random().toString().substr(2,21)},eo.writeSessionBoilerplate=function(eA,er,ei){var en=void 0!==er?er:2;return"v=0\r\no="+(ei||"thisisadapterortc")+" "+(eA||eo.generateSessionId())+" "+en+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},eo.writeMediaSection=function(eA,er,ei,en){var es=eo.writeRtpDescription(eA.kind,er);if(es+=eo.writeIceParameters(eA.iceGatherer.getLocalParameters())+eo.writeDtlsParameters(eA.dtlsTransport.getLocalParameters(),"offer"===ei?"actpass":"active")+"a=mid:"+eA.mid+"\r\n"+(eA.direction?"a="+eA.direction+"\r\n":eA.rtpSender&&eA.rtpReceiver?"a=sendrecv\r\n":eA.rtpSender?"a=sendonly\r\n":eA.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n"),eA.rtpSender){var ea="msid:"+en.id+" "+eA.rtpSender.track.id+"\r\n";es+="a="+ea+("a=ssrc:"+eA.sendEncodingParameters[0].ssrc)+" "+ea,eA.sendEncodingParameters[0].rtx&&(es+="a=ssrc:"+eA.sendEncodingParameters[0].rtx.ssrc+" "+ea+("a=ssrc-group:FID "+eA.sendEncodingParameters[0].ssrc+" ")+eA.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return es+="a=ssrc:"+eA.sendEncodingParameters[0].ssrc+" cname:"+eo.localCName+"\r\n",eA.rtpSender&&eA.sendEncodingParameters[0].rtx&&(es+="a=ssrc:"+eA.sendEncodingParameters[0].rtx.ssrc+" cname:"+eo.localCName+"\r\n"),es},eo.getDirection=function(eA,er){for(var ei=eo.splitLines(eA),en=0;en<ei.length;en++)switch(ei[en]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return ei[en].substr(2)}return er?eo.getDirection(er):"sendrecv"},eo.getKind=function(eA){return eo.splitLines(eA)[0].split(" ")[0].substr(2)},eo.isRejected=function(eA){return"0"===eA.split(" ",2)[1]},eo.parseMLine=function(eA){var er=eo.splitLines(eA)[0].substr(2).split(" ");return{kind:er[0],port:parseInt(er[1],10),protocol:er[2],fmt:er.slice(3).join(" ")}},eo.parseOLine=function(eA){var er=eo.matchPrefix(eA,"o=")[0].substr(2).split(" ");return{username:er[0],sessionId:er[1],sessionVersion:parseInt(er[2],10),netType:er[3],addressType:er[4],address:er[5]}},eo.isValidSDP=function(eA){if("string"!=typeof eA||0===eA.length)return!1;for(var er=eo.splitLines(eA),ei=0;ei<er.length;ei++)if(er[ei].length<2||"="!==er[ei].charAt(1))return!1;return!0},"object"==typeof er&&(er.exports=eo)},{}]},{},[1])(1)},9869:function(eA){"undefined"!=typeof self&&self,eA.exports=function(){var eA,er;return eA={24:function(eA,er,ei){"use strict";function eo(eA){return eA}ei.r(er),(ei=en=en||{}).LIVE_SEND_SIGNAL="zm.lv.ssg",ei.LIVE_RESPOND_JOIN_LIVE="zm.lv.rjl",ei.LIVE_PUSH_SIGNAL="zm.lv.pss",ei.SERVICE_PUSH="zm.sv.ps",ei.SERVICE_SEND="zm.sv.sd";var en,es={event:"/liveroom/send_end_join_live",to_user_id:eo,request_id:eo},ea={event:"/liveroom/send_invite_join_live",to_user_id:eo,request_id:eo},eg={event:"/liveroom/send_join_live_result",to_user_id:eo,request_id:eo,join_result:function(eA){return eA}},ec={event:"/liveroom/send_request_join_live",to_user_id:eo,request_id:eo},eu={code:1002014,msg:"room not exist"},el={code:1002099,msg:"room inner error"},ed=(eE.prototype.resetLiveHandler=function(){this.joinLiveCallbackMap={},this.joinLiveRequestMap={}},eE.prototype.getSignalCmdContent=function(eA,er,ei){return eA={request_id:eA,room_id:this.room.roomID,from_userid:this.stateCenter.idName,from_username:this.stateCenter.nickName,to_userid:er},null!=ei&&(eA.result=ei),JSON.stringify(eA)},eE.prototype.requestJoinLive=function(eA,er,ei,eo){var en,es=this.stateCenter.getRequestId(),ea=this.getSignalCmdContent(es,eA);return null!=eo&&(this.stateCenter.reporter.spanSetAttributes({key:ec.event,par:null==(en=this.room)?void 0:en.roomID},{request_id:ec.request_id(es)}),this.joinLiveCallbackMap[es]=eo,this.sendSignalCmd(1001,ea,eA,er,ei),!0)},eE.prototype.sendSignalCmd=function(eA,er,ei,eo,es){var ea=this;this.room.isLogin()?((this.stateCenter.useNetAgent?this.liveRoomHandler:this.service).sendSignalCmd({sub_cmd:eA,signal_msg:er,dest_id_name:[ei]},function(eA){eo&&eo(eA.header.seq)},function(eA){var er=el;eA.header&&eA.body?es&&es(ea.rtm.getServerError(eA.body.err_code),eA.header.seq):(eA.code&&eA.msg&&(er=eA),es&&es(er,0))},this.room),this.logger.info(en.LIVE_SEND_SIGNAL+" call success"+eA)):this.logger.error(en.LIVE_SEND_SIGNAL+" state error")},eE.prototype.inviteJoinLive=function(eA,er,ei,eo){var en,es=this.stateCenter.getRequestId(),eg=this.getSignalCmdContent(es,eA);return null!=eo&&(this.stateCenter.reporter.spanSetAttributes({key:ea.event,par:null==(en=this.room)?void 0:en.roomID},{request_id:ea.request_id(es)}),this.joinLiveCallbackMap[es]=eo,this.sendSignalCmd(1003,eg,eA,er,ei),!0)},eE.prototype.endJoinLive=function(eA,er,ei){var eo,en=this.stateCenter.getRequestId(),ea=this.getSignalCmdContent(en,eA);return this.stateCenter.reporter.spanSetAttributes({key:es.event,par:null==(eo=this.room)?void 0:eo.roomID},{request_id:es.request_id(en)}),this.sendSignalCmd(1004,ea,eA,er,ei),!0},eE.prototype.respondJoinLive=function(eA,er,ei,eo){var es=this.joinLiveRequestMap[eA];if(!es)return this.logger.info(en.LIVE_RESPOND_JOIN_LIVE+" no dest id name"),!1;this.stateCenter.reporter.spanSetAttributes({key:eg.event,par:null==(ea=this.room)?void 0:ea.roomID},{to_user_id:eg.to_user_id(es)});var ea=0;return er=this.getSignalCmdContent(eA,es,ea=!0===er?1:ea),this.sendSignalCmd(1002,er,es,ei,eo),delete this.joinLiveRequestMap[eA],!0},eE.prototype.handlePushSignalMsg=function(eA){var er=JSON.parse(eA.body.signal_msg);switch(this.logger.info(en.LIVE_PUSH_SIGNAL+" hpsm= ",er),eA.body.sub_cmd){case 11001:this.handlePushJoinLiveRequestMsg(er);break;case 11002:this.handlePushJoinLiveResultMsg(er);break;case 11003:this.handlePushJoinLiveInviteMsg(er);break;case 11004:this.handlePushJoinLiveStopMsg(er)}},eE.prototype.handlePushJoinLiveRequestMsg=function(eA){var er,ei=eA.request_id;"string"!=typeof ei?this.logger.error(en.LIVE_PUSH_SIGNAL+" no requestId"):"string"!=typeof(er=eA.from_userid)?this.logger.error(en.LIVE_PUSH_SIGNAL+" no from user"):(this.joinLiveRequestMap[ei]=er,this.onRecvJoinLiveRequest(ei,eA.from_userid,eA.from_username,eA.room_id),this.logger.info(en.LIVE_PUSH_SIGNAL+" onRecvJoinLiveRequest "+er))},eE.prototype.onRecvJoinLiveRequest=function(eA,er,ei,eo){this.stateCenter.actionListener("recvJoinLiveRequest",eA,er,ei,eo)},eE.prototype.handlePushJoinLiveInviteMsg=function(eA){var er,ei=eA.request_id;"string"!=typeof ei?this.logger.error(en.LIVE_PUSH_SIGNAL+"no requestId"):"string"!=typeof(er=eA.from_userid)?this.logger.error(en.LIVE_PUSH_SIGNAL+" no from user"):(this.joinLiveRequestMap[ei]=er,this.onRecvInviteJoinLiveRequest(ei,eA.from_userid,eA.from_username,eA.room_id),this.logger.info(en.LIVE_PUSH_SIGNAL+" onRecvInviteJoinLiveRequest "+er))},eE.prototype.onRecvInviteJoinLiveRequest=function(eA,er,ei,eo){this.stateCenter.actionListener("recvInviteJoinLiveRequest",eA,er,ei,eo)},eE.prototype.handlePushJoinLiveResultMsg=function(eA){var er,ei,eo=eA.request_id;"string"!=typeof eo?this.logger.error(en.LIVE_PUSH_SIGNAL+" no requestId"):null==(er=eA.result)?this.logger.info(en.LIVE_PUSH_SIGNAL+" no result"):(er=1==er,this.joinLiveCallbackMap[eo]&&((ei=this.joinLiveCallbackMap[eo])?(this.logger.info(en.LIVE_PUSH_SIGNAL+" joinLiveRequest/invite result "+er),delete this.joinLiveCallbackMap[eo],ei(er,eA.from_userid,eA.from_username)):this.logger.info(en.LIVE_PUSH_SIGNAL+" no callback")))},eE.prototype.handlePushJoinLiveStopMsg=function(eA){var er=eA.request_id;"string"!=typeof er?this.logger.error(en.LIVE_PUSH_SIGNAL+" no requestId"):(this.logger.info(en.LIVE_PUSH_SIGNAL+" onRecvEndJoinLiveCommand "+eA.from_userid),this.onRecvEndJoinLiveCommand(er,eA.from_userid,eA.from_username,eA.room_id))},eE.prototype.onRecvEndJoinLiveCommand=function(eA,er,ei,eo){this.stateCenter.actionListener("recvEndJoinLiveCommand",eA,er,ei,eo)},eE);function eE(eA,er,ei,eo,en,es){this.logger=eA,this.stateCenter=er,this.service=ei,this.liveRoomHandler=eo,this.rtm=en,this.room=es,this.joinLiveCallbackMap={},this.joinLiveRequestMap={}}var eI={requestJoinLive:function(eA,er,ei,eo,en){var es=this,ea=this.getMsgSpan(ec.event,en||(null==(eg=this.stateCenter.roomModulesList[0])?void 0:eg.roomID),!0),eg=this.getRoomModules(en)||this.stateCenter.roomModulesList[0];return eg?(ea.setAttributes({to_user_id:ec.to_user_id(eA)}),eg.liveHandler.requestJoinLive(eA,function(eA){ea.end(),er(eA)},function(eA,er){es.stateCenter.reporter.setError(ea,eA),ei(eA,er)},eo)):(this.stateCenter.reporter.setError(ea,eu),ei&&ei(eu,0),!1)},inviteJoinLive:function(eA,er,ei,eo,en){var es=this,eg=this.getMsgSpan(ea.event,en||(null==(ec=this.stateCenter.roomModulesList[0])?void 0:ec.roomID),!0),ec=this.getRoomModules(en)||this.stateCenter.roomModulesList[0];return ec?(eg.setAttributes({to_user_id:ea.to_user_id(eA)}),ec.liveHandler.inviteJoinLive(eA,function(eA){eg.end(),er(eA)},function(eA,er){es.stateCenter.reporter.setError(eg,eA),ei(eA,er)},eo)):(this.stateCenter.reporter.setError(eg,eu),ei&&ei(eu,0),!1)},endJoinLive:function(eA,er,ei,eo){var en=this,ea=this.getMsgSpan(es.event,eo||(null==(eg=this.stateCenter.roomModulesList[0])?void 0:eg.roomID),!0),eg=this.getRoomModules(eo)||this.stateCenter.roomModulesList[0];return eg?(ea.setAttributes({to_user_id:es.to_user_id(eA)}),eg.liveHandler.endJoinLive(eA,function(eA){ea.end(),er(eA)},function(eA,er){en.stateCenter.reporter.setError(ea,eA),ei(eA,er)})):(this.stateCenter.reporter.setError(ea,eu),ei&&ei(eu,0),!1)},respondJoinLive:function(eA,er,ei,eo,en){var es=this,ea=this.getMsgSpan(eg.event,en||(null==(ec=this.stateCenter.roomModulesList[0])?void 0:ec.roomID),!0),ec=this.getRoomModules(en)||this.stateCenter.roomModulesList[0];return ec?(ea.setAttributes({request_id:eg.request_id(eA),join_result:eg.join_result(er)}),ec.liveHandler.respondJoinLive(eA,er,function(eA){ea.end(),ei(eA)},function(eA,er){es.stateCenter.reporter.setError(ea,eA),eo(eA,er)})):(this.stateCenter.reporter.setError(ea,eu),eo&&eo(eu,0),!1)}},eC={handlePushSignalMsg:function(eA){var er=null==(ei=null==eA?void 0:eA.header)?void 0:ei.room_id,ei=this.stateCenter.roomModulesList.find(function(eA){return eA.roomID==er});ei?ei.liveHandler.handlePushSignalMsg(eA):this.logger.error(en.SERVICE_PUSH+" room no found ignore "+JSON.stringify(eA))}},eh={initLiveHandler:function(){this.liveHandler=new ed(this.logger,this.stateCenter,this.service,this.liveRoomHandler,this.rtm,this)}};er.default={type:"live",install:function(eA,er,ei,eo){for(var en in eI)Object.defineProperty(eA.prototype,en,{value:eI[en],writable:!1});for(var en in eC)Object.defineProperty(ei.prototype,en,{value:eC[en],writable:!1}),Object.defineProperty(eo.prototype,en,{value:eC[en],writable:!1});for(var en in eh)Object.defineProperty(er.prototype,en,{value:eh[en],writable:!1})}}}},er={},ei.m=eA,ei.c=er,ei.d=function(eA,er,eo){ei.o(eA,er)||Object.defineProperty(eA,er,{enumerable:!0,get:eo})},ei.r=function(eA){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(eA,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(eA,"__esModule",{value:!0})},ei.t=function(eA,er){if(1&er&&(eA=ei(eA)),8&er||4&er&&"object"==typeof eA&&eA&&eA.__esModule)return eA;var eo=Object.create(null);if(ei.r(eo),Object.defineProperty(eo,"default",{enumerable:!0,value:eA}),2&er&&"string"!=typeof eA)for(var en in eA)ei.d(eo,en,(function(er){return eA[er]}).bind(null,en));return eo},ei.n=function(eA){var er=eA&&eA.__esModule?function(){return eA.default}:function(){return eA};return ei.d(er,"a",er),er},ei.o=function(eA,er){return Object.prototype.hasOwnProperty.call(eA,er)},ei.p="",ei(ei.s=24);function ei(eo){if(er[eo])return er[eo].exports;var en=er[eo]={i:eo,l:!1,exports:{}};return eA[eo].call(en.exports,en,en.exports,ei),en.l=!0,en.exports}}()},3126:function(eA){"undefined"!=typeof self&&self,eA.exports=function(){var eA,er;return eA={1:function(eA,er,ei){var eo=function(eA){"use strict";Object.defineProperty(eA,"__esModule",{value:!0}),eA.default=void 0;var er=null;try{er=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(eA){}function ei(eA,er,ei){this.low=0|eA,this.high=0|er,this.unsigned=!!ei}function eo(eA){return!0===(eA&&eA.__isLong__)}function en(eA){var er=Math.clz32(eA&-eA);return eA?31-er:er}Object.defineProperty(ei.prototype,"__isLong__",{value:!0}),ei.isLong=eo;var es={},ea={};function eg(eA,er){var ei,eo,en;return er?(en=0<=(eA>>>=0)&&eA<256)&&(eo=ea[eA])?eo:(ei=eu(eA,0,!0),en&&(ea[eA]=ei),ei):(en=-128<=(eA|=0)&&eA<128)&&(eo=es[eA])?eo:(ei=eu(eA,eA<0?-1:0,!1),en&&(es[eA]=ei),ei)}function ec(eA,er){if(isNaN(eA))return er?ef:ep;if(er){if(eA<0)return ef;if(eC<=eA)return ey}else{if(eA<=-eh)return eS;if(eh<=eA+1)return e_}return eA<0?ec(-eA,er).neg():eu(eA%eI|0,eA/eI|0,er)}function eu(eA,er,eo){return new ei(eA,er,eo)}ei.fromInt=eg,ei.fromNumber=ec,ei.fromBits=eu;var el=Math.pow;function ed(eA,er,ei){if(0===eA.length)throw Error("empty string");if(er="number"==typeof er?(ei=er,!1):!!er,"NaN"===eA||"Infinity"===eA||"+Infinity"===eA||"-Infinity"===eA)return er?ef:ep;if((ei=ei||10)<2||36<ei)throw RangeError("radix");if(0<(eo=eA.indexOf("-")))throw Error("interior hyphen");if(0===eo)return ed(eA.substring(1),er,ei).neg();for(var eo,en=ec(el(ei,8)),es=ep,ea=0;ea<eA.length;ea+=8){var eg=Math.min(8,eA.length-ea),eu=parseInt(eA.substring(ea,ea+eg),ei);es=eg<8?(eg=ec(el(ei,eg)),es.mul(eg).add(ec(eu))):(es=es.mul(en)).add(ec(eu))}return es.unsigned=er,es}function eE(eA,er){return"number"==typeof eA?ec(eA,er):"string"==typeof eA?ed(eA,er):eu(eA.low,eA.high,"boolean"==typeof er?er:eA.unsigned)}ei.fromString=ed,ei.fromValue=eE;var eI=4294967296,eC=18446744073709552e3,eh=18446744073709552e3/2,eB=eg(16777216),ep=eg(0),ef=(ei.ZERO=ep,eg(0,!0)),em=(ei.UZERO=ef,eg(1)),eQ=(ei.ONE=em,eg(1,!0)),ev=(ei.UONE=eQ,eg(-1)),e_=(ei.NEG_ONE=ev,eu(-1,2147483647,!1)),ey=(ei.MAX_VALUE=e_,eu(-1,-1,!0)),eS=(ei.MAX_UNSIGNED_VALUE=ey,eu(0,-2147483648,!1)),eR=(ei.MIN_VALUE=eS,ei.prototype);return eR.toInt=function(){return this.unsigned?this.low>>>0:this.low},eR.toNumber=function(){return this.unsigned?(this.high>>>0)*eI+(this.low>>>0):this.high*eI+(this.low>>>0)},eR.toString=function(eA){if((eA=eA||10)<2||36<eA)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())return this.eq(eS)?(ei=ec(eA),ei=(er=this.div(ei)).mul(ei).sub(this),er.toString(eA)+ei.toInt().toString(eA)):"-"+this.neg().toString(eA);for(var er,ei,eo=ec(el(eA,6),this.unsigned),en=this,es="";;){var ea=en.div(eo),eg=(en.sub(ea.mul(eo)).toInt()>>>0).toString(eA);if((en=ea).isZero())return eg+es;for(;eg.length<6;)eg="0"+eg;es=""+eg+es}},eR.getHighBits=function(){return this.high},eR.getHighBitsUnsigned=function(){return this.high>>>0},eR.getLowBits=function(){return this.low},eR.getLowBitsUnsigned=function(){return this.low>>>0},eR.getNumBitsAbs=function(){if(this.isNegative())return this.eq(eS)?64:this.neg().getNumBitsAbs();for(var eA=0!=this.high?this.high:this.low,er=31;0<er&&0==(eA&1<<er);er--);return 0!=this.high?er+33:er+1},eR.isZero=function(){return 0===this.high&&0===this.low},eR.eqz=eR.isZero,eR.isNegative=function(){return!this.unsigned&&this.high<0},eR.isPositive=function(){return this.unsigned||0<=this.high},eR.isOdd=function(){return 1==(1&this.low)},eR.isEven=function(){return 0==(1&this.low)},eR.equals=function(eA){return eo(eA)||(eA=eE(eA)),(this.unsigned===eA.unsigned||this.high>>>31!=1||eA.high>>>31!=1)&&this.high===eA.high&&this.low===eA.low},eR.eq=eR.equals,eR.notEquals=function(eA){return!this.eq(eA)},eR.neq=eR.notEquals,eR.ne=eR.notEquals,eR.lessThan=function(eA){return 0>this.comp(eA)},eR.lt=eR.lessThan,eR.lessThanOrEqual=function(eA){return 0>=this.comp(eA)},eR.lte=eR.lessThanOrEqual,eR.le=eR.lessThanOrEqual,eR.greaterThan=function(eA){return 0<this.comp(eA)},eR.gt=eR.greaterThan,eR.greaterThanOrEqual=function(eA){return 0<=this.comp(eA)},eR.gte=eR.greaterThanOrEqual,eR.ge=eR.greaterThanOrEqual,eR.compare=function(eA){if(eo(eA)||(eA=eE(eA)),this.eq(eA))return 0;var er=this.isNegative(),ei=eA.isNegative();return er&&!ei?-1:!er&&ei?1:this.unsigned?eA.high>>>0>this.high>>>0||eA.high===this.high&&eA.low>>>0>this.low>>>0?-1:1:this.sub(eA).isNegative()?-1:1},eR.comp=eR.compare,eR.negate=function(){return!this.unsigned&&this.eq(eS)?eS:this.not().add(em)},eR.neg=eR.negate,eR.add=function(eA){eo(eA)||(eA=eE(eA));var er,ei,en=0,es=0;return er=0+((es=0+((ei=0+((65535&this.low)+(65535&eA.low)))>>>16)+((this.low>>>16)+(eA.low>>>16)))>>>16),eu((es&=65535)<<16|(ei&=65535),((en+=(er+=(65535&this.high)+(65535&eA.high))>>>16)+((this.high>>>16)+(eA.high>>>16))&65535)<<16|(er&=65535),this.unsigned)},eR.subtract=function(eA){return eo(eA)||(eA=eE(eA)),this.add(eA.neg())},eR.sub=eR.subtract,eR.multiply=function(eA){if(this.isZero())return this;if(eo(eA)||(eA=eE(eA)),er)return eu(er.mul(this.low,this.high,eA.low,eA.high),er.get_high(),this.unsigned);if(eA.isZero())return this.unsigned?ef:ep;if(this.eq(eS))return eA.isOdd()?eS:ep;if(eA.eq(eS))return this.isOdd()?eS:ep;if(this.isNegative())return eA.isNegative()?this.neg().mul(eA.neg()):this.neg().mul(eA).neg();if(eA.isNegative())return this.mul(eA.neg()).neg();if(this.lt(eB)&&eA.lt(eB))return ec(this.toNumber()*eA.toNumber(),this.unsigned);var ei,en=65535&this.high,es=this.low>>>16,ea=65535&this.low,eg=eA.high>>>16,el=65535&eA.high,ed=eA.low>>>16,eI=0,eC=0,eh=(eh=0)+((eC=0+((ei=0+ea*(eA=65535&eA.low))>>>16)+es*eA)>>>16)+((eC=(65535&eC)+ea*ed)>>>16);return eu((eC&=65535)<<16|(ei&=65535),((eI+=(eh+=en*eA)>>>16)+((eh=(65535&eh)+es*ed)>>>16)+((eh=(65535&eh)+ea*el)>>>16)+((this.high>>>16)*eA+en*ed+es*el+ea*eg)&65535)<<16|(eh&=65535),this.unsigned)},eR.mul=eR.multiply,eR.divide=function(eA){if((eA=eo(eA)?eA:eE(eA)).isZero())throw Error("division by zero");if(er)return this.unsigned||-2147483648!==this.high||-1!==eA.low||-1!==eA.high?eu((this.unsigned?er.div_u:er.div_s)(this.low,this.high,eA.low,eA.high),er.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?ef:ep;if(this.unsigned){if((eA=eA.unsigned?eA:eA.toUnsigned()).gt(this))return ef;if(eA.gt(this.shru(1)))return eQ;en=ef}else{if(this.eq(eS))return eA.eq(em)||eA.eq(ev)?eS:eA.eq(eS)?em:(es=this.shr(1).div(eA).shl(1)).eq(ep)?eA.isNegative()?em:ev:(ei=this.sub(eA.mul(es)),es.add(ei.div(eA)));if(eA.eq(eS))return this.unsigned?ef:ep;if(this.isNegative())return eA.isNegative()?this.neg().div(eA.neg()):this.neg().div(eA).neg();if(eA.isNegative())return this.div(eA.neg()).neg();en=ep}for(ei=this;ei.gte(eA);){es=Math.max(1,Math.floor(ei.toNumber()/eA.toNumber()));for(var ei,en,es,ea=Math.ceil(Math.log(es)/Math.LN2),eg=ea<=48?1:el(2,ea-48),ed=ec(es),eI=ed.mul(eA);eI.isNegative()||eI.gt(ei);)eI=(ed=ec(es-=eg,this.unsigned)).mul(eA);ed.isZero()&&(ed=em),en=en.add(ed),ei=ei.sub(eI)}return en},eR.div=eR.divide,eR.modulo=function(eA){return eo(eA)||(eA=eE(eA)),er?eu((this.unsigned?er.rem_u:er.rem_s)(this.low,this.high,eA.low,eA.high),er.get_high(),this.unsigned):this.sub(this.div(eA).mul(eA))},eR.mod=eR.modulo,eR.rem=eR.modulo,eR.not=function(){return eu(~this.low,~this.high,this.unsigned)},eR.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},eR.clz=eR.countLeadingZeros,eR.countTrailingZeros=function(){return this.low?en(this.low):en(this.high)+32},eR.ctz=eR.countTrailingZeros,eR.and=function(eA){return eo(eA)||(eA=eE(eA)),eu(this.low&eA.low,this.high&eA.high,this.unsigned)},eR.or=function(eA){return eo(eA)||(eA=eE(eA)),eu(this.low|eA.low,this.high|eA.high,this.unsigned)},eR.xor=function(eA){return eo(eA)||(eA=eE(eA)),eu(this.low^eA.low,this.high^eA.high,this.unsigned)},eR.shiftLeft=function(eA){return eo(eA)&&(eA=eA.toInt()),0==(eA&=63)?this:eA<32?eu(this.low<<eA,this.high<<eA|this.low>>>32-eA,this.unsigned):eu(0,this.low<<eA-32,this.unsigned)},eR.shl=eR.shiftLeft,eR.shiftRight=function(eA){return eo(eA)&&(eA=eA.toInt()),0==(eA&=63)?this:eA<32?eu(this.low>>>eA|this.high<<32-eA,this.high>>eA,this.unsigned):eu(this.high>>eA-32,0<=this.high?0:-1,this.unsigned)},eR.shr=eR.shiftRight,eR.shiftRightUnsigned=function(eA){return eo(eA)&&(eA=eA.toInt()),0==(eA&=63)?this:eA<32?eu(this.low>>>eA|this.high<<32-eA,this.high>>>eA,this.unsigned):eu(32===eA?this.high:this.high>>>eA-32,0,this.unsigned)},eR.shru=eR.shiftRightUnsigned,eR.shr_u=eR.shiftRightUnsigned,eR.rotateLeft=function(eA){var er;return eo(eA)&&(eA=eA.toInt()),0==(eA&=63)?this:32===eA?eu(this.high,this.low,this.unsigned):eA<32?eu(this.low<<eA|this.high>>>(er=32-eA),this.high<<eA|this.low>>>er,this.unsigned):eu(this.high<<(eA-=32)|this.low>>>(er=32-eA),this.low<<eA|this.high>>>er,this.unsigned)},eR.rotl=eR.rotateLeft,eR.rotateRight=function(eA){var er;return eo(eA)&&(eA=eA.toInt()),0==(eA&=63)?this:32===eA?eu(this.high,this.low,this.unsigned):eA<32?eu(this.high<<(er=32-eA)|this.low>>>eA,this.low<<er|this.high>>>eA,this.unsigned):eu(this.low<<(er=32-(eA-=32))|this.high>>>eA,this.high<<er|this.low>>>eA,this.unsigned)},eR.rotr=eR.rotateRight,eR.toSigned=function(){return this.unsigned?eu(this.low,this.high,!1):this},eR.toUnsigned=function(){return this.unsigned?this:eu(this.low,this.high,!0)},eR.toBytes=function(eA){return eA?this.toBytesLE():this.toBytesBE()},eR.toBytesLE=function(){var eA=this.high,er=this.low;return[255&er,er>>>8&255,er>>>16&255,er>>>24,255&eA,eA>>>8&255,eA>>>16&255,eA>>>24]},eR.toBytesBE=function(){var eA=this.high,er=this.low;return[eA>>>24,eA>>>16&255,eA>>>8&255,255&eA,er>>>24,er>>>16&255,er>>>8&255,255&er]},ei.fromBytes=function(eA,er,eo){return eo?ei.fromBytesLE(eA,er):ei.fromBytesBE(eA,er)},ei.fromBytesLE=function(eA,er){return new ei(eA[0]|eA[1]<<8|eA[2]<<16|eA[3]<<24,eA[4]|eA[5]<<8|eA[6]<<16|eA[7]<<24,er)},ei.fromBytesBE=function(eA,er){return new ei(eA[4]<<24|eA[5]<<16|eA[6]<<8|eA[7],eA[0]<<24|eA[1]<<16|eA[2]<<8|eA[3],er)},eA.default=ei,"default"in eA?eA.default:eA}({});void 0!==(er=(function(){return eo}).apply(er,[]))&&(eA.exports=er)},23:function(eA,er,ei){"use strict";function eo(eA){return eA}function en(eA){return eA}function es(eA){return eA}ei.r(er),(el=ea=ea||{}).RTM_SEND_CUSTOM="zm.scc",el.RTM_SEND_BCM="zm.sbcm",el.RTM_SEND_RLM="zm.srlm",el.RTM_SEND_BRM="zm.sbrm",el.RTM_SEND_RAM="zm.sram",el.MESSAGE_SEND_RELIABLE="zm.msg.sdr",el.MESSAGE_FETCH_RELIABLE="zm.msg.frm",el.MESSAGE_RELIABLE_RSP="zm.msg.rlr",el.MESSAGE_RELIABLE_PUSH="zm.msg.rps",el.MESSAGE_SEND_ROOM_MSG="zm.msg.srm",el.MESSAGE_SEND_CUSTOM_MSG="zm.msg.scm",el.MESSAGE_SEND_BIG_MSG="zm.msg.sbm",el.MESSAGE_BIG_MSG_PUSH="zm.msg.bps",el.MESSAGE_SEND_RELAY_MSG="zm.msg.slm",el.SERVICE_PUSH="zm.sv.ps";var ea,eg,ec={INPUT_PARAM:{code:1100001,msg:"input parm error."},TIMEOUT:{code:1100002,msg:"network timeout."},NOT_LOGIN:{code:1000002,msg:"not login"},IM_CONTENT_NULL:{code:1009001,msg:"message content is empty"},IM_CONTENT_TOO_LONG:{code:1009002,msg:"message content is too long"},IM_SEND_FAILED:{code:1009010,msg:"failed to send message"},ROOM_NOT_EXIST:{code:1002014,msg:"room not exist"},ROOM_INNER_ERROR:{code:1002099,msg:"room inner error"},TRANS_FREQUENTLY:{code:1102022,msg:"trans send frequently"},FREQ_LIMITED:{code:1109001,msg:"frequency limited."}},eu={kZMLoginRoom:{event:"/sdk/login"},kZMLiveSendRoomBigIM:{event:"/liveroom/send_big_room_message",room_sid_string:eo,error:{INPUT_PARAM:ec.INPUT_PARAM,IM_CONTENT_NULL:ec.IM_CONTENT_NULL,IM_CONTENT_TOO_LONG:ec.IM_CONTENT_TOO_LONG,ROOM_NOT_EXIST:ec.ROOM_NOT_EXIST}},kZMRoomSendCustomCommand:{event:"/liveroom/send_custom_command",room_sid_string:eo,request_id:en,error:{INPUT_PARAM:ec.INPUT_PARAM,IM_CONTENT_NULL:ec.IM_CONTENT_NULL,IM_CONTENT_TOO_LONG:ec.IM_CONTENT_TOO_LONG,ROOM_NOT_EXIST:ec.ROOM_NOT_EXIST}},kZMRoomSendRoomMessage:{event:"/liveroom/send_room_message",room_id:en,room_sid_string:en,msg_content_size:es,send_seq:es,msg_id:es,error:{INPUT_PARAM:ec.INPUT_PARAM,IM_CONTENT_NULL:ec.IM_CONTENT_NULL,IM_CONTENT_TOO_LONG:ec.IM_CONTENT_TOO_LONG,ROOM_NOT_EXIST:ec.ROOM_NOT_EXIST}},kZMRoomSendRoomExtraInfo:{event:"/liveroom/set_room_extrainfo",room_id:en,room_sid_string:eo,key:en,value:en,error:{INPUT_PARAM:ec.INPUT_PARAM,TRANS_FREQUENTLY:ec.TRANS_FREQUENTLY,ROOM_NOT_EXIST:ec.ROOM_NOT_EXIST}},kZMRoomGetRoomExtraInfo:{event:"/liveroom/get_room_extrainfo",fetch_array:eo,result_array:eo,error:{INPUT_PARAM:ec.INPUT_PARAM,TRANS_FREQUENTLY:ec.TRANS_FREQUENTLY,ROOM_NOT_EXIST:ec.ROOM_NOT_EXIST}},kZMRoomRecvRoomExtraInfo:{event:"/liveroom/recv_room_extrainfo",trans_type:en,trans_seq:es,error:{ROOM_NOT_EXIST:ec.ROOM_NOT_EXIST}},kZMLiveRecvRoomBigIM:{event:"/liveroom/recv_big_room_message",error:{ROOM_NOT_EXIST:ec.ROOM_NOT_EXIST}},kZMRoomGetRoomMessage:{event:"/liveroom/recv_room_message",error:{ROOM_NOT_EXIST:ec.ROOM_NOT_EXIST}},kZMRoomRecvCustomCommand:{event:"/liveroom/recv_custom_command",error:{ROOM_NOT_EXIST:ec.ROOM_NOT_EXIST}}},el=((el=eg=eg||{})[el.I=0]="I",el[el.H=10]="H",el[el.M=100]="M",el[el.L=1e3]="L",ei(1)),ed=ei.n(el),eE=(eI.prototype.loginRsp=function(eA){var er,ei=this;if(null!=eA.body.ret_timestamp&&"string"==typeof eA.body.ret_timestamp&&(er=parseFloat(eA.body.ret_timestamp),this.serverTimeOffset=0==er?0:eA.body.ret_timestamp-(new Date).getTime()),eA.body.bigim_time_window&&"number"==typeof eA.body.bigim_time_window&&(this.bigimTimeWindow=eA.body.bigim_time_window),eA.body.dati_time_window&&"number"==typeof eA.body.dati_time_window&&(this.datiTimeWindow=eA.body.dati_time_window),eA.body.trans_seqs)for(var eo=0;eo<eA.body.trans_seqs.length;eo++){var en=eA.body.trans_seqs[eo].trans_channel,es=eA.body.trans_seqs[eo].trans_seq_array;0<(es=(es=es.filter(function(eA){var er=eA.trans_type;return eA=eA.trans_seq,!ei.transSeqMap[er]||ei.transSeqMap[er].seq<eA})).map(function(eA){return{trans_type:eA.trans_type,trans_local_seq:eA.trans_seq}})).length&&this.fetchReliableMessage(en,es)}},eI.prototype.sendReliableMessage=function(eA,er,ei,eo){var en=this;this.logger.info(ea.MESSAGE_SEND_RELIABLE+" call"),this.room.isLogin()?this.isReliable?(this.logger.error(ea.MESSAGE_SEND_RELIABLE+" send too often"),eo(eu.kZMRoomSendRoomExtraInfo.error.TRANS_FREQUENTLY)):(this.transSeqMap[eA]||(this.transSeqMap[eA]={seq:0}),er={trans_type:eA,trans_data:er,trans_local_seq:this.transSeqMap[eA].seq,trans_channel:"clt"},this.isReliable=!0,(this.stateCenter.useNetAgent?this.liveRoomHandler:this.service).sendReliableMessage(er,function(er){en.transSeqMap[eA].seq=er.body.trans_seq,en.logger.info(ea.MESSAGE_SEND_RELIABLE+" trans "+eA+" seq "+er.body.trans_seq),en.isReliable=!1,ei({seq:er.header.seq,errorCode:0})},function(eA){var er=ec.ROOM_INNER_ERROR;eA.body&&eA.body.err_code?(er=en.rtm.getServerError(eA.body.err_code),en.logger.error(ea.MESSAGE_SEND_ROOM_MSG+"  "+er.msg)):er=eA,en.isReliable=!1,eo(er)},this.room)):(this.logger.error(ea.MESSAGE_SEND_RELIABLE+" state error"),eo&&eo(ec.NOT_LOGIN))},eI.prototype.fetchReliableMessage=function(eA,er){function ei(eA){eo.handleFetchTransRsp(eA,en)}var eo=this,en=(eA={trans_channel:eA,fetch_array:er},this.stateCenter.reporter.createSpan(eg.H,{key:eu.kZMLoginRoom.event,par:this.room.roomID},{key:""},eu.kZMRoomGetRoomExtraInfo.event));en.setAttributes({fetch_array:eu.kZMRoomGetRoomExtraInfo.fetch_array(er)}),(this.stateCenter.useNetAgent?this.liveRoomHandler:this.service).fetchReliableMessage(eA,ei,ei,this.room),this.logger.info(ea.MESSAGE_FETCH_RELIABLE+" call success")},eI.prototype.handleFetchTransRsp=function(eA,er){if(eA.body&&0!=eA.body.err_code)this.logger.error(ea.MESSAGE_RELIABLE_RSP+" trans send error "+eA.body.err_code),this.stateCenter.tracer.setError(er,{code:eA.body.err_code});else if(eA.header&&eA.body){var ei=eA.body.trans_fetch_results,eo=[],en=[];if(Array.isArray(ei)&&0<ei.length){for(var es=0;es<ei.length;es++){var eg,el,ed=ei[es];1000001109===ed.err_code?this.logger.warn(ea.MESSAGE_RELIABLE_RSP+" fetch trans unknown type "+ed.err_code):(en.push({trans_type:eg=ed.trans_type,trans_seq:el=ed.trans_seq}),1000001110===ed.err_code?(this.logger.warn(ea.MESSAGE_RELIABLE_RSP+" fetch trans seq is wrong "+ed.err_code),this.transSeqMap[eg]={seq:el}):!this.transSeqMap[eg]||this.transSeqMap[eg].seq<el?(this.transSeqMap[eg]={seq:el},eo.push(ed)):this.logger.warn(ea.MESSAGE_RELIABLE_RSP+" fetch trans seq wrong"))}0<eo.length&&this.onRecvReliableMessage(eo)}er.setAttributes({result_array:eu.kZMRoomGetRoomExtraInfo.result_array(en)}),er.end()}else this.logger.error(ea.MESSAGE_RELIABLE_RSP+" trans send error "+eA),this.stateCenter.tracer.setError(er,ec.TIMEOUT)},eI.prototype.handlePushTransMsg=function(eA){var er,ei=eA.body.trans_type,eo=eA.body.trans_seq;!this.transSeqMap[ei]||this.transSeqMap[ei].seq<eo?(this.transSeqMap[ei]={seq:eo},(null==(er=null==eA?void 0:eA.body)?void 0:er.trans_idname)!==this.stateCenter.idName?this.onRecvReliableMessage([eA.body]):this.logger.warn(ea.MESSAGE_RELIABLE_PUSH+" id name same")):this.logger.warn(ea.MESSAGE_RELIABLE_PUSH+" trans seq wrong"),this.logger.info(ea.MESSAGE_RELIABLE_PUSH+" trans "+ei+" seq "+eo)},eI.prototype.sendRoomMsg=function(eA,er,ei,eo,en,es){var eg=this;if(!this.room.isLogin())return this.logger.error(ea.MESSAGE_SEND_ROOM_MSG+" state error"),es(ec.NOT_LOGIN),!1;var el=Date.parse(new Date+"");return 0<this.sendRoomMsgTime&&this.sendRoomMsgTime+this.sendRoomMsgInterval>el?(this.logger.info(ea.MESSAGE_SEND_ROOM_MSG+" freq error"),es&&es(ec.FREQ_LIMITED,0,eA,eo),!1):(this.sendRoomMsgTime=el,el=(this.stateCenter.useNetAgent?this.liveRoomHandler:this.service).sendRoomMsg({msg_category:eA,msg_type:1,msg_priority:1,msg_content:eo},function(eA){en({seq:eA.header.seq,errorCode:0,messageID:eA.body.msg_id})},function(eA){var er,ei,eo=ec.ROOM_INNER_ERROR;eA.header&&eA.body?(ei=(er=[eg.rtm.getServerError(eA.body.err_code),eA.body.msg_id])[1],eg.logger.error(ea.MESSAGE_SEND_ROOM_MSG+"  "+(eo=er[0]).msg),es({seq:eA.header.seq,errorCode:(eo=eo==ec.TIMEOUT?ec.IM_SEND_FAILED:eo).code,messageID:ei})):(eA.code&&eA.msg&&(eo=eA),es({seq:0,errorCode:eo.code,messageID:0}))},this.room),this.stateCenter.reporter.spanSetAttributes({key:eu.kZMRoomSendRoomMessage.event,par:null==(eA=this.room)?void 0:eA.roomID},{send_seq:eu.kZMRoomSendRoomMessage.send_seq(el)}),this.logger.info(ea.MESSAGE_SEND_ROOM_MSG+"  call success"),!0)},eI.prototype.handlePushRoomMsg=function(eA){var er,ei=[];this.stateCenter.useNetAgent?(er=eA.body.msg_data,eA.body.msg_data.forEach(function(eA){eA={fromUser:{userID:eA.id_name,userName:eA.nick_name},message:eA.msg_content,sendTime:eA.send_time.toNumber(),messageID:eA.msg_id.toNumber()},ei.push(eA)}),eA.body.server_msg_id=eA.body.server_msg_id.toNumber(),eA.body.ret_msg_id=eA.body.ret_msg_id.toNumber()):(er=eA.body.chat_data,eA.body.chat_data.forEach(function(eA){ei.push(eA={fromUser:{userID:eA.id_name,userName:eA.nick_name},message:eA.msg_content,sendTime:eA.send_time,messageID:eA.msg_id})})),this.stateCenter.actionListener("IMRecvBroadcastMessage",this.room.roomID,ei),this.stateCenter.actionListener("_recvRoomMsg",er,eA.body.server_msg_id,eA.body.ret_msg_id)},eI.prototype.sendCustomCommand=function(eA,er,ei,eo){var en=this;if(!this.room.isLogin())return this.logger.error(ea.MESSAGE_SEND_CUSTOM_MSG+" state error"),eo(ec.NOT_LOGIN),!1;er={from_userid:this.stateCenter.idName,from_username:this.stateCenter.nickName,request_id:this.stateCenter.getRequestId(),custom_content:er||"",room_id:this.room.roomID};var es=(this.stateCenter.reporter.spanSetAttributes({key:eu.kZMRoomSendCustomCommand.event,par:null==(es=this.room)?void 0:es.roomID},{request_id:eu.kZMRoomSendCustomCommand.request_id(er.request_id)}),{dest_id_name:eA,custom_msg:JSON.stringify(er)});return(this.stateCenter.useNetAgent?this.liveRoomHandler:this.service).sendCustomCommand(es,function(eA){ei({seq:eA.header.seq,errorCode:0})},function(eA){var er,ei=en.rtm.getServerError(eA.body.err_code);en.logger.error(ea.MESSAGE_SEND_CUSTOM_MSG+" "+ei.msg),er=2===(null==(er=eA.body)?void 0:er.err_code)?ec.INPUT_PARAM:ei==ec.TIMEOUT?ec.IM_SEND_FAILED:ei,eo({seq:eA.header.seq,errorCode:er.code,code:er.code})},this.room),this.logger.info(ea.MESSAGE_SEND_CUSTOM_MSG+" call success"),!0},eI.prototype.handlePushCustomMsg=function(eA){eA=[(eA=JSON.parse(eA.body.custommsg)).from_userid,eA.from_username,eA.room_id,eA.custom_content],this.stateCenter.actionListener("IMRecvCustomCommand",eA[2],{userID:eA[0],userName:eA[1]},eA[3])},eI.prototype.sendBigRoomMessage=function(eA,er,ei,eo,en,es){var eg,eu,el,ed,eE=this;this.room.isLogin()?(eg=this.bigimTimeWindow,eu=this.serverTimeOffset,el=(new Date).getTime()+eu,ed=this.rtm.getSeq().toString(),this.bigImCallbackMap[ed]={success:en,error:es},0==eg?this.sendBigRoomMessageInternal([{msg_category:eA,msg_type:1,msg_content:eo,bigmsg_client_id:ed}],function(eA){eE.handleBigImMsgRsp(eA)},function(eA){es&&es(eA)}):(en=Math.floor(el/eg),this.bigImLastTimeIndex<en&&0==this.bigIMmessageList.length?(this.bigImLastTimeIndex=en,this.sendBigRoomMessageInternal([{msg_category:eA,msg_type:1,msg_content:eo,bigmsg_client_id:ed}],function(eA){eE.handleBigImMsgRsp(eA)},function(eA){es&&es(eA)})):(this.bigIMmessageList.push({msg_category:eA,msg_type:1,msg_content:eo,bigmsg_client_id:ed}),1==this.bigIMmessageList.length&&this.setBigImTimer(eu,eg)))):(this.logger.error(ea.MESSAGE_SEND_BIG_MSG+" state error"),es&&es(ec.NOT_LOGIN))},eI.prototype.sendBigRoomMessageInternal=function(eA,er,ei){(this.stateCenter.useNetAgent?this.liveRoomHandler:this.service).sendBigRoomMessage({msgs:eA},function(eA){er(eA)},function(eA){var er=ec.ROOM_INNER_ERROR;eA.header&&eA.body||(eA.code&&eA.msg&&(er=eA),ei(er)),ei(er)},this.room),this.logger.info(ea.MESSAGE_SEND_BIG_MSG+" sendBigRoomMessage called")},eI.prototype.handleBigImMsgRsp=function(eA){this.bigimTimeWindow=eA.body.bigim_time_window;for(var er=0;er<eA.body.msgs.length;er++){var ei,eo=eA.body.msgs[er].bigmsg_client_id;this.bigImCallbackMap[eo]&&(null!=(ei=this.bigImCallbackMap[eo].success)&&ei({seq:eA.header.seq,errorCode:0,messageID:eA.body.msgs[er].bigmsg_id}),delete this.bigImCallbackMap[eo])}},eI.prototype.setBigImTimer=function(eA,er){var ei=this;eA=er-((new Date).getTime()+eA)%er,er=this.rtm.generateRandumNumber(er)+eA,this.bigImTimer=setTimeout(function(){ei.onBigImTimer()},er)},eI.prototype.onBigImTimer=function(){for(var eA=this,er=(new Date).getTime()+this.serverTimeOffset,ei=(this.bigImLastTimeIndex=Math.floor(er/this.bigimTimeWindow),[]),eo=[],en=0;en<this.bigIMmessageList.length&&!(20<=en);en++){var es=this.bigIMmessageList[en];ei.push({msg_category:es.msg_category,msg_type:es.msg_type,msg_content:es.msg_content,bigmsg_client_id:es.bigmsg_client_id}),eo.push(es.bigmsg_client_id)}20<this.bigIMmessageList.length?this.bigIMmessageList.splice(0,20):this.bigIMmessageList=[],this.sendBigRoomMessageInternal(ei,function(er){eA.handleBigImMsgRsp(er)},function(er,ei){for(var en=0;en<eo.length;en++){var es=eo[en],ea=eA.bigImCallbackMap[es];ea&&(null!=ea.error&&ea.error(er,ei),delete eA.bigImCallbackMap[es])}}),this.bigImTimer&&clearTimeout(this.bigImTimer),this.bigImTimer=null,0<this.bigIMmessageList.length&&this.setBigImTimer(this.serverTimeOffset,this.bigimTimeWindow)},eI.prototype.handlePushMergeMsg=function(eA){for(var er=0;er<eA.body.messages.length;er++)14001!==eA.body.messages[er].sub_cmd&&"/lr/push/bigim_chat"!==eA.body.messages[er].sub_cmd||this.handlePushBigRooMsg(eA.body.messages[er].msg_body)},eI.prototype.handlePushBigRooMsg=function(eA){var er;if("string"==typeof eA)try{er=JSON.parse(eA)}catch(eA){return void this.logger.warn(ea.MESSAGE_BIG_MSG_PUSH+"parse json error")}else er=eA;if(er){eA=er.room_id;for(var ei=[],eo=0;eo<er.msg_data.length;eo++){var en=er.msg_data[eo];en.id_name==this.stateCenter.idName?this.logger.info(ea.MESSAGE_BIG_MSG_PUSH+" self message"):ei.push({idName:en.id_name,nickName:en.nick_name,messageId:en.bigmsg_id,category:en.msg_category,type:en.msg_type,content:en.msg_content,time:en.send_time||ed.a.isLong(en.msg_timestamp)&&en.msg_timestamp.toNumber()})}0==ei.length?this.logger.info(ea.MESSAGE_BIG_MSG_PUSH+" no other pushData except self"):this.onRecvBigRoomMessage(ei,eA),this.logger.info(ea.MESSAGE_BIG_MSG_PUSH+"call success")}else this.logger.warn(ea.MESSAGE_BIG_MSG_PUSH+" cann't find message body")},eI.prototype.onRecvBigRoomMessage=function(eA,er){var ei=[];eA.forEach(function(eA){ei.push(eA={fromUser:{userID:eA.idName,userName:eA.nickName},message:eA.content,sendTime:eA.time,messageID:eA.messageId})}),this.stateCenter.actionListener("IMRecvBarrageMessage",er,ei),this.stateCenter.actionListener("_recvBigRoomMessage",eA,er)},eI.prototype.resetMessageInfo=function(){this.transSeqMap={},this.realyMessageList=[],this.relayTimer&&(clearTimeout(this.relayTimer),this.relayTimer=null),this.bigImLastTimeIndex=0,this.bigIMmessageList=[],this.bigImCallbackMap={},this.bigImTimer&&(clearTimeout(this.bigImTimer),this.bigImTimer=null),this.serverTimeOffset=0,this.datiTimeWindow=0,this.bigimTimeWindow=0},eI.prototype.sendRelayMessage=function(eA,er,ei,eo){var en=this.datiTimeWindow,es=this.serverTimeOffset;0<en?(this.realyMessageList.push({type:eA,data:er,success:ei,error:eo}),1==this.realyMessageList.length&&this.setRelayTimer(es,en)):this.sendRelayMessageInternal(eA,er,ei,eo)},eI.prototype.sendRelayMessageInternal=function(eA,er,ei,eo){var en=this;this.logger.info(ea.MESSAGE_SEND_RELAY_MSG+" call"),(this.stateCenter.useNetAgent?this.liveRoomHandler:this.service).sendRelayMessage(eA={relay_type:eA,relay_data:er},function(eA){ei&&ei(eA.header.seq,eA.body.relay_result)},function(eA){var er=ec.ROOM_INNER_ERROR;eA.header&&eA.body?eo&&eo(en.rtm.getServerError(eA.body.err_code),eA.header.seq):(eA.code&&eA.msg&&(er=eA),eo&&eo(er,0))},er=this.room)},eI.prototype.setRelayTimer=function(eA,er){var ei=this;eA=(new Date).getTime()+eA,eA=this.rtm.generateRandumNumber(2*er-eA%er),this.logger.info(ea.MESSAGE_SEND_RELAY_MSG+" setTimer "+eA),this.relayTimer=setTimeout(function(){ei.onRelayTimer()},eA)},eI.prototype.onRelayTimer=function(){var eA;0==this.realyMessageList.length?this.logger.info(ea.MESSAGE_SEND_RELAY_MSG+"  no relay data"):(this.sendRelayMessageInternal((eA=this.realyMessageList[0]).type,eA.data,eA.success,eA.error),this.relayTimer&&clearTimeout(this.relayTimer),this.relayTimer=null,this.realyMessageList.splice(0,1),0<this.realyMessageList.length&&this.setRelayTimer(this.serverTimeOffset,this.datiTimeWindow))},eI);function eI(eA,er,ei,eo,en,es,ea){var eg=this;this.logger=eA,this.stateCenter=er,this.dataReport=ei,this.service=eo,this.liveRoomHandler=en,this.rtm=es,this.room=ea,this.sendRoomMsgTime=0,this.sendRoomMsgInterval=500,this.bigImCallbackMap={},this.bigImLastTimeIndex=0,this.bigIMmessageList=[],this.bigImTimer=null,this.relayTimer=null,this.serverTimeOffset=0,this.datiTimeWindow=0,this.bigimTimeWindow=0,this.isReliable=!1,this.transSeqMap={},this.onRecvReliableMessage=function(eA){var er=eA.map(function(eA){return{key:eA.trans_type,value:eA.trans_data,updateUser:{userID:eA.trans_idname,userName:eA.trans_nickname},updateTime:ed.a.isLong(eA.trans_send_time)?eA.trans_send_time.toNumber():eA.trans_send_time}});0<er.length&&eg.stateCenter.actionListener("roomExtraInfoUpdate",eg.room.roomID,er),eA.forEach(function(eA){eg.stateCenter.actionListener("recvReliableMessage",eA.trans_type,eA.trans_seq,eA.trans_data)})},this.realyMessageList=[]}function eC(eA,er,ei,eo){var en=this;return void 0===ei&&(ei=1),void 0===eo&&(eo=1),new Promise(function(es,eg){var ec,el=en.getMsgSpan(eu.kZMRoomSendRoomMessage.event,eA,!0),ed=(eg=en.stateCenter.proxyRes(el,function(eA){el.setAttributes({msg_id:eu.kZMRoomSendRoomMessage.msg_id(eA.messageID)}),es(eA)},eg)).interResolve;eg=eg.interReject,"string"!=typeof eA||""==eA?(en.logger.error(ea.RTM_SEND_BCM+" roomid must be string and not empty"),eg(eu.kZMRoomSendRoomMessage.error.INPUT_PARAM," param roomID error")):void 0===er||""==er?(en.logger.error(ea.RTM_SEND_BCM+" message is empty"),eg(eu.kZMRoomSendRoomMessage.error.IM_CONTENT_NULL)):"string"!=typeof er?(en.logger.error(ea.RTM_SEND_BCM+" message must be string"),eg(eu.kZMRoomSendRoomMessage.error.INPUT_PARAM," param message error")):1024<er.length?(en.logger.error(ea.RTM_SEND_BCM+" message too long"),eg(eu.kZMRoomSendRoomMessage.error.IM_CONTENT_TOO_LONG)):(ec=en.getRoomModules(eA),el.setAttributes({send_seq:eu.kZMRoomSendRoomMessage.send_seq(),msg_content:er}),ec?ec.messageHandler.sendRoomMsg(ei,eo,eA,er,function(eA){eA.messageID&&el.setAttributes({msg_id:eA.messageID}),ed(eA)},eg):eg(eu.kZMRoomSendRoomMessage.error.ROOM_NOT_EXIST))})}function eh(eA,er,ei){var eo=this;return new Promise(function(en,es){var eg,el,ed=eo.getMsgSpan(eu.kZMRoomSendCustomCommand.event,eA,!0);es=(en=eo.stateCenter.proxyRes(ed,en,es)).interResolve,en=en.interReject,"string"!=typeof eA||""==eA?(eo.logger.error(ea.RTM_SEND_CUSTOM+" roomid must be string and not empty"),en(ec.INPUT_PARAM," param roomID error")):ei instanceof Array&&!ei.find(function(eA){return"string"!=typeof eA})?"string"!=typeof er&&"object"!=typeof er?(eo.logger.error(ea.RTM_SEND_CUSTOM+" custom content must be a non empty string or object"),en(eu.kZMRoomSendCustomCommand.error.INPUT_PARAM," param command error")):"string"==typeof er&&1024<er.length?(eo.logger.error(ea.RTM_SEND_CUSTOM+" command too long"),en(eu.kZMRoomSendCustomCommand.error.IM_CONTENT_TOO_LONG)):(eg=eo.getRoomModules(eA),el="string"==typeof er?er:JSON.stringify(er),ed.setAttributes({msg_content:el}),eg?eg.messageHandler.sendCustomCommand(ei,er,es,en):en(eu.kZMRoomSendCustomCommand.error.ROOM_NOT_EXIST)):(eo.logger.error(ea.RTM_SEND_CUSTOM+" dstMembers must be string array"),en(eu.kZMRoomSendCustomCommand.error.INPUT_PARAM," param toUserList error"))})}function eB(eA,er,ei,eo){var en=this;return void 0===ei&&(ei=1),void 0===eo&&(eo=1),new Promise(function(es,eg){var ec=en.getMsgSpan(eu.kZMLiveSendRoomBigIM.event,eA);eg=(es=en.stateCenter.proxyRes(ec,es,eg)).interResolve,es=es.interReject,"string"!=typeof eA||""==eA?(en.logger.error(ea.RTM_SEND_BRM+"roomid must be string and not empty"),es(eu.kZMLiveSendRoomBigIM.error.INPUT_PARAM," param roomID error")):void 0===er||""==er?(en.logger.error(ea.RTM_SEND_BRM+" message is empty"),es(eu.kZMLiveSendRoomBigIM.error.IM_CONTENT_NULL)):"string"!=typeof er?(en.logger.error(ea.RTM_SEND_BRM+" message must be string"),es(eu.kZMLiveSendRoomBigIM.error.INPUT_PARAM," param message error")):1024<er.length?(en.logger.error(ea.RTM_SEND_BRM+" message too long"),es(eu.kZMLiveSendRoomBigIM.error.IM_CONTENT_TOO_LONG)):(ec.setAttributes({msg_content:er}),(ec=en.getRoomModules(eA))?ec.messageHandler.sendBigRoomMessage(ei,eo,eA,er,eg,es):es(eu.kZMLiveSendRoomBigIM.error.ROOM_NOT_EXIST))})}function ep(eA,er,ei){var eo=this;return new Promise(function(en,es){var eg=eo.getMsgSpan(eu.kZMRoomSendRoomExtraInfo.event,eA);es=(en=eo.stateCenter.proxyRes(eg,en,es)).interResolve,en=en.interReject,"string"!=typeof eA||""==eA?(eo.logger.error(ea.RTM_SEND_BCM+" roomid must be string and not empty"),en(eu.kZMRoomSendRoomMessage.error.INPUT_PARAM," param roomID error")):er&&"string"==typeof er?128<er.length?(eo.logger.error(ea.RTM_SEND_RLM+" type is too long"),en({errorCode:eu.kZMRoomSendRoomExtraInfo.error.INPUT_PARAM.code})):ei&&"string"==typeof ei?4096<ei.length?(eo.logger.error(ea.RTM_SEND_RLM+" type is too long"),en({errorCode:eu.kZMRoomSendRoomExtraInfo.error.INPUT_PARAM.code})):(eg.setAttributes({key:eu.kZMRoomSendRoomExtraInfo.key(er),value:eu.kZMRoomSendRoomExtraInfo.value(ei)}),(eg=eo.getRoomModules(eA))?eg.messageHandler.sendReliableMessage(er,ei,es,en):en(eu.kZMRoomSendRoomExtraInfo.error.ROOM_NOT_EXIST)):(eo.logger.error(ea.RTM_SEND_RLM+" data must be string"),en({errorCode:eu.kZMRoomSendRoomExtraInfo.error.INPUT_PARAM.code})):(eo.logger.error(ea.RTM_SEND_RLM+" type must be string"),en({errorCode:eu.kZMRoomSendRoomExtraInfo.error.INPUT_PARAM.code}))})}var ef={_sendBroadcastMessage:eC,sendBroadcastMessage:function(eA,er){var ei=this;return new Promise(function(eo,en){eC.call(ei,eA,er).then(function(eA){eo({errorCode:eA.errorCode,messageID:eA.messageID,extendedData:eA.extendedData})}).catch(function(eA){en(eA)})})},_sendCustomCommand:eh,sendCustomCommand:function(eA,er,ei){var eo=this;return new Promise(function(en,es){eh.call(eo,eA,er,ei).then(function(eA){en({errorCode:eA.errorCode,extendedData:eA.extendedData})}).catch(function(eA){es(eA)})})},_sendBarrageMessage:eB,sendBarrageMessage:function(eA,er){var ei=this;return new Promise(function(eo,en){eB.call(ei,eA,er).then(function(eA){eo({errorCode:eA.errorCode,messageID:eA.messageID,extendedData:eA.extendedData})}).catch(function(eA){en(eA)})})},_setRoomExtraInfo:ep,setRoomExtraInfo:function(eA,er,ei){return ep.call(this,eA,er,ei)},sendRelayMessage:function(eA,er,ei,eo,en){(en=this.getRoomModules(en)||this.stateCenter.roomModulesList[0])?en.messageHandler.sendRelayMessage(eA,er,ei,eo):eo&&eo(ec.ROOM_NOT_EXIST,0)}},em={handlePushRoomMsg:function(eA){var er=this.handlePushMsg(eA);er[0].messageHandler.handlePushRoomMsg(eA=er[1])},handlePushCustomMsg:function(eA){var er=this.handlePushMsg(eA);er[0].messageHandler.handlePushCustomMsg(eA=er[1])},handlePushMergeMsg:function(eA){var er=null==(er=null==eA?void 0:eA.header)?void 0:er.room_id;(er=this.rtm.getRoomModules(er))?er.messageHandler.handlePushMergeMsg(eA):this.logger.error(ea.SERVICE_PUSH+" room no found ignore "+JSON.stringify(eA))},handlePushTransMsg:function(eA){var er,ei=(eo=this.handlePushMsg(eA))[0],eo=null==(eo=null==(eA=eo[1])?void 0:eA.header)?void 0:eo.room_id;(eo=this.rtm.getMsgSpan(eu.kZMRoomRecvRoomExtraInfo.event,eo)).setAttributes({trans_type:eu.kZMRoomRecvRoomExtraInfo.trans_type(null==(er=null==eA?void 0:eA.body)?void 0:er.trans_type),trans_seq:eu.kZMRoomRecvRoomExtraInfo.trans_seq(null==(er=null==eA?void 0:eA.body)?void 0:er.trans_seq)}),eo.end(),ei.messageHandler.handlePushTransMsg(eA)},handleBigImMsgRsp:function(eA){var er=null==(er=null==eA?void 0:eA.header)?void 0:er.room_id;(er=this.rtm.getRoomModules(er))?er.messageHandler.handleBigImMsgRsp(eA):this.logger.error(ea.SERVICE_PUSH+" room no found ignore "+JSON.stringify(eA))},handlePushMsg:function(eA){var er=null==(er=null==eA?void 0:eA.header)?void 0:er.room_id;if(er=this.rtm.getRoomModules(er))return[er,eA];this.logger.error(ea.SERVICE_PUSH+" room no found ignore "+JSON.stringify(eA))}},eQ={initMessageHandler:function(){this.messageHandler=new eE(this.logger,this.stateCenter,this.dataReport,this.service,this.liveRoomHandler,this.rtm,this)}};er.default={type:"message",install:function(eA,er,ei,eo){for(var en in ef)Object.defineProperty(eA.prototype,en,{value:ef[en],writable:!1});for(var en in em)Object.defineProperty(ei.prototype,en,{value:em[en],writable:!1}),Object.defineProperty(eo.prototype,en,{value:em[en],writable:!1});for(var en in eQ)Object.defineProperty(er.prototype,en,{value:eQ[en],writable:!1})}}}},er={},ei.m=eA,ei.c=er,ei.d=function(eA,er,eo){ei.o(eA,er)||Object.defineProperty(eA,er,{enumerable:!0,get:eo})},ei.r=function(eA){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(eA,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(eA,"__esModule",{value:!0})},ei.t=function(eA,er){if(1&er&&(eA=ei(eA)),8&er||4&er&&"object"==typeof eA&&eA&&eA.__esModule)return eA;var eo=Object.create(null);if(ei.r(eo),Object.defineProperty(eo,"default",{enumerable:!0,value:eA}),2&er&&"string"!=typeof eA)for(var en in eA)ei.d(eo,en,(function(er){return eA[er]}).bind(null,en));return eo},ei.n=function(eA){var er=eA&&eA.__esModule?function(){return eA.default}:function(){return eA};return ei.d(er,"a",er),er},ei.o=function(eA,er){return Object.prototype.hasOwnProperty.call(eA,er)},ei.p="",ei(ei.s=23);function ei(eo){if(er[eo])return er[eo].exports;var en=er[eo]={i:eo,l:!1,exports:{}};return eA[eo].call(en.exports,en,en.exports,ei),en.l=!0,en.exports}}()},4119:function(eA){"use strict";eA.exports=__WEBPACK_EXTERNAL_MODULE__4119__}},__webpack_module_cache__={};function __nested_webpack_require_1384072__(eA){var er=__webpack_module_cache__[eA];if(void 0!==er)return er.exports;var ei=__webpack_module_cache__[eA]={exports:{}};return __webpack_modules__[eA].call(ei.exports,ei,ei.exports,__nested_webpack_require_1384072__),ei.exports}__nested_webpack_require_1384072__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(eA){if("object"==typeof window)return window}}(),__nested_webpack_require_1384072__.r=function(eA){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(eA,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(eA,"__esModule",{value:!0})};var __nested_webpack_exports__=__nested_webpack_require_1384072__(2708);return __nested_webpack_exports__}()})}}]);